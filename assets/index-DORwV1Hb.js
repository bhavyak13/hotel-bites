(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var RO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function od(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function AO(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var a=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:function(){return n[r]}})}),t}var jp={exports:{}},nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function CO(){if(cT)return nc;cT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:u,ref:a!==void 0?a:null,props:o}}return nc.Fragment=e,nc.jsx=t,nc.jsxs=t,nc}var fT;function IO(){return fT||(fT=1,jp.exports=CO()),jp.exports}var I=IO(),Bp={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function OO(){if(hT)return Ye;hT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=E&&q[E]||q["@@iterator"],typeof q=="function"?q:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,V={};function D(q,fe,Re){this.props=q,this.context=fe,this.refs=V,this.updater=Re||R}D.prototype.isReactComponent={},D.prototype.setState=function(q,fe){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,fe,"setState")},D.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function $(){}$.prototype=D.prototype;function K(q,fe,Re){this.props=q,this.context=fe,this.refs=V,this.updater=Re||R}var H=K.prototype=new $;H.constructor=K,A(H,D.prototype),H.isPureReactComponent=!0;var te=Array.isArray,ae={H:null,A:null,T:null,S:null},ge=Object.prototype.hasOwnProperty;function M(q,fe,Re,Ee,Te,Ne){return Re=Ne.ref,{$$typeof:n,type:q,key:fe,ref:Re!==void 0?Re:null,props:Ne}}function P(q,fe){return M(q.type,fe,void 0,void 0,void 0,q.props)}function k(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function B(q){var fe={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Re){return fe[Re]})}var z=/\/+/g;function G(q,fe){return typeof q=="object"&&q!==null&&q.key!=null?B(""+q.key):fe.toString(36)}function U(){}function Je(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(U,U):(q.status="pending",q.then(function(fe){q.status==="pending"&&(q.status="fulfilled",q.value=fe)},function(fe){q.status==="pending"&&(q.status="rejected",q.reason=fe)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function le(q,fe,Re,Ee,Te){var Ne=typeof q;(Ne==="undefined"||Ne==="boolean")&&(q=null);var Ve=!1;if(q===null)Ve=!0;else switch(Ne){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(q.$$typeof){case n:case e:Ve=!0;break;case y:return Ve=q._init,le(Ve(q._payload),fe,Re,Ee,Te)}}if(Ve)return Te=Te(q),Ve=Ee===""?"."+G(q,0):Ee,te(Te)?(Re="",Ve!=null&&(Re=Ve.replace(z,"$&/")+"/"),le(Te,fe,Re,"",function(Tt){return Tt})):Te!=null&&(k(Te)&&(Te=P(Te,Re+(Te.key==null||q&&q.key===Te.key?"":(""+Te.key).replace(z,"$&/")+"/")+Ve)),fe.push(Te)),1;Ve=0;var Pt=Ee===""?".":Ee+":";if(te(q))for(var nt=0;nt<q.length;nt++)Ee=q[nt],Ne=Pt+G(Ee,nt),Ve+=le(Ee,fe,Re,Ne,Te);else if(nt=_(q),typeof nt=="function")for(q=nt.call(q),nt=0;!(Ee=q.next()).done;)Ee=Ee.value,Ne=Pt+G(Ee,nt++),Ve+=le(Ee,fe,Re,Ne,Te);else if(Ne==="object"){if(typeof q.then=="function")return le(Je(q),fe,Re,Ee,Te);throw fe=String(q),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function re(q,fe,Re){if(q==null)return q;var Ee=[],Te=0;return le(q,Ee,"","",function(Ne){return fe.call(Re,Ne,Te++)}),Ee}function he(q){if(q._status===-1){var fe=q._result;fe=fe(),fe.then(function(Re){(q._status===0||q._status===-1)&&(q._status=1,q._result=Re)},function(Re){(q._status===0||q._status===-1)&&(q._status=2,q._result=Re)}),q._status===-1&&(q._status=0,q._result=fe)}if(q._status===1)return q._result.default;throw q._result}var de=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Oe(){}return Ye.Children={map:re,forEach:function(q,fe,Re){re(q,function(){fe.apply(this,arguments)},Re)},count:function(q){var fe=0;return re(q,function(){fe++}),fe},toArray:function(q){return re(q,function(fe){return fe})||[]},only:function(q){if(!k(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ye.Component=D,Ye.Fragment=t,Ye.Profiler=a,Ye.PureComponent=K,Ye.StrictMode=r,Ye.Suspense=f,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ye.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ye.cache=function(q){return function(){return q.apply(null,arguments)}},Ye.cloneElement=function(q,fe,Re){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Ee=A({},q.props),Te=q.key,Ne=void 0;if(fe!=null)for(Ve in fe.ref!==void 0&&(Ne=void 0),fe.key!==void 0&&(Te=""+fe.key),fe)!ge.call(fe,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&fe.ref===void 0||(Ee[Ve]=fe[Ve]);var Ve=arguments.length-2;if(Ve===1)Ee.children=Re;else if(1<Ve){for(var Pt=Array(Ve),nt=0;nt<Ve;nt++)Pt[nt]=arguments[nt+2];Ee.children=Pt}return M(q.type,Te,void 0,void 0,Ne,Ee)},Ye.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},Ye.createElement=function(q,fe,Re){var Ee,Te={},Ne=null;if(fe!=null)for(Ee in fe.key!==void 0&&(Ne=""+fe.key),fe)ge.call(fe,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(Te[Ee]=fe[Ee]);var Ve=arguments.length-2;if(Ve===1)Te.children=Re;else if(1<Ve){for(var Pt=Array(Ve),nt=0;nt<Ve;nt++)Pt[nt]=arguments[nt+2];Te.children=Pt}if(q&&q.defaultProps)for(Ee in Ve=q.defaultProps,Ve)Te[Ee]===void 0&&(Te[Ee]=Ve[Ee]);return M(q,Ne,void 0,void 0,null,Te)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(q){return{$$typeof:h,render:q}},Ye.isValidElement=k,Ye.lazy=function(q){return{$$typeof:y,_payload:{_status:-1,_result:q},_init:he}},Ye.memo=function(q,fe){return{$$typeof:m,type:q,compare:fe===void 0?null:fe}},Ye.startTransition=function(q){var fe=ae.T,Re={};ae.T=Re;try{var Ee=q(),Te=ae.S;Te!==null&&Te(Re,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(Oe,de)}catch(Ne){de(Ne)}finally{ae.T=fe}},Ye.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ye.use=function(q){return ae.H.use(q)},Ye.useActionState=function(q,fe,Re){return ae.H.useActionState(q,fe,Re)},Ye.useCallback=function(q,fe){return ae.H.useCallback(q,fe)},Ye.useContext=function(q){return ae.H.useContext(q)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(q,fe){return ae.H.useDeferredValue(q,fe)},Ye.useEffect=function(q,fe){return ae.H.useEffect(q,fe)},Ye.useId=function(){return ae.H.useId()},Ye.useImperativeHandle=function(q,fe,Re){return ae.H.useImperativeHandle(q,fe,Re)},Ye.useInsertionEffect=function(q,fe){return ae.H.useInsertionEffect(q,fe)},Ye.useLayoutEffect=function(q,fe){return ae.H.useLayoutEffect(q,fe)},Ye.useMemo=function(q,fe){return ae.H.useMemo(q,fe)},Ye.useOptimistic=function(q,fe){return ae.H.useOptimistic(q,fe)},Ye.useReducer=function(q,fe,Re){return ae.H.useReducer(q,fe,Re)},Ye.useRef=function(q){return ae.H.useRef(q)},Ye.useState=function(q){return ae.H.useState(q)},Ye.useSyncExternalStore=function(q,fe,Re){return ae.H.useSyncExternalStore(q,fe,Re)},Ye.useTransition=function(){return ae.H.useTransition()},Ye.version="19.0.0",Ye}var dT;function Uy(){return dT||(dT=1,Bp.exports=OO()),Bp.exports}var C=Uy();const dt=od(C);var zp={exports:{}},rc={},qp={exports:{}},Fp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function xO(){return mT||(mT=1,function(n){function e(re,he){var de=re.length;re.push(he);e:for(;0<de;){var Oe=de-1>>>1,q=re[Oe];if(0<a(q,he))re[Oe]=he,re[de]=q,de=Oe;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var he=re[0],de=re.pop();if(de!==he){re[0]=de;e:for(var Oe=0,q=re.length,fe=q>>>1;Oe<fe;){var Re=2*(Oe+1)-1,Ee=re[Re],Te=Re+1,Ne=re[Te];if(0>a(Ee,de))Te<q&&0>a(Ne,Ee)?(re[Oe]=Ne,re[Te]=de,Oe=Te):(re[Oe]=Ee,re[Re]=de,Oe=Re);else if(Te<q&&0>a(Ne,de))re[Oe]=Ne,re[Te]=de,Oe=Te;else break e}}return he}function a(re,he){var de=re.sortIndex-he.sortIndex;return de!==0?de:re.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],y=1,E=null,_=3,R=!1,A=!1,V=!1,D=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function H(re){for(var he=t(m);he!==null;){if(he.callback===null)r(m);else if(he.startTime<=re)r(m),he.sortIndex=he.expirationTime,e(f,he);else break;he=t(m)}}function te(re){if(V=!1,H(re),!A)if(t(f)!==null)A=!0,Je();else{var he=t(m);he!==null&&le(te,he.startTime-re)}}var ae=!1,ge=-1,M=5,P=-1;function k(){return!(n.unstable_now()-P<M)}function B(){if(ae){var re=n.unstable_now();P=re;var he=!0;try{e:{A=!1,V&&(V=!1,$(ge),ge=-1),R=!0;var de=_;try{t:{for(H(re),E=t(f);E!==null&&!(E.expirationTime>re&&k());){var Oe=E.callback;if(typeof Oe=="function"){E.callback=null,_=E.priorityLevel;var q=Oe(E.expirationTime<=re);if(re=n.unstable_now(),typeof q=="function"){E.callback=q,H(re),he=!0;break t}E===t(f)&&r(f),H(re)}else r(f);E=t(f)}if(E!==null)he=!0;else{var fe=t(m);fe!==null&&le(te,fe.startTime-re),he=!1}}break e}finally{E=null,_=de,R=!1}he=void 0}}finally{he?z():ae=!1}}}var z;if(typeof K=="function")z=function(){K(B)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,U=G.port2;G.port1.onmessage=B,z=function(){U.postMessage(null)}}else z=function(){D(B,0)};function Je(){ae||(ae=!0,z())}function le(re,he){ge=D(function(){re(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){A||R||(A=!0,Je())},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(re){switch(_){case 1:case 2:case 3:var he=3;break;default:he=_}var de=_;_=he;try{return re()}finally{_=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,he){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var de=_;_=re;try{return he()}finally{_=de}},n.unstable_scheduleCallback=function(re,he,de){var Oe=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Oe+de:Oe):de=Oe,re){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=de+q,re={id:y++,callback:he,priorityLevel:re,startTime:de,expirationTime:q,sortIndex:-1},de>Oe?(re.sortIndex=de,e(m,re),t(f)===null&&re===t(m)&&(V?($(ge),ge=-1):V=!0,le(te,de-Oe))):(re.sortIndex=q,e(f,re),A||R||(A=!0,Je())),re},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(re){var he=_;return function(){var de=_;_=he;try{return re.apply(this,arguments)}finally{_=de}}}}(Fp)),Fp}var pT;function NO(){return pT||(pT=1,qp.exports=xO()),qp.exports}var Hp={exports:{}},qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT;function DO(){if(gT)return qn;gT=1;var n=Uy();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:f,containerInfo:m,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qn.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,y)},qn.flushSync=function(f){var m=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=m,r.p=y,r.d.f()}},qn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},qn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},qn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,E=h(y,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:_,fetchPriority:R}):y==="script"&&r.d.X(f,{crossOrigin:E,integrity:_,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},qn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},qn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,E=h(y,m.crossOrigin);r.d.L(f,y,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},qn.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=h(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},qn.requestFormReset=function(f){r.d.r(f)},qn.unstable_batchedUpdates=function(f,m){return f(m)},qn.useFormState=function(f,m,y){return u.H.useFormState(f,m,y)},qn.useFormStatus=function(){return u.H.useHostTransitionStatus()},qn.version="19.0.0",qn}var yT;function vS(){if(yT)return Hp.exports;yT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hp.exports=DO(),Hp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function kO(){if(vT)return rc;vT=1;var n=NO(),e=Uy(),t=vS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),R=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),te=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ge(i){return i===null||typeof i!="object"?null:(i=ae&&i[ae]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function P(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case h:return"Portal";case y:return"Profiler";case m:return"StrictMode";case V:return"Suspense";case D:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case R:return(i.displayName||"Context")+".Provider";case _:return(i._context.displayName||"Context")+".Consumer";case A:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return s=i.displayName||null,s!==null?s:P(i.type)||"Memo";case K:s=i._payload,i=i._init;try{return P(i(s))}catch{}}return null}var k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=Object.assign,z,G;function U(i){if(z===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);z=s&&s[1]||"",G=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+z+i+G}var Je=!1;function le(i,s){if(!i||Je)return"";Je=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ue){var ne=ue}Reflect.construct(i,[],_e)}else{try{_e.call()}catch(ue){ne=ue}i.call(_e.prototype)}}else{try{throw Error()}catch(ue){ne=ue}(_e=i())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(ue){if(ue&&ne&&typeof ue.stack=="string")return[ue.stack,ne.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],O=g[1];if(b&&O){var j=b.split(`
`),W=O.split(`
`);for(p=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(c===j.length||p===W.length)for(c=j.length-1,p=W.length-1;1<=c&&0<=p&&j[c]!==W[p];)p--;for(;1<=c&&0<=p;c--,p--)if(j[c]!==W[p]){if(c!==1||p!==1)do if(c--,p--,0>p||j[c]!==W[p]){var ce=`
`+j[c].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=c&&0<=p);break}}}finally{Je=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?U(l):""}function re(i){switch(i.tag){case 26:case 27:case 5:return U(i.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return i=le(i.type,!1),i;case 11:return i=le(i.type.render,!1),i;case 1:return i=le(i.type,!0),i;default:return""}}function he(i){try{var s="";do s+=re(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function de(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function Oe(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function q(i){if(de(i)!==i)throw Error(r(188))}function fe(i){var s=i.alternate;if(!s){if(s=de(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return q(p),i;if(g===c)return q(p),s;g=g.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=g;else{for(var b=!1,O=p.child;O;){if(O===l){b=!0,l=p,c=g;break}if(O===c){b=!0,c=p,l=g;break}O=O.sibling}if(!b){for(O=g.child;O;){if(O===l){b=!0,l=g,c=p;break}if(O===c){b=!0,c=g,l=p;break}O=O.sibling}if(!b)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function Re(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=Re(i),s!==null)return s;i=i.sibling}return null}var Ee=Array.isArray,Te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},Ve=[],Pt=-1;function nt(i){return{current:i}}function Tt(i){0>Pt||(i.current=Ve[Pt],Ve[Pt]=null,Pt--)}function st(i,s){Pt++,Ve[Pt]=i.current,i.current=s}var nn=nt(null),lr=nt(null),En=nt(null),Qn=nt(null);function mt(i,s){switch(st(En,s),st(lr,i),st(nn,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?j0(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=j0(i),s=B0(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Tt(nn),st(nn,s)}function ur(){Tt(nn),Tt(lr),Tt(En)}function oi(i){i.memoizedState!==null&&st(Qn,i);var s=nn.current,l=B0(s,i.type);s!==l&&(st(lr,i),st(nn,l))}function Ws(i){lr.current===i&&(Tt(nn),Tt(lr)),Qn.current===i&&(Tt(Qn),Yu._currentValue=Ne)}var Xs=Object.prototype.hasOwnProperty,Ai=n.unstable_scheduleCallback,Ys=n.unstable_cancelCallback,se=n.unstable_shouldYield,ze=n.unstable_requestPaint,In=n.unstable_now,no=n.unstable_getCurrentPriorityLevel,Xt=n.unstable_ImmediatePriority,qt=n.unstable_UserBlockingPriority,jr=n.unstable_NormalPriority,ro=n.unstable_LowPriority,io=n.unstable_IdlePriority,mu=n.log,Br=n.unstable_setDisableYieldValue,li=null,rn=null;function Js(i){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(li,i,void 0,(i.current.flags&128)===128)}catch{}}function zr(i){if(typeof mu=="function"&&Br(i),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(li,i)}catch{}}var Tn=Math.clz32?Math.clz32:oo,so=Math.log,ao=Math.LN2;function oo(i){return i>>>=0,i===0?32:31-(so(i)/ao|0)|0}var qr=128,Ci=4194304;function br(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function cr(i,s){var l=i.pendingLanes;if(l===0)return 0;var c=0,p=i.suspendedLanes,g=i.pingedLanes,b=i.warmLanes;i=i.finishedLanes!==0;var O=l&134217727;return O!==0?(l=O&~p,l!==0?c=br(l):(g&=O,g!==0?c=br(g):i||(b=O&~b,b!==0&&(c=br(b))))):(O=l&~p,O!==0?c=br(O):g!==0?c=br(g):i||(b=l&~b,b!==0&&(c=br(b)))),c===0?0:s!==0&&s!==c&&(s&p)===0&&(p=c&-c,b=s&-s,p>=b||p===32&&(b&4194176)!==0)?s:c}function Fr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ii(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lo(){var i=qr;return qr<<=1,(qr&4194176)===0&&(qr=128),i}function Oi(){var i=Ci;return Ci<<=1,(Ci&62914560)===0&&(Ci=4194304),i}function Zs(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Mt(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Yt(i,s,l,c,p,g){var b=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var O=i.entanglements,j=i.expirationTimes,W=i.hiddenUpdates;for(l=b&~l;0<l;){var ce=31-Tn(l),_e=1<<ce;O[ce]=0,j[ce]=-1;var ne=W[ce];if(ne!==null)for(W[ce]=null,ce=0;ce<ne.length;ce++){var ue=ne[ce];ue!==null&&(ue.lane&=-536870913)}l&=~_e}c!==0&&xi(i,c,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~s))}function xi(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-Tn(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194218}function Ni(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-Tn(l),p=1<<c;p&s|i[c]&s&&(i[c]|=s),l&=~p}}function il(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function uo(){var i=Te.p;return i!==0?i:(i=window.event,i===void 0?32:iT(i.type))}function Di(i,s){var l=Te.p;try{return Te.p=i,s()}finally{Te.p=l}}var fr=Math.random().toString(36).slice(2),Ft="__reactFiber$"+fr,Jt="__reactProps$"+fr,ui="__reactContainer$"+fr,ki="__reactEvents$"+fr,Hr="__reactListeners$"+fr,Wn="__reactHandles$"+fr,co="__reactResources$"+fr,Pi="__reactMarker$"+fr;function ci(i){delete i[Ft],delete i[Jt],delete i[ki],delete i[Hr],delete i[Wn]}function wr(i){var s=i[Ft];if(s)return s;for(var l=i.parentNode;l;){if(s=l[ui]||l[Ft]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=F0(i);i!==null;){if(l=i[Ft])return l;i=F0(i)}return s}i=l,l=i.parentNode}return null}function fi(i){if(i=i[Ft]||i[ui]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Sr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function sn(i){var s=i[co];return s||(s=i[co]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function At(i){i[Pi]=!0}var ea=new Set,Rr={};function Vn(i,s){jn(i,s),jn(i+"Capture",s)}function jn(i,s){for(Rr[i]=s,i=0;i<s.length;i++)ea.add(s[i])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Li={},ta={};function fo(i){return Xs.call(ta,i)?!0:Xs.call(Li,i)?!1:pu.test(i)?ta[i]=!0:(Li[i]=!0,!1)}function Mi(i,s,l){if(fo(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Ui(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function hr(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}function On(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ho(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function sl(i){var s=ho(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Yn(i){i._valueTracker||(i._valueTracker=sl(i))}function na(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=ho(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function mo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var hi=/[\n"\\]/g;function Ut(i){return i.replace(hi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Vi(i,s,l,c,p,g,b,O){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+On(s)):i.value!==""+On(s)&&(i.value=""+On(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?ra(i,b,On(s)):l!=null?ra(i,b,On(l)):c!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.name=""+On(O):i.removeAttribute("name")}function cs(i,s,l,c,p,g,b,O){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;l=l!=null?""+On(l):"",s=s!=null?""+On(s):l,O||s===i.value||(i.value=s),i.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=O?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function ra(i,s,l){s==="number"&&mo(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function lt(i,s,l,c){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&c&&(i[l].defaultSelected=!0)}else{for(l=""+On(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function ji(i,s,l){if(s!=null&&(s=""+On(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+On(l):""}function Ar(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(Ee(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=On(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Jn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ia(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||gu.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function al(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&l[p]!==c&&ia(i,p,c)}else for(var g in s)s.hasOwnProperty(g)&&ia(i,g,s[g])}function sa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var po=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $r(i){return aa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var dr=null;function oa(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Cr=null,Gr=null;function di(i){var s=fi(i);if(s&&(i=s.stateNode)){var l=i[Jt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Vi(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ut(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var p=c[Jt]||null;if(!p)throw Error(r(90));Vi(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&na(c)}break e;case"textarea":ji(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&lt(i,!!l.multiple,s,!1)}}}var la=!1;function ua(i,s,l){if(la)return i(s,l);la=!0;try{var c=i(s);return c}finally{if(la=!1,(Cr!==null||Gr!==null)&&(Uf(),Cr&&(s=Cr,i=Gr,Gr=Cr=null,di(s),i)))for(s=0;s<i.length;s++)di(i[s])}}function Bi(i,s){var l=i.stateNode;if(l===null)return null;var c=l[Jt]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Zn=!1;if(Xn)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{Zn=!1}var Ir=null,zi=null,mr=null;function Bn(){if(mr)return mr;var i,s=zi,l=s.length,c,p="value"in Ir?Ir.value:Ir.textContent,g=p.length;for(i=0;i<l&&s[i]===p[i];i++);var b=l-i;for(c=1;c<=b&&s[l-c]===p[g-c];c++);return mr=p.slice(i,1<c?1-c:void 0)}function er(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function tr(){return!0}function fs(){return!1}function an(i){function s(l,c,p,g,b){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(l=i[O],this[O]=l?l(g):g[O]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?tr:fs,this.isPropagationStopped=fs,this}return B(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),s}var pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=an(pt),mi=B({},pt,{view:0,detail:0}),ol=an(mi),hs,Ct,w,S=B({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==w&&(w&&i.type==="mousemove"?(hs=i.screenX-w.screenX,Ct=i.screenY-w.screenY):Ct=hs=0,w=i),hs)},movementY:function(i){return"movementY"in i?i.movementY:Ct}}),N=an(S),L=B({},S,{dataTransfer:0}),F=an(L),X=B({},mi,{relatedTarget:0}),J=an(X),ve=B({},pt,{animationName:0,elapsedTime:0,pseudoElement:0}),xe=an(ve),we=B({},pt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Se=an(we),Pe=B({},pt,{data:0}),gt=an(Pe),It={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Le={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},He={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function De(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=He[i])?!!s[i]:!1}function bt(){return De}var Lt=B({},mi,{key:function(i){if(i.key){var s=It[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=er(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Le[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bt,charCode:function(i){return i.type==="keypress"?er(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?er(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Dt=an(Lt),pr=B({},S,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),on=an(pr),bn=B({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bt}),Qr=an(bn),ds=B({},pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),go=an(ds),nf=B({},S,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ll=an(nf),nr=B({},pt,{newState:0,oldState:0}),rf=an(nr),sf=[9,13,27,32],qi=Xn&&"CompositionEvent"in window,d=null;Xn&&"documentMode"in document&&(d=document.documentMode);var v=Xn&&"TextEvent"in window&&!d,T=Xn&&(!qi||d&&8<d&&11>=d),x=" ",Z=!1;function ie(i,s){switch(i){case"keyup":return sf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function be(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ut=!1;function mn(i,s){switch(i){case"compositionend":return be(s);case"keypress":return s.which!==32?null:(Z=!0,x);case"textInput":return i=s.data,i===x&&Z?null:i;default:return null}}function ct(i,s){if(ut)return i==="compositionend"||!qi&&ie(i,s)?(i=Bn(),mr=zi=Ir=null,ut=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!wn[i.type]:s==="textarea"}function ms(i,s,l,c){Cr?Gr?Gr.push(c):Gr=[c]:Cr=c,s=qf(s,"onChange"),0<s.length&&(l=new ca("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var xn=null,Fi=null;function yu(i){P0(i,0)}function af(i){var s=Sr(i);if(na(s))return i}function u_(i,s){if(i==="change")return s}var c_=!1;if(Xn){var Xd;if(Xn){var Yd="oninput"in document;if(!Yd){var f_=document.createElement("div");f_.setAttribute("oninput","return;"),Yd=typeof f_.oninput=="function"}Xd=Yd}else Xd=!1;c_=Xd&&(!document.documentMode||9<document.documentMode)}function h_(){xn&&(xn.detachEvent("onpropertychange",d_),Fi=xn=null)}function d_(i){if(i.propertyName==="value"&&af(Fi)){var s=[];ms(s,Fi,i,oa(i)),ua(yu,s)}}function tI(i,s,l){i==="focusin"?(h_(),xn=s,Fi=l,xn.attachEvent("onpropertychange",d_)):i==="focusout"&&h_()}function nI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return af(Fi)}function rI(i,s){if(i==="click")return af(s)}function iI(i,s){if(i==="input"||i==="change")return af(s)}function sI(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Or=typeof Object.is=="function"?Object.is:sI;function vu(i,s){if(Or(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Xs.call(s,p)||!Or(i[p],s[p]))return!1}return!0}function m_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function p_(i,s){var l=m_(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=m_(l)}}function g_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?g_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function y_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=mo(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=mo(i.document)}return s}function Jd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function aI(i,s){var l=y_(s);s=i.focusedElem;var c=i.selectionRange;if(l!==s&&s&&s.ownerDocument&&g_(s.ownerDocument.documentElement,s)){if(c!==null&&Jd(s)){if(i=c.start,l=c.end,l===void 0&&(l=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(l,s.value.length);else if(l=(i=s.ownerDocument||document)&&i.defaultView||window,l.getSelection){l=l.getSelection();var p=s.textContent.length,g=Math.min(c.start,p);c=c.end===void 0?g:Math.min(c.end,p),!l.extend&&g>c&&(p=c,c=g,g=p),p=p_(s,g);var b=p_(s,c);p&&b&&(l.rangeCount!==1||l.anchorNode!==p.node||l.anchorOffset!==p.offset||l.focusNode!==b.node||l.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),l.removeAllRanges(),g>c?(l.addRange(i),l.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),l.addRange(i)))}}for(i=[],l=s;l=l.parentNode;)l.nodeType===1&&i.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)l=i[s],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var oI=Xn&&"documentMode"in document&&11>=document.documentMode,ul=null,Zd=null,_u=null,em=!1;function v_(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;em||ul==null||ul!==mo(c)||(c=ul,"selectionStart"in c&&Jd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),_u&&vu(_u,c)||(_u=c,c=qf(Zd,"onSelect"),0<c.length&&(s=new ca("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=ul)))}function yo(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var cl={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionrun:yo("Transition","TransitionRun"),transitionstart:yo("Transition","TransitionStart"),transitioncancel:yo("Transition","TransitionCancel"),transitionend:yo("Transition","TransitionEnd")},tm={},__={};Xn&&(__=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function vo(i){if(tm[i])return tm[i];if(!cl[i])return i;var s=cl[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in __)return tm[i]=s[l];return i}var E_=vo("animationend"),T_=vo("animationiteration"),b_=vo("animationstart"),lI=vo("transitionrun"),uI=vo("transitionstart"),cI=vo("transitioncancel"),w_=vo("transitionend"),S_=new Map,R_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function pi(i,s){S_.set(i,s),Vn(s,[i])}var Wr=[],fl=0,nm=0;function of(){for(var i=fl,s=nm=fl=0;s<i;){var l=Wr[s];Wr[s++]=null;var c=Wr[s];Wr[s++]=null;var p=Wr[s];Wr[s++]=null;var g=Wr[s];if(Wr[s++]=null,c!==null&&p!==null){var b=c.pending;b===null?p.next=p:(p.next=b.next,b.next=p),c.pending=p}g!==0&&A_(l,p,g)}}function lf(i,s,l,c){Wr[fl++]=i,Wr[fl++]=s,Wr[fl++]=l,Wr[fl++]=c,nm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function rm(i,s,l,c){return lf(i,s,l,c),uf(i)}function fa(i,s){return lf(i,null,null,s),uf(i)}function A_(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var p=!1,g=i.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;p&&s!==null&&i.tag===3&&(g=i.stateNode,p=31-Tn(l),g=g.hiddenUpdates,i=g[p],i===null?g[p]=[s]:i.push(s),s.lane=l|536870912)}function uf(i){if(50<Hu)throw Hu=0,up=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var hl={},C_=new WeakMap;function Xr(i,s){if(typeof i=="object"&&i!==null){var l=C_.get(i);return l!==void 0?l:(s={value:i,source:s,stack:he(s)},C_.set(i,s),s)}return{value:i,source:s,stack:he(s)}}var dl=[],ml=0,cf=null,ff=0,Yr=[],Jr=0,_o=null,ps=1,gs="";function Eo(i,s){dl[ml++]=ff,dl[ml++]=cf,cf=i,ff=s}function I_(i,s,l){Yr[Jr++]=ps,Yr[Jr++]=gs,Yr[Jr++]=_o,_o=i;var c=ps;i=gs;var p=32-Tn(c)-1;c&=~(1<<p),l+=1;var g=32-Tn(s)+p;if(30<g){var b=p-p%5;g=(c&(1<<b)-1).toString(32),c>>=b,p-=b,ps=1<<32-Tn(s)+p|l<<p|c,gs=g+i}else ps=1<<g|l<<p|c,gs=i}function im(i){i.return!==null&&(Eo(i,1),I_(i,1,0))}function sm(i){for(;i===cf;)cf=dl[--ml],dl[ml]=null,ff=dl[--ml],dl[ml]=null;for(;i===_o;)_o=Yr[--Jr],Yr[Jr]=null,gs=Yr[--Jr],Yr[Jr]=null,ps=Yr[--Jr],Yr[Jr]=null}var rr=null,Nn=null,yt=!1,gi=null,Hi=!1,am=Error(r(519));function To(i){var s=Error(r(418,""));throw bu(Xr(s,i)),am}function O_(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[Ft]=i,s[Jt]=c,l){case"dialog":at("cancel",s),at("close",s);break;case"iframe":case"object":case"embed":at("load",s);break;case"video":case"audio":for(l=0;l<Gu.length;l++)at(Gu[l],s);break;case"source":at("error",s);break;case"img":case"image":case"link":at("error",s),at("load",s);break;case"details":at("toggle",s);break;case"input":at("invalid",s),cs(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Yn(s);break;case"select":at("invalid",s);break;case"textarea":at("invalid",s),Ar(s,c.value,c.defaultValue,c.children),Yn(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||V0(s.textContent,l)?(c.popover!=null&&(at("beforetoggle",s),at("toggle",s)),c.onScroll!=null&&at("scroll",s),c.onScrollEnd!=null&&at("scrollend",s),c.onClick!=null&&(s.onclick=Ff),s=!0):s=!1,s||To(i)}function x_(i){for(rr=i.return;rr;)switch(rr.tag){case 3:case 27:Hi=!0;return;case 5:case 13:Hi=!1;return;default:rr=rr.return}}function Eu(i){if(i!==rr)return!1;if(!yt)return x_(i),yt=!0,!1;var s=!1,l;if((l=i.tag!==3&&i.tag!==27)&&((l=i.tag===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Ap(i.type,i.memoizedProps)),l=!l),l&&(s=!0),s&&Nn&&To(i),x_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){Nn=vi(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}Nn=null}}else Nn=rr?vi(i.stateNode.nextSibling):null;return!0}function Tu(){Nn=rr=null,yt=!1}function bu(i){gi===null?gi=[i]:gi.push(i)}var wu=Error(r(460)),N_=Error(r(474)),om={then:function(){}};function D_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function hf(){}function k_(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(hf,hf),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===wu?Error(r(483)):i;default:if(typeof s.status=="string")s.then(hf,hf);else{if(i=xt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===wu?Error(r(483)):i}throw Su=s,wu}}var Su=null;function P_(){if(Su===null)throw Error(r(459));var i=Su;return Su=null,i}var pl=null,Ru=0;function df(i){var s=Ru;return Ru+=1,pl===null&&(pl=[]),k_(pl,i,s)}function Au(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function mf(i,s){throw s.$$typeof===o?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function L_(i){var s=i._init;return s(i._payload)}function M_(i){function s(Y,Q){if(i){var ee=Y.deletions;ee===null?(Y.deletions=[Q],Y.flags|=16):ee.push(Q)}}function l(Y,Q){if(!i)return null;for(;Q!==null;)s(Y,Q),Q=Q.sibling;return null}function c(Y){for(var Q=new Map;Y!==null;)Y.key!==null?Q.set(Y.key,Y):Q.set(Y.index,Y),Y=Y.sibling;return Q}function p(Y,Q){return Y=wa(Y,Q),Y.index=0,Y.sibling=null,Y}function g(Y,Q,ee){return Y.index=ee,i?(ee=Y.alternate,ee!==null?(ee=ee.index,ee<Q?(Y.flags|=33554434,Q):ee):(Y.flags|=33554434,Q)):(Y.flags|=1048576,Q)}function b(Y){return i&&Y.alternate===null&&(Y.flags|=33554434),Y}function O(Y,Q,ee,me){return Q===null||Q.tag!==6?(Q=tp(ee,Y.mode,me),Q.return=Y,Q):(Q=p(Q,ee),Q.return=Y,Q)}function j(Y,Q,ee,me){var Ie=ee.type;return Ie===f?ce(Y,Q,ee.props.children,me,ee.key):Q!==null&&(Q.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===K&&L_(Ie)===Q.type)?(Q=p(Q,ee.props),Au(Q,ee),Q.return=Y,Q):(Q=Df(ee.type,ee.key,ee.props,null,Y.mode,me),Au(Q,ee),Q.return=Y,Q)}function W(Y,Q,ee,me){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ee.containerInfo||Q.stateNode.implementation!==ee.implementation?(Q=np(ee,Y.mode,me),Q.return=Y,Q):(Q=p(Q,ee.children||[]),Q.return=Y,Q)}function ce(Y,Q,ee,me,Ie){return Q===null||Q.tag!==7?(Q=No(ee,Y.mode,me,Ie),Q.return=Y,Q):(Q=p(Q,ee),Q.return=Y,Q)}function _e(Y,Q,ee){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=tp(""+Q,Y.mode,ee),Q.return=Y,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case u:return ee=Df(Q.type,Q.key,Q.props,null,Y.mode,ee),Au(ee,Q),ee.return=Y,ee;case h:return Q=np(Q,Y.mode,ee),Q.return=Y,Q;case K:var me=Q._init;return Q=me(Q._payload),_e(Y,Q,ee)}if(Ee(Q)||ge(Q))return Q=No(Q,Y.mode,ee,null),Q.return=Y,Q;if(typeof Q.then=="function")return _e(Y,df(Q),ee);if(Q.$$typeof===R)return _e(Y,Of(Y,Q),ee);mf(Y,Q)}return null}function ne(Y,Q,ee,me){var Ie=Q!==null?Q.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ie!==null?null:O(Y,Q,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case u:return ee.key===Ie?j(Y,Q,ee,me):null;case h:return ee.key===Ie?W(Y,Q,ee,me):null;case K:return Ie=ee._init,ee=Ie(ee._payload),ne(Y,Q,ee,me)}if(Ee(ee)||ge(ee))return Ie!==null?null:ce(Y,Q,ee,me,null);if(typeof ee.then=="function")return ne(Y,Q,df(ee),me);if(ee.$$typeof===R)return ne(Y,Q,Of(Y,ee),me);mf(Y,ee)}return null}function ue(Y,Q,ee,me,Ie){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Y=Y.get(ee)||null,O(Q,Y,""+me,Ie);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case u:return Y=Y.get(me.key===null?ee:me.key)||null,j(Q,Y,me,Ie);case h:return Y=Y.get(me.key===null?ee:me.key)||null,W(Q,Y,me,Ie);case K:var et=me._init;return me=et(me._payload),ue(Y,Q,ee,me,Ie)}if(Ee(me)||ge(me))return Y=Y.get(ee)||null,ce(Q,Y,me,Ie,null);if(typeof me.then=="function")return ue(Y,Q,ee,df(me),Ie);if(me.$$typeof===R)return ue(Y,Q,ee,Of(Q,me),Ie);mf(Q,me)}return null}function ke(Y,Q,ee,me){for(var Ie=null,et=null,Me=Q,je=Q=0,An=null;Me!==null&&je<ee.length;je++){Me.index>je?(An=Me,Me=null):An=Me.sibling;var vt=ne(Y,Me,ee[je],me);if(vt===null){Me===null&&(Me=An);break}i&&Me&&vt.alternate===null&&s(Y,Me),Q=g(vt,Q,je),et===null?Ie=vt:et.sibling=vt,et=vt,Me=An}if(je===ee.length)return l(Y,Me),yt&&Eo(Y,je),Ie;if(Me===null){for(;je<ee.length;je++)Me=_e(Y,ee[je],me),Me!==null&&(Q=g(Me,Q,je),et===null?Ie=Me:et.sibling=Me,et=Me);return yt&&Eo(Y,je),Ie}for(Me=c(Me);je<ee.length;je++)An=ue(Me,Y,je,ee[je],me),An!==null&&(i&&An.alternate!==null&&Me.delete(An.key===null?je:An.key),Q=g(An,Q,je),et===null?Ie=An:et.sibling=An,et=An);return i&&Me.forEach(function(xa){return s(Y,xa)}),yt&&Eo(Y,je),Ie}function Ge(Y,Q,ee,me){if(ee==null)throw Error(r(151));for(var Ie=null,et=null,Me=Q,je=Q=0,An=null,vt=ee.next();Me!==null&&!vt.done;je++,vt=ee.next()){Me.index>je?(An=Me,Me=null):An=Me.sibling;var xa=ne(Y,Me,vt.value,me);if(xa===null){Me===null&&(Me=An);break}i&&Me&&xa.alternate===null&&s(Y,Me),Q=g(xa,Q,je),et===null?Ie=xa:et.sibling=xa,et=xa,Me=An}if(vt.done)return l(Y,Me),yt&&Eo(Y,je),Ie;if(Me===null){for(;!vt.done;je++,vt=ee.next())vt=_e(Y,vt.value,me),vt!==null&&(Q=g(vt,Q,je),et===null?Ie=vt:et.sibling=vt,et=vt);return yt&&Eo(Y,je),Ie}for(Me=c(Me);!vt.done;je++,vt=ee.next())vt=ue(Me,Y,je,vt.value,me),vt!==null&&(i&&vt.alternate!==null&&Me.delete(vt.key===null?je:vt.key),Q=g(vt,Q,je),et===null?Ie=vt:et.sibling=vt,et=vt);return i&&Me.forEach(function(SO){return s(Y,SO)}),yt&&Eo(Y,je),Ie}function Gt(Y,Q,ee,me){if(typeof ee=="object"&&ee!==null&&ee.type===f&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case u:e:{for(var Ie=ee.key;Q!==null;){if(Q.key===Ie){if(Ie=ee.type,Ie===f){if(Q.tag===7){l(Y,Q.sibling),me=p(Q,ee.props.children),me.return=Y,Y=me;break e}}else if(Q.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===K&&L_(Ie)===Q.type){l(Y,Q.sibling),me=p(Q,ee.props),Au(me,ee),me.return=Y,Y=me;break e}l(Y,Q);break}else s(Y,Q);Q=Q.sibling}ee.type===f?(me=No(ee.props.children,Y.mode,me,ee.key),me.return=Y,Y=me):(me=Df(ee.type,ee.key,ee.props,null,Y.mode,me),Au(me,ee),me.return=Y,Y=me)}return b(Y);case h:e:{for(Ie=ee.key;Q!==null;){if(Q.key===Ie)if(Q.tag===4&&Q.stateNode.containerInfo===ee.containerInfo&&Q.stateNode.implementation===ee.implementation){l(Y,Q.sibling),me=p(Q,ee.children||[]),me.return=Y,Y=me;break e}else{l(Y,Q);break}else s(Y,Q);Q=Q.sibling}me=np(ee,Y.mode,me),me.return=Y,Y=me}return b(Y);case K:return Ie=ee._init,ee=Ie(ee._payload),Gt(Y,Q,ee,me)}if(Ee(ee))return ke(Y,Q,ee,me);if(ge(ee)){if(Ie=ge(ee),typeof Ie!="function")throw Error(r(150));return ee=Ie.call(ee),Ge(Y,Q,ee,me)}if(typeof ee.then=="function")return Gt(Y,Q,df(ee),me);if(ee.$$typeof===R)return Gt(Y,Q,Of(Y,ee),me);mf(Y,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,Q!==null&&Q.tag===6?(l(Y,Q.sibling),me=p(Q,ee),me.return=Y,Y=me):(l(Y,Q),me=tp(ee,Y.mode,me),me.return=Y,Y=me),b(Y)):l(Y,Q)}return function(Y,Q,ee,me){try{Ru=0;var Ie=Gt(Y,Q,ee,me);return pl=null,Ie}catch(Me){if(Me===wu)throw Me;var et=ni(29,Me,null,Y.mode);return et.lanes=me,et.return=Y,et}finally{}}}var bo=M_(!0),U_=M_(!1),gl=nt(null),pf=nt(0);function V_(i,s){i=Cs,st(pf,i),st(gl,s),Cs=i|s.baseLanes}function lm(){st(pf,Cs),st(gl,gl.current)}function um(){Cs=pf.current,Tt(gl),Tt(pf)}var Zr=nt(null),$i=null;function ha(i){var s=i.alternate;st(gn,gn.current&1),st(Zr,i),$i===null&&(s===null||gl.current!==null||s.memoizedState!==null)&&($i=i)}function j_(i){if(i.tag===22){if(st(gn,gn.current),st(Zr,i),$i===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&($i=i)}}else da()}function da(){st(gn,gn.current),st(Zr,Zr.current)}function ys(i){Tt(Zr),$i===i&&($i=null),Tt(gn)}var gn=nt(0);function gf(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fI=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},hI=n.unstable_scheduleCallback,dI=n.unstable_NormalPriority,yn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cm(){return{controller:new fI,data:new Map,refCount:0}}function Cu(i){i.refCount--,i.refCount===0&&hI(dI,function(){i.controller.abort()})}var Iu=null,fm=0,yl=0,vl=null;function mI(i,s){if(Iu===null){var l=Iu=[];fm=0,yl=yp(),vl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return fm++,s.then(B_,B_),s}function B_(){if(--fm===0&&Iu!==null){vl!==null&&(vl.status="fulfilled");var i=Iu;Iu=null,yl=0,vl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function pI(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var z_=k.S;k.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&mI(i,s),z_!==null&&z_(i,s)};var wo=nt(null);function hm(){var i=wo.current;return i!==null?i:xt.pooledCache}function yf(i,s){s===null?st(wo,wo.current):st(wo,s.pool)}function q_(){var i=hm();return i===null?null:{parent:yn._currentValue,pool:i}}var ma=0,Ze=null,wt=null,ln=null,vf=!1,_l=!1,So=!1,_f=0,Ou=0,El=null,gI=0;function Zt(){throw Error(r(321))}function dm(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Or(i[l],s[l]))return!1;return!0}function mm(i,s,l,c,p,g){return ma=g,Ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,k.H=i===null||i.memoizedState===null?Ro:pa,So=!1,g=l(c,p),So=!1,_l&&(g=H_(s,l,c,p)),F_(i),g}function F_(i){k.H=Gi;var s=wt!==null&&wt.next!==null;if(ma=0,ln=wt=Ze=null,vf=!1,Ou=0,El=null,s)throw Error(r(300));i===null||Sn||(i=i.dependencies,i!==null&&If(i)&&(Sn=!0))}function H_(i,s,l,c){Ze=i;var p=0;do{if(_l&&(El=null),Ou=0,_l=!1,25<=p)throw Error(r(301));if(p+=1,ln=wt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}k.H=Ao,g=s(l,c)}while(_l);return g}function yI(){var i=k.H,s=i.useState()[0];return s=typeof s.then=="function"?xu(s):s,i=i.useState()[0],(wt!==null?wt.memoizedState:null)!==i&&(Ze.flags|=1024),s}function pm(){var i=_f!==0;return _f=0,i}function gm(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function ym(i){if(vf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}vf=!1}ma=0,ln=wt=Ze=null,_l=!1,Ou=_f=0,El=null}function gr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Ze.memoizedState=ln=i:ln=ln.next=i,ln}function un(){if(wt===null){var i=Ze.alternate;i=i!==null?i.memoizedState:null}else i=wt.next;var s=ln===null?Ze.memoizedState:ln.next;if(s!==null)ln=s,wt=i;else{if(i===null)throw Ze.alternate===null?Error(r(467)):Error(r(310));wt=i,i={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},ln===null?Ze.memoizedState=ln=i:ln=ln.next=i}return ln}var Ef;Ef=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function xu(i){var s=Ou;return Ou+=1,El===null&&(El=[]),i=k_(El,i,s),s=Ze,(ln===null?s.memoizedState:ln.next)===null&&(s=s.alternate,k.H=s===null||s.memoizedState===null?Ro:pa),i}function Tf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return xu(i);if(i.$$typeof===R)return zn(i)}throw Error(r(438,String(i)))}function vm(i){var s=null,l=Ze.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Ef(),Ze.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=te;return s.index++,l}function vs(i,s){return typeof s=="function"?s(i):s}function bf(i){var s=un();return _m(s,wt,i)}function _m(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var p=i.baseQueue,g=c.pending;if(g!==null){if(p!==null){var b=p.next;p.next=g.next,g.next=b}s.baseQueue=p=g,c.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{s=p.next;var O=b=null,j=null,W=s,ce=!1;do{var _e=W.lane&-536870913;if(_e!==W.lane?(ft&_e)===_e:(ma&_e)===_e){var ne=W.revertLane;if(ne===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),_e===yl&&(ce=!0);else if((ma&ne)===ne){W=W.next,ne===yl&&(ce=!0);continue}else _e={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(O=j=_e,b=g):j=j.next=_e,Ze.lanes|=ne,Sa|=ne;_e=W.action,So&&l(g,_e),g=W.hasEagerState?W.eagerState:l(g,_e)}else ne={lane:_e,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},j===null?(O=j=ne,b=g):j=j.next=ne,Ze.lanes|=_e,Sa|=_e;W=W.next}while(W!==null&&W!==s);if(j===null?b=g:j.next=O,!Or(g,i.memoizedState)&&(Sn=!0,ce&&(l=vl,l!==null)))throw l;i.memoizedState=g,i.baseState=b,i.baseQueue=j,c.lastRenderedState=g}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Em(i){var s=un(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do g=i(g,b.action),b=b.next;while(b!==p);Or(g,s.memoizedState)||(Sn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,c]}function $_(i,s,l){var c=Ze,p=un(),g=yt;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=s();var b=!Or((wt||p).memoizedState,l);if(b&&(p.memoizedState=l,Sn=!0),p=p.queue,wm(Q_.bind(null,c,p,i),[i]),p.getSnapshot!==s||b||ln!==null&&ln.memoizedState.tag&1){if(c.flags|=2048,Tl(9,K_.bind(null,c,p,l,s),{destroy:void 0},null),xt===null)throw Error(r(349));g||(ma&60)!==0||G_(c,s,l)}return l}function G_(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Ze.updateQueue,s===null?(s=Ef(),Ze.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function K_(i,s,l,c){s.value=l,s.getSnapshot=c,W_(s)&&X_(i)}function Q_(i,s,l){return l(function(){W_(s)&&X_(i)})}function W_(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Or(i,l)}catch{return!0}}function X_(i){var s=fa(i,2);s!==null&&ir(s,i,2)}function Tm(i){var s=gr();if(typeof i=="function"){var l=i;if(i=l(),So){zr(!0);try{l()}finally{zr(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:i},s}function Y_(i,s,l,c){return i.baseState=l,_m(i,wt,typeof c=="function"?c:vs)}function vI(i,s,l,c,p){if(Rf(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};k.T!==null?l(!0):g.isTransition=!1,c(g),l=s.pending,l===null?(g.next=s.pending=g,J_(s,g)):(g.next=l.next,s.pending=l.next=g)}}function J_(i,s){var l=s.action,c=s.payload,p=i.state;if(s.isTransition){var g=k.T,b={};k.T=b;try{var O=l(p,c),j=k.S;j!==null&&j(b,O),Z_(i,s,O)}catch(W){bm(i,s,W)}finally{k.T=g}}else try{g=l(p,c),Z_(i,s,g)}catch(W){bm(i,s,W)}}function Z_(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){eE(i,s,c)},function(c){return bm(i,s,c)}):eE(i,s,l)}function eE(i,s,l){s.status="fulfilled",s.value=l,tE(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,J_(i,l)))}function bm(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,tE(s),s=s.next;while(s!==c)}i.action=null}function tE(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function nE(i,s){return s}function rE(i,s){if(yt){var l=xt.formState;if(l!==null){e:{var c=Ze;if(yt){if(Nn){t:{for(var p=Nn,g=Hi;p.nodeType!==8;){if(!g){p=null;break t}if(p=vi(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Nn=vi(p.nextSibling),c=p.data==="F!";break e}}To(c)}c=!1}c&&(s=l[0])}}return l=gr(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nE,lastRenderedState:s},l.queue=c,l=TE.bind(null,Ze,c),c.dispatch=l,c=Tm(!1),g=Im.bind(null,Ze,!1,c.queue),c=gr(),p={state:s,dispatch:null,action:i,pending:null},c.queue=p,l=vI.bind(null,Ze,p,g,l),p.dispatch=l,c.memoizedState=i,[s,l,!1]}function iE(i){var s=un();return sE(s,wt,i)}function sE(i,s,l){s=_m(i,s,nE)[0],i=bf(vs)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?xu(s):s;var c=un(),p=c.queue,g=p.dispatch;return l!==c.memoizedState&&(Ze.flags|=2048,Tl(9,_I.bind(null,p,l),{destroy:void 0},null)),[s,g,i]}function _I(i,s){i.action=s}function aE(i){var s=un(),l=wt;if(l!==null)return sE(s,l,i);un(),s=s.memoizedState,l=un();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function Tl(i,s,l,c){return i={tag:i,create:s,inst:l,deps:c,next:null},s=Ze.updateQueue,s===null&&(s=Ef(),Ze.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function oE(){return un().memoizedState}function wf(i,s,l,c){var p=gr();Ze.flags|=i,p.memoizedState=Tl(1|s,l,{destroy:void 0},c===void 0?null:c)}function Sf(i,s,l,c){var p=un();c=c===void 0?null:c;var g=p.memoizedState.inst;wt!==null&&c!==null&&dm(c,wt.memoizedState.deps)?p.memoizedState=Tl(s,l,g,c):(Ze.flags|=i,p.memoizedState=Tl(1|s,l,g,c))}function lE(i,s){wf(8390656,8,i,s)}function wm(i,s){Sf(2048,8,i,s)}function uE(i,s){return Sf(4,2,i,s)}function cE(i,s){return Sf(4,4,i,s)}function fE(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function hE(i,s,l){l=l!=null?l.concat([i]):null,Sf(4,4,fE.bind(null,s,i),l)}function Sm(){}function dE(i,s){var l=un();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&dm(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function mE(i,s){var l=un();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&dm(s,c[1]))return c[0];if(c=i(),So){zr(!0);try{i()}finally{zr(!1)}}return l.memoizedState=[c,s],c}function Rm(i,s,l){return l===void 0||(ma&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=g0(),Ze.lanes|=i,Sa|=i,l)}function pE(i,s,l,c){return Or(l,s)?l:gl.current!==null?(i=Rm(i,l,c),Or(i,s)||(Sn=!0),i):(ma&42)===0?(Sn=!0,i.memoizedState=l):(i=g0(),Ze.lanes|=i,Sa|=i,s)}function gE(i,s,l,c,p){var g=Te.p;Te.p=g!==0&&8>g?g:8;var b=k.T,O={};k.T=O,Im(i,!1,s,l);try{var j=p(),W=k.S;if(W!==null&&W(O,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ce=pI(j,c);Nu(i,s,ce,kr(i))}else Nu(i,s,c,kr(i))}catch(_e){Nu(i,s,{then:function(){},status:"rejected",reason:_e},kr())}finally{Te.p=g,k.T=b}}function EI(){}function Am(i,s,l,c){if(i.tag!==5)throw Error(r(476));var p=yE(i).queue;gE(i,p,s,Ne,l===null?EI:function(){return vE(i),l(c)})}function yE(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:Ne},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function vE(i){var s=yE(i).next.queue;Nu(i,s,{},kr())}function Cm(){return zn(Yu)}function _E(){return un().memoizedState}function EE(){return un().memoizedState}function TI(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=kr();i=va(l);var c=_a(s,i,l);c!==null&&(ir(c,s,l),Pu(c,s,l)),s={cache:cm()},i.payload=s;return}s=s.return}}function bI(i,s,l){var c=kr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Rf(i)?bE(s,l):(l=rm(i,s,l,c),l!==null&&(ir(l,i,c),wE(l,s,c)))}function TE(i,s,l){var c=kr();Nu(i,s,l,c)}function Nu(i,s,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Rf(i))bE(s,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,O=g(b,l);if(p.hasEagerState=!0,p.eagerState=O,Or(O,b))return lf(i,s,p,0),xt===null&&of(),!1}catch{}finally{}if(l=rm(i,s,p,c),l!==null)return ir(l,i,c),wE(l,s,c),!0}return!1}function Im(i,s,l,c){if(c={lane:2,revertLane:yp(),action:c,hasEagerState:!1,eagerState:null,next:null},Rf(i)){if(s)throw Error(r(479))}else s=rm(i,l,c,2),s!==null&&ir(s,i,2)}function Rf(i){var s=i.alternate;return i===Ze||s!==null&&s===Ze}function bE(i,s){_l=vf=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function wE(i,s,l){if((l&4194176)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Ni(i,l)}}var Gi={readContext:zn,use:Tf,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt};Gi.useCacheRefresh=Zt,Gi.useMemoCache=Zt,Gi.useHostTransitionStatus=Zt,Gi.useFormState=Zt,Gi.useActionState=Zt,Gi.useOptimistic=Zt;var Ro={readContext:zn,use:Tf,useCallback:function(i,s){return gr().memoizedState=[i,s===void 0?null:s],i},useContext:zn,useEffect:lE,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,wf(4194308,4,fE.bind(null,s,i),l)},useLayoutEffect:function(i,s){return wf(4194308,4,i,s)},useInsertionEffect:function(i,s){wf(4,2,i,s)},useMemo:function(i,s){var l=gr();s=s===void 0?null:s;var c=i();if(So){zr(!0);try{i()}finally{zr(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=gr();if(l!==void 0){var p=l(s);if(So){zr(!0);try{l(s)}finally{zr(!1)}}}else p=s;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=bI.bind(null,Ze,i),[c.memoizedState,i]},useRef:function(i){var s=gr();return i={current:i},s.memoizedState=i},useState:function(i){i=Tm(i);var s=i.queue,l=TE.bind(null,Ze,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Sm,useDeferredValue:function(i,s){var l=gr();return Rm(l,i,s)},useTransition:function(){var i=Tm(!1);return i=gE.bind(null,Ze,i.queue,!0,!1),gr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Ze,p=gr();if(yt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),xt===null)throw Error(r(349));(ft&60)!==0||G_(c,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,lE(Q_.bind(null,c,g,i),[i]),c.flags|=2048,Tl(9,K_.bind(null,c,g,l,s),{destroy:void 0},null),l},useId:function(){var i=gr(),s=xt.identifierPrefix;if(yt){var l=gs,c=ps;l=(c&~(1<<32-Tn(c)-1)).toString(32)+l,s=":"+s+"R"+l,l=_f++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=gI++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return gr().memoizedState=TI.bind(null,Ze)}};Ro.useMemoCache=vm,Ro.useHostTransitionStatus=Cm,Ro.useFormState=rE,Ro.useActionState=rE,Ro.useOptimistic=function(i){var s=gr();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Im.bind(null,Ze,!0,l),l.dispatch=s,[i,s]};var pa={readContext:zn,use:Tf,useCallback:dE,useContext:zn,useEffect:wm,useImperativeHandle:hE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:mE,useReducer:bf,useRef:oE,useState:function(){return bf(vs)},useDebugValue:Sm,useDeferredValue:function(i,s){var l=un();return pE(l,wt.memoizedState,i,s)},useTransition:function(){var i=bf(vs)[0],s=un().memoizedState;return[typeof i=="boolean"?i:xu(i),s]},useSyncExternalStore:$_,useId:_E};pa.useCacheRefresh=EE,pa.useMemoCache=vm,pa.useHostTransitionStatus=Cm,pa.useFormState=iE,pa.useActionState=iE,pa.useOptimistic=function(i,s){var l=un();return Y_(l,wt,i,s)};var Ao={readContext:zn,use:Tf,useCallback:dE,useContext:zn,useEffect:wm,useImperativeHandle:hE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:mE,useReducer:Em,useRef:oE,useState:function(){return Em(vs)},useDebugValue:Sm,useDeferredValue:function(i,s){var l=un();return wt===null?Rm(l,i,s):pE(l,wt.memoizedState,i,s)},useTransition:function(){var i=Em(vs)[0],s=un().memoizedState;return[typeof i=="boolean"?i:xu(i),s]},useSyncExternalStore:$_,useId:_E};Ao.useCacheRefresh=EE,Ao.useMemoCache=vm,Ao.useHostTransitionStatus=Cm,Ao.useFormState=aE,Ao.useActionState=aE,Ao.useOptimistic=function(i,s){var l=un();return wt!==null?Y_(l,wt,i,s):(l.baseState=i,[i,l.queue.dispatch])};function Om(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:B({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var xm={isMounted:function(i){return(i=i._reactInternals)?de(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var c=kr(),p=va(c);p.payload=s,l!=null&&(p.callback=l),s=_a(i,p,c),s!==null&&(ir(s,i,c),Pu(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=kr(),p=va(c);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=_a(i,p,c),s!==null&&(ir(s,i,c),Pu(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=kr(),c=va(l);c.tag=2,s!=null&&(c.callback=s),s=_a(i,c,l),s!==null&&(ir(s,i,l),Pu(s,i,l))}};function SE(i,s,l,c,p,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,b):s.prototype&&s.prototype.isPureReactComponent?!vu(l,c)||!vu(p,g):!0}function RE(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&xm.enqueueReplaceState(s,s.state,null)}function Co(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=B({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var Af=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function AE(i){Af(i)}function CE(i){console.error(i)}function IE(i){Af(i)}function Cf(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function OE(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Nm(i,s,l){return l=va(l),l.tag=3,l.payload={element:null},l.callback=function(){Cf(i,s)},l}function xE(i){return i=va(i),i.tag=3,i}function NE(i,s,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;i.payload=function(){return p(g)},i.callback=function(){OE(s,l,c)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){OE(s,l,c),typeof p!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var O=c.stack;this.componentDidCatch(c.value,{componentStack:O!==null?O:""})})}function wI(i,s,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&ku(s,l,p,!0),l=Zr.current,l!==null){switch(l.tag){case 13:return $i===null?hp():l.alternate===null&&$t===0&&($t=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===om?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),mp(i,c,p)),!1;case 22:return l.flags|=65536,c===om?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),mp(i,c,p)),!1}throw Error(r(435,l.tag))}return mp(i,c,p),hp(),!1}if(yt)return s=Zr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==am&&(i=Error(r(422),{cause:c}),bu(Xr(i,l)))):(c!==am&&(s=Error(r(423),{cause:c}),bu(Xr(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=Xr(c,l),p=Nm(i.stateNode,c,p),Gm(i,p),$t!==4&&($t=2)),!1;var g=Error(r(520),{cause:c});if(g=Xr(g,l),qu===null?qu=[g]:qu.push(g),$t!==4&&($t=2),s===null)return!0;c=Xr(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Nm(l.stateNode,c,i),Gm(l,i),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ra===null||!Ra.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=xE(p),NE(p,i,l,c),Gm(l,p),!1}l=l.return}while(l!==null);return!1}var DE=Error(r(461)),Sn=!1;function Dn(i,s,l,c){s.child=i===null?U_(s,null,l,c):bo(s,i.child,l,c)}function kE(i,s,l,c,p){l=l.render;var g=s.ref;if("ref"in c){var b={};for(var O in c)O!=="ref"&&(b[O]=c[O])}else b=c;return Oo(s),c=mm(i,s,l,b,g,p),O=pm(),i!==null&&!Sn?(gm(i,s,p),_s(i,s,p)):(yt&&O&&im(s),s.flags|=1,Dn(i,s,c,p),s.child)}function PE(i,s,l,c,p){if(i===null){var g=l.type;return typeof g=="function"&&!ep(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,LE(i,s,g,c,p)):(i=Df(l.type,null,c,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Bm(i,p)){var b=g.memoizedProps;if(l=l.compare,l=l!==null?l:vu,l(b,c)&&i.ref===s.ref)return _s(i,s,p)}return s.flags|=1,i=wa(g,c),i.ref=s.ref,i.return=s,s.child=i}function LE(i,s,l,c,p){if(i!==null){var g=i.memoizedProps;if(vu(g,c)&&i.ref===s.ref)if(Sn=!1,s.pendingProps=c=g,Bm(i,p))(i.flags&131072)!==0&&(Sn=!0);else return s.lanes=i.lanes,_s(i,s,p)}return Dm(i,s,l,c,p)}function ME(i,s,l){var c=s.pendingProps,p=c.children,g=(s.stateNode._pendingVisibility&2)!==0,b=i!==null?i.memoizedState:null;if(Du(i,s),c.mode==="hidden"||g){if((s.flags&128)!==0){if(c=b!==null?b.baseLanes|l:l,i!==null){for(p=s.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return UE(i,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&yf(s,b!==null?b.cachePool:null),b!==null?V_(s,b):lm(),j_(s);else return s.lanes=s.childLanes=536870912,UE(i,s,b!==null?b.baseLanes|l:l,l)}else b!==null?(yf(s,b.cachePool),V_(s,b),da(),s.memoizedState=null):(i!==null&&yf(s,null),lm(),da());return Dn(i,s,p,l),s.child}function UE(i,s,l,c){var p=hm();return p=p===null?null:{parent:yn._currentValue,pool:p},s.memoizedState={baseLanes:l,cachePool:p},i!==null&&yf(s,null),lm(),j_(s),i!==null&&ku(i,s,c,!0),null}function Du(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=2097664)}}function Dm(i,s,l,c,p){return Oo(s),l=mm(i,s,l,c,void 0,p),c=pm(),i!==null&&!Sn?(gm(i,s,p),_s(i,s,p)):(yt&&c&&im(s),s.flags|=1,Dn(i,s,l,p),s.child)}function VE(i,s,l,c,p,g){return Oo(s),s.updateQueue=null,l=H_(s,c,l,p),F_(i),c=pm(),i!==null&&!Sn?(gm(i,s,g),_s(i,s,g)):(yt&&c&&im(s),s.flags|=1,Dn(i,s,l,g),s.child)}function jE(i,s,l,c,p){if(Oo(s),s.stateNode===null){var g=hl,b=l.contextType;typeof b=="object"&&b!==null&&(g=zn(b)),g=new l(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=xm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Hm(s),b=l.contextType,g.context=typeof b=="object"&&b!==null?zn(b):hl,g.state=s.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Om(s,l,b,c),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&xm.enqueueReplaceState(g,g.state,null),Mu(s,c,g,p),Lu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var O=s.memoizedProps,j=Co(l,O);g.props=j;var W=g.context,ce=l.contextType;b=hl,typeof ce=="object"&&ce!==null&&(b=zn(ce));var _e=l.getDerivedStateFromProps;ce=typeof _e=="function"||typeof g.getSnapshotBeforeUpdate=="function",O=s.pendingProps!==O,ce||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(O||W!==b)&&RE(s,g,c,b),ya=!1;var ne=s.memoizedState;g.state=ne,Mu(s,c,g,p),Lu(),W=s.memoizedState,O||ne!==W||ya?(typeof _e=="function"&&(Om(s,l,_e,c),W=s.memoizedState),(j=ya||SE(s,l,j,c,ne,W,b))?(ce||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=W),g.props=c,g.state=W,g.context=b,c=j):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,$m(i,s),b=s.memoizedProps,ce=Co(l,b),g.props=ce,_e=s.pendingProps,ne=g.context,W=l.contextType,j=hl,typeof W=="object"&&W!==null&&(j=zn(W)),O=l.getDerivedStateFromProps,(W=typeof O=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==_e||ne!==j)&&RE(s,g,c,j),ya=!1,ne=s.memoizedState,g.state=ne,Mu(s,c,g,p),Lu();var ue=s.memoizedState;b!==_e||ne!==ue||ya||i!==null&&i.dependencies!==null&&If(i.dependencies)?(typeof O=="function"&&(Om(s,l,O,c),ue=s.memoizedState),(ce=ya||SE(s,l,ce,c,ne,ue,j)||i!==null&&i.dependencies!==null&&If(i.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ue,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ue,j)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ue),g.props=c,g.state=ue,g.context=j,c=ce):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&ne===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&ne===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,Du(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=bo(s,i.child,null,p),s.child=bo(s,null,l,p)):Dn(i,s,l,p),s.memoizedState=g.state,i=s.child):i=_s(i,s,p),i}function BE(i,s,l,c){return Tu(),s.flags|=256,Dn(i,s,l,c),s.child}var km={dehydrated:null,treeContext:null,retryLane:0};function Pm(i){return{baseLanes:i,cachePool:q_()}}function Lm(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=ri),i}function zE(i,s,l){var c=s.pendingProps,p=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(gn.current&2)!==0),b&&(p=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(yt){if(p?ha(s):da(),yt){var O=Nn,j;if(j=O){e:{for(j=O,O=Hi;j.nodeType!==8;){if(!O){O=null;break e}if(j=vi(j.nextSibling),j===null){O=null;break e}}O=j}O!==null?(s.memoizedState={dehydrated:O,treeContext:_o!==null?{id:ps,overflow:gs}:null,retryLane:536870912},j=ni(18,null,null,0),j.stateNode=O,j.return=s,s.child=j,rr=s,Nn=null,j=!0):j=!1}j||To(s)}if(O=s.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return O.data==="$!"?s.lanes=16:s.lanes=536870912,null;ys(s)}return O=c.children,c=c.fallback,p?(da(),p=s.mode,O=Um({mode:"hidden",children:O},p),c=No(c,p,l,null),O.return=s,c.return=s,O.sibling=c,s.child=O,p=s.child,p.memoizedState=Pm(l),p.childLanes=Lm(i,b,l),s.memoizedState=km,c):(ha(s),Mm(s,O))}if(j=i.memoizedState,j!==null&&(O=j.dehydrated,O!==null)){if(g)s.flags&256?(ha(s),s.flags&=-257,s=Vm(i,s,l)):s.memoizedState!==null?(da(),s.child=i.child,s.flags|=128,s=null):(da(),p=c.fallback,O=s.mode,c=Um({mode:"visible",children:c.children},O),p=No(p,O,l,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,bo(s,i.child,null,l),c=s.child,c.memoizedState=Pm(l),c.childLanes=Lm(i,b,l),s.memoizedState=km,s=p);else if(ha(s),O.data==="$!"){if(b=O.nextSibling&&O.nextSibling.dataset,b)var W=b.dgst;b=W,c=Error(r(419)),c.stack="",c.digest=b,bu({value:c,source:null,stack:null}),s=Vm(i,s,l)}else if(Sn||ku(i,s,l,!1),b=(l&i.childLanes)!==0,Sn||b){if(b=xt,b!==null){if(c=l&-l,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(b.suspendedLanes|l))!==0?0:c,c!==0&&c!==j.retryLane)throw j.retryLane=c,fa(i,c),ir(b,i,c),DE}O.data==="$?"||hp(),s=Vm(i,s,l)}else O.data==="$?"?(s.flags|=128,s.child=i.child,s=VI.bind(null,i),O._reactRetry=s,s=null):(i=j.treeContext,Nn=vi(O.nextSibling),rr=s,yt=!0,gi=null,Hi=!1,i!==null&&(Yr[Jr++]=ps,Yr[Jr++]=gs,Yr[Jr++]=_o,ps=i.id,gs=i.overflow,_o=s),s=Mm(s,c.children),s.flags|=4096);return s}return p?(da(),p=c.fallback,O=s.mode,j=i.child,W=j.sibling,c=wa(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&31457280,W!==null?p=wa(W,p):(p=No(p,O,l,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,O=i.child.memoizedState,O===null?O=Pm(l):(j=O.cachePool,j!==null?(W=yn._currentValue,j=j.parent!==W?{parent:W,pool:W}:j):j=q_(),O={baseLanes:O.baseLanes|l,cachePool:j}),p.memoizedState=O,p.childLanes=Lm(i,b,l),s.memoizedState=km,c):(ha(s),l=i.child,i=l.sibling,l=wa(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=l,s.memoizedState=null,l)}function Mm(i,s){return s=Um({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Um(i,s){return d0(i,s,0,null)}function Vm(i,s,l){return bo(s,i.child,null,l),i=Mm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function qE(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),qm(i.return,s,l)}function jm(i,s,l,c,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=p)}function FE(i,s,l){var c=s.pendingProps,p=c.revealOrder,g=c.tail;if(Dn(i,s,c.children,l),c=gn.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&qE(i,l,s);else if(i.tag===19)qE(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(st(gn,c),p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&gf(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),jm(s,!1,p,l,g);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&gf(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}jm(s,!0,l,null,g);break;case"together":jm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function _s(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Sa|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(ku(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=wa(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=wa(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Bm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&If(i)))}function SI(i,s,l){switch(s.tag){case 3:mt(s,s.stateNode.containerInfo),ga(s,yn,i.memoizedState.cache),Tu();break;case 27:case 5:oi(s);break;case 4:mt(s,s.stateNode.containerInfo);break;case 10:ga(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ha(s),s.flags|=128,null):(l&s.child.childLanes)!==0?zE(i,s,l):(ha(s),i=_s(i,s,l),i!==null?i.sibling:null);ha(s);break;case 19:var p=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(ku(i,s,l,!1),c=(l&s.childLanes)!==0),p){if(c)return FE(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),st(gn,gn.current),c)break;return null;case 22:case 23:return s.lanes=0,ME(i,s,l);case 24:ga(s,yn,i.memoizedState.cache)}return _s(i,s,l)}function HE(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Sn=!0;else{if(!Bm(i,l)&&(s.flags&128)===0)return Sn=!1,SI(i,s,l);Sn=(i.flags&131072)!==0}else Sn=!1,yt&&(s.flags&1048576)!==0&&I_(s,ff,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")ep(c)?(i=Co(c,i),s.tag=1,s=jE(null,s,c,i,l)):(s.tag=0,s=Dm(null,s,c,i,l));else{if(c!=null){if(p=c.$$typeof,p===A){s.tag=11,s=kE(null,s,c,i,l);break e}else if(p===$){s.tag=14,s=PE(null,s,c,i,l);break e}}throw s=P(c)||c,Error(r(306,s,""))}}return s;case 0:return Dm(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,p=Co(c,s.pendingProps),jE(i,s,c,p,l);case 3:e:{if(mt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var g=s.pendingProps;p=s.memoizedState,c=p.element,$m(i,s),Mu(s,g,null,l);var b=s.memoizedState;if(g=b.cache,ga(s,yn,g),g!==p.cache&&Fm(s,[yn],l,!0),Lu(),g=b.element,p.isDehydrated)if(p={element:g,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=BE(i,s,g,l);break e}else if(g!==c){c=Xr(Error(r(424)),s),bu(c),s=BE(i,s,g,l);break e}else for(Nn=vi(s.stateNode.containerInfo.firstChild),rr=s,yt=!0,gi=null,Hi=!0,l=U_(s,null,g,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Tu(),g===c){s=_s(i,s,l);break e}Dn(i,s,g,l)}s=s.child}return s;case 26:return Du(i,s),i===null?(l=K0(s.type,null,s.pendingProps,null))?s.memoizedState=l:yt||(l=s.type,i=s.pendingProps,c=Hf(En.current).createElement(l),c[Ft]=s,c[Jt]=i,kn(c,l,i),At(c),s.stateNode=c):s.memoizedState=K0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return oi(s),i===null&&yt&&(c=s.stateNode=H0(s.type,s.pendingProps,En.current),rr=s,Hi=!0,Nn=vi(c.firstChild)),c=s.pendingProps.children,i!==null||yt?Dn(i,s,c,l):s.child=bo(s,null,c,l),Du(i,s),s.child;case 5:return i===null&&yt&&((p=c=Nn)&&(c=eO(c,s.type,s.pendingProps,Hi),c!==null?(s.stateNode=c,rr=s,Nn=vi(c.firstChild),Hi=!1,p=!0):p=!1),p||To(s)),oi(s),p=s.type,g=s.pendingProps,b=i!==null?i.memoizedProps:null,c=g.children,Ap(p,g)?c=null:b!==null&&Ap(p,b)&&(s.flags|=32),s.memoizedState!==null&&(p=mm(i,s,yI,null,null,l),Yu._currentValue=p),Du(i,s),Dn(i,s,c,l),s.child;case 6:return i===null&&yt&&((i=l=Nn)&&(l=tO(l,s.pendingProps,Hi),l!==null?(s.stateNode=l,rr=s,Nn=null,i=!0):i=!1),i||To(s)),null;case 13:return zE(i,s,l);case 4:return mt(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=bo(s,null,c,l):Dn(i,s,c,l),s.child;case 11:return kE(i,s,s.type,s.pendingProps,l);case 7:return Dn(i,s,s.pendingProps,l),s.child;case 8:return Dn(i,s,s.pendingProps.children,l),s.child;case 12:return Dn(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,ga(s,s.type,c.value),Dn(i,s,c.children,l),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,Oo(s),p=zn(p),c=c(p),s.flags|=1,Dn(i,s,c,l),s.child;case 14:return PE(i,s,s.type,s.pendingProps,l);case 15:return LE(i,s,s.type,s.pendingProps,l);case 19:return FE(i,s,l);case 22:return ME(i,s,l);case 24:return Oo(s),c=zn(yn),i===null?(p=hm(),p===null&&(p=xt,g=cm(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),s.memoizedState={parent:c,cache:p},Hm(s),ga(s,yn,p)):((i.lanes&l)!==0&&($m(i,s),Mu(s,null,null,l),Lu()),p=i.memoizedState,g=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ga(s,yn,c)):(c=g.cache,ga(s,yn,c),c!==p.cache&&Fm(s,[yn],l,!0))),Dn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var zm=nt(null),Io=null,Es=null;function ga(i,s,l){st(zm,s._currentValue),s._currentValue=l}function Ts(i){i._currentValue=zm.current,Tt(zm)}function qm(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function Fm(i,s,l,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var b=p.child;g=g.firstContext;e:for(;g!==null;){var O=g;g=p;for(var j=0;j<s.length;j++)if(O.context===s[j]){g.lanes|=l,O=g.alternate,O!==null&&(O.lanes|=l),qm(g.return,l,i),c||(b=null);break e}g=O.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(r(341));b.lanes|=l,g=b.alternate,g!==null&&(g.lanes|=l),qm(b,l,i),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===i){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function ku(i,s,l,c){i=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var O=p.type;Or(p.pendingProps.value,b.value)||(i!==null?i.push(O):i=[O])}}else if(p===Qn.current){if(b=p.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Yu):i=[Yu])}p=p.return}i!==null&&Fm(s,i,l,c),s.flags|=262144}function If(i){for(i=i.firstContext;i!==null;){if(!Or(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Oo(i){Io=i,Es=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function zn(i){return $E(Io,i)}function Of(i,s){return Io===null&&Oo(i),$E(i,s)}function $E(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Es===null){if(i===null)throw Error(r(308));Es=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Es=Es.next=s;return l}var ya=!1;function Hm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $m(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function va(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function _a(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(jt&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=uf(i),A_(i,null,l),s}return lf(i,c,s,l),uf(i)}function Pu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194176)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Ni(i,l)}}function Gm(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=b:g=g.next=b,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Km=!1;function Lu(){if(Km){var i=vl;if(i!==null)throw i}}function Mu(i,s,l,c){Km=!1;var p=i.updateQueue;ya=!1;var g=p.firstBaseUpdate,b=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var j=O,W=j.next;j.next=null,b===null?g=W:b.next=W,b=j;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,O=ce.lastBaseUpdate,O!==b&&(O===null?ce.firstBaseUpdate=W:O.next=W,ce.lastBaseUpdate=j))}if(g!==null){var _e=p.baseState;b=0,ce=W=j=null,O=g;do{var ne=O.lane&-536870913,ue=ne!==O.lane;if(ue?(ft&ne)===ne:(c&ne)===ne){ne!==0&&ne===yl&&(Km=!0),ce!==null&&(ce=ce.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var ke=i,Ge=O;ne=s;var Gt=l;switch(Ge.tag){case 1:if(ke=Ge.payload,typeof ke=="function"){_e=ke.call(Gt,_e,ne);break e}_e=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ge.payload,ne=typeof ke=="function"?ke.call(Gt,_e,ne):ke,ne==null)break e;_e=B({},_e,ne);break e;case 2:ya=!0}}ne=O.callback,ne!==null&&(i.flags|=64,ue&&(i.flags|=8192),ue=p.callbacks,ue===null?p.callbacks=[ne]:ue.push(ne))}else ue={lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ce===null?(W=ce=ue,j=_e):ce=ce.next=ue,b|=ne;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;ue=O,O=ue.next,ue.next=null,p.lastBaseUpdate=ue,p.shared.pending=null}}while(!0);ce===null&&(j=_e),p.baseState=j,p.firstBaseUpdate=W,p.lastBaseUpdate=ce,g===null&&(p.shared.lanes=0),Sa|=b,i.lanes=b,i.memoizedState=_e}}function GE(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function KE(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)GE(l[i],s)}function Uu(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&i)===i){c=void 0;var g=l.create,b=l.inst;c=g(),b.destroy=c}l=l.next}while(l!==p)}}catch(O){Ot(s,s.return,O)}}function Ea(i,s,l){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&i)===i){var b=c.inst,O=b.destroy;if(O!==void 0){b.destroy=void 0,p=s;var j=l;try{O()}catch(W){Ot(p,j,W)}}}c=c.next}while(c!==g)}}catch(W){Ot(s,s.return,W)}}function QE(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{KE(s,l)}catch(c){Ot(i,i.return,c)}}}function WE(i,s,l){l.props=Co(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Ot(i,s,c)}}function xo(i,s){try{var l=i.ref;if(l!==null){var c=i.stateNode;switch(i.tag){case 26:case 27:case 5:var p=c;break;default:p=c}typeof l=="function"?i.refCleanup=l(p):l.current=p}}catch(g){Ot(i,s,g)}}function xr(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){Ot(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Ot(i,s,p)}else l.current=null}function XE(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){Ot(i,i.return,p)}}function YE(i,s,l){try{var c=i.stateNode;WI(c,i.type,l,s),c[Jt]=s}catch(p){Ot(i,i.return,p)}}function JE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Qm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||JE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wm(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ff));else if(c!==4&&c!==27&&(i=i.child,i!==null))for(Wm(i,s,l),i=i.sibling;i!==null;)Wm(i,s,l),i=i.sibling}function xf(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&c!==27&&(i=i.child,i!==null))for(xf(i,s,l),i=i.sibling;i!==null;)xf(i,s,l),i=i.sibling}var bs=!1,Ht=!1,Xm=!1,ZE=typeof WeakSet=="function"?WeakSet:Set,Rn=null,e0=!1;function RI(i,s){if(i=i.containerInfo,Sp=Xf,i=y_(i),Jd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var b=0,O=-1,j=-1,W=0,ce=0,_e=i,ne=null;t:for(;;){for(var ue;_e!==l||p!==0&&_e.nodeType!==3||(O=b+p),_e!==g||c!==0&&_e.nodeType!==3||(j=b+c),_e.nodeType===3&&(b+=_e.nodeValue.length),(ue=_e.firstChild)!==null;)ne=_e,_e=ue;for(;;){if(_e===i)break t;if(ne===l&&++W===p&&(O=b),ne===g&&++ce===c&&(j=b),(ue=_e.nextSibling)!==null)break;_e=ne,ne=_e.parentNode}_e=ue}l=O===-1||j===-1?null:{start:O,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(Rp={focusedElem:i,selectionRange:l},Xf=!1,Rn=s;Rn!==null;)if(s=Rn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Rn=i;else for(;Rn!==null;){switch(s=Rn,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=s,p=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var ke=Co(l.type,p,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(ke,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ge){Ot(l,l.return,Ge)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Op(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Op(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Rn=i;break}Rn=s.return}return ke=e0,e0=!1,ke}function t0(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ss(i,l),c&4&&Uu(5,l);break;case 1:if(Ss(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(O){Ot(l,l.return,O)}else{var p=Co(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(O){Ot(l,l.return,O)}}c&64&&QE(l),c&512&&xo(l,l.return);break;case 3:if(Ss(i,l),c&64&&(c=l.updateQueue,c!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{KE(c,i)}catch(O){Ot(l,l.return,O)}}break;case 26:Ss(i,l),c&512&&xo(l,l.return);break;case 27:case 5:Ss(i,l),s===null&&c&4&&XE(l),c&512&&xo(l,l.return);break;case 12:Ss(i,l);break;case 13:Ss(i,l),c&4&&i0(i,l);break;case 22:if(p=l.memoizedState!==null||bs,!p){s=s!==null&&s.memoizedState!==null||Ht;var g=bs,b=Ht;bs=p,(Ht=s)&&!b?Ta(i,l,(l.subtreeFlags&8772)!==0):Ss(i,l),bs=g,Ht=b}c&512&&(l.memoizedProps.mode==="manual"?xo(l,l.return):xr(l,l.return));break;default:Ss(i,l)}}function n0(i){var s=i.alternate;s!==null&&(i.alternate=null,n0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ci(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var cn=null,Nr=!1;function ws(i,s,l){for(l=l.child;l!==null;)r0(i,s,l),l=l.sibling}function r0(i,s,l){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(li,l)}catch{}switch(l.tag){case 26:Ht||xr(l,s),ws(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ht||xr(l,s);var c=cn,p=Nr;for(cn=l.stateNode,ws(i,s,l),l=l.stateNode,s=l.attributes;s.length;)l.removeAttributeNode(s[0]);ci(l),cn=c,Nr=p;break;case 5:Ht||xr(l,s);case 6:p=cn;var g=Nr;if(cn=null,ws(i,s,l),cn=p,Nr=g,cn!==null)if(Nr)try{i=cn,c=l.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)}catch(b){Ot(l,s,b)}else try{cn.removeChild(l.stateNode)}catch(b){Ot(l,s,b)}break;case 18:cn!==null&&(Nr?(s=cn,l=l.stateNode,s.nodeType===8?Ip(s.parentNode,l):s.nodeType===1&&Ip(s,l),tc(s)):Ip(cn,l.stateNode));break;case 4:c=cn,p=Nr,cn=l.stateNode.containerInfo,Nr=!0,ws(i,s,l),cn=c,Nr=p;break;case 0:case 11:case 14:case 15:Ht||Ea(2,l,s),Ht||Ea(4,l,s),ws(i,s,l);break;case 1:Ht||(xr(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&WE(l,s,c)),ws(i,s,l);break;case 21:ws(i,s,l);break;case 22:Ht||xr(l,s),Ht=(c=Ht)||l.memoizedState!==null,ws(i,s,l),Ht=c;break;default:ws(i,s,l)}}function i0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{tc(i)}catch(l){Ot(s,s.return,l)}}function AI(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new ZE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new ZE),s;default:throw Error(r(435,i.tag))}}function Ym(i,s){var l=AI(i);s.forEach(function(c){var p=jI.bind(null,i,c);l.has(c)||(l.add(c),c.then(p,p))})}function ei(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],g=i,b=s,O=b;e:for(;O!==null;){switch(O.tag){case 27:case 5:cn=O.stateNode,Nr=!1;break e;case 3:cn=O.stateNode.containerInfo,Nr=!0;break e;case 4:cn=O.stateNode.containerInfo,Nr=!0;break e}O=O.return}if(cn===null)throw Error(r(160));r0(g,b,p),cn=null,Nr=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)s0(s,i),s=s.sibling}var yi=null;function s0(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ei(s,i),ti(i),c&4&&(Ea(3,i,i.return),Uu(3,i),Ea(5,i,i.return));break;case 1:ei(s,i),ti(i),c&512&&(Ht||l===null||xr(l,l.return)),c&64&&bs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=yi;if(ei(s,i),ti(i),c&512&&(Ht||l===null||xr(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Pi]||g[Ft]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),kn(g,c,l),g[Ft]=i,At(g),c=g;break e;case"link":var b=X0("link","href",p).get(c+(l.href||""));if(b){for(var O=0;O<b.length;O++)if(g=b[O],g.getAttribute("href")===(l.href==null?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(O,1);break t}}g=p.createElement(c),kn(g,c,l),p.head.appendChild(g);break;case"meta":if(b=X0("meta","content",p).get(c+(l.content||""))){for(O=0;O<b.length;O++)if(g=b[O],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(O,1);break t}}g=p.createElement(c),kn(g,c,l),p.head.appendChild(g);break;default:throw Error(r(468,c))}g[Ft]=i,At(g),c=g}i.stateNode=c}else Y0(p,i.type,i.stateNode);else i.stateNode=W0(p,c,i.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?Y0(p,i.type,i.stateNode):W0(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&YE(i,i.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&i.alternate===null){p=i.stateNode,g=i.memoizedProps;try{for(var j=p.firstChild;j;){var W=j.nextSibling,ce=j.nodeName;j[Pi]||ce==="HEAD"||ce==="BODY"||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&j.rel.toLowerCase()==="stylesheet"||p.removeChild(j),j=W}for(var _e=i.type,ne=p.attributes;ne.length;)p.removeAttributeNode(ne[0]);kn(p,_e,g),p[Ft]=i,p[Jt]=g}catch(ke){Ot(i,i.return,ke)}}case 5:if(ei(s,i),ti(i),c&512&&(Ht||l===null||xr(l,l.return)),i.flags&32){p=i.stateNode;try{Jn(p,"")}catch(ke){Ot(i,i.return,ke)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,YE(i,p,l!==null?l.memoizedProps:p)),c&1024&&(Xm=!0);break;case 6:if(ei(s,i),ti(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(ke){Ot(i,i.return,ke)}}break;case 3:if(Kf=null,p=yi,yi=$f(s.containerInfo),ei(s,i),yi=p,ti(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{tc(s.containerInfo)}catch(ke){Ot(i,i.return,ke)}Xm&&(Xm=!1,a0(i));break;case 4:c=yi,yi=$f(i.stateNode.containerInfo),ei(s,i),ti(i),yi=c;break;case 12:ei(s,i),ti(i);break;case 13:ei(s,i),ti(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ap=In()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Ym(i,c)));break;case 22:if(c&512&&(Ht||l===null||xr(l,l.return)),j=i.memoizedState!==null,W=l!==null&&l.memoizedState!==null,ce=bs,_e=Ht,bs=ce||j,Ht=_e||W,ei(s,i),Ht=_e,bs=ce,ti(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,c&8192&&(s._visibility=j?s._visibility&-2:s._visibility|1,j&&(s=bs||Ht,l===null||W||s||bl(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(l=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(l===null){W=l=s;try{if(p=W.stateNode,j)g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=W.stateNode,O=W.memoizedProps.style;var ue=O!=null&&O.hasOwnProperty("display")?O.display:null;b.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(ke){Ot(W,W.return,ke)}}}else if(s.tag===6){if(l===null){W=s;try{W.stateNode.nodeValue=j?"":W.memoizedProps}catch(ke){Ot(W,W.return,ke)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Ym(i,l))));break;case 19:ei(s,i),ti(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Ym(i,c)));break;case 21:break;default:ei(s,i),ti(i)}}function ti(i){var s=i.flags;if(s&2){try{if(i.tag!==27){e:{for(var l=i.return;l!==null;){if(JE(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 27:var p=c.stateNode,g=Qm(i);xf(i,g,p);break;case 5:var b=c.stateNode;c.flags&32&&(Jn(b,""),c.flags&=-33);var O=Qm(i);xf(i,O,b);break;case 3:case 4:var j=c.stateNode.containerInfo,W=Qm(i);Wm(i,W,j);break;default:throw Error(r(161))}}}catch(ce){Ot(i,i.return,ce)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function a0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;a0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ss(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)t0(i,s.alternate,s),s=s.sibling}function bl(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ea(4,s,s.return),bl(s);break;case 1:xr(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&WE(s,s.return,l),bl(s);break;case 26:case 27:case 5:xr(s,s.return),bl(s);break;case 22:xr(s,s.return),s.memoizedState===null&&bl(s);break;default:bl(s)}i=i.sibling}}function Ta(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=i,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:Ta(p,g,l),Uu(4,g);break;case 1:if(Ta(p,g,l),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){Ot(c,c.return,W)}if(c=g,p=c.updateQueue,p!==null){var O=c.stateNode;try{var j=p.shared.hiddenCallbacks;if(j!==null)for(p.shared.hiddenCallbacks=null,p=0;p<j.length;p++)GE(j[p],O)}catch(W){Ot(c,c.return,W)}}l&&b&64&&QE(g),xo(g,g.return);break;case 26:case 27:case 5:Ta(p,g,l),l&&c===null&&b&4&&XE(g),xo(g,g.return);break;case 12:Ta(p,g,l);break;case 13:Ta(p,g,l),l&&b&4&&i0(p,g);break;case 22:g.memoizedState===null&&Ta(p,g,l),xo(g,g.return);break;default:Ta(p,g,l)}s=s.sibling}}function Jm(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Cu(l))}function Zm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Cu(i))}function ba(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)o0(i,s,l,c),s=s.sibling}function o0(i,s,l,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:ba(i,s,l,c),p&2048&&Uu(9,s);break;case 3:ba(i,s,l,c),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Cu(i)));break;case 12:if(p&2048){ba(i,s,l,c),i=s.stateNode;try{var g=s.memoizedProps,b=g.id,O=g.onPostCommit;typeof O=="function"&&O(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){Ot(s,s.return,j)}}else ba(i,s,l,c);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?ba(i,s,l,c):Vu(i,s):g._visibility&4?ba(i,s,l,c):(g._visibility|=4,wl(i,s,l,c,(s.subtreeFlags&10256)!==0)),p&2048&&Jm(s.alternate,s);break;case 24:ba(i,s,l,c),p&2048&&Zm(s.alternate,s);break;default:ba(i,s,l,c)}}function wl(i,s,l,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,b=s,O=l,j=c,W=b.flags;switch(b.tag){case 0:case 11:case 15:wl(g,b,O,j,p),Uu(8,b);break;case 23:break;case 22:var ce=b.stateNode;b.memoizedState!==null?ce._visibility&4?wl(g,b,O,j,p):Vu(g,b):(ce._visibility|=4,wl(g,b,O,j,p)),p&&W&2048&&Jm(b.alternate,b);break;case 24:wl(g,b,O,j,p),p&&W&2048&&Zm(b.alternate,b);break;default:wl(g,b,O,j,p)}s=s.sibling}}function Vu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,p=c.flags;switch(c.tag){case 22:Vu(l,c),p&2048&&Jm(c.alternate,c);break;case 24:Vu(l,c),p&2048&&Zm(c.alternate,c);break;default:Vu(l,c)}s=s.sibling}}var ju=8192;function Sl(i){if(i.subtreeFlags&ju)for(i=i.child;i!==null;)l0(i),i=i.sibling}function l0(i){switch(i.tag){case 26:Sl(i),i.flags&ju&&i.memoizedState!==null&&mO(yi,i.memoizedState,i.memoizedProps);break;case 5:Sl(i);break;case 3:case 4:var s=yi;yi=$f(i.stateNode.containerInfo),Sl(i),yi=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=ju,ju=16777216,Sl(i),ju=s):Sl(i));break;default:Sl(i)}}function u0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Bu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Rn=c,f0(c,i)}u0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)c0(i),i=i.sibling}function c0(i){switch(i.tag){case 0:case 11:case 15:Bu(i),i.flags&2048&&Ea(9,i,i.return);break;case 3:Bu(i);break;case 12:Bu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,Nf(i)):Bu(i);break;default:Bu(i)}}function Nf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Rn=c,f0(c,i)}u0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ea(8,s,s.return),Nf(s);break;case 22:l=s.stateNode,l._visibility&4&&(l._visibility&=-5,Nf(s));break;default:Nf(s)}i=i.sibling}}function f0(i,s){for(;Rn!==null;){var l=Rn;switch(l.tag){case 0:case 11:case 15:Ea(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Cu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Rn=c;else e:for(l=i;Rn!==null;){c=Rn;var p=c.sibling,g=c.return;if(n0(c),c===l){Rn=null;break e}if(p!==null){p.return=g,Rn=p;break e}Rn=g}}}function CI(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(i,s,l,c){return new CI(i,s,l,c)}function ep(i){return i=i.prototype,!(!i||!i.isReactComponent)}function wa(i,s){var l=i.alternate;return l===null?(l=ni(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&31457280,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function h0(i,s){i.flags&=31457282;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Df(i,s,l,c,p,g){var b=0;if(c=i,typeof i=="function")ep(i)&&(b=1);else if(typeof i=="string")b=hO(i,l,nn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case f:return No(l.children,p,g,s);case m:b=8,p|=24;break;case y:return i=ni(12,l,s,p|2),i.elementType=y,i.lanes=g,i;case V:return i=ni(13,l,s,p),i.elementType=V,i.lanes=g,i;case D:return i=ni(19,l,s,p),i.elementType=D,i.lanes=g,i;case H:return d0(l,p,g,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:case R:b=10;break e;case _:b=9;break e;case A:b=11;break e;case $:b=14;break e;case K:b=16,c=null;break e}b=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=ni(b,l,s,p),s.elementType=i,s.type=c,s.lanes=g,s}function No(i,s,l,c){return i=ni(7,i,c,s),i.lanes=l,i}function d0(i,s,l,c){i=ni(22,i,c,s),i.elementType=H,i.lanes=l;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=p._current;if(g===null)throw Error(r(456));if((p._pendingVisibility&2)===0){var b=fa(g,2);b!==null&&(p._pendingVisibility|=2,ir(b,g,2))}},attach:function(){var g=p._current;if(g===null)throw Error(r(456));if((p._pendingVisibility&2)!==0){var b=fa(g,2);b!==null&&(p._pendingVisibility&=-3,ir(b,g,2))}}};return i.stateNode=p,i}function tp(i,s,l){return i=ni(6,i,null,s),i.lanes=l,i}function np(i,s,l){return s=ni(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Rs(i){i.flags|=4}function m0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!J0(s)){if(s=Zr.current,s!==null&&((ft&4194176)===ft?$i!==null:(ft&62914560)!==ft&&(ft&536870912)===0||s!==$i))throw Su=om,N_;i.flags|=8192}}function kf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Oi():536870912,i.lanes|=s,Al|=s)}function zu(i,s){if(!yt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Vt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&31457280,c|=p.flags&31457280,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function II(i,s,l){var c=s.pendingProps;switch(sm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(s),null;case 1:return Vt(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ts(yn),ur(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Eu(s)?Rs(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,gi!==null&&(cp(gi),gi=null))),Vt(s),null;case 26:return l=s.memoizedState,i===null?(Rs(s),l!==null?(Vt(s),m0(s,l)):(Vt(s),s.flags&=-16777217)):l?l!==i.memoizedState?(Rs(s),Vt(s),m0(s,l)):(Vt(s),s.flags&=-16777217):(i.memoizedProps!==c&&Rs(s),Vt(s),s.flags&=-16777217),null;case 27:Ws(s),l=En.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Rs(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Vt(s),null}i=nn.current,Eu(s)?O_(s):(i=H0(p,c,l),s.stateNode=i,Rs(s))}return Vt(s),null;case 5:if(Ws(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Rs(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Vt(s),null}if(i=nn.current,Eu(s))O_(s);else{switch(p=Hf(En.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}i[Ft]=s,i[Jt]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(kn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Rs(s)}}return Vt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Rs(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=En.current,Eu(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,p=rr,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[Ft]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||V0(i.nodeValue,l)),i||To(s)}else i=Hf(i).createTextNode(c),i[Ft]=s,s.stateNode=i}return Vt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Eu(s),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Ft]=s}else Tu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Vt(s),p=!1}else gi!==null&&(cp(gi),gi=null),p=!0;if(!p)return s.flags&256?(ys(s),s):(ys(s),null)}if(ys(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),kf(s,s.updateQueue),Vt(s),null;case 4:return ur(),i===null&&Tp(s.stateNode.containerInfo),Vt(s),null;case 10:return Ts(s.type),Vt(s),null;case 19:if(Tt(gn),p=s.memoizedState,p===null)return Vt(s),null;if(c=(s.flags&128)!==0,g=p.rendering,g===null)if(c)zu(p,!1);else{if($t!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=gf(i),g!==null){for(s.flags|=128,zu(p,!1),i=g.updateQueue,s.updateQueue=i,kf(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)h0(l,i),l=l.sibling;return st(gn,gn.current&1|2),s.child}i=i.sibling}p.tail!==null&&In()>Pf&&(s.flags|=128,c=!0,zu(p,!1),s.lanes=4194304)}else{if(!c)if(i=gf(g),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,kf(s,i),zu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!yt)return Vt(s),null}else 2*In()-p.renderingStartTime>Pf&&l!==536870912&&(s.flags|=128,c=!0,zu(p,!1),s.lanes=4194304);p.isBackwards?(g.sibling=s.child,s.child=g):(i=p.last,i!==null?i.sibling=g:s.child=g,p.last=g)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=In(),s.sibling=null,i=gn.current,st(gn,c?i&1|2:i&1),s):(Vt(s),null);case 22:case 23:return ys(s),um(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(Vt(s),s.subtreeFlags&6&&(s.flags|=8192)):Vt(s),l=s.updateQueue,l!==null&&kf(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&Tt(wo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ts(yn),Vt(s),null;case 25:return null}throw Error(r(156,s.tag))}function OI(i,s){switch(sm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ts(yn),ur(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ws(s),null;case 13:if(ys(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Tu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Tt(gn),null;case 4:return ur(),null;case 10:return Ts(s.type),null;case 22:case 23:return ys(s),um(),i!==null&&Tt(wo),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ts(yn),null;case 25:return null;default:return null}}function p0(i,s){switch(sm(s),s.tag){case 3:Ts(yn),ur();break;case 26:case 27:case 5:Ws(s);break;case 4:ur();break;case 13:ys(s);break;case 19:Tt(gn);break;case 10:Ts(s.type);break;case 22:case 23:ys(s),um(),i!==null&&Tt(wo);break;case 24:Ts(yn)}}var xI={getCacheForType:function(i){var s=zn(yn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},NI=typeof WeakMap=="function"?WeakMap:Map,jt=0,xt=null,tt=null,ft=0,Nt=0,Dr=null,As=!1,Rl=!1,rp=!1,Cs=0,$t=0,Sa=0,Do=0,ip=0,ri=0,Al=0,qu=null,Ki=null,sp=!1,ap=0,Pf=1/0,Lf=null,Ra=null,Mf=!1,ko=null,Fu=0,op=0,lp=null,Hu=0,up=null;function kr(){if((jt&2)!==0&&ft!==0)return ft&-ft;if(k.T!==null){var i=yl;return i!==0?i:yp()}return uo()}function g0(){ri===0&&(ri=(ft&536870912)===0||yt?lo():536870912);var i=Zr.current;return i!==null&&(i.flags|=32),ri}function ir(i,s,l){(i===xt&&Nt===2||i.cancelPendingCommit!==null)&&(Cl(i,0),Is(i,ft,ri,!1)),Mt(i,l),((jt&2)===0||i!==xt)&&(i===xt&&((jt&2)===0&&(Do|=l),$t===4&&Is(i,ft,ri,!1)),Qi(i))}function y0(i,s,l){if((jt&6)!==0)throw Error(r(327));var c=!l&&(s&60)===0&&(s&i.expiredLanes)===0||Fr(i,s),p=c?PI(i,s):dp(i,s,!0),g=c;do{if(p===0){Rl&&!c&&Is(i,s,0,!1);break}else if(p===6)Is(i,s,0,!As);else{if(l=i.current.alternate,g&&!DI(l)){p=dp(i,s,!1),g=!1;continue}if(p===2){if(g=s,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var O=i;p=qu;var j=O.current.memoizedState.isDehydrated;if(j&&(Cl(O,b).flags|=256),b=dp(O,b,!1),b!==2){if(rp&&!j){O.errorRecoveryDisabledLanes|=g,Do|=g,p=4;break e}g=Ki,Ki=p,g!==null&&cp(g)}p=b}if(g=!1,p!==2)continue}}if(p===1){Cl(i,0),Is(i,s,0,!0);break}e:{switch(c=i,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){Is(c,s,ri,!As);break e}break;case 2:Ki=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=l,c.finishedLanes=s,(s&62914560)===s&&(g=ap+300-In(),10<g)){if(Is(c,s,ri,!As),cr(c,0)!==0)break e;c.timeoutHandle=z0(v0.bind(null,c,l,Ki,Lf,sp,s,ri,Do,Al,As,2,-0,0),g);break e}v0(c,l,Ki,Lf,sp,s,ri,Do,Al,As,0,-0,0)}}break}while(!0);Qi(i)}function cp(i){Ki===null?Ki=i:Ki.push.apply(Ki,i)}function v0(i,s,l,c,p,g,b,O,j,W,ce,_e,ne){var ue=s.subtreeFlags;if((ue&8192||(ue&16785408)===16785408)&&(Xu={stylesheets:null,count:0,unsuspend:dO},l0(s),s=pO(),s!==null)){i.cancelPendingCommit=s(R0.bind(null,i,l,c,p,b,O,j,1,_e,ne)),Is(i,g,b,!W);return}R0(i,l,c,p,b,O,j,ce,_e,ne)}function DI(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],g=p.getSnapshot;p=p.value;try{if(!Or(g(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Is(i,s,l,c){s&=~ip,s&=~Do,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var p=s;0<p;){var g=31-Tn(p),b=1<<g;c[g]=-1,p&=~b}l!==0&&xi(i,l,s)}function Uf(){return(jt&6)===0?($u(0),!1):!0}function fp(){if(tt!==null){if(Nt===0)var i=tt.return;else i=tt,Es=Io=null,ym(i),pl=null,Ru=0,i=tt;for(;i!==null;)p0(i.alternate,i),i=i.return;tt=null}}function Cl(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,YI(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),fp(),xt=i,tt=l=wa(i.current,null),ft=s,Nt=0,Dr=null,As=!1,Rl=Fr(i,s),rp=!1,Al=ri=ip=Do=Sa=$t=0,Ki=qu=null,sp=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var p=31-Tn(c),g=1<<p;s|=i[p],c&=~g}return Cs=s,of(),l}function _0(i,s){Ze=null,k.H=Gi,s===wu?(s=P_(),Nt=3):s===N_?(s=P_(),Nt=4):Nt=s===DE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Dr=s,tt===null&&($t=1,Cf(i,Xr(s,i.current)))}function E0(){var i=k.H;return k.H=Gi,i===null?Gi:i}function T0(){var i=k.A;return k.A=xI,i}function hp(){$t=4,As||(ft&4194176)!==ft&&Zr.current!==null||(Rl=!0),(Sa&134217727)===0&&(Do&134217727)===0||xt===null||Is(xt,ft,ri,!1)}function dp(i,s,l){var c=jt;jt|=2;var p=E0(),g=T0();(xt!==i||ft!==s)&&(Lf=null,Cl(i,s)),s=!1;var b=$t;e:do try{if(Nt!==0&&tt!==null){var O=tt,j=Dr;switch(Nt){case 8:fp(),b=6;break e;case 3:case 2:case 6:Zr.current===null&&(s=!0);var W=Nt;if(Nt=0,Dr=null,Il(i,O,j,W),l&&Rl){b=0;break e}break;default:W=Nt,Nt=0,Dr=null,Il(i,O,j,W)}}kI(),b=$t;break}catch(ce){_0(i,ce)}while(!0);return s&&i.shellSuspendCounter++,Es=Io=null,jt=c,k.H=p,k.A=g,tt===null&&(xt=null,ft=0,of()),b}function kI(){for(;tt!==null;)b0(tt)}function PI(i,s){var l=jt;jt|=2;var c=E0(),p=T0();xt!==i||ft!==s?(Lf=null,Pf=In()+500,Cl(i,s)):Rl=Fr(i,s);e:do try{if(Nt!==0&&tt!==null){s=tt;var g=Dr;t:switch(Nt){case 1:Nt=0,Dr=null,Il(i,s,g,1);break;case 2:if(D_(g)){Nt=0,Dr=null,w0(s);break}s=function(){Nt===2&&xt===i&&(Nt=7),Qi(i)},g.then(s,s);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:D_(g)?(Nt=0,Dr=null,w0(s)):(Nt=0,Dr=null,Il(i,s,g,7));break;case 5:var b=null;switch(tt.tag){case 26:b=tt.memoizedState;case 5:case 27:var O=tt;if(!b||J0(b)){Nt=0,Dr=null;var j=O.sibling;if(j!==null)tt=j;else{var W=O.return;W!==null?(tt=W,Vf(W)):tt=null}break t}}Nt=0,Dr=null,Il(i,s,g,5);break;case 6:Nt=0,Dr=null,Il(i,s,g,6);break;case 8:fp(),$t=6;break e;default:throw Error(r(462))}}LI();break}catch(ce){_0(i,ce)}while(!0);return Es=Io=null,k.H=c,k.A=p,jt=l,tt!==null?0:(xt=null,ft=0,of(),$t)}function LI(){for(;tt!==null&&!se();)b0(tt)}function b0(i){var s=HE(i.alternate,i,Cs);i.memoizedProps=i.pendingProps,s===null?Vf(i):tt=s}function w0(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=VE(l,s,s.pendingProps,s.type,void 0,ft);break;case 11:s=VE(l,s,s.pendingProps,s.type.render,s.ref,ft);break;case 5:ym(s);default:p0(l,s),s=tt=h0(s,Cs),s=HE(l,s,Cs)}i.memoizedProps=i.pendingProps,s===null?Vf(i):tt=s}function Il(i,s,l,c){Es=Io=null,ym(s),pl=null,Ru=0;var p=s.return;try{if(wI(i,p,s,l,ft)){$t=1,Cf(i,Xr(l,i.current)),tt=null;return}}catch(g){if(p!==null)throw tt=p,g;$t=1,Cf(i,Xr(l,i.current)),tt=null;return}s.flags&32768?(yt||c===1?i=!0:Rl||(ft&536870912)!==0?i=!1:(As=i=!0,(c===2||c===3||c===6)&&(c=Zr.current,c!==null&&c.tag===13&&(c.flags|=16384))),S0(s,i)):Vf(s)}function Vf(i){var s=i;do{if((s.flags&32768)!==0){S0(s,As);return}i=s.return;var l=II(s.alternate,s,Cs);if(l!==null){tt=l;return}if(s=s.sibling,s!==null){tt=s;return}tt=s=i}while(s!==null);$t===0&&($t=5)}function S0(i,s){do{var l=OI(i.alternate,i);if(l!==null){l.flags&=32767,tt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){tt=i;return}tt=i=l}while(i!==null);$t=6,tt=null}function R0(i,s,l,c,p,g,b,O,j,W){var ce=k.T,_e=Te.p;try{Te.p=2,k.T=null,MI(i,s,l,c,_e,p,g,b,O,j,W)}finally{k.T=ce,Te.p=_e}}function MI(i,s,l,c,p,g,b,O){do Ol();while(ko!==null);if((jt&6)!==0)throw Error(r(327));var j=i.finishedWork;if(c=i.finishedLanes,j===null)return null;if(i.finishedWork=null,i.finishedLanes=0,j===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var W=j.lanes|j.childLanes;if(W|=nm,Yt(i,c,W,g,b,O),i===xt&&(tt=xt=null,ft=0),(j.subtreeFlags&10256)===0&&(j.flags&10256)===0||Mf||(Mf=!0,op=W,lp=l,BI(jr,function(){return Ol(),null})),l=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||l?(l=k.T,k.T=null,g=Te.p,Te.p=2,b=jt,jt|=4,RI(i,j),s0(j,i),aI(Rp,i.containerInfo),Xf=!!Sp,Rp=Sp=null,i.current=j,t0(i,j.alternate,j),ze(),jt=b,Te.p=g,k.T=l):i.current=j,Mf?(Mf=!1,ko=i,Fu=c):A0(i,W),W=i.pendingLanes,W===0&&(Ra=null),Js(j.stateNode),Qi(i),s!==null)for(p=i.onRecoverableError,j=0;j<s.length;j++)W=s[j],p(W.value,{componentStack:W.stack});return(Fu&3)!==0&&Ol(),W=i.pendingLanes,(c&4194218)!==0&&(W&42)!==0?i===up?Hu++:(Hu=0,up=i):Hu=0,$u(0),null}function A0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Cu(s)))}function Ol(){if(ko!==null){var i=ko,s=op;op=0;var l=il(Fu),c=k.T,p=Te.p;try{if(Te.p=32>l?32:l,k.T=null,ko===null)var g=!1;else{l=lp,lp=null;var b=ko,O=Fu;if(ko=null,Fu=0,(jt&6)!==0)throw Error(r(331));var j=jt;if(jt|=4,c0(b.current),o0(b,b.current,O,l),jt=j,$u(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(li,b)}catch{}g=!0}return g}finally{Te.p=p,k.T=c,A0(i,s)}}return!1}function C0(i,s,l){s=Xr(l,s),s=Nm(i.stateNode,s,2),i=_a(i,s,2),i!==null&&(Mt(i,2),Qi(i))}function Ot(i,s,l){if(i.tag===3)C0(i,i,l);else for(;s!==null;){if(s.tag===3){C0(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ra===null||!Ra.has(c))){i=Xr(l,i),l=xE(2),c=_a(s,l,2),c!==null&&(NE(l,c,s,i),Mt(c,2),Qi(c));break}}s=s.return}}function mp(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new NI;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(l)||(rp=!0,p.add(l),i=UI.bind(null,i,s,l),s.then(i,i))}function UI(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,xt===i&&(ft&l)===l&&($t===4||$t===3&&(ft&62914560)===ft&&300>In()-ap?(jt&2)===0&&Cl(i,0):ip|=l,Al===ft&&(Al=0)),Qi(i)}function I0(i,s){s===0&&(s=Oi()),i=fa(i,s),i!==null&&(Mt(i,s),Qi(i))}function VI(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),I0(i,l)}function jI(i,s){var l=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),I0(i,l)}function BI(i,s){return Ai(i,s)}var jf=null,xl=null,pp=!1,Bf=!1,gp=!1,Po=0;function Qi(i){i!==xl&&i.next===null&&(xl===null?jf=xl=i:xl=xl.next=i),Bf=!0,pp||(pp=!0,qI(zI))}function $u(i,s){if(!gp&&Bf){gp=!0;do for(var l=!1,c=jf;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var b=c.suspendedLanes,O=c.pingedLanes;g=(1<<31-Tn(42|i)+1)-1,g&=p&~(b&~O),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(l=!0,N0(c,g))}else g=ft,g=cr(c,c===xt?g:0),(g&3)===0||Fr(c,g)||(l=!0,N0(c,g));c=c.next}while(l);gp=!1}}function zI(){Bf=pp=!1;var i=0;Po!==0&&(XI()&&(i=Po),Po=0);for(var s=In(),l=null,c=jf;c!==null;){var p=c.next,g=O0(c,s);g===0?(c.next=null,l===null?jf=p:l.next=p,p===null&&(xl=l)):(l=c,(i!==0||(g&3)!==0)&&(Bf=!0)),c=p}$u(i)}function O0(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-Tn(g),O=1<<b,j=p[b];j===-1?((O&l)===0||(O&c)!==0)&&(p[b]=Ii(O,s)):j<=s&&(i.expiredLanes|=O),g&=~O}if(s=xt,l=ft,l=cr(i,i===s?l:0),c=i.callbackNode,l===0||i===s&&Nt===2||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ys(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Fr(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&Ys(c),il(l)){case 2:case 8:l=qt;break;case 32:l=jr;break;case 268435456:l=io;break;default:l=jr}return c=x0.bind(null,i),l=Ai(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&Ys(c),i.callbackPriority=2,i.callbackNode=null,2}function x0(i,s){var l=i.callbackNode;if(Ol()&&i.callbackNode!==l)return null;var c=ft;return c=cr(i,i===xt?c:0),c===0?null:(y0(i,c,s),O0(i,In()),i.callbackNode!=null&&i.callbackNode===l?x0.bind(null,i):null)}function N0(i,s){if(Ol())return null;y0(i,s,!0)}function qI(i){JI(function(){(jt&6)!==0?Ai(Xt,i):i()})}function yp(){return Po===0&&(Po=lo()),Po}function D0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:$r(""+i)}function k0(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function FI(i,s,l,c,p){if(s==="submit"&&l&&l.stateNode===p){var g=D0((p[Jt]||null).action),b=c.submitter;b&&(s=(s=b[Jt]||null)?D0(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var O=new ca("action","action",null,c,p);i.push({event:O,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Po!==0){var j=b?k0(p,b):new FormData(p);Am(l,{pending:!0,data:j,method:p.method,action:g},null,j)}}else typeof g=="function"&&(O.preventDefault(),j=b?k0(p,b):new FormData(p),Am(l,{pending:!0,data:j,method:p.method,action:g},g,j))},currentTarget:p}]})}}for(var vp=0;vp<R_.length;vp++){var _p=R_[vp],HI=_p.toLowerCase(),$I=_p[0].toUpperCase()+_p.slice(1);pi(HI,"on"+$I)}pi(E_,"onAnimationEnd"),pi(T_,"onAnimationIteration"),pi(b_,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(lI,"onTransitionRun"),pi(uI,"onTransitionStart"),pi(cI,"onTransitionCancel"),pi(w_,"onTransitionEnd"),jn("onMouseEnter",["mouseout","mouseover"]),jn("onMouseLeave",["mouseout","mouseover"]),jn("onPointerEnter",["pointerout","pointerover"]),jn("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function P0(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],p=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var b=c.length-1;0<=b;b--){var O=c[b],j=O.instance,W=O.currentTarget;if(O=O.listener,j!==g&&p.isPropagationStopped())break e;g=O,p.currentTarget=W;try{g(p)}catch(ce){Af(ce)}p.currentTarget=null,g=j}else for(b=0;b<c.length;b++){if(O=c[b],j=O.instance,W=O.currentTarget,O=O.listener,j!==g&&p.isPropagationStopped())break e;g=O,p.currentTarget=W;try{g(p)}catch(ce){Af(ce)}p.currentTarget=null,g=j}}}}function at(i,s){var l=s[ki];l===void 0&&(l=s[ki]=new Set);var c=i+"__bubble";l.has(c)||(L0(s,i,2,!1),l.add(c))}function Ep(i,s,l){var c=0;s&&(c|=4),L0(l,i,c,s)}var zf="_reactListening"+Math.random().toString(36).slice(2);function Tp(i){if(!i[zf]){i[zf]=!0,ea.forEach(function(l){l!=="selectionchange"&&(GI.has(l)||Ep(l,!1,i),Ep(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[zf]||(s[zf]=!0,Ep("selectionchange",!1,s))}}function L0(i,s,l,c){switch(iT(s)){case 2:var p=vO;break;case 8:p=_O;break;default:p=Pp}l=p.bind(null,s,l,i),p=void 0,!Zn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function bp(i,s,l,c,p){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var O=c.stateNode.containerInfo;if(O===p||O.nodeType===8&&O.parentNode===p)break;if(b===4)for(b=c.return;b!==null;){var j=b.tag;if((j===3||j===4)&&(j=b.stateNode.containerInfo,j===p||j.nodeType===8&&j.parentNode===p))return;b=b.return}for(;O!==null;){if(b=wr(O),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){c=g=b;continue e}O=O.parentNode}}c=c.return}ua(function(){var W=g,ce=oa(l),_e=[];e:{var ne=S_.get(i);if(ne!==void 0){var ue=ca,ke=i;switch(i){case"keypress":if(er(l)===0)break e;case"keydown":case"keyup":ue=Dt;break;case"focusin":ke="focus",ue=J;break;case"focusout":ke="blur",ue=J;break;case"beforeblur":case"afterblur":ue=J;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=N;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=F;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Qr;break;case E_:case T_:case b_:ue=xe;break;case w_:ue=go;break;case"scroll":case"scrollend":ue=ol;break;case"wheel":ue=ll;break;case"copy":case"cut":case"paste":ue=Se;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=on;break;case"toggle":case"beforetoggle":ue=rf}var Ge=(s&4)!==0,Gt=!Ge&&(i==="scroll"||i==="scrollend"),Y=Ge?ne!==null?ne+"Capture":null:ne;Ge=[];for(var Q=W,ee;Q!==null;){var me=Q;if(ee=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ee===null||Y===null||(me=Bi(Q,Y),me!=null&&Ge.push(Ku(Q,me,ee))),Gt)break;Q=Q.return}0<Ge.length&&(ne=new ue(ne,ke,null,l,ce),_e.push({event:ne,listeners:Ge}))}}if((s&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",ne&&l!==dr&&(ke=l.relatedTarget||l.fromElement)&&(wr(ke)||ke[ui]))break e;if((ue||ne)&&(ne=ce.window===ce?ce:(ne=ce.ownerDocument)?ne.defaultView||ne.parentWindow:window,ue?(ke=l.relatedTarget||l.toElement,ue=W,ke=ke?wr(ke):null,ke!==null&&(Gt=de(ke),Ge=ke.tag,ke!==Gt||Ge!==5&&Ge!==27&&Ge!==6)&&(ke=null)):(ue=null,ke=W),ue!==ke)){if(Ge=N,me="onMouseLeave",Y="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(Ge=on,me="onPointerLeave",Y="onPointerEnter",Q="pointer"),Gt=ue==null?ne:Sr(ue),ee=ke==null?ne:Sr(ke),ne=new Ge(me,Q+"leave",ue,l,ce),ne.target=Gt,ne.relatedTarget=ee,me=null,wr(ce)===W&&(Ge=new Ge(Y,Q+"enter",ke,l,ce),Ge.target=ee,Ge.relatedTarget=Gt,me=Ge),Gt=me,ue&&ke)t:{for(Ge=ue,Y=ke,Q=0,ee=Ge;ee;ee=Nl(ee))Q++;for(ee=0,me=Y;me;me=Nl(me))ee++;for(;0<Q-ee;)Ge=Nl(Ge),Q--;for(;0<ee-Q;)Y=Nl(Y),ee--;for(;Q--;){if(Ge===Y||Y!==null&&Ge===Y.alternate)break t;Ge=Nl(Ge),Y=Nl(Y)}Ge=null}else Ge=null;ue!==null&&M0(_e,ne,ue,Ge,!1),ke!==null&&Gt!==null&&M0(_e,Gt,ke,Ge,!0)}}e:{if(ne=W?Sr(W):window,ue=ne.nodeName&&ne.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ne.type==="file")var Ie=u_;else if(pn(ne))if(c_)Ie=iI;else{Ie=nI;var et=tI}else ue=ne.nodeName,!ue||ue.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?W&&sa(W.elementType)&&(Ie=u_):Ie=rI;if(Ie&&(Ie=Ie(i,W))){ms(_e,Ie,l,ce);break e}et&&et(i,ne,W),i==="focusout"&&W&&ne.type==="number"&&W.memoizedProps.value!=null&&ra(ne,"number",ne.value)}switch(et=W?Sr(W):window,i){case"focusin":(pn(et)||et.contentEditable==="true")&&(ul=et,Zd=W,_u=null);break;case"focusout":_u=Zd=ul=null;break;case"mousedown":em=!0;break;case"contextmenu":case"mouseup":case"dragend":em=!1,v_(_e,l,ce);break;case"selectionchange":if(oI)break;case"keydown":case"keyup":v_(_e,l,ce)}var Me;if(qi)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ut?ie(i,l)&&(je="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(je="onCompositionStart");je&&(T&&l.locale!=="ko"&&(ut||je!=="onCompositionStart"?je==="onCompositionEnd"&&ut&&(Me=Bn()):(Ir=ce,zi="value"in Ir?Ir.value:Ir.textContent,ut=!0)),et=qf(W,je),0<et.length&&(je=new gt(je,i,null,l,ce),_e.push({event:je,listeners:et}),Me?je.data=Me:(Me=be(l),Me!==null&&(je.data=Me)))),(Me=v?mn(i,l):ct(i,l))&&(je=qf(W,"onBeforeInput"),0<je.length&&(et=new gt("onBeforeInput","beforeinput",null,l,ce),_e.push({event:et,listeners:je}),et.data=Me)),FI(_e,i,W,l,ce)}P0(_e,s)})}function Ku(i,s,l){return{instance:i,listener:s,currentTarget:l}}function qf(i,s){for(var l=s+"Capture",c=[];i!==null;){var p=i,g=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Bi(i,l),p!=null&&c.unshift(Ku(i,p,g)),p=Bi(i,s),p!=null&&c.push(Ku(i,p,g))),i=i.return}return c}function Nl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function M0(i,s,l,c,p){for(var g=s._reactName,b=[];l!==null&&l!==c;){var O=l,j=O.alternate,W=O.stateNode;if(O=O.tag,j!==null&&j===c)break;O!==5&&O!==26&&O!==27||W===null||(j=W,p?(W=Bi(l,g),W!=null&&b.unshift(Ku(l,W,j))):p||(W=Bi(l,g),W!=null&&b.push(Ku(l,W,j)))),l=l.return}b.length!==0&&i.push({event:s,listeners:b})}var KI=/\r\n?/g,QI=/\u0000|\uFFFD/g;function U0(i){return(typeof i=="string"?i:""+i).replace(KI,`
`).replace(QI,"")}function V0(i,s){return s=U0(s),U0(i)===s}function Ff(){}function St(i,s,l,c,p,g){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Jn(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Jn(i,""+c);break;case"className":Ui(i,"class",c);break;case"tabIndex":Ui(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ui(i,l,c);break;case"style":al(i,c,g);break;case"data":if(s!=="object"){Ui(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=$r(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&St(i,s,"name",p.name,p,null),St(i,s,"formEncType",p.formEncType,p,null),St(i,s,"formMethod",p.formMethod,p,null),St(i,s,"formTarget",p.formTarget,p,null)):(St(i,s,"encType",p.encType,p,null),St(i,s,"method",p.method,p,null),St(i,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=$r(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Ff);break;case"onScroll":c!=null&&at("scroll",i);break;case"onScrollEnd":c!=null&&at("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=$r(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":at("beforetoggle",i),at("toggle",i),Mi(i,"popover",c);break;case"xlinkActuate":hr(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":hr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":hr(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":hr(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":hr(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":hr(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":hr(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":hr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":hr(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Mi(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=po.get(l)||l,Mi(i,l,c))}}function wp(i,s,l,c,p,g){switch(l){case"style":al(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Jn(i,c):(typeof c=="number"||typeof c=="bigint")&&Jn(i,""+c);break;case"onScroll":c!=null&&at("scroll",i);break;case"onScrollEnd":c!=null&&at("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Ff);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),g=i[Jt]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(s,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,p);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Mi(i,l,c)}}}function kn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",i),at("load",i);var c=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var b=l[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:St(i,s,g,b,l,null)}}p&&St(i,s,"srcSet",l.srcSet,l,null),c&&St(i,s,"src",l.src,l,null);return;case"input":at("invalid",i);var O=g=b=p=null,j=null,W=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":p=ce;break;case"type":b=ce;break;case"checked":j=ce;break;case"defaultChecked":W=ce;break;case"value":g=ce;break;case"defaultValue":O=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:St(i,s,c,ce,l,null)}}cs(i,g,O,j,W,b,p,!1),Yn(i);return;case"select":at("invalid",i),c=b=g=null;for(p in l)if(l.hasOwnProperty(p)&&(O=l[p],O!=null))switch(p){case"value":g=O;break;case"defaultValue":b=O;break;case"multiple":c=O;default:St(i,s,p,O,l,null)}s=g,l=b,i.multiple=!!c,s!=null?lt(i,!!c,s,!1):l!=null&&lt(i,!!c,l,!0);return;case"textarea":at("invalid",i),g=p=c=null;for(b in l)if(l.hasOwnProperty(b)&&(O=l[b],O!=null))switch(b){case"value":c=O;break;case"defaultValue":p=O;break;case"children":g=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:St(i,s,b,O,l,null)}Ar(i,c,p,g),Yn(i);return;case"option":for(j in l)if(l.hasOwnProperty(j)&&(c=l[j],c!=null))switch(j){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:St(i,s,j,c,l,null)}return;case"dialog":at("cancel",i),at("close",i);break;case"iframe":case"object":at("load",i);break;case"video":case"audio":for(c=0;c<Gu.length;c++)at(Gu[c],i);break;case"image":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"embed":case"source":case"link":at("error",i),at("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(c=l[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:St(i,s,W,c,l,null)}return;default:if(sa(s)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&wp(i,s,ce,c,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(c=l[O],c!=null&&St(i,s,O,c,l,null))}function WI(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,b=null,O=null,j=null,W=null,ce=null;for(ue in l){var _e=l[ue];if(l.hasOwnProperty(ue)&&_e!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":j=_e;default:c.hasOwnProperty(ue)||St(i,s,ue,null,c,_e)}}for(var ne in c){var ue=c[ne];if(_e=l[ne],c.hasOwnProperty(ne)&&(ue!=null||_e!=null))switch(ne){case"type":g=ue;break;case"name":p=ue;break;case"checked":W=ue;break;case"defaultChecked":ce=ue;break;case"value":b=ue;break;case"defaultValue":O=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,s));break;default:ue!==_e&&St(i,s,ne,ue,c,_e)}}Vi(i,b,O,j,W,ce,g,p);return;case"select":ue=b=O=ne=null;for(g in l)if(j=l[g],l.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":ue=j;default:c.hasOwnProperty(g)||St(i,s,g,null,c,j)}for(p in c)if(g=c[p],j=l[p],c.hasOwnProperty(p)&&(g!=null||j!=null))switch(p){case"value":ne=g;break;case"defaultValue":O=g;break;case"multiple":b=g;default:g!==j&&St(i,s,p,g,c,j)}s=O,l=b,c=ue,ne!=null?lt(i,!!l,ne,!1):!!c!=!!l&&(s!=null?lt(i,!!l,s,!0):lt(i,!!l,l?[]:"",!1));return;case"textarea":ue=ne=null;for(O in l)if(p=l[O],l.hasOwnProperty(O)&&p!=null&&!c.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:St(i,s,O,null,c,p)}for(b in c)if(p=c[b],g=l[b],c.hasOwnProperty(b)&&(p!=null||g!=null))switch(b){case"value":ne=p;break;case"defaultValue":ue=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&St(i,s,b,p,c,g)}ji(i,ne,ue);return;case"option":for(var ke in l)if(ne=l[ke],l.hasOwnProperty(ke)&&ne!=null&&!c.hasOwnProperty(ke))switch(ke){case"selected":i.selected=!1;break;default:St(i,s,ke,null,c,ne)}for(j in c)if(ne=c[j],ue=l[j],c.hasOwnProperty(j)&&ne!==ue&&(ne!=null||ue!=null))switch(j){case"selected":i.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:St(i,s,j,ne,c,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in l)ne=l[Ge],l.hasOwnProperty(Ge)&&ne!=null&&!c.hasOwnProperty(Ge)&&St(i,s,Ge,null,c,ne);for(W in c)if(ne=c[W],ue=l[W],c.hasOwnProperty(W)&&ne!==ue&&(ne!=null||ue!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:St(i,s,W,ne,c,ue)}return;default:if(sa(s)){for(var Gt in l)ne=l[Gt],l.hasOwnProperty(Gt)&&ne!==void 0&&!c.hasOwnProperty(Gt)&&wp(i,s,Gt,void 0,c,ne);for(ce in c)ne=c[ce],ue=l[ce],!c.hasOwnProperty(ce)||ne===ue||ne===void 0&&ue===void 0||wp(i,s,ce,ne,c,ue);return}}for(var Y in l)ne=l[Y],l.hasOwnProperty(Y)&&ne!=null&&!c.hasOwnProperty(Y)&&St(i,s,Y,null,c,ne);for(_e in c)ne=c[_e],ue=l[_e],!c.hasOwnProperty(_e)||ne===ue||ne==null&&ue==null||St(i,s,_e,ne,c,ue)}var Sp=null,Rp=null;function Hf(i){return i.nodeType===9?i:i.ownerDocument}function j0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Ap(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cp=null;function XI(){var i=window.event;return i&&i.type==="popstate"?i===Cp?!1:(Cp=i,!0):(Cp=null,!1)}var z0=typeof setTimeout=="function"?setTimeout:void 0,YI=typeof clearTimeout=="function"?clearTimeout:void 0,q0=typeof Promise=="function"?Promise:void 0,JI=typeof queueMicrotask=="function"?queueMicrotask:typeof q0<"u"?function(i){return q0.resolve(null).then(i).catch(ZI)}:z0;function ZI(i){setTimeout(function(){throw i})}function Ip(i,s){var l=s,c=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(c===0){i.removeChild(p),tc(s);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=p}while(l);tc(s)}function Op(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Op(l),ci(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function eO(i,s,l,c){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Pi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=vi(i.nextSibling),i===null)break}return null}function tO(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=vi(i.nextSibling),i===null))return null;return i}function vi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function F0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function H0(i,s,l){switch(s=Hf(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var ii=new Map,$0=new Set;function $f(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Os=Te.d;Te.d={f:nO,r:rO,D:iO,C:sO,L:aO,m:oO,X:uO,S:lO,M:cO};function nO(){var i=Os.f(),s=Uf();return i||s}function rO(i){var s=fi(i);s!==null&&s.tag===5&&s.type==="form"?vE(s):Os.r(i)}var Dl=typeof document>"u"?null:document;function G0(i,s,l){var c=Dl;if(c&&typeof s=="string"&&s){var p=Ut(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),$0.has(p)||($0.add(p),i={rel:i,crossOrigin:l,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),kn(s,"link",i),At(s),c.head.appendChild(s)))}}function iO(i){Os.D(i),G0("dns-prefetch",i,null)}function sO(i,s){Os.C(i,s),G0("preconnect",i,s)}function aO(i,s,l){Os.L(i,s,l);var c=Dl;if(c&&i&&s){var p='link[rel="preload"][as="'+Ut(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Ut(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Ut(l.imageSizes)+'"]')):p+='[href="'+Ut(i)+'"]';var g=p;switch(s){case"style":g=kl(i);break;case"script":g=Pl(i)}ii.has(g)||(i=B({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),ii.set(g,i),c.querySelector(p)!==null||s==="style"&&c.querySelector(Qu(g))||s==="script"&&c.querySelector(Wu(g))||(s=c.createElement("link"),kn(s,"link",i),At(s),c.head.appendChild(s)))}}function oO(i,s){Os.m(i,s);var l=Dl;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Ut(c)+'"][href="'+Ut(i)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Pl(i)}if(!ii.has(g)&&(i=B({rel:"modulepreload",href:i},s),ii.set(g,i),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Wu(g)))return}c=l.createElement("link"),kn(c,"link",i),At(c),l.head.appendChild(c)}}}function lO(i,s,l){Os.S(i,s,l);var c=Dl;if(c&&i){var p=sn(c).hoistableStyles,g=kl(i);s=s||"default";var b=p.get(g);if(!b){var O={loading:0,preload:null};if(b=c.querySelector(Qu(g)))O.loading=5;else{i=B({rel:"stylesheet",href:i,"data-precedence":s},l),(l=ii.get(g))&&xp(i,l);var j=b=c.createElement("link");At(j),kn(j,"link",i),j._p=new Promise(function(W,ce){j.onload=W,j.onerror=ce}),j.addEventListener("load",function(){O.loading|=1}),j.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Gf(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:O},p.set(g,b)}}}function uO(i,s){Os.X(i,s);var l=Dl;if(l&&i){var c=sn(l).hoistableScripts,p=Pl(i),g=c.get(p);g||(g=l.querySelector(Wu(p)),g||(i=B({src:i,async:!0},s),(s=ii.get(p))&&Np(i,s),g=l.createElement("script"),At(g),kn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function cO(i,s){Os.M(i,s);var l=Dl;if(l&&i){var c=sn(l).hoistableScripts,p=Pl(i),g=c.get(p);g||(g=l.querySelector(Wu(p)),g||(i=B({src:i,async:!0,type:"module"},s),(s=ii.get(p))&&Np(i,s),g=l.createElement("script"),At(g),kn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function K0(i,s,l,c){var p=(p=En.current)?$f(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=kl(l.href),l=sn(p).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=kl(l.href);var g=sn(p).hoistableStyles,b=g.get(i);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=p.querySelector(Qu(i)))&&!g._p&&(b.instance=g,b.state.loading=5),ii.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ii.set(i,l),g||fO(p,i,l,b.state))),s&&c===null)throw Error(r(528,""));return b}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Pl(l),l=sn(p).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function kl(i){return'href="'+Ut(i)+'"'}function Qu(i){return'link[rel="stylesheet"]['+i+"]"}function Q0(i){return B({},i,{"data-precedence":i.precedence,precedence:null})}function fO(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),kn(s,"link",l),At(s),i.head.appendChild(s))}function Pl(i){return'[src="'+Ut(i)+'"]'}function Wu(i){return"script[async]"+i}function W0(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Ut(l.href)+'"]');if(c)return s.instance=c,At(c),c;var p=B({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),At(c),kn(c,"style",p),Gf(c,l.precedence,i),s.instance=c;case"stylesheet":p=kl(l.href);var g=i.querySelector(Qu(p));if(g)return s.state.loading|=4,s.instance=g,At(g),g;c=Q0(l),(p=ii.get(p))&&xp(c,p),g=(i.ownerDocument||i).createElement("link"),At(g);var b=g;return b._p=new Promise(function(O,j){b.onload=O,b.onerror=j}),kn(g,"link",c),s.state.loading|=4,Gf(g,l.precedence,i),s.instance=g;case"script":return g=Pl(l.src),(p=i.querySelector(Wu(g)))?(s.instance=p,At(p),p):(c=l,(p=ii.get(g))&&(c=B({},l),Np(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),At(p),kn(p,"link",c),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Gf(c,l.precedence,i));return s.instance}function Gf(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,b=0;b<c.length;b++){var O=c[b];if(O.dataset.precedence===s)g=O;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function xp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Np(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Kf=null;function X0(i,s,l){if(Kf===null){var c=new Map,p=Kf=new Map;p.set(l,c)}else p=Kf,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var g=l[p];if(!(g[Pi]||g[Ft]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=i+b;var O=c.get(b);O?O.push(g):c.set(b,[g])}}return c}function Y0(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function hO(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function J0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Xu=null;function dO(){}function mO(i,s,l){if(Xu===null)throw Error(r(475));var c=Xu;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=kl(l.href),g=i.querySelector(Qu(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Qf.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=g,At(g);return}g=i.ownerDocument||i,l=Q0(l),(p=ii.get(p))&&xp(l,p),g=g.createElement("link"),At(g);var b=g;b._p=new Promise(function(O,j){b.onload=O,b.onerror=j}),kn(g,"link",l),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Qf.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function pO(){if(Xu===null)throw Error(r(475));var i=Xu;return i.stylesheets&&i.count===0&&Dp(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&Dp(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Qf(){if(this.count--,this.count===0){if(this.stylesheets)Dp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wf=null;function Dp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wf=new Map,s.forEach(gO,i),Wf=null,Qf.call(i))}function gO(i,s){if(!(s.state.loading&4)){var l=Wf.get(i);if(l)var c=l.get(null);else{l=new Map,Wf.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var b=p[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),c=b)}c&&l.set(null,c)}p=s.instance,b=p.getAttribute("data-precedence"),g=l.get(b)||c,g===c&&l.set(null,p),l.set(b,p),this.count++,c=Qf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Yu={$$typeof:R,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function yO(i,s,l,c,p,g,b,O){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zs(0),this.hiddenUpdates=Zs(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Z0(i,s,l,c,p,g,b,O,j,W,ce,_e){return i=new yO(i,s,l,b,O,j,W,_e),s=1,g===!0&&(s|=24),g=ni(3,null,null,s),i.current=g,g.stateNode=i,s=cm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:s},Hm(g),i}function eT(i){return i?(i=hl,i):hl}function tT(i,s,l,c,p,g){p=eT(p),c.context===null?c.context=p:c.pendingContext=p,c=va(s),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=_a(i,c,s),l!==null&&(ir(l,i,s),Pu(l,i,s))}function nT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function kp(i,s){nT(i,s),(i=i.alternate)&&nT(i,s)}function rT(i){if(i.tag===13){var s=fa(i,67108864);s!==null&&ir(s,i,67108864),kp(i,67108864)}}var Xf=!0;function vO(i,s,l,c){var p=k.T;k.T=null;var g=Te.p;try{Te.p=2,Pp(i,s,l,c)}finally{Te.p=g,k.T=p}}function _O(i,s,l,c){var p=k.T;k.T=null;var g=Te.p;try{Te.p=8,Pp(i,s,l,c)}finally{Te.p=g,k.T=p}}function Pp(i,s,l,c){if(Xf){var p=Lp(c);if(p===null)bp(i,s,c,Yf,l),sT(i,c);else if(TO(p,i,s,l,c))c.stopPropagation();else if(sT(i,c),s&4&&-1<EO.indexOf(i)){for(;p!==null;){var g=fi(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=br(g.pendingLanes);if(b!==0){var O=g;for(O.pendingLanes|=2,O.entangledLanes|=2;b;){var j=1<<31-Tn(b);O.entanglements[1]|=j,b&=~j}Qi(g),(jt&6)===0&&(Pf=In()+500,$u(0))}}break;case 13:O=fa(g,2),O!==null&&ir(O,g,2),Uf(),kp(g,2)}if(g=Lp(c),g===null&&bp(i,s,c,Yf,l),g===p)break;p=g}p!==null&&c.stopPropagation()}else bp(i,s,c,null,l)}}function Lp(i){return i=oa(i),Mp(i)}var Yf=null;function Mp(i){if(Yf=null,i=wr(i),i!==null){var s=de(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=Oe(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Yf=i,null}function iT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(no()){case Xt:return 2;case qt:return 8;case jr:case ro:return 32;case io:return 268435456;default:return 32}default:return 32}}var Up=!1,Aa=null,Ca=null,Ia=null,Ju=new Map,Zu=new Map,Oa=[],EO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sT(i,s){switch(i){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":Ju.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(s.pointerId)}}function ec(i,s,l,c,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},s!==null&&(s=fi(s),s!==null&&rT(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function TO(i,s,l,c,p){switch(s){case"focusin":return Aa=ec(Aa,i,s,l,c,p),!0;case"dragenter":return Ca=ec(Ca,i,s,l,c,p),!0;case"mouseover":return Ia=ec(Ia,i,s,l,c,p),!0;case"pointerover":var g=p.pointerId;return Ju.set(g,ec(Ju.get(g)||null,i,s,l,c,p)),!0;case"gotpointercapture":return g=p.pointerId,Zu.set(g,ec(Zu.get(g)||null,i,s,l,c,p)),!0}return!1}function aT(i){var s=wr(i.target);if(s!==null){var l=de(s);if(l!==null){if(s=l.tag,s===13){if(s=Oe(l),s!==null){i.blockedOn=s,Di(i.priority,function(){if(l.tag===13){var c=kr(),p=fa(l,c);p!==null&&ir(p,l,c),kp(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Jf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Lp(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);dr=c,l.target.dispatchEvent(c),dr=null}else return s=fi(l),s!==null&&rT(s),i.blockedOn=l,!1;s.shift()}return!0}function oT(i,s,l){Jf(i)&&l.delete(s)}function bO(){Up=!1,Aa!==null&&Jf(Aa)&&(Aa=null),Ca!==null&&Jf(Ca)&&(Ca=null),Ia!==null&&Jf(Ia)&&(Ia=null),Ju.forEach(oT),Zu.forEach(oT)}function Zf(i,s){i.blockedOn===s&&(i.blockedOn=null,Up||(Up=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,bO)))}var eh=null;function lT(i){eh!==i&&(eh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){eh===i&&(eh=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],p=i[s+2];if(typeof c!="function"){if(Mp(c||l)===null)continue;break}var g=fi(l);g!==null&&(i.splice(s,3),s-=3,Am(g,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function tc(i){function s(j){return Zf(j,i)}Aa!==null&&Zf(Aa,i),Ca!==null&&Zf(Ca,i),Ia!==null&&Zf(Ia,i),Ju.forEach(s),Zu.forEach(s);for(var l=0;l<Oa.length;l++){var c=Oa[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Oa.length&&(l=Oa[0],l.blockedOn===null);)aT(l),l.blockedOn===null&&Oa.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],g=l[c+1],b=p[Jt]||null;if(typeof g=="function")b||lT(l);else if(b){var O=null;if(g&&g.hasAttribute("formAction")){if(p=g,b=g[Jt]||null)O=b.formAction;else if(Mp(p)!==null)continue}else O=b.action;typeof O=="function"?l[c+1]=O:(l.splice(c,3),c-=3),lT(l)}}}function Vp(i){this._internalRoot=i}th.prototype.render=Vp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=kr();tT(l,c,i,s,null,null)},th.prototype.unmount=Vp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&Ol(),tT(i.current,2,null,i,null,null),Uf(),s[ui]=null}};function th(i){this._internalRoot=i}th.prototype.unstable_scheduleHydration=function(i){if(i){var s=uo();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Oa.length&&s!==0&&s<Oa[l].priority;l++);Oa.splice(l,0,i),l===0&&aT(i)}};var uT=e.version;if(uT!=="19.0.0")throw Error(r(527,uT,"19.0.0"));Te.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=fe(s),i=i!==null?Re(i):null,i=i===null?null:i.stateNode,i};var wO={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:k,findFiberByHostInstance:wr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{li=nh.inject(wO),rn=nh}catch{}}return rc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,c="",p=AE,g=CE,b=IE,O=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(O=s.unstable_transitionCallbacks)),s=Z0(i,1,!1,null,null,l,c,p,g,b,O,null),i[ui]=s.current,Tp(i.nodeType===8?i.parentNode:i),new Vp(s)},rc.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var c=!1,p="",g=AE,b=CE,O=IE,j=null,W=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(j=l.unstable_transitionCallbacks),l.formState!==void 0&&(W=l.formState)),s=Z0(i,1,!0,s,l??null,c,p,g,b,O,j,W),s.context=eT(null),l=s.current,c=kr(),p=va(c),p.callback=null,_a(l,p,c),s.current.lanes=c,Mt(s,c),Qi(s),i[ui]=s.current,Tp(i),new th(s)},rc.version="19.0.0",rc}var _T;function PO(){if(_T)return zp.exports;_T=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zp.exports=kO(),zp.exports}var LO=PO(),ic={},ET;function MO(){if(ET)return ic;ET=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.parse=u,ic.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,R){const A=new o,V=_.length;if(V<2)return A;const D=(R==null?void 0:R.decode)||y;let $=0;do{const K=_.indexOf("=",$);if(K===-1)break;const H=_.indexOf(";",$),te=H===-1?V:H;if(K>te){$=_.lastIndexOf(";",K-1)+1;continue}const ae=h(_,$,K),ge=f(_,K,ae),M=_.slice(ae,ge);if(A[M]===void 0){let P=h(_,K+1,te),k=f(_,te,P);const B=D(_.slice(P,k));A[M]=B}$=te+1}while($<V);return A}function h(_,R,A){do{const V=_.charCodeAt(R);if(V!==32&&V!==9)return R}while(++R<A);return A}function f(_,R,A){for(;R>A;){const V=_.charCodeAt(--R);if(V!==32&&V!==9)return R+1}return A}function m(_,R,A){const V=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const D=V(R);if(!e.test(D))throw new TypeError(`argument val is invalid: ${R}`);let $=_+"="+D;if(!A)return $;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);$+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);$+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);$+="; Path="+A.path}if(A.expires){if(!E(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);$+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&($+="; HttpOnly"),A.secure&&($+="; Secure"),A.partitioned&&($+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return $}function y(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function E(_){return a.call(_)==="[object Date]"}return ic}MO();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var TT="popstate";function UO(n={}){function e(r,a){let{pathname:o,search:u,hash:h}=r.location;return Qg("",{pathname:o,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Sc(a)}return jO(e,t,null,n)}function Bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ss(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VO(){return Math.random().toString(36).substring(2,10)}function bT(n,e){return{usr:n.state,key:n.key,idx:e}}function Qg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?eu(e):e,state:t,key:e&&e.key||r||VO()}}function Sc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function eu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function jO(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,h="POP",f=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function E(){h="POP";let D=y(),$=D==null?null:D-m;m=D,f&&f({action:h,location:V.location,delta:$})}function _(D,$){h="PUSH";let K=Qg(V.location,D,$);m=y()+1;let H=bT(K,m),te=V.createHref(K);try{u.pushState(H,"",te)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;a.location.assign(te)}o&&f&&f({action:h,location:V.location,delta:1})}function R(D,$){h="REPLACE";let K=Qg(V.location,D,$);m=y();let H=bT(K,m),te=V.createHref(K);u.replaceState(H,"",te),o&&f&&f({action:h,location:V.location,delta:0})}function A(D){let $=a.location.origin!=="null"?a.location.origin:a.location.href,K=typeof D=="string"?D:Sc(D);return K=K.replace(/ $/,"%20"),Bt($,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,$)}let V={get action(){return h},get location(){return n(a,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(TT,E),f=D,()=>{a.removeEventListener(TT,E),f=null}},createHref(D){return e(a,D)},createURL:A,encodeLocation(D){let $=A(D);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:_,replace:R,go(D){return u.go(D)}};return V}function _S(n,e,t="/"){return BO(n,e,t,!1)}function BO(n,e,t,r){let a=typeof e=="string"?eu(e):e,o=Ha(a.pathname||"/",t);if(o==null)return null;let u=ES(n);zO(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=JO(o);h=XO(u[f],m,r)}return h}function ES(n,e=[],t=[],r=""){let a=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(Bt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Ms([r,f.relativePath]),y=t.concat(f);o.children&&o.children.length>0&&(Bt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),ES(o.children,e,y,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:QO(m,o.index),routesMeta:y})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,u);else for(let f of TS(o.path))a(o,u,f)}),e}function TS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=TS(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function zO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WO(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var qO=/^:[\w-]+$/,FO=3,HO=2,$O=1,GO=10,KO=-2,wT=n=>n==="*";function QO(n,e){let t=n.split("/"),r=t.length;return t.some(wT)&&(r+=KO),e&&(r+=HO),t.filter(a=>!wT(a)).reduce((a,o)=>a+(qO.test(o)?FO:o===""?$O:GO),r)}function WO(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function XO(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],m=h===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",E=xh({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),_=f.route;if(!E&&m&&t&&!r[r.length-1].route.index&&(E=xh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!E)return null;Object.assign(a,E.params),u.push({params:a,pathname:Ms([o,E.pathname]),pathnameBase:nx(Ms([o,E.pathnameBase])),route:_}),E.pathnameBase!=="/"&&(o=Ms([o,E.pathnameBase]))}return u}function xh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=YO(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:E},_)=>{if(y==="*"){let A=h[_]||"";u=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const R=h[_];return E&&!R?m[y]=void 0:m[y]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:n}}function YO(n,e=!1,t=!0){ss(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function JO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ss(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ha(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function ZO(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?eu(n):n;return{pathname:t?t.startsWith("/")?t:ex(t,e):e,search:rx(r),hash:ix(a)}}function ex(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function $p(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bS(n){let e=tx(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function wS(n,e,t,r=!1){let a;typeof n=="string"?a=eu(n):(a={...n},Bt(!a.pathname||!a.pathname.includes("?"),$p("?","pathname","search",a)),Bt(!a.pathname||!a.pathname.includes("#"),$p("#","pathname","hash",a)),Bt(!a.search||!a.search.includes("#"),$p("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=t;else{let E=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),E-=1;a.pathname=_.join("/")}h=E>=0?e[E]:"/"}let f=ZO(a,h),m=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var Ms=n=>n.join("/").replace(/\/\/+/g,"/"),nx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),rx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ix=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function sx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var SS=["POST","PUT","PATCH","DELETE"];new Set(SS);var ax=["GET",...SS];new Set(ax);var tu=C.createContext(null);tu.displayName="DataRouter";var ld=C.createContext(null);ld.displayName="DataRouterState";var RS=C.createContext({isTransitioning:!1});RS.displayName="ViewTransition";var ox=C.createContext(new Map);ox.displayName="Fetchers";var lx=C.createContext(null);lx.displayName="Await";var os=C.createContext(null);os.displayName="Navigation";var Uc=C.createContext(null);Uc.displayName="Location";var ls=C.createContext({outlet:null,matches:[],isDataRoute:!1});ls.displayName="Route";var Vy=C.createContext(null);Vy.displayName="RouteError";function ux(n,{relative:e}={}){Bt(Vc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=C.useContext(os),{hash:a,pathname:o,search:u}=jc(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Ms([t,o])),r.createHref({pathname:h,search:u,hash:a})}function Vc(){return C.useContext(Uc)!=null}function Jo(){return Bt(Vc(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Uc).location}var AS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CS(n){C.useContext(os).static||C.useLayoutEffect(n)}function ai(){let{isDataRoute:n}=C.useContext(ls);return n?bx():cx()}function cx(){Bt(Vc(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(tu),{basename:e,navigator:t}=C.useContext(os),{matches:r}=C.useContext(ls),{pathname:a}=Jo(),o=JSON.stringify(bS(r)),u=C.useRef(!1);return CS(()=>{u.current=!0}),C.useCallback((f,m={})=>{if(ss(u.current,AS),!u.current)return;if(typeof f=="number"){t.go(f);return}let y=wS(f,JSON.parse(o),a,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ms([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,o,a,n])}C.createContext(null);function IS(){let{matches:n}=C.useContext(ls),e=n[n.length-1];return e?e.params:{}}function jc(n,{relative:e}={}){let{matches:t}=C.useContext(ls),{pathname:r}=Jo(),a=JSON.stringify(bS(t));return C.useMemo(()=>wS(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function fx(n,e){return OS(n,e)}function OS(n,e,t,r){var K;Bt(Vc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=C.useContext(os),{matches:u}=C.useContext(ls),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",E=h&&h.route;{let H=E&&E.path||"";xS(m,!E||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let _=Jo(),R;if(e){let H=typeof e=="string"?eu(e):e;Bt(y==="/"||((K=H.pathname)==null?void 0:K.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),R=H}else R=_;let A=R.pathname||"/",V=A;if(y!=="/"){let H=y.replace(/^\//,"").split("/");V="/"+A.replace(/^\//,"").split("/").slice(H.length).join("/")}let D=!o&&t&&t.matches&&t.matches.length>0?t.matches:_S(n,{pathname:V});ss(E||D!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),ss(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=gx(D&&D.map(H=>Object.assign({},H,{params:Object.assign({},f,H.params),pathname:Ms([y,a.encodeLocation?a.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:Ms([y,a.encodeLocation?a.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),u,t,r);return e&&$?C.createElement(Uc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},$):$}function hx(){let n=Tx(),e=sx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:o},"ErrorBoundary")," or"," ",C.createElement("code",{style:o},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:a},t):null,u)}var dx=C.createElement(hx,null),mx=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?C.createElement(ls.Provider,{value:this.props.routeContext},C.createElement(Vy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function px({routeContext:n,match:e,children:t}){let r=C.useContext(tu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(ls.Provider,{value:n},t)}function gx(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Bt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:y,errors:E}=t,_=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||_){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,m,y)=>{let E,_=!1,R=null,A=null;t&&(E=o&&m.route.id?o[m.route.id]:void 0,R=m.route.errorElement||dx,u&&(h<0&&y===0?(xS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,A=null):h===y&&(_=!0,A=m.route.hydrateFallbackElement||null)));let V=e.concat(a.slice(0,y+1)),D=()=>{let $;return E?$=R:_?$=A:m.route.Component?$=C.createElement(m.route.Component,null):m.route.element?$=m.route.element:$=f,C.createElement(px,{match:m,routeContext:{outlet:f,matches:V,isDataRoute:t!=null},children:$})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?C.createElement(mx,{location:t.location,revalidation:t.revalidation,component:R,error:E,children:D(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):D()},null)}function jy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yx(n){let e=C.useContext(tu);return Bt(e,jy(n)),e}function vx(n){let e=C.useContext(ld);return Bt(e,jy(n)),e}function _x(n){let e=C.useContext(ls);return Bt(e,jy(n)),e}function By(n){let e=_x(n),t=e.matches[e.matches.length-1];return Bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Ex(){return By("useRouteId")}function Tx(){var r;let n=C.useContext(Vy),e=vx("useRouteError"),t=By("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function bx(){let{router:n}=yx("useNavigate"),e=By("useNavigate"),t=C.useRef(!1);return CS(()=>{t.current=!0}),C.useCallback(async(a,o={})=>{ss(t.current,AS),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var ST={};function xS(n,e,t){!e&&!ST[n]&&(ST[n]=!0,ss(!1,t))}C.memo(wx);function wx({routes:n,future:e,state:t}){return OS(n,void 0,t,e)}function si(n){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Sx({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){Bt(!Vc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=C.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=eu(t));let{pathname:f="/",search:m="",hash:y="",state:E=null,key:_="default"}=t,R=C.useMemo(()=>{let A=Ha(f,u);return A==null?null:{location:{pathname:A,search:m,hash:y,state:E,key:_},navigationType:r}},[u,f,m,y,E,_,r]);return ss(R!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:C.createElement(os.Provider,{value:h},C.createElement(Uc.Provider,{children:e,value:R}))}function Rx({children:n,location:e}){return fx(Wg(n),e)}function Wg(n,e=[]){let t=[];return C.Children.forEach(n,(r,a)=>{if(!C.isValidElement(r))return;let o=[...e,a];if(r.type===C.Fragment){t.push.apply(t,Wg(r.props.children,o));return}Bt(r.type===si,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Wg(r.props.children,o)),t.push(u)}),t}var ph="get",gh="application/x-www-form-urlencoded";function ud(n){return n!=null&&typeof n.tagName=="string"}function Ax(n){return ud(n)&&n.tagName.toLowerCase()==="button"}function Cx(n){return ud(n)&&n.tagName.toLowerCase()==="form"}function Ix(n){return ud(n)&&n.tagName.toLowerCase()==="input"}function Ox(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function xx(n,e){return n.button===0&&(!e||e==="_self")&&!Ox(n)}var rh=null;function Nx(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var Dx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gp(n){return n!=null&&!Dx.has(n)?(ss(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):n}function kx(n,e){let t,r,a,o,u;if(Cx(n)){let h=n.getAttribute("action");r=h?Ha(h,e):null,t=n.getAttribute("method")||ph,a=Gp(n.getAttribute("enctype"))||gh,o=new FormData(n)}else if(Ax(n)||Ix(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Ha(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||ph,a=Gp(n.getAttribute("formenctype"))||Gp(h.getAttribute("enctype"))||gh,o=new FormData(h,n),!Nx()){let{name:m,type:y,value:E}=n;if(y==="image"){let _=m?`${m}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else m&&o.append(m,E)}}else{if(ud(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ph,r=null,a=gh,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:u}}function zy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Px(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Mx(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await Px(o,t);return u.links?u.links():[]}return[]}));return Bx(r.flat(1).filter(Lx).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function RT(n,e,t,r,a,o){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,h=(f,m)=>{var y;return t[m].pathname!==f.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):o==="data"?e.filter((f,m)=>{var E;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Ux(n,e){return Vx(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let a=[r.module];return r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function Vx(n){return[...new Set(n)]}function jx(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Bx(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(jx(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function zx(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function qx(){let n=C.useContext(tu);return zy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Fx(){let n=C.useContext(ld);return zy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var qy=C.createContext(void 0);qy.displayName="FrameworkContext";function NS(){let n=C.useContext(qy);return zy(n,"You must render this element inside a <HydratedRouter> element"),n}function Hx(n,e){let t=C.useContext(qy),[r,a]=C.useState(!1),[o,u]=C.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:E}=e,_=C.useRef(null);C.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let V=$=>{$.forEach(K=>{u(K.isIntersecting)})},D=new IntersectionObserver(V,{threshold:.5});return _.current&&D.observe(_.current),()=>{D.disconnect()}}},[n]),C.useEffect(()=>{if(r){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[r]);let R=()=>{a(!0)},A=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:sc(h,R),onBlur:sc(f,A),onMouseEnter:sc(m,R),onMouseLeave:sc(y,A),onTouchStart:sc(E,R)}]:[!1,_,{}]}function sc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function $x({page:n,...e}){let{router:t}=qx(),r=C.useMemo(()=>_S(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?C.createElement(Kx,{page:n,matches:r,...e}):null}function Gx(n){let{manifest:e,routeModules:t}=NS(),[r,a]=C.useState([]);return C.useEffect(()=>{let o=!1;return Mx(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),r}function Kx({page:n,matches:e,...t}){let r=Jo(),{manifest:a,routeModules:o}=NS(),{loaderData:u,matches:h}=Fx(),f=C.useMemo(()=>RT(n,e,h,a,r,"data"),[n,e,h,a,r]),m=C.useMemo(()=>RT(n,e,h,a,r,"assets"),[n,e,h,a,r]),y=C.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let R=new Set,A=!1;if(e.forEach(D=>{var K;let $=a.routes[D.route.id];!$||!$.hasLoader||(!f.some(H=>H.route.id===D.route.id)&&D.route.id in u&&((K=o[D.route.id])!=null&&K.shouldRevalidate)||$.hasClientLoader?A=!0:R.add(D.route.id))}),R.size===0)return[];let V=zx(n);return A&&R.size>0&&V.searchParams.set("_routes",e.filter(D=>R.has(D.route.id)).map(D=>D.route.id).join(",")),[V.pathname+V.search]},[u,r,a,f,e,n,o]),E=C.useMemo(()=>Ux(m,a),[m,a]),_=Gx(m);return C.createElement(C.Fragment,null,y.map(R=>C.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),E.map(R=>C.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),_.map(({key:R,link:A})=>C.createElement("link",{key:R,...A})))}function Qx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var DS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DS&&(window.__reactRouterVersion="7.1.5")}catch{}function Wx({basename:n,children:e,window:t}){let r=C.useRef();r.current==null&&(r.current=UO({window:t,v5Compat:!0}));let a=r.current,[o,u]=C.useState({action:a.action,location:a.location}),h=C.useCallback(f=>{C.startTransition(()=>u(f))},[u]);return C.useLayoutEffect(()=>a.listen(h),[a,h]),C.createElement(Sx,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var kS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yi=C.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:h,target:f,to:m,preventScrollReset:y,viewTransition:E,..._},R){let{basename:A}=C.useContext(os),V=typeof m=="string"&&kS.test(m),D,$=!1;if(typeof m=="string"&&V&&(D=m,DS))try{let k=new URL(window.location.href),B=m.startsWith("//")?new URL(k.protocol+m):new URL(m),z=Ha(B.pathname,A);B.origin===k.origin&&z!=null?m=z+B.search+B.hash:$=!0}catch{ss(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=ux(m,{relative:a}),[H,te,ae]=Hx(r,_),ge=Zx(m,{replace:u,state:h,target:f,preventScrollReset:y,relative:a,viewTransition:E});function M(k){e&&e(k),k.defaultPrevented||ge(k)}let P=C.createElement("a",{..._,...ae,href:D||K,onClick:$||o?e:M,ref:Qx(R,te),target:f,"data-discover":!V&&t==="render"?"true":void 0});return H&&!V?C.createElement(C.Fragment,null,P,C.createElement($x,{page:K})):P});Yi.displayName="Link";var Xx=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:h,children:f,...m},y){let E=jc(u,{relative:m.relative}),_=Jo(),R=C.useContext(ld),{navigator:A,basename:V}=C.useContext(os),D=R!=null&&iN(E)&&h===!0,$=A.encodeLocation?A.encodeLocation(E).pathname:E.pathname,K=_.pathname,H=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(K=K.toLowerCase(),H=H?H.toLowerCase():null,$=$.toLowerCase()),H&&V&&(H=Ha(H,V)||H);const te=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ae=K===$||!a&&K.startsWith($)&&K.charAt(te)==="/",ge=H!=null&&(H===$||!a&&H.startsWith($)&&H.charAt($.length)==="/"),M={isActive:ae,isPending:ge,isTransitioning:D},P=ae?e:void 0,k;typeof r=="function"?k=r(M):k=[r,ae?"active":null,ge?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(M):o;return C.createElement(Yi,{...m,"aria-current":P,className:k,ref:y,style:B,to:u,viewTransition:h},typeof f=="function"?f(M):f)});Xx.displayName="NavLink";var Yx=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:u=ph,action:h,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:E,..._},R)=>{let A=nN(),V=rN(h,{relative:m}),D=u.toLowerCase()==="get"?"get":"post",$=typeof h=="string"&&kS.test(h),K=H=>{if(f&&f(H),H.defaultPrevented)return;H.preventDefault();let te=H.nativeEvent.submitter,ae=(te==null?void 0:te.getAttribute("formmethod"))||u;A(te||H.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:a,state:o,relative:m,preventScrollReset:y,viewTransition:E})};return C.createElement("form",{ref:R,method:D,action:V,onSubmit:r?f:K,..._,"data-discover":!$&&n==="render"?"true":void 0})});Yx.displayName="Form";function Jx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PS(n){let e=C.useContext(tu);return Bt(e,Jx(n)),e}function Zx(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=ai(),f=Jo(),m=jc(n,{relative:o});return C.useCallback(y=>{if(xx(y,e)){y.preventDefault();let E=t!==void 0?t:Sc(f)===Sc(m);h(n,{replace:E,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[f,h,m,t,r,e,n,a,o,u])}var eN=0,tN=()=>`__${String(++eN)}__`;function nN(){let{router:n}=PS("useSubmit"),{basename:e}=C.useContext(os),t=Ex();return C.useCallback(async(r,a={})=>{let{action:o,method:u,encType:h,formData:f,body:m}=kx(r,e);if(a.navigate===!1){let y=a.fetcherKey||tN();await n.fetch(y,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function rN(n,{relative:e}={}){let{basename:t}=C.useContext(os),r=C.useContext(ls);Bt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...jc(n||".",{relative:e})},u=Jo();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(E=>E).forEach(E=>h.append("index",E));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ms([t,o.pathname])),Sc(o)}function iN(n,e={}){let t=C.useContext(RS);Bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=PS("useViewTransitionState"),a=jc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ha(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Ha(t.nextLocation.pathname,r)||t.nextLocation.pathname;return xh(a.pathname,u)!=null||xh(a.pathname,o)!=null}new TextEncoder;var sN=vS();const zl=od(sN);var Kp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var AT;function aN(){return AT||(AT=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=a(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=a(u,h));return u}function a(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Kp)),Kp.exports}var oN=aN();const Be=od(oN),lN=["xxl","xl","lg","md","sm","xs"],uN="xs",cd=C.createContext({prefixes:{},breakpoints:lN,minBreakpoint:uN}),{Consumer:D6,Provider:k6}=cd;function Ke(n,e){const{prefixes:t}=C.useContext(cd);return n||t[e]||e}function cN(){const{breakpoints:n}=C.useContext(cd);return n}function fN(){const{minBreakpoint:n}=C.useContext(cd);return n}const LS=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},a)=>(e=Ke(e,"card-group"),I.jsx(t,{ref:a,className:Be(n,e),...r})));LS.displayName="CardGroup";var CT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},hN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],h=n[t++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},US={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,h=u?n[a+1]:0,f=a+2<n.length,m=f?n[a+2]:0,y=o>>2,E=(o&3)<<4|h>>4;let _=(h&15)<<2|m>>6,R=m&63;f||(R=64,u||(_=64)),r.push(t[y],t[E],t[_],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(MS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const E=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||E==null)throw new dN;const _=o<<2|h>>4;if(r.push(_),m!==64){const R=h<<4&240|m>>2;if(r.push(R),E!==64){const A=m<<6&192|E;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mN=function(n){const e=MS(n);return US.encodeByteArray(e,!0)},Nh=function(n){return mN(n).replace(/\./g,"")},VS=function(n){try{return US.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=()=>pN().__FIREBASE_DEFAULTS__,yN=()=>{if(typeof process>"u"||typeof CT>"u")return;const n=CT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&VS(n[1]);return e&&JSON.parse(e)},fd=()=>{try{return gN()||yN()||vN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jS=n=>{var e,t;return(t=(e=fd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},BS=n=>{const e=jS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},zS=()=>{var n;return(n=fd())===null||n===void 0?void 0:n.config},qS=n=>{var e;return(e=fd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Nh(JSON.stringify(t)),Nh(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function TN(){var n;const e=(n=fd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RN(){const n=Kn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AN(){return!TN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CN(){try{return typeof indexedDB=="object"}catch{return!1}}function IN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="FirebaseError";class us extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ON,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bc.prototype.create)}}class Bc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?xN(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new us(a,h,r)}}function xN(n,e){return n.replace(NN,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const NN=/\{\$([^}]+)}/g;function DN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Dh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],u=e[a];if(IT(o)&&IT(u)){if(!Dh(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function IT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function hc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function kN(n,e){const t=new PN(n,e);return t.subscribe.bind(t)}class PN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");LN(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Qp),a.error===void 0&&(a.error=Qp),a.complete===void 0&&(a.complete=Qp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n){return n&&n._delegate?n._delegate:n}class $a{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new _N;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VN(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UN(n){return n===Uo?void 0:n}function VN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new MN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(rt||(rt={}));const BN={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},zN=rt.INFO,qN={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},FN=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=qN[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fy{constructor(e){this.name=e,this._logLevel=zN,this._logHandler=FN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const HN=(n,e)=>e.some(t=>n instanceof t);let OT,xT;function $N(){return OT||(OT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GN(){return xT||(xT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HS=new WeakMap,Xg=new WeakMap,$S=new WeakMap,Wp=new WeakMap,Hy=new WeakMap;function KN(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Ba(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&HS.set(t,n)}).catch(()=>{}),Hy.set(e,n),e}function QN(n){if(Xg.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});Xg.set(n,e)}let Yg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Xg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||$S.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ba(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function WN(n){Yg=n(Yg)}function XN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Xp(this),e,...t);return $S.set(r,e.sort?e.sort():[e]),Ba(r)}:GN().includes(n)?function(...e){return n.apply(Xp(this),e),Ba(HS.get(this))}:function(...e){return Ba(n.apply(Xp(this),e))}}function YN(n){return typeof n=="function"?XN(n):(n instanceof IDBTransaction&&QN(n),HN(n,$N())?new Proxy(n,Yg):n)}function Ba(n){if(n instanceof IDBRequest)return KN(n);if(Wp.has(n))return Wp.get(n);const e=YN(n);return e!==n&&(Wp.set(n,e),Hy.set(e,n)),e}const Xp=n=>Hy.get(n);function JN(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),h=Ba(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ba(u.result),f.oldVersion,f.newVersion,Ba(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const ZN=["get","getKey","getAll","getAllKeys","count"],eD=["put","add","delete","clear"],Yp=new Map;function NT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Yp.get(e))return Yp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=eD.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||ZN.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),a&&f.done]))[0]};return Yp.set(e,o),o}WN(n=>({...n,get:(e,t,r)=>NT(e,t)||n.get(e,t,r),has:(e,t)=>!!NT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nD(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function nD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jg="@firebase/app",DT="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new Fy("@firebase/app"),rD="@firebase/app-compat",iD="@firebase/analytics-compat",sD="@firebase/analytics",aD="@firebase/app-check-compat",oD="@firebase/app-check",lD="@firebase/auth",uD="@firebase/auth-compat",cD="@firebase/database",fD="@firebase/data-connect",hD="@firebase/database-compat",dD="@firebase/functions",mD="@firebase/functions-compat",pD="@firebase/installations",gD="@firebase/installations-compat",yD="@firebase/messaging",vD="@firebase/messaging-compat",_D="@firebase/performance",ED="@firebase/performance-compat",TD="@firebase/remote-config",bD="@firebase/remote-config-compat",wD="@firebase/storage",SD="@firebase/storage-compat",RD="@firebase/firestore",AD="@firebase/vertexai",CD="@firebase/firestore-compat",ID="firebase",OD="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="[DEFAULT]",xD={[Jg]:"fire-core",[rD]:"fire-core-compat",[sD]:"fire-analytics",[iD]:"fire-analytics-compat",[oD]:"fire-app-check",[aD]:"fire-app-check-compat",[lD]:"fire-auth",[uD]:"fire-auth-compat",[cD]:"fire-rtdb",[fD]:"fire-data-connect",[hD]:"fire-rtdb-compat",[dD]:"fire-fn",[mD]:"fire-fn-compat",[pD]:"fire-iid",[gD]:"fire-iid-compat",[yD]:"fire-fcm",[vD]:"fire-fcm-compat",[_D]:"fire-perf",[ED]:"fire-perf-compat",[TD]:"fire-rc",[bD]:"fire-rc-compat",[wD]:"fire-gcs",[SD]:"fire-gcs-compat",[RD]:"fire-fst",[CD]:"fire-fst-compat",[AD]:"fire-vertex","fire-js":"fire-js",[ID]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,ND=new Map,ey=new Map;function kT(n,e){try{n.container.addComponent(e)}catch(t){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ho(n){const e=n.name;if(ey.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;ey.set(e,n);for(const t of kh.values())kT(t,n);for(const t of ND.values())kT(t,n);return!0}function hd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Pr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},za=new Bc("app","Firebase",DD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw za.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=OD;function GS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Zg,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw za.create("bad-app-name",{appName:String(a)});if(t||(t=zS()),!t)throw za.create("no-options");const o=kh.get(a);if(o){if(Dh(t,o.options)&&Dh(r,o.config))return o;throw za.create("duplicate-app",{appName:a})}const u=new jN(a);for(const f of ey.values())u.addComponent(f);const h=new kD(t,r,u);return kh.set(a,h),h}function $y(n=Zg){const e=kh.get(n);if(!e&&n===Zg&&zS())return GS();if(!e)throw za.create("no-app",{appName:n});return e}function es(n,e,t){var r;let a=(r=xD[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(h.join(" "));return}Ho(new $a(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="firebase-heartbeat-database",LD=1,Rc="firebase-heartbeat-store";let Jp=null;function KS(){return Jp||(Jp=JN(PD,LD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rc)}catch(t){console.warn(t)}}}}).catch(n=>{throw za.create("idb-open",{originalErrorMessage:n.message})})),Jp}async function MD(n){try{const t=(await KS()).transaction(Rc),r=await t.objectStore(Rc).get(QS(n));return await t.done,r}catch(e){if(e instanceof us)zs.warn(e.message);else{const t=za.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zs.warn(t.message)}}}async function PT(n,e){try{const r=(await KS()).transaction(Rc,"readwrite");await r.objectStore(Rc).put(e,QS(n)),await r.done}catch(t){if(t instanceof us)zs.warn(t.message);else{const r=za.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});zs.warn(r.message)}}}function QS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=1024,VD=30;class jD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zD(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=LT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>VD){const u=qD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=LT(),{heartbeatsToSend:r,unsentEntries:a}=BD(this._heartbeatsCache.heartbeats),o=Nh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return zs.warn(t),""}}}function LT(){return new Date().toISOString().substring(0,10)}function BD(n,e=UD){const t=[];let r=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),MT(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),MT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class zD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CN()?IN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return PT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return PT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function MT(n){return Nh(JSON.stringify({version:2,heartbeats:n})).length}function qD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(n){Ho(new $a("platform-logger",e=>new tD(e),"PRIVATE")),Ho(new $a("heartbeat",e=>new jD(e),"PRIVATE")),es(Jg,DT,n),es(Jg,DT,"esm2017"),es("fire-js","")}FD("");var HD="firebase",$D="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(HD,$D,"app");function Gy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function WS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GD=WS,XS=new Bc("auth","Firebase",WS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Fy("@firebase/auth");function KD(n,...e){Ph.logLevel<=rt.WARN&&Ph.warn(`Auth (${Zo}): ${n}`,...e)}function yh(n,...e){Ph.logLevel<=rt.ERROR&&Ph.error(`Auth (${Zo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(n,...e){throw Ky(n,...e)}function ts(n,...e){return Ky(n,...e)}function YS(n,e,t){const r=Object.assign(Object.assign({},GD()),{[e]:t});return new Bc("auth","Firebase",r).create(e,{appName:n.name})}function Us(n){return YS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ky(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return XS.create(n,...e)}function qe(n,e,...t){if(!n)throw Ky(e,...t)}function ks(n){const e="INTERNAL ASSERTION FAILED: "+n;throw yh(e),new Error(e)}function qs(n,e){n||ks(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function QD(){return UT()==="http:"||UT()==="https:"}function UT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QD()||wN()||"connection"in navigator)?navigator.onLine:!0}function XD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t){this.shortDelay=e,this.longDelay=t,qs(t>e,"Short delay should be less than long delay!"),this.isMobile=EN()||SN()}get(){return WD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(n,e){qs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new qc(3e4,6e4);function Ja(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Za(n,e,t,r,a={}){return ZS(n,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=zc(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},o);return bN()||(m.referrerPolicy="no-referrer"),JS.fetch()(eR(n,n.config.apiHost,t,h),m)})}async function ZS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},YD),e);try{const a=new ek(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw ih(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw ih(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw ih(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw YS(n,y,m);wi(n,y)}}catch(a){if(a instanceof us)throw a;wi(n,"network-request-failed",{message:String(a)})}}async function Fc(n,e,t,r,a={}){const o=await Za(n,e,t,r,a);return"mfaPendingCredential"in o&&wi(n,"multi-factor-auth-required",{_serverResponse:o}),o}function eR(n,e,t,r){const a=`${e}${t}?${r}`;return n.config.emulator?Qy(n.config,a):`${n.config.apiScheme}://${a}`}function ZD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ek{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ts(this.auth,"network-request-failed")),JD.get())})}}function ih(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=ts(n,e,r);return a.customData._tokenResponse=t,a}function VT(n){return n!==void 0&&n.enterprise!==void 0}class tk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ZD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nk(n,e){return Za(n,"GET","/v2/recaptchaConfig",Ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(n,e){return Za(n,"POST","/v1/accounts:delete",e)}async function tR(n,e){return Za(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ik(n,e=!1){const t=tn(n),r=await t.getIdToken(e),a=Wy(r);qe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:vc(Zp(a.auth_time)),issuedAtTime:vc(Zp(a.iat)),expirationTime:vc(Zp(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Zp(n){return Number(n)*1e3}function Wy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const a=VS(t);return a?JSON.parse(a):(yh("Failed to decode base64 JWT payload"),null)}catch(a){return yh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function jT(n){const e=Wy(n);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof us&&sk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function sk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vc(this.lastLoginAt),this.creationTime=vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(n){var e;const t=n.auth,r=await n.getIdToken(),a=await Ac(n,tR(t,{idToken:r}));qe(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?nR(o.providerUserInfo):[],h=lk(n.providerData,u),f=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),y=f?m:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ny(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,E)}async function ok(n){const e=tn(n);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lk(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function nR(n){return n.map(e=>{var{providerId:t}=e,r=Gy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(n,e){const t=await ZS(n,{},async()=>{const r=zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=eR(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",JS.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ck(n,e){return Za(n,"POST","/v2/accounts:revokeToken",Ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=jT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await uk(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,u=new Fl;return r&&(qe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(qe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(qe(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fl,this.toJSON())}_performRefresh(){return ks("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(n,e){qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ps{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,o=Gy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ak(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ny(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ac(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ik(this,e)}reload(){return ok(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pr(this.auth.app))return Promise.reject(Us(this.auth));const e=await this.getIdToken();return await Ac(this,rk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,o,u,h,f,m,y;const E=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(a=t.email)!==null&&a!==void 0?a:void 0,R=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(u=t.photoURL)!==null&&u!==void 0?u:void 0,V=(h=t.tenantId)!==null&&h!==void 0?h:void 0,D=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,$=(m=t.createdAt)!==null&&m!==void 0?m:void 0,K=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:H,emailVerified:te,isAnonymous:ae,providerData:ge,stsTokenManager:M}=t;qe(H&&M,e,"internal-error");const P=Fl.fromJSON(this.name,M);qe(typeof H=="string",e,"internal-error"),Na(E,e.name),Na(_,e.name),qe(typeof te=="boolean",e,"internal-error"),qe(typeof ae=="boolean",e,"internal-error"),Na(R,e.name),Na(A,e.name),Na(V,e.name),Na(D,e.name),Na($,e.name),Na(K,e.name);const k=new Ps({uid:H,auth:e,email:_,emailVerified:te,displayName:E,isAnonymous:ae,photoURL:A,phoneNumber:R,tenantId:V,stsTokenManager:P,createdAt:$,lastLoginAt:K});return ge&&Array.isArray(ge)&&(k.providerData=ge.map(B=>Object.assign({},B))),D&&(k._redirectEventId=D),k}static async _fromIdTokenResponse(e,t,r=!1){const a=new Fl;a.updateFromServerResponse(t);const o=new Ps({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Lh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];qe(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?nR(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new Fl;h.updateFromIdToken(r);const f=new Ps({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new ny(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new Map;function Ls(n){qs(n instanceof Function,"Expected a class definition");let e=BT.get(n);return e?(qs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,BT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rR.type="NONE";const zT=rR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(n,e,t){return`firebase:${n}:${e}:${t}`}class Hl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=vh(this.userKey,a.apiKey,o),this.fullPersistenceKey=vh("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ps._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Hl(Ls(zT),e,r);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Ls(zT);const u=vh(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(u);if(y){const E=Ps._fromJSON(e,y);m!==o&&(h=E),o=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Hl(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new Hl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uR(e))return"Blackberry";if(cR(e))return"Webos";if(sR(e))return"Safari";if((e.includes("chrome/")||aR(e))&&!e.includes("edge/"))return"Chrome";if(lR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iR(n=Kn()){return/firefox\//i.test(n)}function sR(n=Kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aR(n=Kn()){return/crios\//i.test(n)}function oR(n=Kn()){return/iemobile/i.test(n)}function lR(n=Kn()){return/android/i.test(n)}function uR(n=Kn()){return/blackberry/i.test(n)}function cR(n=Kn()){return/webos/i.test(n)}function Xy(n=Kn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function fk(n=Kn()){var e;return Xy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hk(){return RN()&&document.documentMode===10}function fR(n=Kn()){return Xy(n)||lR(n)||cR(n)||uR(n)||/windows phone/i.test(n)||oR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(n,e=[]){let t;switch(n){case"Browser":t=qT(Kn());break;case"Worker":t=`${qT(Kn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(n,e={}){return Za(n,"GET","/v2/passwordPolicy",Ja(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=6;class gk{constructor(e){var t,r,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:pk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FT(this),this.idTokenSubscription=new FT(this),this.beforeStateQueue=new dk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ls(t)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await Hl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await tR(this,{idToken:e}),r=await Ps._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Pr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(a=f.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pr(this.app))return Promise.reject(Us(this));const t=e?tn(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pr(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pr(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mk(this),t=new gk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await ck(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ls(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await Hl.create(this,[Ls(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&KD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function el(n){return tn(n)}class FT{constructor(e){this.auth=e,this.observer=null,this.addObserver=kN(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vk(n){dd=n}function dR(n){return dd.loadJS(n)}function _k(){return dd.recaptchaEnterpriseScript}function Ek(){return dd.gapiScript}function Tk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class bk{constructor(){this.enterprise=new wk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class wk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Sk="recaptcha-enterprise",mR="NO_RECAPTCHA";class Rk{constructor(e){this.type=Sk,this.auth=el(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{nk(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new tk(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function a(o,u,h){const f=window.grecaptcha;VT(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(mR)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bk().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&VT(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=_k();f.length!==0&&(f+=h),dR(f).then(()=>{a(h,o,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function HT(n,e,t,r=!1,a=!1){const o=new Rk(n);let u;if(a)u=mR;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function ry(n,e,t,r,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await HT(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await HT(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(n,e){const t=hd(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Dh(o,e??{}))return a;wi(a,"already-initialized")}return t.initialize({options:e})}function Ck(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ls);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ik(n,e,t){const r=el(n);qe(r._canInitEmulator,r,"emulator-config-failed"),qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=pR(e),{host:u,port:h}=Ok(e),f=h===null?"":`:${h}`;r.config.emulator={url:`${o}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})}),xk()}function pR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Ok(n){const e=pR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:$T(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:$T(u)}}}function $T(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function xk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,t){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}}async function Nk(n,e){return Za(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(n,e){return Fc(n,"POST","/v1/accounts:signInWithPassword",Ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(n,e){return Fc(n,"POST","/v1/accounts:signInWithEmailLink",Ja(n,e))}async function Pk(n,e){return Fc(n,"POST","/v1/accounts:signInWithEmailLink",Ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends Yy{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Cc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Cc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ry(e,t,"signInWithPassword",Dk);case"emailLink":return kk(e,{email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ry(e,r,"signUpPassword",Nk);case"emailLink":return Pk(e,{idToken:t,email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(n,e){return Fc(n,"POST","/v1/accounts:signInWithIdp",Ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="http://localhost";class $o extends Yy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,o=Gy(t,["providerId","signInMethod"]);if(!r||!a)return null;const u=new $o(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return $l(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,$l(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$l(e,t)}buildRequest(){const e={requestUri:Lk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Uk(n){const e=fc(hc(n)).link,t=e?fc(hc(e)).deep_link_id:null,r=fc(hc(n)).deep_link_id;return(r?fc(hc(r)).link:null)||r||t||e||n}class Jy{constructor(e){var t,r,a,o,u,h;const f=fc(hc(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,E=Mk((a=f.mode)!==null&&a!==void 0?a:null);qe(m&&y&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=Uk(e);try{return new Jy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(){this.providerId=nu.PROVIDER_ID}static credential(e,t){return Cc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Jy.parseLink(t);return qe(r,"argument-error"),Cc._fromEmailAndCode(e,r.code,r.tenantId)}}nu.PROVIDER_ID="password";nu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends gR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends Hc{constructor(){super("facebook.com")}static credential(e){return $o._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pa.credential(e.oauthAccessToken)}catch{return null}}}Pa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends Hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $o._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return La.credential(t,r)}catch{return null}}}La.GOOGLE_SIGN_IN_METHOD="google.com";La.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Hc{constructor(){super("github.com")}static credential(e){return $o._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ma.credential(e.oauthAccessToken)}catch{return null}}}Ma.GITHUB_SIGN_IN_METHOD="github.com";Ma.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends Hc{constructor(){super("twitter.com")}static credential(e,t){return $o._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ua.credential(t,r)}catch{return null}}}Ua.TWITTER_SIGN_IN_METHOD="twitter.com";Ua.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(n,e){return Fc(n,"POST","/v1/accounts:signUp",Ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await Ps._fromIdTokenResponse(e,r,a),u=GT(r);return new Go({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=GT(r);return new Go({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function GT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends us{constructor(e,t,r,a){var o;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Mh(e,t,r,a)}}function yR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(n,o,e,r):o})}async function jk(n,e,t=!1){const r=await Ac(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Go._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(n,e,t=!1){const{auth:r}=n;if(Pr(r.app))return Promise.reject(Us(r));const a="reauthenticate";try{const o=await Ac(n,yR(r,a,e,n),t);qe(o.idToken,r,"internal-error");const u=Wy(o.idToken);qe(u,r,"internal-error");const{sub:h}=u;return qe(n.uid===h,r,"user-mismatch"),Go._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&wi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(n,e,t=!1){if(Pr(n.app))return Promise.reject(Us(n));const r="signIn",a=await yR(n,r,e),o=await Go._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function zk(n,e){return vR(el(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(n){const e=el(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qk(n,e,t){if(Pr(n.app))return Promise.reject(Us(n));const r=el(n),u=await ry(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vk).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&_R(n),f}),h=await Go._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function Fk(n,e,t){return Pr(n.app)?Promise.reject(Us(n)):zk(tn(n),nu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_R(n),r})}function Hk(n,e,t,r){return tn(n).onIdTokenChanged(e,t,r)}function $k(n,e,t){return tn(n).beforeAuthStateChanged(e,t)}function Gk(n,e,t,r){return tn(n).onAuthStateChanged(e,t,r)}const Uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=1e3,Qk=10;class TR extends ER{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);hk()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Qk):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Kk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}TR.type="LOCAL";const Wk=TR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR extends ER{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bR.type="SESSION";const wR=bR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new md(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async m=>m(t.origin,o)),f=await Xk(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const m=Zy("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(E){const _=E;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(_.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(){return window}function Jk(n){ns().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){return typeof ns().WorkerGlobalScope<"u"&&typeof ns().importScripts=="function"}async function Zk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function t2(){return SR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firebaseLocalStorageDb",n2=1,Vh="firebaseLocalStorage",AR="fbase_key";class $c{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pd(n,e){return n.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function r2(){const n=indexedDB.deleteDatabase(RR);return new $c(n).toPromise()}function iy(){const n=indexedDB.open(RR,n2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Vh,{keyPath:AR})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),await r2(),e(await iy()))})})}async function KT(n,e,t){const r=pd(n,!0).put({[AR]:e,value:t});return new $c(r).toPromise()}async function i2(n,e){const t=pd(n,!1).get(e),r=await new $c(t).toPromise();return r===void 0?null:r.value}function QT(n,e){const t=pd(n,!0).delete(e);return new $c(t).toPromise()}const s2=800,a2=3;class CR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>a2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=md._getInstance(t2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Zk(),!this.activeServiceWorker)return;this.sender=new Yk(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iy();return await KT(e,Uh,"1"),await QT(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>KT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>i2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>QT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=pd(a,!1).getAll();return new $c(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CR.type="LOCAL";const o2=CR;new qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(n,e){return e?Ls(e):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev extends Yy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $l(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $l(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $l(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function u2(n){return vR(n.auth,new ev(n),n.bypassAuthState)}function c2(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),Bk(t,new ev(n),n.bypassAuthState)}async function f2(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),jk(t,new ev(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u2;case"linkViaPopup":case"linkViaRedirect":return f2;case"reauthViaPopup":case"reauthViaRedirect":return c2;default:wi(this.auth,"internal-error")}}resolve(e){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new qc(2e3,1e4);class ql extends IR{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,ql.currentPopupAction&&ql.currentPopupAction.cancel(),ql.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){qs(this.filter.length===1,"Popup operations only handle one event");const e=Zy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ql.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h2.get())};e()}}ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="pendingRedirect",_h=new Map;class m2 extends IR{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const r=await p2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function p2(n,e){const t=v2(e),r=y2(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function g2(n,e){_h.set(n._key(),e)}function y2(n){return Ls(n._redirectPersistence)}function v2(n){return vh(d2,n.config.apiKey,n.name)}async function _2(n,e,t=!1){if(Pr(n.app))return Promise.reject(Us(n));const r=el(n),a=l2(r,e),u=await new m2(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=10*60*1e3;class T2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!OR(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ts(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E2&&this.cachedEventUids.clear(),this.cachedEventUids.has(WT(e))}saveEventToCache(e){this.cachedEventUids.add(WT(e)),this.lastProcessedEventTime=Date.now()}}function WT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function OR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(n,e={}){return Za(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R2=/^https?/;async function A2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await w2(n);for(const t of e)try{if(C2(t))return}catch{}wi(n,"unauthorized-domain")}function C2(n){const e=ty(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!R2.test(t))return!1;if(S2.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new qc(3e4,6e4);function XT(){const n=ns().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function O2(n){return new Promise((e,t)=>{var r,a,o;function u(){XT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XT(),t(ts(n,"network-request-failed"))},timeout:I2.get()})}if(!((a=(r=ns().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=ns().gapi)===null||o===void 0)&&o.load)u();else{const h=Tk("iframefcb");return ns()[h]=()=>{gapi.load?u():t(ts(n,"network-request-failed"))},dR(`${Ek()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function x2(n){return Eh=Eh||O2(n),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new qc(5e3,15e3),D2="__/auth/iframe",k2="emulator/auth/iframe",P2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M2(n){const e=n.config;qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Qy(e,k2):`https://${n.config.authDomain}/${D2}`,r={apiKey:e.apiKey,appName:n.name,v:Zo},a=L2.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${zc(r).slice(1)}`}async function U2(n){const e=await x2(n),t=ns().gapi;return qe(t,n,"internal-error"),e.open({where:document.body,url:M2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P2,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=ts(n,"network-request-failed"),h=ns().setTimeout(()=>{o(u)},N2.get());function f(){ns().clearTimeout(h),a(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j2=500,B2=600,z2="_blank",q2="http://localhost";class YT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F2(n,e,t,r=j2,a=B2){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},V2),{width:r.toString(),height:a.toString(),top:o,left:u}),m=Kn().toLowerCase();t&&(h=aR(m)?z2:t),iR(m)&&(e=e||q2,f.scrollbars="yes");const y=Object.entries(f).reduce((_,[R,A])=>`${_}${R}=${A},`,"");if(fk(m)&&h!=="_self")return H2(e||"",h),new YT(null);const E=window.open(e||"",h,y);qe(E,n,"popup-blocked");try{E.focus()}catch{}return new YT(E)}function H2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="__/auth/handler",G2="emulator/auth/handler",K2=encodeURIComponent("fac");async function JT(n,e,t,r,a,o){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Zo,eventId:a};if(e instanceof gR){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",DN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,E]of Object.entries({}))u[y]=E}if(e instanceof Hc){const y=e.getScopes().filter(E=>E!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),m=f?`#${K2}=${encodeURIComponent(f)}`:"";return`${Q2(n)}?${zc(h).slice(1)}${m}`}function Q2({config:n}){return n.emulator?Qy(n,G2):`https://${n.authDomain}/${$2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="webStorageSupport";class W2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wR,this._completeRedirectFn=_2,this._overrideRedirectResult=g2}async _openPopup(e,t,r,a){var o;qs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await JT(e,t,r,ty(),a);return F2(e,u,Zy())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await JT(e,t,r,ty(),a);return Jk(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(qs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await U2(e),r=new T2(e);return t.register("authEvent",a=>(qe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(eg,{type:eg},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[eg];u!==void 0&&t(!!u),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=A2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fR()||sR()||Xy()}}const X2=W2;var ZT="@firebase/auth",eb="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z2(n){Ho(new $a("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;qe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hR(n)},m=new yk(r,a,o,f);return Ck(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ho(new $a("auth-internal",e=>{const t=el(e.getProvider("auth").getImmediate());return(r=>new Y2(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(ZT,eb,J2(n)),es(ZT,eb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=5*60,tP=qS("authIdTokenMaxAge")||eP;let tb=null;const nP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>tP)return;const a=t==null?void 0:t.token;tb!==a&&(tb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function rP(n=$y()){const e=hd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Ak(n,{popupRedirectResolver:X2,persistence:[o2,Wk,wR]}),r=qS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=nP(o.toString());$k(t,u,()=>u(t.currentUser)),Hk(t,h=>u(h))}}const a=jS("auth");return a&&Ik(t,`http://${a}`),t}function iP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=ts("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",iP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z2("Browser");var nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qa,xR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,P){function k(){}k.prototype=P.prototype,M.D=P.prototype,M.prototype=new k,M.prototype.constructor=M,M.C=function(B,z,G){for(var U=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)U[Je-2]=arguments[Je];return P.prototype[z].apply(B,U)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,P,k){k||(k=0);var B=Array(16);if(typeof P=="string")for(var z=0;16>z;++z)B[z]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(z=0;16>z;++z)B[z]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=M.g[0],k=M.g[1],z=M.g[2];var G=M.g[3],U=P+(G^k&(z^G))+B[0]+3614090360&4294967295;P=k+(U<<7&4294967295|U>>>25),U=G+(z^P&(k^z))+B[1]+3905402710&4294967295,G=P+(U<<12&4294967295|U>>>20),U=z+(k^G&(P^k))+B[2]+606105819&4294967295,z=G+(U<<17&4294967295|U>>>15),U=k+(P^z&(G^P))+B[3]+3250441966&4294967295,k=z+(U<<22&4294967295|U>>>10),U=P+(G^k&(z^G))+B[4]+4118548399&4294967295,P=k+(U<<7&4294967295|U>>>25),U=G+(z^P&(k^z))+B[5]+1200080426&4294967295,G=P+(U<<12&4294967295|U>>>20),U=z+(k^G&(P^k))+B[6]+2821735955&4294967295,z=G+(U<<17&4294967295|U>>>15),U=k+(P^z&(G^P))+B[7]+4249261313&4294967295,k=z+(U<<22&4294967295|U>>>10),U=P+(G^k&(z^G))+B[8]+1770035416&4294967295,P=k+(U<<7&4294967295|U>>>25),U=G+(z^P&(k^z))+B[9]+2336552879&4294967295,G=P+(U<<12&4294967295|U>>>20),U=z+(k^G&(P^k))+B[10]+4294925233&4294967295,z=G+(U<<17&4294967295|U>>>15),U=k+(P^z&(G^P))+B[11]+2304563134&4294967295,k=z+(U<<22&4294967295|U>>>10),U=P+(G^k&(z^G))+B[12]+1804603682&4294967295,P=k+(U<<7&4294967295|U>>>25),U=G+(z^P&(k^z))+B[13]+4254626195&4294967295,G=P+(U<<12&4294967295|U>>>20),U=z+(k^G&(P^k))+B[14]+2792965006&4294967295,z=G+(U<<17&4294967295|U>>>15),U=k+(P^z&(G^P))+B[15]+1236535329&4294967295,k=z+(U<<22&4294967295|U>>>10),U=P+(z^G&(k^z))+B[1]+4129170786&4294967295,P=k+(U<<5&4294967295|U>>>27),U=G+(k^z&(P^k))+B[6]+3225465664&4294967295,G=P+(U<<9&4294967295|U>>>23),U=z+(P^k&(G^P))+B[11]+643717713&4294967295,z=G+(U<<14&4294967295|U>>>18),U=k+(G^P&(z^G))+B[0]+3921069994&4294967295,k=z+(U<<20&4294967295|U>>>12),U=P+(z^G&(k^z))+B[5]+3593408605&4294967295,P=k+(U<<5&4294967295|U>>>27),U=G+(k^z&(P^k))+B[10]+38016083&4294967295,G=P+(U<<9&4294967295|U>>>23),U=z+(P^k&(G^P))+B[15]+3634488961&4294967295,z=G+(U<<14&4294967295|U>>>18),U=k+(G^P&(z^G))+B[4]+3889429448&4294967295,k=z+(U<<20&4294967295|U>>>12),U=P+(z^G&(k^z))+B[9]+568446438&4294967295,P=k+(U<<5&4294967295|U>>>27),U=G+(k^z&(P^k))+B[14]+3275163606&4294967295,G=P+(U<<9&4294967295|U>>>23),U=z+(P^k&(G^P))+B[3]+4107603335&4294967295,z=G+(U<<14&4294967295|U>>>18),U=k+(G^P&(z^G))+B[8]+1163531501&4294967295,k=z+(U<<20&4294967295|U>>>12),U=P+(z^G&(k^z))+B[13]+2850285829&4294967295,P=k+(U<<5&4294967295|U>>>27),U=G+(k^z&(P^k))+B[2]+4243563512&4294967295,G=P+(U<<9&4294967295|U>>>23),U=z+(P^k&(G^P))+B[7]+1735328473&4294967295,z=G+(U<<14&4294967295|U>>>18),U=k+(G^P&(z^G))+B[12]+2368359562&4294967295,k=z+(U<<20&4294967295|U>>>12),U=P+(k^z^G)+B[5]+4294588738&4294967295,P=k+(U<<4&4294967295|U>>>28),U=G+(P^k^z)+B[8]+2272392833&4294967295,G=P+(U<<11&4294967295|U>>>21),U=z+(G^P^k)+B[11]+1839030562&4294967295,z=G+(U<<16&4294967295|U>>>16),U=k+(z^G^P)+B[14]+4259657740&4294967295,k=z+(U<<23&4294967295|U>>>9),U=P+(k^z^G)+B[1]+2763975236&4294967295,P=k+(U<<4&4294967295|U>>>28),U=G+(P^k^z)+B[4]+1272893353&4294967295,G=P+(U<<11&4294967295|U>>>21),U=z+(G^P^k)+B[7]+4139469664&4294967295,z=G+(U<<16&4294967295|U>>>16),U=k+(z^G^P)+B[10]+3200236656&4294967295,k=z+(U<<23&4294967295|U>>>9),U=P+(k^z^G)+B[13]+681279174&4294967295,P=k+(U<<4&4294967295|U>>>28),U=G+(P^k^z)+B[0]+3936430074&4294967295,G=P+(U<<11&4294967295|U>>>21),U=z+(G^P^k)+B[3]+3572445317&4294967295,z=G+(U<<16&4294967295|U>>>16),U=k+(z^G^P)+B[6]+76029189&4294967295,k=z+(U<<23&4294967295|U>>>9),U=P+(k^z^G)+B[9]+3654602809&4294967295,P=k+(U<<4&4294967295|U>>>28),U=G+(P^k^z)+B[12]+3873151461&4294967295,G=P+(U<<11&4294967295|U>>>21),U=z+(G^P^k)+B[15]+530742520&4294967295,z=G+(U<<16&4294967295|U>>>16),U=k+(z^G^P)+B[2]+3299628645&4294967295,k=z+(U<<23&4294967295|U>>>9),U=P+(z^(k|~G))+B[0]+4096336452&4294967295,P=k+(U<<6&4294967295|U>>>26),U=G+(k^(P|~z))+B[7]+1126891415&4294967295,G=P+(U<<10&4294967295|U>>>22),U=z+(P^(G|~k))+B[14]+2878612391&4294967295,z=G+(U<<15&4294967295|U>>>17),U=k+(G^(z|~P))+B[5]+4237533241&4294967295,k=z+(U<<21&4294967295|U>>>11),U=P+(z^(k|~G))+B[12]+1700485571&4294967295,P=k+(U<<6&4294967295|U>>>26),U=G+(k^(P|~z))+B[3]+2399980690&4294967295,G=P+(U<<10&4294967295|U>>>22),U=z+(P^(G|~k))+B[10]+4293915773&4294967295,z=G+(U<<15&4294967295|U>>>17),U=k+(G^(z|~P))+B[1]+2240044497&4294967295,k=z+(U<<21&4294967295|U>>>11),U=P+(z^(k|~G))+B[8]+1873313359&4294967295,P=k+(U<<6&4294967295|U>>>26),U=G+(k^(P|~z))+B[15]+4264355552&4294967295,G=P+(U<<10&4294967295|U>>>22),U=z+(P^(G|~k))+B[6]+2734768916&4294967295,z=G+(U<<15&4294967295|U>>>17),U=k+(G^(z|~P))+B[13]+1309151649&4294967295,k=z+(U<<21&4294967295|U>>>11),U=P+(z^(k|~G))+B[4]+4149444226&4294967295,P=k+(U<<6&4294967295|U>>>26),U=G+(k^(P|~z))+B[11]+3174756917&4294967295,G=P+(U<<10&4294967295|U>>>22),U=z+(P^(G|~k))+B[2]+718787259&4294967295,z=G+(U<<15&4294967295|U>>>17),U=k+(G^(z|~P))+B[9]+3951481745&4294967295,M.g[0]=M.g[0]+P&4294967295,M.g[1]=M.g[1]+(z+(U<<21&4294967295|U>>>11))&4294967295,M.g[2]=M.g[2]+z&4294967295,M.g[3]=M.g[3]+G&4294967295}r.prototype.u=function(M,P){P===void 0&&(P=M.length);for(var k=P-this.blockSize,B=this.B,z=this.h,G=0;G<P;){if(z==0)for(;G<=k;)a(this,M,G),G+=this.blockSize;if(typeof M=="string"){for(;G<P;)if(B[z++]=M.charCodeAt(G++),z==this.blockSize){a(this,B),z=0;break}}else for(;G<P;)if(B[z++]=M[G++],z==this.blockSize){a(this,B),z=0;break}}this.h=z,this.o+=P},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var P=1;P<M.length-8;++P)M[P]=0;var k=8*this.o;for(P=M.length-8;P<M.length;++P)M[P]=k&255,k/=256;for(this.u(M),M=Array(16),P=k=0;4>P;++P)for(var B=0;32>B;B+=8)M[k++]=this.g[P]>>>B&255;return M};function o(M,P){var k=h;return Object.prototype.hasOwnProperty.call(k,M)?k[M]:k[M]=P(M)}function u(M,P){this.h=P;for(var k=[],B=!0,z=M.length-1;0<=z;z--){var G=M[z]|0;B&&G==P||(k[z]=G,B=!1)}this.g=k}var h={};function f(M){return-128<=M&&128>M?o(M,function(P){return new u([P|0],0>P?-1:0)}):new u([M|0],0>M?-1:0)}function m(M){if(isNaN(M)||!isFinite(M))return E;if(0>M)return D(m(-M));for(var P=[],k=1,B=0;M>=k;B++)P[B]=M/k|0,k*=4294967296;return new u(P,0)}function y(M,P){if(M.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(M.charAt(0)=="-")return D(y(M.substring(1),P));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(P,8)),B=E,z=0;z<M.length;z+=8){var G=Math.min(8,M.length-z),U=parseInt(M.substring(z,z+G),P);8>G?(G=m(Math.pow(P,G)),B=B.j(G).add(m(U))):(B=B.j(k),B=B.add(m(U)))}return B}var E=f(0),_=f(1),R=f(16777216);n=u.prototype,n.m=function(){if(V(this))return-D(this).m();for(var M=0,P=1,k=0;k<this.g.length;k++){var B=this.i(k);M+=(0<=B?B:4294967296+B)*P,P*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(A(this))return"0";if(V(this))return"-"+D(this).toString(M);for(var P=m(Math.pow(M,6)),k=this,B="";;){var z=te(k,P).g;k=$(k,z.j(P));var G=((0<k.g.length?k.g[0]:k.h)>>>0).toString(M);if(k=z,A(k))return G+B;for(;6>G.length;)G="0"+G;B=G+B}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function A(M){if(M.h!=0)return!1;for(var P=0;P<M.g.length;P++)if(M.g[P]!=0)return!1;return!0}function V(M){return M.h==-1}n.l=function(M){return M=$(this,M),V(M)?-1:A(M)?0:1};function D(M){for(var P=M.g.length,k=[],B=0;B<P;B++)k[B]=~M.g[B];return new u(k,~M.h).add(_)}n.abs=function(){return V(this)?D(this):this},n.add=function(M){for(var P=Math.max(this.g.length,M.g.length),k=[],B=0,z=0;z<=P;z++){var G=B+(this.i(z)&65535)+(M.i(z)&65535),U=(G>>>16)+(this.i(z)>>>16)+(M.i(z)>>>16);B=U>>>16,G&=65535,U&=65535,k[z]=U<<16|G}return new u(k,k[k.length-1]&-2147483648?-1:0)};function $(M,P){return M.add(D(P))}n.j=function(M){if(A(this)||A(M))return E;if(V(this))return V(M)?D(this).j(D(M)):D(D(this).j(M));if(V(M))return D(this.j(D(M)));if(0>this.l(R)&&0>M.l(R))return m(this.m()*M.m());for(var P=this.g.length+M.g.length,k=[],B=0;B<2*P;B++)k[B]=0;for(B=0;B<this.g.length;B++)for(var z=0;z<M.g.length;z++){var G=this.i(B)>>>16,U=this.i(B)&65535,Je=M.i(z)>>>16,le=M.i(z)&65535;k[2*B+2*z]+=U*le,K(k,2*B+2*z),k[2*B+2*z+1]+=G*le,K(k,2*B+2*z+1),k[2*B+2*z+1]+=U*Je,K(k,2*B+2*z+1),k[2*B+2*z+2]+=G*Je,K(k,2*B+2*z+2)}for(B=0;B<P;B++)k[B]=k[2*B+1]<<16|k[2*B];for(B=P;B<2*P;B++)k[B]=0;return new u(k,0)};function K(M,P){for(;(M[P]&65535)!=M[P];)M[P+1]+=M[P]>>>16,M[P]&=65535,P++}function H(M,P){this.g=M,this.h=P}function te(M,P){if(A(P))throw Error("division by zero");if(A(M))return new H(E,E);if(V(M))return P=te(D(M),P),new H(D(P.g),D(P.h));if(V(P))return P=te(M,D(P)),new H(D(P.g),P.h);if(30<M.g.length){if(V(M)||V(P))throw Error("slowDivide_ only works with positive integers.");for(var k=_,B=P;0>=B.l(M);)k=ae(k),B=ae(B);var z=ge(k,1),G=ge(B,1);for(B=ge(B,2),k=ge(k,2);!A(B);){var U=G.add(B);0>=U.l(M)&&(z=z.add(k),G=U),B=ge(B,1),k=ge(k,1)}return P=$(M,z.j(P)),new H(z,P)}for(z=E;0<=M.l(P);){for(k=Math.max(1,Math.floor(M.m()/P.m())),B=Math.ceil(Math.log(k)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),G=m(k),U=G.j(P);V(U)||0<U.l(M);)k-=B,G=m(k),U=G.j(P);A(G)&&(G=_),z=z.add(G),M=$(M,U)}return new H(z,M)}n.A=function(M){return te(this,M).h},n.and=function(M){for(var P=Math.max(this.g.length,M.g.length),k=[],B=0;B<P;B++)k[B]=this.i(B)&M.i(B);return new u(k,this.h&M.h)},n.or=function(M){for(var P=Math.max(this.g.length,M.g.length),k=[],B=0;B<P;B++)k[B]=this.i(B)|M.i(B);return new u(k,this.h|M.h)},n.xor=function(M){for(var P=Math.max(this.g.length,M.g.length),k=[],B=0;B<P;B++)k[B]=this.i(B)^M.i(B);return new u(k,this.h^M.h)};function ae(M){for(var P=M.g.length+1,k=[],B=0;B<P;B++)k[B]=M.i(B)<<1|M.i(B-1)>>>31;return new u(k,M.h)}function ge(M,P){var k=P>>5;P%=32;for(var B=M.g.length-k,z=[],G=0;G<B;G++)z[G]=0<P?M.i(G+k)>>>P|M.i(G+k+1)<<32-P:M.i(G+k);return new u(z,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xR=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,qa=u}).apply(typeof nb<"u"?nb:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NR,dc,DR,Th,sy,kR,PR,LR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,T){return d==Array.prototype||d==Object.prototype||(d[v]=T.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function a(d,v){if(v)e:{var T=r;d=d.split(".");for(var x=0;x<d.length-1;x++){var Z=d[x];if(!(Z in T))break e;T=T[Z]}d=d[d.length-1],x=T[d],v=v(x),v!=x&&v!=null&&e(T,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var T=0,x=!1,Z={next:function(){if(!x&&T<d.length){var ie=T++;return{value:v(ie,d[ie]),done:!1}}return x=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}a("Array.prototype.values",function(d){return d||function(){return o(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function m(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,T){return d.call.apply(d.bind,arguments)}function E(d,v,T){if(!d)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,x),d.apply(v,Z)}}return function(){return d.apply(v,arguments)}}function _(d,v,T){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:E,_.apply(null,arguments)}function R(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),d.apply(this,x)}}function A(d,v){function T(){}T.prototype=v.prototype,d.aa=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(x,Z,ie){for(var be=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)be[ut-2]=arguments[ut];return v.prototype[Z].apply(x,be)}}function V(d){const v=d.length;if(0<v){const T=Array(v);for(let x=0;x<v;x++)T[x]=d[x];return T}return[]}function D(d,v){for(let T=1;T<arguments.length;T++){const x=arguments[T];if(f(x)){const Z=d.length||0,ie=x.length||0;d.length=Z+ie;for(let be=0;be<ie;be++)d[Z+be]=x[be]}else d.push(x)}}class ${constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function K(d){return/^[\s\xa0]*$/.test(d)}function H(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function te(d){return te[" "](d),d}te[" "]=function(){};var ae=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ge(d,v,T){for(const x in d)v.call(T,d[x],x,d)}function M(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function P(d){const v={};for(const T in d)v[T]=d[T];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(d,v){let T,x;for(let Z=1;Z<arguments.length;Z++){x=arguments[Z];for(T in x)d[T]=x[T];for(let ie=0;ie<k.length;ie++)T=k[ie],Object.prototype.hasOwnProperty.call(x,T)&&(d[T]=x[T])}}function z(d){var v=1;d=d.split(":");const T=[];for(;0<v&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function G(d){h.setTimeout(()=>{throw d},0)}function U(){var d=Oe;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Je{constructor(){this.h=this.g=null}add(v,T){const x=le.get();x.set(v,T),this.h?this.h.next=x:this.g=x,this.h=x}}var le=new $(()=>new re,d=>d.reset());class re{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let he,de=!1,Oe=new Je,q=()=>{const d=h.Promise.resolve(void 0);he=()=>{d.then(fe)}};var fe=()=>{for(var d;d=U();){try{d.h.call(d.g)}catch(T){G(T)}var v=le;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}de=!1};function Re(){this.s=this.s,this.C=this.C}Re.prototype.s=!1,Re.prototype.ma=function(){this.s||(this.s=!0,this.N())},Re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};h.addEventListener("test",T,v),h.removeEventListener("test",T,v)}catch{}return d}();function Ne(d,v){if(Ee.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,x=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(ae){e:{try{te(v.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(v=null)}}else T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement);this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ve[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ne.aa.h.call(this)}}A(Ne,Ee);var Ve={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),nt=0;function Tt(d,v,T,x,Z){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!x,this.ha=Z,this.key=++nt,this.da=this.fa=!1}function st(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function nn(d){this.src=d,this.g={},this.h=0}nn.prototype.add=function(d,v,T,x,Z){var ie=d.toString();d=this.g[ie],d||(d=this.g[ie]=[],this.h++);var be=En(d,v,x,Z);return-1<be?(v=d[be],T||(v.fa=!1)):(v=new Tt(v,this.src,ie,!!x,Z),v.fa=T,d.push(v)),v};function lr(d,v){var T=v.type;if(T in d.g){var x=d.g[T],Z=Array.prototype.indexOf.call(x,v,void 0),ie;(ie=0<=Z)&&Array.prototype.splice.call(x,Z,1),ie&&(st(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function En(d,v,T,x){for(var Z=0;Z<d.length;++Z){var ie=d[Z];if(!ie.da&&ie.listener==v&&ie.capture==!!T&&ie.ha==x)return Z}return-1}var Qn="closure_lm_"+(1e6*Math.random()|0),mt={};function ur(d,v,T,x,Z){if(Array.isArray(v)){for(var ie=0;ie<v.length;ie++)ur(d,v[ie],T,x,Z);return null}return T=no(T),d&&d[Pt]?d.K(v,T,m(x)?!!x.capture:!1,Z):oi(d,v,T,!1,x,Z)}function oi(d,v,T,x,Z,ie){if(!v)throw Error("Invalid event type");var be=m(Z)?!!Z.capture:!!Z,ut=ze(d);if(ut||(d[Qn]=ut=new nn(d)),T=ut.add(v,T,x,be,ie),T.proxy)return T;if(x=Ws(),T.proxy=x,x.src=d,x.listener=T,d.addEventListener)Te||(Z=be),Z===void 0&&(Z=!1),d.addEventListener(v.toString(),x,Z);else if(d.attachEvent)d.attachEvent(Ys(v.toString()),x);else if(d.addListener&&d.removeListener)d.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ws(){function d(T){return v.call(d.src,d.listener,T)}const v=se;return d}function Xs(d,v,T,x,Z){if(Array.isArray(v))for(var ie=0;ie<v.length;ie++)Xs(d,v[ie],T,x,Z);else x=m(x)?!!x.capture:!!x,T=no(T),d&&d[Pt]?(d=d.i,v=String(v).toString(),v in d.g&&(ie=d.g[v],T=En(ie,T,x,Z),-1<T&&(st(ie[T]),Array.prototype.splice.call(ie,T,1),ie.length==0&&(delete d.g[v],d.h--)))):d&&(d=ze(d))&&(v=d.g[v.toString()],d=-1,v&&(d=En(v,T,x,Z)),(T=-1<d?v[d]:null)&&Ai(T))}function Ai(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Pt])lr(v.i,d);else{var T=d.type,x=d.proxy;v.removeEventListener?v.removeEventListener(T,x,d.capture):v.detachEvent?v.detachEvent(Ys(T),x):v.addListener&&v.removeListener&&v.removeListener(x),(T=ze(v))?(lr(T,d),T.h==0&&(T.src=null,v[Qn]=null)):st(d)}}}function Ys(d){return d in mt?mt[d]:mt[d]="on"+d}function se(d,v){if(d.da)d=!0;else{v=new Ne(v,this);var T=d.listener,x=d.ha||d.src;d.fa&&Ai(d),d=T.call(x,v)}return d}function ze(d){return d=d[Qn],d instanceof nn?d:null}var In="__closure_events_fn_"+(1e9*Math.random()>>>0);function no(d){return typeof d=="function"?d:(d[In]||(d[In]=function(v){return d.handleEvent(v)}),d[In])}function Xt(){Re.call(this),this.i=new nn(this),this.M=this,this.F=null}A(Xt,Re),Xt.prototype[Pt]=!0,Xt.prototype.removeEventListener=function(d,v,T,x){Xs(this,d,v,T,x)};function qt(d,v){var T,x=d.F;if(x)for(T=[];x;x=x.F)T.push(x);if(d=d.M,x=v.type||v,typeof v=="string")v=new Ee(v,d);else if(v instanceof Ee)v.target=v.target||d;else{var Z=v;v=new Ee(x,d),B(v,Z)}if(Z=!0,T)for(var ie=T.length-1;0<=ie;ie--){var be=v.g=T[ie];Z=jr(be,x,!0,v)&&Z}if(be=v.g=d,Z=jr(be,x,!0,v)&&Z,Z=jr(be,x,!1,v)&&Z,T)for(ie=0;ie<T.length;ie++)be=v.g=T[ie],Z=jr(be,x,!1,v)&&Z}Xt.prototype.N=function(){if(Xt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var T=d.g[v],x=0;x<T.length;x++)st(T[x]);delete d.g[v],d.h--}}this.F=null},Xt.prototype.K=function(d,v,T,x){return this.i.add(String(d),v,!1,T,x)},Xt.prototype.L=function(d,v,T,x){return this.i.add(String(d),v,!0,T,x)};function jr(d,v,T,x){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var Z=!0,ie=0;ie<v.length;++ie){var be=v[ie];if(be&&!be.da&&be.capture==T){var ut=be.listener,mn=be.ha||be.src;be.fa&&lr(d.i,be),Z=ut.call(mn,x)!==!1&&Z}}return Z&&!x.defaultPrevented}function ro(d,v,T){if(typeof d=="function")T&&(d=_(d,T));else if(d&&typeof d.handleEvent=="function")d=_(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(d,v||0)}function io(d){d.g=ro(()=>{d.g=null,d.i&&(d.i=!1,io(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class mu extends Re{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:io(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(d){Re.call(this),this.h=d,this.g={}}A(Br,Re);var li=[];function rn(d){ge(d.g,function(v,T){this.g.hasOwnProperty(T)&&Ai(v)},d),d.g={}}Br.prototype.N=function(){Br.aa.N.call(this),rn(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Js=h.JSON.stringify,zr=h.JSON.parse,Tn=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function so(){}so.prototype.h=null;function ao(d){return d.h||(d.h=d.i())}function oo(){}var qr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ci(){Ee.call(this,"d")}A(Ci,Ee);function br(){Ee.call(this,"c")}A(br,Ee);var cr={},Fr=null;function Ii(){return Fr=Fr||new Xt}cr.La="serverreachability";function lo(d){Ee.call(this,cr.La,d)}A(lo,Ee);function Oi(d){const v=Ii();qt(v,new lo(v))}cr.STAT_EVENT="statevent";function Zs(d,v){Ee.call(this,cr.STAT_EVENT,d),this.stat=v}A(Zs,Ee);function Mt(d){const v=Ii();qt(v,new Zs(v,d))}cr.Ma="timingevent";function Yt(d,v){Ee.call(this,cr.Ma,d),this.size=v}A(Yt,Ee);function xi(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function Ni(){this.g=!0}Ni.prototype.xa=function(){this.g=!1};function il(d,v,T,x,Z,ie){d.info(function(){if(d.g)if(ie)for(var be="",ut=ie.split("&"),mn=0;mn<ut.length;mn++){var ct=ut[mn].split("=");if(1<ct.length){var wn=ct[0];ct=ct[1];var pn=wn.split("_");be=2<=pn.length&&pn[1]=="type"?be+(wn+"="+ct+"&"):be+(wn+"=redacted&")}}else be=null;else be=ie;return"XMLHTTP REQ ("+x+") [attempt "+Z+"]: "+v+`
`+T+`
`+be})}function uo(d,v,T,x,Z,ie,be){d.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+Z+"]: "+v+`
`+T+`
`+ie+" "+be})}function Di(d,v,T,x){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ft(d,T)+(x?" "+x:"")})}function fr(d,v){d.info(function(){return"TIMEOUT: "+v})}Ni.prototype.info=function(){};function Ft(d,v){if(!d.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var x=T[d];if(!(2>x.length)){var Z=x[1];if(Array.isArray(Z)&&!(1>Z.length)){var ie=Z[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var be=1;be<Z.length;be++)Z[be]=""}}}}return Js(T)}catch{return v}}var Jt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ki;function Hr(){}A(Hr,so),Hr.prototype.g=function(){return new XMLHttpRequest},Hr.prototype.i=function(){return{}},ki=new Hr;function Wn(d,v,T,x){this.j=d,this.i=v,this.l=T,this.R=x||1,this.U=new Br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new co}function co(){this.i=null,this.g="",this.h=!1}var Pi={},ci={};function wr(d,v,T){d.L=1,d.v=ji(Ut(v)),d.m=T,d.P=!0,fi(d,null)}function fi(d,v){d.F=Date.now(),At(d),d.A=Ut(d.v);var T=d.A,x=d.R;Array.isArray(x)||(x=[String(x)]),Gr(T.i,"t",x),d.C=0,T=d.j.J,d.h=new co,d.g=go(d.j,T?v:null,!d.m),0<d.O&&(d.M=new mu(_(d.Y,d,d.g),d.O)),v=d.U,T=d.g,x=d.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(li[0]=Z.toString()),Z=li);for(var ie=0;ie<Z.length;ie++){var be=ur(T,Z[ie],x||v.handleEvent,!1,v.h||v);if(!be)break;v.g[be.key]=be}v=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Oi(),il(d.i,d.u,d.A,d.l,d.R,d.m)}Wn.prototype.ca=function(d){d=d.target;const v=this.M;v&&N(d)==3?v.j():this.Y(d)},Wn.prototype.Y=function(d){try{if(d==this.g)e:{const pn=N(this.g);var v=this.g.Ba();const ms=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||L(this.g)))){this.J||pn!=4||v==7||(v==8||0>=ms?Oi(3):Oi(2)),Rr(this);var T=this.g.Z();this.X=T;t:if(Sr(this)){var x=L(this.g);d="";var Z=x.length,ie=N(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jn(this),Vn(this);var be="";break t}this.h.i=new h.TextDecoder}for(v=0;v<Z;v++)this.h.h=!0,d+=this.h.i.decode(x[v],{stream:!(ie&&v==Z-1)});x.length=0,this.h.g+=d,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=T==200,uo(this.i,this.u,this.A,this.l,this.R,pn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,mn=this.g;if((ut=mn.g?mn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(ut)){var ct=ut;break t}}ct=null}if(T=ct)Di(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xn(this,T);else{this.o=!1,this.s=3,Mt(12),jn(this),Vn(this);break e}}if(this.P){T=!0;let xn;for(;!this.J&&this.C<be.length;)if(xn=sn(this,be),xn==ci){pn==4&&(this.s=4,Mt(14),T=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==Pi){this.s=4,Mt(15),Di(this.i,this.l,be,"[Invalid Chunk]"),T=!1;break}else Di(this.i,this.l,xn,null),Xn(this,xn);if(Sr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||be.length!=0||this.h.h||(this.s=1,Mt(16),T=!1),this.o=this.o&&T,!T)Di(this.i,this.l,be,"[Invalid Chunked Response]"),jn(this),Vn(this);else if(0<be.length&&!this.W){this.W=!0;var wn=this.j;wn.g==this&&wn.ba&&!wn.M&&(wn.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),bt(wn),wn.M=!0,Mt(11))}}else Di(this.i,this.l,be,null),Xn(this,be);pn==4&&jn(this),this.o&&!this.J&&(pn==4?pr(this.j,this):(this.o=!1,At(this)))}else F(this.g),T==400&&0<be.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),jn(this),Vn(this)}}}catch{}finally{}};function Sr(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function sn(d,v){var T=d.C,x=v.indexOf(`
`,T);return x==-1?ci:(T=Number(v.substring(T,x)),isNaN(T)?Pi:(x+=1,x+T>v.length?ci:(v=v.slice(x,x+T),d.C=x+T,v)))}Wn.prototype.cancel=function(){this.J=!0,jn(this)};function At(d){d.S=Date.now()+d.I,ea(d,d.I)}function ea(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=xi(_(d.ba,d),v)}function Rr(d){d.B&&(h.clearTimeout(d.B),d.B=null)}Wn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(fr(this.i,this.A),this.L!=2&&(Oi(),Mt(17)),jn(this),this.s=2,Vn(this)):ea(this,this.S-d)};function Vn(d){d.j.G==0||d.J||pr(d.j,d)}function jn(d){Rr(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,rn(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Xn(d,v){try{var T=d.j;if(T.G!=0&&(T.g==d||Mi(T.h,d))){if(!d.K&&Mi(T.h,d)&&T.G==3){try{var x=T.Da.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var Z=x;if(Z[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)Dt(T),xe(T);else break e;De(T),Mt(18)}}else T.za=Z[1],0<T.za-T.T&&37500>Z[2]&&T.F&&T.v==0&&!T.C&&(T.C=xi(_(T.Za,T),6e3));if(1>=fo(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else bn(T,11)}else if((d.K||T.g==d)&&Dt(T),!K(v))for(Z=T.Da.g.parse(v),v=0;v<Z.length;v++){let ct=Z[v];if(T.T=ct[0],ct=ct[1],T.G==2)if(ct[0]=="c"){T.K=ct[1],T.ia=ct[2];const wn=ct[3];wn!=null&&(T.la=wn,T.j.info("VER="+T.la));const pn=ct[4];pn!=null&&(T.Aa=pn,T.j.info("SVER="+T.Aa));const ms=ct[5];ms!=null&&typeof ms=="number"&&0<ms&&(x=1.5*ms,T.L=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const xn=d.g;if(xn){const Fi=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var ie=x.h;ie.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Ui(ie,ie.h),ie.h=null))}if(x.D){const yu=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;yu&&(x.ya=yu,lt(x.I,x.D,yu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),x=T;var be=d;if(x.qa=ds(x,x.J?x.ia:null,x.W),be.K){hr(x.h,be);var ut=be,mn=x.L;mn&&(ut.I=mn),ut.B&&(Rr(ut),At(ut)),x.g=be}else He(x);0<T.i.length&&Se(T)}else ct[0]!="stop"&&ct[0]!="close"||bn(T,7);else T.G==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?bn(T,7):ve(T):ct[0]!="noop"&&T.l&&T.l.ta(ct),T.v=0)}}Oi(4)}catch{}}var pu=class{constructor(d,v){this.g=d,this.map=v}};function Li(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ta(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function fo(d){return d.h?1:d.g?d.g.size:0}function Mi(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Ui(d,v){d.g?d.g.add(v):d.h=v}function hr(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Li.prototype.cancel=function(){if(this.i=On(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function On(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.D);return v}return V(d.i)}function ho(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],T=d.length,x=0;x<T;x++)v.push(d[x]);return v}v=[],T=0;for(x in d)v[T++]=d[x];return v}function sl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var T=0;T<d;T++)v.push(T);return v}v=[],T=0;for(const x in d)v[T++]=x;return v}}}function Yn(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var T=sl(d),x=ho(d),Z=x.length,ie=0;ie<Z;ie++)v.call(void 0,x[ie],T&&T[ie],d)}var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mo(d,v){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var x=d[T].indexOf("="),Z=null;if(0<=x){var ie=d[T].substring(0,x);Z=d[T].substring(x+1)}else ie=d[T];v(ie,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function hi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof hi){this.h=d.h,Vi(this,d.j),this.o=d.o,this.g=d.g,cs(this,d.s),this.l=d.l;var v=d.i,T=new $r;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),ra(this,T),this.m=d.m}else d&&(v=String(d).match(na))?(this.h=!1,Vi(this,v[1]||"",!0),this.o=Ar(v[2]||""),this.g=Ar(v[3]||"",!0),cs(this,v[4]),this.l=Ar(v[5]||"",!0),ra(this,v[6]||"",!0),this.m=Ar(v[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}hi.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Jn(v,ia,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Jn(v,ia,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Jn(T,T.charAt(0)=="/"?sa:al,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Jn(T,aa)),d.join("")};function Ut(d){return new hi(d)}function Vi(d,v,T){d.j=T?Ar(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function cs(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function ra(d,v,T){v instanceof $r?(d.i=v,la(d.i,d.h)):(T||(v=Jn(v,po)),d.i=new $r(v,d.h))}function lt(d,v,T){d.i.set(v,T)}function ji(d){return lt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ar(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Jn(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,gu),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function gu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ia=/[#\/\?@]/g,al=/[#\?:]/g,sa=/[#\?]/g,po=/[#\?@]/g,aa=/#/g;function $r(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function dr(d){d.g||(d.g=new Map,d.h=0,d.i&&mo(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=$r.prototype,n.add=function(d,v){dr(this),this.i=null,d=di(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function oa(d,v){dr(d),v=di(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Cr(d,v){return dr(d),v=di(d,v),d.g.has(v)}n.forEach=function(d,v){dr(this),this.g.forEach(function(T,x){T.forEach(function(Z){d.call(v,Z,x,this)},this)},this)},n.na=function(){dr(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let x=0;x<v.length;x++){const Z=d[x];for(let ie=0;ie<Z.length;ie++)T.push(v[x])}return T},n.V=function(d){dr(this);let v=[];if(typeof d=="string")Cr(this,d)&&(v=v.concat(this.g.get(di(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)v=v.concat(d[T])}return v},n.set=function(d,v){return dr(this),this.i=null,d=di(this,d),Cr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Gr(d,v,T){oa(d,v),0<T.length&&(d.i=null,d.g.set(di(d,v),V(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var x=v[T];const ie=encodeURIComponent(String(x)),be=this.V(x);for(x=0;x<be.length;x++){var Z=ie;be[x]!==""&&(Z+="="+encodeURIComponent(String(be[x]))),d.push(Z)}}return this.i=d.join("&")};function di(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function la(d,v){v&&!d.j&&(dr(d),d.i=null,d.g.forEach(function(T,x){var Z=x.toLowerCase();x!=Z&&(oa(this,x),Gr(this,Z,T))},d)),d.j=v}function ua(d,v){const T=new Ni;if(h.Image){const x=new Image;x.onload=R(Zn,T,"TestLoadImage: loaded",!0,v,x),x.onerror=R(Zn,T,"TestLoadImage: error",!1,v,x),x.onabort=R(Zn,T,"TestLoadImage: abort",!1,v,x),x.ontimeout=R(Zn,T,"TestLoadImage: timeout",!1,v,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=d}else v(!1)}function Bi(d,v){const T=new Ni,x=new AbortController,Z=setTimeout(()=>{x.abort(),Zn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:x.signal}).then(ie=>{clearTimeout(Z),ie.ok?Zn(T,"TestPingServer: ok",!0,v):Zn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Z),Zn(T,"TestPingServer: error",!1,v)})}function Zn(d,v,T,x,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),x(T)}catch{}}function Kr(){this.g=new Tn}function Ir(d,v,T){const x=T||"";try{Yn(d,function(Z,ie){let be=Z;m(Z)&&(be=Js(Z)),v.push(x+ie+"="+encodeURIComponent(be))})}catch(Z){throw v.push(x+"type="+encodeURIComponent("_badmap")),Z}}function zi(d){this.l=d.Ub||null,this.j=d.eb||!1}A(zi,so),zi.prototype.g=function(){return new mr(this.l,this.j)},zi.prototype.i=function(d){return function(){return d}}({});function mr(d,v){Xt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(mr,Xt),n=mr.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,tr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bn(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bn(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?er(this):tr(this),this.readyState==3&&Bn(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,er(this))},n.Qa=function(d){this.g&&(this.response=d,er(this))},n.ga=function(){this.g&&er(this)};function er(d){d.readyState=4,d.l=null,d.j=null,d.v=null,tr(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function tr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function fs(d){let v="";return ge(d,function(T,x){v+=x,v+=":",v+=T,v+=`\r
`}),v}function an(d,v,T){e:{for(x in T){var x=!1;break e}x=!0}x||(T=fs(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):lt(d,v,T))}function pt(d){Xt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(pt,Xt);var ca=/^https?$/i,mi=["POST","PUT"];n=pt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ki.g(),this.v=this.o?ao(this.o):ao(ki),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(ie){ol(this,ie);return}if(d=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var Z in x)T.set(Z,x[Z]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const ie of x.keys())T.set(ie,x.get(ie));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(ie=>ie.toLowerCase()=="content-type"),Z=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(mi,v,void 0))||x||Z||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,be]of T)this.g.setRequestHeader(ie,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{S(this),this.u=!0,this.g.send(d),this.u=!1}catch(ie){ol(this,ie)}};function ol(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,hs(d),w(d)}function hs(d){d.A||(d.A=!0,qt(d,"complete"),qt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,qt(this,"complete"),qt(this,"abort"),w(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),w(this,!0)),pt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ct(this):this.bb())},n.bb=function(){Ct(this)};function Ct(d){if(d.h&&typeof u<"u"&&(!d.v[1]||N(d)!=4||d.Z()!=2)){if(d.u&&N(d)==4)ro(d.Ea,0,d);else if(qt(d,"readystatechange"),N(d)==4){d.h=!1;try{const be=d.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var x;if(x=be===0){var Z=String(d.D).match(na)[1]||null;!Z&&h.self&&h.self.location&&(Z=h.self.location.protocol.slice(0,-1)),x=!ca.test(Z?Z.toLowerCase():"")}T=x}if(T)qt(d,"complete"),qt(d,"success");else{d.m=6;try{var ie=2<N(d)?d.g.statusText:""}catch{ie=""}d.l=ie+" ["+d.Z()+"]",hs(d)}}finally{w(d)}}}}function w(d,v){if(d.g){S(d);const T=d.g,x=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||qt(d,"ready");try{T.onreadystatechange=x}catch{}}}function S(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function N(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<N(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),zr(v)}};function L(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function F(d){const v={};d=(d.g&&2<=N(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<d.length;x++){if(K(d[x]))continue;var T=z(d[x]);const Z=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ie=v[Z]||[];v[Z]=ie,ie.push(T)}M(v,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function X(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function J(d){this.Aa=0,this.i=[],this.j=new Ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=X("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=X("baseRetryDelayMs",5e3,d),this.cb=X("retryDelaySeedMs",1e4,d),this.Wa=X("forwardChannelMaxRetries",2,d),this.wa=X("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Li(d&&d.concurrentRequestLimit),this.Da=new Kr,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=J.prototype,n.la=8,n.G=1,n.connect=function(d,v,T,x){Mt(0),this.W=d,this.H=v||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.I=ds(this,null,this.W),Se(this)};function ve(d){if(we(d),d.G==3){var v=d.U++,T=Ut(d.I);if(lt(T,"SID",d.K),lt(T,"RID",v),lt(T,"TYPE","terminate"),It(d,T),v=new Wn(d,d.j,v),v.L=2,v.v=ji(Ut(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=v.v,T=!0),T||(v.g=go(v.j,null),v.g.ea(v.v)),v.F=Date.now(),At(v)}Qr(d)}function xe(d){d.g&&(bt(d),d.g.cancel(),d.g=null)}function we(d){xe(d),d.u&&(h.clearTimeout(d.u),d.u=null),Dt(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Se(d){if(!ta(d.h)&&!d.s){d.s=!0;var v=d.Ga;he||q(),de||(he(),de=!0),Oe.add(v,d),d.B=0}}function Pe(d,v){return fo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=xi(_(d.Ga,d,v),on(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Z=new Wn(this,this.j,d);let ie=this.o;if(this.S&&(ie?(ie=P(ie),B(ie,this.S)):ie=this.S),this.m!==null||this.O||(Z.H=ie,ie=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Le(this,Z,v),T=Ut(this.I),lt(T,"RID",d),lt(T,"CVER",22),this.D&&lt(T,"X-HTTP-Session-Id",this.D),It(this,T),ie&&(this.O?v="headers="+encodeURIComponent(String(fs(ie)))+"&"+v:this.m&&an(T,this.m,ie)),Ui(this.h,Z),this.Ua&&lt(T,"TYPE","init"),this.P?(lt(T,"$req",v),lt(T,"SID","null"),Z.T=!0,wr(Z,T,null)):wr(Z,T,v),this.G=2}}else this.G==3&&(d?gt(this,d):this.i.length==0||ta(this.h)||gt(this))};function gt(d,v){var T;v?T=v.l:T=d.U++;const x=Ut(d.I);lt(x,"SID",d.K),lt(x,"RID",T),lt(x,"AID",d.T),It(d,x),d.m&&d.o&&an(x,d.m,d.o),T=new Wn(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Le(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ui(d.h,T),wr(T,x,v)}function It(d,v){d.H&&ge(d.H,function(T,x){lt(v,x,T)}),d.l&&Yn({},function(T,x){lt(v,x,T)})}function Le(d,v,T){T=Math.min(d.i.length,T);var x=d.l?_(d.l.Na,d.l,d):null;e:{var Z=d.i;let ie=-1;for(;;){const be=["count="+T];ie==-1?0<T?(ie=Z[0].g,be.push("ofs="+ie)):ie=0:be.push("ofs="+ie);let ut=!0;for(let mn=0;mn<T;mn++){let ct=Z[mn].g;const wn=Z[mn].map;if(ct-=ie,0>ct)ie=Math.max(0,Z[mn].g-100),ut=!1;else try{Ir(wn,be,"req"+ct+"_")}catch{x&&x(wn)}}if(ut){x=be.join("&");break e}}}return d=d.i.splice(0,T),v.D=d,x}function He(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;he||q(),de||(he(),de=!0),Oe.add(v,d),d.v=0}}function De(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=xi(_(d.Fa,d),on(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Lt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=xi(_(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),xe(this),Lt(this))};function bt(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Lt(d){d.g=new Wn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Ut(d.qa);lt(v,"RID","rpc"),lt(v,"SID",d.K),lt(v,"AID",d.T),lt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&lt(v,"TO",d.ja),lt(v,"TYPE","xmlhttp"),It(d,v),d.m&&d.o&&an(v,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=ji(Ut(v)),T.m=null,T.P=!0,fi(T,d)}n.Za=function(){this.C!=null&&(this.C=null,xe(this),De(this),Mt(19))};function Dt(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function pr(d,v){var T=null;if(d.g==v){Dt(d),bt(d),d.g=null;var x=2}else if(Mi(d.h,v))T=v.D,hr(d.h,v),x=1;else return;if(d.G!=0){if(v.o)if(x==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var Z=d.B;x=Ii(),qt(x,new Yt(x,T)),Se(d)}else He(d);else if(Z=v.s,Z==3||Z==0&&0<v.X||!(x==1&&Pe(d,v)||x==2&&De(d)))switch(T&&0<T.length&&(v=d.h,v.i=v.i.concat(T)),Z){case 1:bn(d,5);break;case 4:bn(d,10);break;case 3:bn(d,6);break;default:bn(d,2)}}}function on(d,v){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*v}function bn(d,v){if(d.j.info("Error code "+v),v==2){var T=_(d.fb,d),x=d.Xa;const Z=!x;x=new hi(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Vi(x,"https"),ji(x),Z?ua(x.toString(),T):Bi(x.toString(),T)}else Mt(2);d.G=0,d.l&&d.l.sa(v),Qr(d),we(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Qr(d){if(d.G=0,d.ka=[],d.l){const v=On(d.h);(v.length!=0||d.i.length!=0)&&(D(d.ka,v),D(d.ka,d.i),d.h.i.length=0,V(d.i),d.i.length=0),d.l.ra()}}function ds(d,v,T){var x=T instanceof hi?Ut(T):new hi(T);if(x.g!="")v&&(x.g=v+"."+x.g),cs(x,x.s);else{var Z=h.location;x=Z.protocol,v=v?v+"."+Z.hostname:Z.hostname,Z=+Z.port;var ie=new hi(null);x&&Vi(ie,x),v&&(ie.g=v),Z&&cs(ie,Z),T&&(ie.l=T),x=ie}return T=d.D,v=d.ya,T&&v&&lt(x,T,v),lt(x,"VER",d.la),It(d,x),x}function go(d,v,T){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new pt(new zi({eb:T})):new pt(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function nf(){}n=nf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ll(){}ll.prototype.g=function(d,v){return new nr(d,v)};function nr(d,v){Xt.call(this),this.g=new J(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!K(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!K(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new qi(this)}A(nr,Xt),nr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nr.prototype.close=function(){ve(this.g)},nr.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Js(d),d=T);v.i.push(new pu(v.Ya++,d)),v.G==3&&Se(v)},nr.prototype.N=function(){this.g.l=null,delete this.j,ve(this.g),delete this.g,nr.aa.N.call(this)};function rf(d){Ci.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const T in v){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}A(rf,Ci);function sf(){br.call(this),this.status=1}A(sf,br);function qi(d){this.g=d}A(qi,nf),qi.prototype.ua=function(){qt(this.g,"a")},qi.prototype.ta=function(d){qt(this.g,new rf(d))},qi.prototype.sa=function(d){qt(this.g,new sf)},qi.prototype.ra=function(){qt(this.g,"b")},ll.prototype.createWebChannel=ll.prototype.g,nr.prototype.send=nr.prototype.o,nr.prototype.open=nr.prototype.m,nr.prototype.close=nr.prototype.close,LR=function(){return new ll},PR=function(){return Ii()},kR=cr,sy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jt.NO_ERROR=0,Jt.TIMEOUT=8,Jt.HTTP_ERROR=6,Th=Jt,ui.COMPLETE="complete",DR=ui,oo.EventType=qr,qr.OPEN="a",qr.CLOSE="b",qr.ERROR="c",qr.MESSAGE="d",Xt.prototype.listen=Xt.prototype.K,dc=oo,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,NR=pt}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const rb="@firebase/firestore",ib="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new Fy("@firebase/firestore");function Ul(){return Ko.logLevel}function Ae(n,...e){if(Ko.logLevel<=rt.DEBUG){const t=e.map(tv);Ko.debug(`Firestore (${ru}): ${n}`,...t)}}function Fs(n,...e){if(Ko.logLevel<=rt.ERROR){const t=e.map(tv);Ko.error(`Firestore (${ru}): ${n}`,...t)}}function Kl(n,...e){if(Ko.logLevel<=rt.WARN){const t=e.map(tv);Ko.warn(`Firestore (${ru}): ${n}`,...t)}}function tv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n="Unexpected state"){const e=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: `+n;throw Fs(e),new Error(e)}function Et(n,e){n||Fe()}function Qe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends us{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Hn.UNAUTHENTICATED))}shutdown(){}}class aP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class oP{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Et(this.o===void 0);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vs,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},h=f=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vs)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string"),new MR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new Hn(e)}}class lP{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class uP{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new lP(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cP{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Pr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Et(this.o===void 0);const r=o=>{o.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,Ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?a(o):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new sb(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Et(typeof t.token=="string"),this.R=t.token,new sb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=fP(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function ot(n,e){return n<e?-1:n>e?1:0}function Ql(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=-62135596800,ob=1e6;class vn{static now(){return vn.fromMillis(Date.now())}static fromDate(e){return vn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ob);return new vn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ab)throw new Ce(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ob}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ab;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new vn(0,0))}static max(){return new $e(new vn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="__name__";class Ji{constructor(e,t,r){t===void 0?t=0:t>e.length&&Fe(),r===void 0?r=e.length-t:r>e.length-t&&Fe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Ji.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Ji.isNumericId(e),a=Ji.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Ji.extractNumericId(e).compare(Ji.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qa.fromString(e.substring(4,e.length-2))}}class kt extends Ji{construct(e,t,r){return new kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new kt(t)}static emptyPath(){return new kt([])}}const hP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends Ji{construct(e,t,r){return new Mn(e,t,r)}static isValidIdentifier(e){return hP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lb}static keyField(){return new Mn([lb])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Ce(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Ce(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ce(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new Ce(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(t)}static emptyPath(){return new Mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(kt.fromString(e))}static fromName(e){return new Ue(kt.fromString(e).popFirst(5))}static empty(){return new Ue(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new kt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=-1;function dP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=$e.fromTimestamp(r===1e9?new vn(t+1,0):new vn(t,r));return new Ga(a,Ue.empty(),e)}function mP(n){return new Ga(n.readTime,n.key,Ic)}class Ga{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ga($e.min(),Ue.empty(),Ic)}static max(){return new Ga($e.max(),Ue.empty(),Ic)}}function pP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ue.comparator(n.documentKey,e.documentKey),t!==0?t:ot(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==gP)throw n;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let a=0,o=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++o,u&&o===a&&t()},f=>r(f))}),u=!0,o===a&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(a=>a?pe.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new pe((r,a)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;t(e[m]).next(y=>{u[m]=y,++h,h===o&&r(u)},y=>a(y))}})}static doWhile(e,t){return new pe((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function vP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function su(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}gd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=-1;function yd(n){return n==null}function jh(n){return n===0&&1/n==-1/0}function _P(n){return typeof n=="number"&&Number.isInteger(n)&&!jh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="";function EP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ub(e)),e=TP(n.get(t),e);return ub(e)}function TP(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case VR:t+="";break;default:t+=o}}return t}function ub(n){return n+VR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function eo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t){this.comparator=e,this.root=t||Ln.EMPTY}insert(e,t){return new zt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ln{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Ln.RED,this.left=a??Ln.EMPTY,this.right=o??Ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Ln(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Ln.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,t,r,a,o){return this}insert(e,t,r){return new Ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fb(this.data.getIterator())}getIteratorFrom(e){return new fb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _n(this.comparator);return t.data=e,t}}class fb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new Lr([])}unionWith(e){let t=new _n(Mn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Lr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ql(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new BR("Invalid base64 string: "+o):o}}(e);return new Un(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Un.EMPTY_BYTE_STRING=new Un("");const bP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ka(n){if(Et(!!n),typeof n=="string"){let e=0;const t=bP.exec(n);if(Et(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:en(n.seconds),nanos:en(n.nanos)}}function en(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qa(n){return typeof n=="string"?Un.fromBase64String(n):Un.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="server_timestamp",qR="__type__",FR="__previous_value__",HR="__local_write_time__";function rv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[qR])===null||t===void 0?void 0:t.stringValue)===zR}function vd(n){const e=n.mapValue.fields[FR];return rv(e)?vd(e):e}function Oc(n){const e=Ka(n.mapValue.fields[HR].timestampValue);return new vn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,t,r,a,o,u,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}const Bh="(default)";class xc{constructor(e,t){this.projectId=e,this.database=t||Bh}static empty(){return new xc("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof xc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="__type__",SP="__max__",oh={mapValue:{}},GR="__vector__",zh="value";function Wa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rv(n)?4:AP(n)?9007199254740991:RP(n)?10:11:Fe()}function as(n,e){if(n===e)return!0;const t=Wa(n);if(t!==Wa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Oc(n).isEqual(Oc(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Ka(a.timestampValue),h=Ka(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return Qa(a.bytesValue).isEqual(Qa(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return en(a.geoPointValue.latitude)===en(o.geoPointValue.latitude)&&en(a.geoPointValue.longitude)===en(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return en(a.integerValue)===en(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=en(a.doubleValue),h=en(o.doubleValue);return u===h?jh(u)===jh(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Ql(n.arrayValue.values||[],e.arrayValue.values||[],as);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(cb(u)!==cb(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!as(u[f],h[f])))return!1;return!0}(n,e);default:return Fe()}}function Nc(n,e){return(n.values||[]).find(t=>as(t,e))!==void 0}function Wl(n,e){if(n===e)return 0;const t=Wa(n),r=Wa(e);if(t!==r)return ot(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ot(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=en(o.integerValue||o.doubleValue),f=en(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return hb(n.timestampValue,e.timestampValue);case 4:return hb(Oc(n),Oc(e));case 5:return ot(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Qa(o),f=Qa(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const y=ot(h[m],f[m]);if(y!==0)return y}return ot(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=ot(en(o.latitude),en(u.latitude));return h!==0?h:ot(en(o.longitude),en(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return db(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,f,m,y;const E=o.fields||{},_=u.fields||{},R=(h=E[zh])===null||h===void 0?void 0:h.arrayValue,A=(f=_[zh])===null||f===void 0?void 0:f.arrayValue,V=ot(((m=R==null?void 0:R.values)===null||m===void 0?void 0:m.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return V!==0?V:db(R,A)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===oh.mapValue&&u===oh.mapValue)return 0;if(o===oh.mapValue)return 1;if(u===oh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=u.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let E=0;E<f.length&&E<y.length;++E){const _=ot(f[E],y[E]);if(_!==0)return _;const R=Wl(h[f[E]],m[y[E]]);if(R!==0)return R}return ot(f.length,y.length)}(n.mapValue,e.mapValue);default:throw Fe()}}function hb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ot(n,e);const t=Ka(n),r=Ka(e),a=ot(t.seconds,r.seconds);return a!==0?a:ot(t.nanos,r.nanos)}function db(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=Wl(t[a],r[a]);if(o)return o}return ot(t.length,r.length)}function Xl(n){return ay(n)}function ay(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ka(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Qa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ue.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=ay(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${ay(t.fields[u])}`;return a+"}"}(n.mapValue):Fe()}function bh(n){switch(Wa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vd(n);return e?16+bh(e):16;case 5:return 2*n.stringValue.length;case 6:return Qa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+bh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return eo(r.fields,(o,u)=>{a+=o.length+bh(u)}),a}(n.mapValue);default:throw Fe()}}function mb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function oy(n){return!!n&&"integerValue"in n}function iv(n){return!!n&&"arrayValue"in n}function pb(n){return!!n&&"nullValue"in n}function gb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wh(n){return!!n&&"mapValue"in n}function RP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[$R])===null||t===void 0?void 0:t.stringValue)===GR}function _c(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return eo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=_c(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_c(n.arrayValue.values[t]);return e}return Object.assign({},n)}function AP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===SP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.value=e}static empty(){return new vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!wh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(t)}setAll(e){let t=Mn.emptyPath(),r={},a=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=h.popLast()}u?r[h.lastSegment()]=_c(u):a.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());wh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];wh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){eo(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new vr(_c(this.value))}}function KR(n){const e=[];return eo(n.fields,(t,r)=>{const a=new Mn([t]);if(wh(r)){const o=KR(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new Lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,t,r,a,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new $n(e,0,$e.min(),$e.min(),$e.min(),vr.empty(),0)}static newFoundDocument(e,t,r,a){return new $n(e,1,t,$e.min(),r,a,0)}static newNoDocument(e,t){return new $n(e,2,t,$e.min(),$e.min(),vr.empty(),0)}static newUnknownDocument(e,t){return new $n(e,3,t,$e.min(),$e.min(),vr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t){this.position=e,this.inclusive=t}}function yb(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?r=Ue.comparator(Ue.fromName(u.referenceValue),t.key):r=Wl(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!as(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t="asc"){this.field=e,this.dir=t}}function CP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{}class dn extends QR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new OP(e,t,r):t==="array-contains"?new DP(e,r):t==="in"?new kP(e,r):t==="not-in"?new PP(e,r):t==="array-contains-any"?new LP(e,r):new dn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new xP(e,r):new NP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Wl(t,this.value)):t!==null&&Wa(this.value)===Wa(t)&&this.matchesComparison(Wl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends QR{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Si(e,t)}matches(e){return WR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function WR(n){return n.op==="and"}function XR(n){return IP(n)&&WR(n)}function IP(n){for(const e of n.filters)if(e instanceof Si)return!1;return!0}function ly(n){if(n instanceof dn)return n.field.canonicalString()+n.op.toString()+Xl(n.value);if(XR(n))return n.filters.map(e=>ly(e)).join(",");{const e=n.filters.map(t=>ly(t)).join(",");return`${n.op}(${e})`}}function YR(n,e){return n instanceof dn?function(r,a){return a instanceof dn&&r.op===a.op&&r.field.isEqual(a.field)&&as(r.value,a.value)}(n,e):n instanceof Si?function(r,a){return a instanceof Si&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,u,h)=>o&&YR(u,a.filters[h]),!0):!1}(n,e):void Fe()}function JR(n){return n instanceof dn?function(t){return`${t.field.canonicalString()} ${t.op} ${Xl(t.value)}`}(n):n instanceof Si?function(t){return t.op.toString()+" {"+t.getFilters().map(JR).join(" ,")+"}"}(n):"Filter"}class OP extends dn{constructor(e,t,r){super(e,t,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const t=Ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class xP extends dn{constructor(e,t){super(e,"in",t),this.keys=ZR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class NP extends dn{constructor(e,t){super(e,"not-in",t),this.keys=ZR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ZR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ue.fromName(r.referenceValue))}class DP extends dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return iv(t)&&Nc(t.arrayValue,this.value)}}class kP extends dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Nc(this.value.arrayValue,t)}}class PP extends dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Nc(this.value.arrayValue,t)}}class LP extends dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!iv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Nc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,t=null,r=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.le=null}}function _b(n,e=null,t=[],r=[],a=null,o=null,u=null){return new MP(n,e,t,r,a,o,u)}function sv(n){const e=Qe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ly(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),yd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Xl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Xl(r)).join(",")),e.le=t}return e.le}function av(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!CP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!YR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vb(n.startAt,e.startAt)&&vb(n.endAt,e.endAt)}function uy(n){return Ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t=null,r=[],a=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function UP(n,e,t,r,a,o,u,h){return new Gc(n,e,t,r,a,o,u,h)}function ov(n){return new Gc(n)}function Eb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function eA(n){return n.collectionGroup!==null}function Ec(n){const e=Qe(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new _n(Mn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Fh(o,r))}),t.has(Mn.keyField().canonicalString())||e.he.push(new Fh(Mn.keyField(),r))}return e.he}function rs(n){const e=Qe(n);return e.Pe||(e.Pe=VP(e,Ec(n))),e.Pe}function VP(n,e){if(n.limitType==="F")return _b(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Fh(a.field,o)});const t=n.endAt?new qh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new qh(n.startAt.position,n.startAt.inclusive):null;return _b(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function cy(n,e){const t=n.filters.concat([e]);return new Gc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Hh(n,e,t){return new Gc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _d(n,e){return av(rs(n),rs(e))&&n.limitType===e.limitType}function tA(n){return`${sv(rs(n))}|lt:${n.limitType}`}function Vl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>JR(a)).join(", ")}]`),yd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Xl(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Xl(a)).join(",")),`Target(${r})`}(rs(n))}; limitType=${n.limitType})`}function Ed(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of Ec(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(u,h,f){const m=yb(u,h,f);return u.inclusive?m<=0:m<0}(r.startAt,Ec(r),a)||r.endAt&&!function(u,h,f){const m=yb(u,h,f);return u.inclusive?m>=0:m>0}(r.endAt,Ec(r),a))}(n,e)}function jP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nA(n){return(e,t)=>{let r=!1;for(const a of Ec(n)){const o=BP(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function BP(n,e,t){const r=n.field.isKeyField()?Ue.comparator(e.key,t.key):function(o,u,h){const f=u.data.field(o),m=h.data.field(o);return f!==null&&m!==null?Wl(f,m):Fe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return jR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=new zt(Ue.comparator);function Hs(){return zP}const rA=new zt(Ue.comparator);function mc(...n){let e=rA;for(const t of n)e=e.insert(t.key,t);return e}function iA(n){let e=rA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function jo(){return Tc()}function sA(){return Tc()}function Tc(){return new tl(n=>n.toString(),(n,e)=>n.isEqual(e))}const qP=new zt(Ue.comparator),FP=new _n(Ue.comparator);function it(...n){let e=FP;for(const t of n)e=e.add(t);return e}const HP=new _n(ot);function $P(){return HP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function aA(n){return{integerValue:""+n}}function GP(n,e){return _P(e)?aA(e):lv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this._=void 0}}function KP(n,e,t){return n instanceof $h?function(a,o){const u={fields:{[qR]:{stringValue:zR},[HR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&rv(o)&&(o=vd(o)),o&&(u.fields[FR]=o),{mapValue:u}}(t,e):n instanceof Dc?lA(n,e):n instanceof kc?uA(n,e):function(a,o){const u=oA(a,o),h=Tb(u)+Tb(a.Ie);return oy(u)&&oy(a.Ie)?aA(h):lv(a.serializer,h)}(n,e)}function QP(n,e,t){return n instanceof Dc?lA(n,e):n instanceof kc?uA(n,e):t}function oA(n,e){return n instanceof Gh?function(r){return oy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class $h extends Td{}class Dc extends Td{constructor(e){super(),this.elements=e}}function lA(n,e){const t=cA(e);for(const r of n.elements)t.some(a=>as(a,r))||t.push(r);return{arrayValue:{values:t}}}class kc extends Td{constructor(e){super(),this.elements=e}}function uA(n,e){let t=cA(e);for(const r of n.elements)t=t.filter(a=>!as(a,r));return{arrayValue:{values:t}}}class Gh extends Td{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Tb(n){return en(n.integerValue||n.doubleValue)}function cA(n){return iv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function WP(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof Dc&&a instanceof Dc||r instanceof kc&&a instanceof kc?Ql(r.elements,a.elements,as):r instanceof Gh&&a instanceof Gh?as(r.Ie,a.Ie):r instanceof $h&&a instanceof $h}(n.transform,e.transform)}class XP{constructor(e,t){this.version=e,this.transformResults=t}}class bi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class bd{}function fA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new uv(n.key,bi.none()):new Kc(n.key,n.data,bi.none());{const t=n.data,r=vr.empty();let a=new _n(Mn.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new to(n.key,r,new Lr(a.toArray()),bi.none())}}function YP(n,e,t){n instanceof Kc?function(a,o,u){const h=a.value.clone(),f=wb(a.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof to?function(a,o,u){if(!Sh(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=wb(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(hA(a)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function bc(n,e,t,r){return n instanceof Kc?function(o,u,h,f){if(!Sh(o.precondition,u))return h;const m=o.value.clone(),y=Sb(o.fieldTransforms,f,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof to?function(o,u,h,f){if(!Sh(o.precondition,u))return h;const m=Sb(o.fieldTransforms,f,u),y=u.data;return y.setAll(hA(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(E=>E.field))}(n,e,t,r):function(o,u,h){return Sh(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function JP(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=oA(r.transform,a||null);o!=null&&(t===null&&(t=vr.empty()),t.set(r.field,o))}return t||null}function bb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ql(r,a,(o,u)=>WP(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Kc extends bd{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class to extends bd{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function hA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function wb(n,e,t){const r=new Map;Et(n.length===t.length);for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,h=e.data.field(o.field);r.set(o.field,QP(u,h,t[a]))}return r}function Sb(n,e,t){const r=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);r.set(a.field,KP(o,u,e))}return r}class uv extends bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZP extends bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&YP(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=bc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=bc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=sA();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(a.key)?null:h;const f=fA(u,h);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),it())}isEqual(e){return this.batchId===e.batchId&&Ql(this.mutations,e.mutations,(t,r)=>bb(t,r))&&Ql(this.baseMutations,e.baseMutations,(t,r)=>bb(t,r))}}class cv{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Et(e.mutations.length===r.length);let a=function(){return qP}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new cv(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,ht;function rL(n){switch(n){case ye.OK:return Fe();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return Fe()}}function dA(n){if(n===void 0)return Fs("GRPC error has no .code"),ye.UNKNOWN;switch(n){case hn.OK:return ye.OK;case hn.CANCELLED:return ye.CANCELLED;case hn.UNKNOWN:return ye.UNKNOWN;case hn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case hn.INTERNAL:return ye.INTERNAL;case hn.UNAVAILABLE:return ye.UNAVAILABLE;case hn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case hn.NOT_FOUND:return ye.NOT_FOUND;case hn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case hn.ABORTED:return ye.ABORTED;case hn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case hn.DATA_LOSS:return ye.DATA_LOSS;default:return Fe()}}(ht=hn||(hn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=new qa([4294967295,4294967295],0);function Rb(n){const e=iL().encode(n),t=new xR;return t.update(e),new Uint8Array(t.digest())}function Ab(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new qa([t,r],0),new qa([a,o],0)]}class fv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new pc(`Invalid padding: ${t}`);if(r<0)throw new pc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new pc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=qa.fromNumber(this.Ee)}Ae(e,t,r){let a=e.add(t.multiply(qa.fromNumber(r)));return a.compare(sL)===1&&(a=new qa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Rb(e),[r,a]=Ab(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,a,o);if(!this.Re(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new fv(o,a,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=Rb(e),[r,a]=Ab(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,a,o);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Qc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new wd($e.min(),a,new zt(ot),Hs(),it())}}class Qc{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Qc(r,t,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t,r,a){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=a}}class mA{constructor(e,t){this.targetId=e,this.ge=t}}class pA{constructor(e,t,r=Un.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Cb{constructor(){this.pe=0,this.ye=Ib(),this.we=Un.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=it(),t=it(),r=it();return this.ye.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Fe()}}),new Qc(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=Ib()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Et(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class aL{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Hs(),this.$e=lh(),this.Ke=lh(),this.Ue=new zt(ot)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,r=e.ge.count,a=this.Xe(t);if(a){const o=a.target;if(uy(o))if(r===0){const u=new Ue(o.path);this.ze(t,u,$n.newNoDocument(u,$e.min()))}else Et(r===1);else{const u=this.et(t);if(u!==r){const h=this.tt(e),f=h?this.nt(h,e,u):1;if(f!==0){this.Ye(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let u,h;try{u=Qa(r).toUint8Array()}catch(f){if(f instanceof BR)return Kl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new fv(u,a,o)}catch(f){return Kl(f instanceof pc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,o,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((o,u)=>{const h=this.Xe(u);if(h){if(o.current&&uy(h.target)){const f=new Ue(h.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,$n.newNoDocument(f,e))}o.ve&&(t.set(u,o.Fe()),o.Me())}});let r=it();this.Ke.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const m=this.Xe(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(e));const a=new wd(e,t,this.Ue,this.Qe,r);return this.Qe=Hs(),this.$e=lh(),this.Ke=lh(),this.Ue=new zt(ot),a}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Cb,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new _n(ot),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new _n(ot),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Cb),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function lh(){return new zt(Ue.comparator)}function Ib(){return new zt(Ue.comparator)}const oL={asc:"ASCENDING",desc:"DESCENDING"},lL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uL={and:"AND",or:"OR"};class cL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fy(n,e){return n.useProto3Json||yd(e)?e:{value:e}}function Kh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function fL(n,e){return Kh(n,e.toTimestamp())}function is(n){return Et(!!n),$e.fromTimestamp(function(t){const r=Ka(t);return new vn(r.seconds,r.nanos)}(n))}function hv(n,e){return hy(n,e).canonicalString()}function hy(n,e){const t=function(a){return new kt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function yA(n){const e=kt.fromString(n);return Et(bA(e)),e}function dy(n,e){return hv(n.databaseId,e.path)}function tg(n,e){const t=yA(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ue(_A(t))}function vA(n,e){return hv(n.databaseId,e)}function hL(n){const e=yA(n);return e.length===4?kt.emptyPath():_A(e)}function my(n){return new kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _A(n){return Et(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Ob(n,e,t){return{name:dy(n,e),fields:t.value.mapValue.fields}}function dL(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(Et(y===void 0||typeof y=="string"),Un.fromBase64String(y||"")):(Et(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Un.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const y=m.code===void 0?ye.UNKNOWN:dA(m.code);return new Ce(y,m.message||"")}(u);t=new pA(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=tg(n,r.document.name),o=is(r.document.updateTime),u=r.document.createTime?is(r.document.createTime):$e.min(),h=new vr({mapValue:{fields:r.document.fields}}),f=$n.newFoundDocument(a,o,u,h),m=r.targetIds||[],y=r.removedTargetIds||[];t=new Rh(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=tg(n,r.document),o=r.readTime?is(r.readTime):$e.min(),u=$n.newNoDocument(a,o),h=r.removedTargetIds||[];t=new Rh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=tg(n,r.document),o=r.removedTargetIds||[];t=new Rh([],o,a,null)}else{if(!("filter"in e))return Fe();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new nL(a,o),h=r.targetId;t=new mA(h,u)}}return t}function mL(n,e){let t;if(e instanceof Kc)t={update:Ob(n,e.key,e.value)};else if(e instanceof uv)t={delete:dy(n,e.key)};else if(e instanceof to)t={update:Ob(n,e.key,e.data),updateMask:wL(e.fieldMask)};else{if(!(e instanceof ZP))return Fe();t={verify:dy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof $h)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Dc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof kc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Gh)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Fe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:fL(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Fe()}(n,e.precondition)),t}function pL(n,e){return n&&n.length>0?(Et(e!==void 0),n.map(t=>function(a,o){let u=a.updateTime?is(a.updateTime):is(o);return u.isEqual($e.min())&&(u=is(o)),new XP(u,a.transformResults||[])}(t,e))):[]}function gL(n,e){return{documents:[vA(n,e.path)]}}function yL(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=vA(n,a);const o=function(m){if(m.length!==0)return TA(Si.create(m,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(y=>function(_){return{field:jl(_.field),direction:EL(_.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=fy(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:a}}function vL(n){let e=hL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Et(r===1);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(E){const _=EA(E);return _ instanceof Si&&XR(_)?_.getFilters():[_]}(t.where));let u=[];t.orderBy&&(u=function(E){return E.map(_=>function(A){return new Fh(Bl(A.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(t.orderBy));let h=null;t.limit&&(h=function(E){let _;return _=typeof E=="object"?E.value:E,yd(_)?null:_}(t.limit));let f=null;t.startAt&&(f=function(E){const _=!!E.before,R=E.values||[];return new qh(R,_)}(t.startAt));let m=null;return t.endAt&&(m=function(E){const _=!E.before,R=E.values||[];return new qh(R,_)}(t.endAt)),UP(e,a,u,o,h,"F",f,m)}function _L(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function EA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Bl(t.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Bl(t.unaryFilter.field);return dn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bl(t.unaryFilter.field);return dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Bl(t.unaryFilter.field);return dn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(n):n.fieldFilter!==void 0?function(t){return dn.create(Bl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Si.create(t.compositeFilter.filters.map(r=>EA(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Fe()}}(t.compositeFilter.op))}(n):Fe()}function EL(n){return oL[n]}function TL(n){return lL[n]}function bL(n){return uL[n]}function jl(n){return{fieldPath:n.canonicalString()}}function Bl(n){return Mn.fromServerFormat(n.fieldPath)}function TA(n){return n instanceof dn?function(t){if(t.op==="=="){if(gb(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NAN"}};if(pb(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gb(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NOT_NAN"}};if(pb(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jl(t.field),op:TL(t.op),value:t.value}}}(n):n instanceof Si?function(t){const r=t.getFilters().map(a=>TA(a));return r.length===1?r[0]:{compositeFilter:{op:bL(t.op),filters:r}}}(n):Fe()}function wL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,t,r,a,o=$e.min(),u=$e.min(),h=Un.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.Tt=e}}function RL(n){const e=vL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(){this.Tn=new CL}addToCollectionParentIndex(e,t){return this.Tn.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(Ga.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(Ga.min())}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class CL{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new _n(kt.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new _n(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wA=41943040;class yr{static withCacheSize(e){return new yr(e,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(wA,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Yl(0)}static Un(){return new Yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="LruGarbageCollector",IL=1048576;function Db([n,e],[t,r]){const a=ot(n,t);return a===0?ot(e,r):a}class OL{constructor(e){this.Hn=e,this.buffer=new _n(Db),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Db(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ae(Nb,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){su(t)?Ae(Nb,"Ignoring IndexedDB error during garbage collection: ",t):await iu(t)}await this.er(3e5)})}}class NL{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return pe.resolve(gd.ae);const r=new OL(t);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(xb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xb):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,a,o,u,h,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,u=Date.now(),this.nthSequenceNumber(e,a))).next(E=>(r=E,h=Date.now(),this.removeTargets(e,r,t))).next(E=>(o=E,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(m=Date.now(),Ul()<=rt.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${E} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:E})))}}function DL(n,e){return new NL(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.changes=new tl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&bc(r.mutation,a,Lr.empty(),vn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,it()).next(()=>r))}getLocalViewOfDocuments(e,t,r=it()){const a=jo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let u=mc();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=jo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,it()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,a){let o=Hs();const u=Tc(),h=function(){return Tc()}();return t.forEach((f,m)=>{const y=r.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof to)?o=o.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),bc(y.mutation,m,y.mutation.getFieldMask(),vn.now())):u.set(m.key,Lr.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((m,y)=>u.set(m,y)),t.forEach((m,y)=>{var E;return h.set(m,new PL(y,(E=u.get(m))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Tc();let a=new zt((u,h)=>u-h),o=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let y=r.get(f)||Lr.empty();y=h.applyToLocalView(m,y),r.set(f,y);const E=(a.get(h.batchId)||it()).add(f);a=a.insert(h.batchId,E)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,y=f.value,E=sA();y.forEach(_=>{if(!o.has(_)){const R=fA(t.get(_),r.get(_));R!==null&&E.set(_,R),o=o.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,E))}return pe.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(u){return Ue.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):eA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):pe.resolve(jo());let h=Ic,f=o;return u.next(m=>pe.forEach(m,(y,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),o.get(y)?pe.resolve():this.remoteDocumentCache.getEntry(e,y).next(_=>{f=f.insert(y,_)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,f,m,it())).next(y=>({batchId:h,changes:iA(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ue(t)).next(r=>{let a=mc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let u=mc();return this.indexManager.getCollectionParents(e,o).next(h=>pe.forEach(h,f=>{const m=function(E,_){return new Gc(_,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next(y=>{y.forEach((E,_)=>{u=u.insert(E,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(u=>{o.forEach((f,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,$n.newInvalidDocument(y)))});let h=mc();return u.forEach((f,m)=>{const y=o.get(f);y!==void 0&&bc(y.mutation,m,Lr.empty(),vn.now()),Ed(t,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return pe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:is(a.createTime)}}(t)),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:RL(a.bundledQuery),readTime:is(a.readTime)}}(t)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(){this.overlays=new zt(Ue.comparator),this.Rr=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=jo();return pe.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.Et(e,t,o)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const a=jo(),o=t.length+1,u=new Ue(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return pe.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new zt((m,y)=>m-y);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=o.get(m.largestBatchId);y===null&&(y=jo(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=jo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,y)=>h.set(m,y)),!(h.size()>=a)););return pe.resolve(h)}Et(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new tL(t,r));let o=this.Rr.get(t);o===void 0&&(o=it(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this.sessionToken=Un.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this.Vr=new _n(Cn.mr),this.gr=new _n(Cn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Cn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Cn(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Ue(new kt([])),r=new Cn(t,e),a=new Cn(t,e+1),o=[];return this.gr.forEachInRange([r,a],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ue(new kt([])),r=new Cn(t,e),a=new Cn(t,e+1);let o=it();return this.gr.forEachInRange([r,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Cn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Cn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ue.comparator(e.key,t.key)||ot(e.Cr,t.Cr)}static pr(e,t){return ot(e.Cr,t.Cr)||Ue.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new _n(Cn.mr)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new eL(o,t,r,a);this.mutationQueue.push(u);for(const h of a)this.Mr=this.Mr.add(new Cn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return pe.resolve(u)}lookupMutationBatch(e,t){return pe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Nr(r),o=a<0?0:a;return pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?nv:this.Fr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Cn(t,0),a=new Cn(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,a],u=>{const h=this.Or(u.Cr);o.push(h)}),pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _n(ot);return t.forEach(a=>{const o=new Cn(a,0),u=new Cn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],h=>{r=r.add(h.Cr)})}),pe.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Ue.isDocumentKey(o)||(o=o.child(""));const u=new Cn(new Ue(o),0);let h=new _n(ot);return this.Mr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(f.Cr)),!0)},u),pe.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Et(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return pe.forEach(t.mutations,a=>{const o=new Cn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Cn(t,0),a=this.Mr.firstAfterOrEqual(r);return pe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.kr=e,this.docs=function(){return new zt(Ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(t))}getEntries(e,t){let r=Hs();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():$n.newInvalidDocument(a))}),pe.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Hs();const u=t.path,h=new Ue(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||pP(mP(y),r)<=0||(a.has(y.key)||Ed(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return pe.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Fe()}qr(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zL(this)}getSize(e){return pe.resolve(this.size)}}class zL extends kL{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.persistence=e,this.Qr=new tl(t=>sv(t),av),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.$r=0,this.Kr=new dv,this.targetCount=0,this.Ur=Yl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,a)=>t(a)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),pe.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Yl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.zn(t),pe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),pe.waitFor(o).next(()=>a)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),pe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new gd(0),this.zr=!1,this.zr=!0,this.jr=new VL,this.referenceDelegate=e(this),this.Hr=new qL(this),this.indexManager=new AL,this.remoteDocumentCache=function(a){return new BL(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new SL(t),this.Yr=new ML(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new UL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new jL(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Ae("MemoryPersistence","Starting transaction:",e);const a=new FL(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(o=>this.referenceDelegate.Xr(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}ei(e,t){return pe.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class FL extends yP{constructor(e){super(),this.currentSequenceNumber=e}}class mv{constructor(e){this.persistence=e,this.ti=new dv,this.ni=null}static ri(e){return new mv(e)}get ii(){if(this.ni)return this.ni;throw Fe()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),pe.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.ii,r=>{const a=Ue.fromPath(r);return this.si(e,a).next(o=>{o||t.removeEntry(a,$e.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return pe.or([()=>pe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Qh{constructor(e,t){this.persistence=e,this.oi=new tl(r=>EP(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=DL(this,t)}static ri(e,t){return new Qh(e,t)}Zr(){}Xr(e){return pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return pe.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(o=>o?pe.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.qr(e,u=>this.ar(e,u,t).next(h=>{h||(r++,o.removeEntry(u,$e.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),pe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),pe.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),pe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bh(e.data.value)),t}ar(e,t,r){return pe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return pe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=a}static Yi(e,t){let r=it(),a=it();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new pv(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return AN()?8:vP(Kn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(e,t,a,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new HL;return this._s(e,t,u).next(h=>{if(o.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>o.result)}us(e,t,r,a){return r.documentReadCount<this.es?(Ul()<=rt.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Vl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),pe.resolve()):(Ul()<=rt.DEBUG&&Ae("QueryEngine","Query:",Vl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(Ul()<=rt.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Vl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rs(t))):pe.resolve())}rs(e,t){if(Eb(t))return pe.resolve(null);let r=rs(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Hh(t,null,"F"),r=rs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=it(...o);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.cs(t,h);return this.ls(t,m,u,f.readTime)?this.rs(e,Hh(t,null,"F")):this.hs(e,m,t,f)}))})))}ss(e,t,r,a){return Eb(t)||a.isEqual($e.min())?pe.resolve(null):this.ns.getDocuments(e,r).next(o=>{const u=this.cs(t,o);return this.ls(t,u,r,a)?pe.resolve(null):(Ul()<=rt.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vl(t)),this.hs(e,u,t,dP(a,Ic)).next(h=>h))})}cs(e,t){let r=new _n(nA(e));return t.forEach((a,o)=>{Ed(e,o)&&(r=r.add(o))}),r}ls(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}_s(e,t,r){return Ul()<=rt.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Vl(t)),this.ns.getDocumentsMatchingQuery(e,t,Ga.min(),r)}hs(e,t,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="LocalStore",GL=3e8;class KL{constructor(e,t,r,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new zt(ot),this.Is=new tl(o=>sv(o),av),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LL(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function QL(n,e,t,r){return new KL(n,e,t,r)}async function RA(n,e){const t=Qe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let f=it();for(const m of a){u.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:h}))})})}function WL(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,f,m,y){const E=m.batch,_=E.keys();let R=pe.resolve();return _.forEach(A=>{R=R.next(()=>y.getEntry(f,A)).next(V=>{const D=m.docVersions.get(A);Et(D!==null),V.version.compareTo(D)<0&&(E.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),y.addEntry(V)))})}),R.next(()=>h.mutationQueue.removeMutationBatch(f,E))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=it();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function AA(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function XL(n,e){const t=Qe(n),r=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const h=[];e.targetChanges.forEach((y,E)=>{const _=a.get(E);if(!_)return;h.push(t.Hr.removeMatchingKeys(o,y.removedDocuments,E).next(()=>t.Hr.addMatchingKeys(o,y.addedDocuments,E)));let R=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(Un.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,r)),a=a.insert(E,R),function(V,D,$){return V.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=GL?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(_,R,y)&&h.push(t.Hr.updateTargetData(o,R))});let f=Hs(),m=it();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(YL(o,u,e.documentUpdates).next(y=>{f=y.Vs,m=y.fs})),!r.isEqual($e.min())){const y=t.Hr.getLastRemoteSnapshotVersion(o).next(E=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(y)}return pe.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,m)).next(()=>f)}).then(o=>(t.Ts=a,o))}function YL(n,e,t){let r=it(),a=it();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Hs();return t.forEach((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual($e.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):Ae(gv,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{Vs:u,fs:a}})}function JL(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=nv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZL(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Hr.getTargetData(r,e).next(o=>o?(a=o,pe.resolve(a)):t.Hr.allocateTargetId(r).next(u=>(a=new ja(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function py(n,e,t){const r=Qe(n),a=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!su(u))throw u;Ae(gv,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function kb(n,e,t){const r=Qe(n);let a=$e.min(),o=it();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,y){const E=Qe(f),_=E.Is.get(y);return _!==void 0?pe.resolve(E.Ts.get(_)):E.Hr.getTargetData(m,y)}(r,u,rs(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?a:$e.min(),t?o:it())).next(h=>(eM(r,jP(e),h),{documents:h,gs:o})))}function eM(n,e,t){let r=n.Es.get(e)||$e.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class Pb{constructor(){this.activeTargetIds=$P()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tM{constructor(){this.ho=new Pb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Pb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="ConnectivityMonitor";class Mb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ae(Lb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ae(Lb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function gy(){return uh===null?uh=function(){return 268435456+Math.round(2147483648*Math.random())}():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="RestConnection",rM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iM{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===Bh?`project_id=${r}`:`project_id=${r}&database_id=${a}`}So(e,t,r,a,o){const u=gy(),h=this.bo(e,t.toUriEncodedString());Ae(ng,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,a,o),this.vo(e,h,f,r).then(m=>(Ae(ng,`Received RPC '${e}' ${u}: `,m),m),m=>{throw Kl(ng,`RPC '${e}' ${u} failed with error: `,m,"url: ",h,"request:",r),m})}Co(e,t,r,a,o,u){return this.So(e,t,r,a,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ru}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}bo(e,t){const r=rM[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection";class aM extends iM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,a){const o=gy();return new Promise((u,h)=>{const f=new NR;f.setWithCredentials(!0),f.listenOnce(DR.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Th.NO_ERROR:const y=f.getResponseJson();Ae(Fn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),u(y);break;case Th.TIMEOUT:Ae(Fn,`RPC '${e}' ${o} timed out`),h(new Ce(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const E=f.getStatus();if(Ae(Fn,`RPC '${e}' ${o} failed with status:`,E,"response text:",f.getResponseText()),E>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const R=_==null?void 0:_.error;if(R&&R.status&&R.message){const A=function(D){const $=D.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf($)>=0?$:ye.UNKNOWN}(R.status);h(new Ce(A,R.message))}else h(new Ce(ye.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Ce(ye.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{Ae(Fn,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(a);Ae(Fn,`RPC '${e}' ${o} sending request:`,a),f.send(t,"POST",m,r,15)})}Wo(e,t,r){const a=gy(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=LR(),h=PR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=o.join("");Ae(Fn,`Creating RPC '${e}' stream ${a}: ${y}`,f);const E=u.createWebChannel(y,f);let _=!1,R=!1;const A=new sM({Fo:D=>{R?Ae(Fn,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(_||(Ae(Fn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),_=!0),Ae(Fn,`RPC '${e}' stream ${a} sending:`,D),E.send(D))},Mo:()=>E.close()}),V=(D,$,K)=>{D.listen($,H=>{try{K(H)}catch(te){setTimeout(()=>{throw te},0)}})};return V(E,dc.EventType.OPEN,()=>{R||(Ae(Fn,`RPC '${e}' stream ${a} transport opened.`),A.Qo())}),V(E,dc.EventType.CLOSE,()=>{R||(R=!0,Ae(Fn,`RPC '${e}' stream ${a} transport closed`),A.Ko())}),V(E,dc.EventType.ERROR,D=>{R||(R=!0,Kl(Fn,`RPC '${e}' stream ${a} transport errored:`,D),A.Ko(new Ce(ye.UNAVAILABLE,"The operation could not be completed")))}),V(E,dc.EventType.MESSAGE,D=>{var $;if(!R){const K=D.data[0];Et(!!K);const H=K,te=(H==null?void 0:H.error)||(($=H[0])===null||$===void 0?void 0:$.error);if(te){Ae(Fn,`RPC '${e}' stream ${a} received error:`,te);const ae=te.status;let ge=function(k){const B=hn[k];if(B!==void 0)return dA(B)}(ae),M=te.message;ge===void 0&&(ge=ye.INTERNAL,M="Unknown error status: "+ae+" with message "+te.message),R=!0,A.Ko(new Ce(ge,M)),E.close()}else Ae(Fn,`RPC '${e}' stream ${a} received:`,K),A.Uo(K)}}),V(h,kR.STAT_EVENT,D=>{D.stat===sy.PROXY?Ae(Fn,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===sy.NOPROXY&&Ae(Fn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}function rg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(n){return new cL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=a,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-r);a>0&&Ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="PersistentStream";class IA{constructor(e,t,r,a,o,u,h,f){this.Ti=e,this.n_=r,this.r_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new CA(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(Fs(t.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===t&&this.V_(r,a)},r=>{e(()=>{const a=new Ce(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ae(Ub,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ae(Ub,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oM extends IA{constructor(e,t,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=dL(this.serializer,e),r=function(o){if(!("targetChange"in o))return $e.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?is(u.readTime):$e.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=my(this.serializer),t.addTarget=function(o,u){let h;const f=u.target;if(h=uy(f)?{documents:gL(o,f)}:{query:yL(o,f).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=gA(o,u.resumeToken);const m=fy(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo($e.min())>0){h.readTime=Kh(o,u.snapshotVersion.toTimestamp());const m=fy(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=_L(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=my(this.serializer),t.removeTarget=e,this.I_(t)}}class lM extends IA{constructor(e,t,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Et(!!e.streamToken),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=pL(e.writeResults,e.commitTime),r=is(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=my(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>mL(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{}class cM extends uM{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Ce(ye.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.So(e,hy(t,r),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ce(ye.UNKNOWN,o.toString())})}Co(e,t,r,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,hy(t,r),a,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ce(ye.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class fM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Fs(t),this.N_=!1):Ae("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="RemoteStore";class hM{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{r.enqueueAndForget(async()=>{nl(this)&&(Ae(Qo,"Restarting streams for network reachability change."),await async function(f){const m=Qe(f);m.W_.add(4),await Wc(m),m.j_.set("Unknown"),m.W_.delete(4),await Rd(m)}(this))})}),this.j_=new fM(r,a)}}async function Rd(n){if(nl(n))for(const e of n.G_)await e(!0)}async function Wc(n){for(const e of n.G_)await e(!1)}function OA(n,e){const t=Qe(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Ev(t)?_v(t):au(t).c_()&&vv(t,e))}function yv(n,e){const t=Qe(n),r=au(t);t.U_.delete(e),r.c_()&&xA(t,e),t.U_.size===0&&(r.c_()?r.P_():nl(t)&&t.j_.set("Unknown"))}function vv(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}au(n).y_(e)}function xA(n,e){n.H_.Ne(e),au(n).w_(e)}function _v(n){n.H_=new aL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),au(n).start(),n.j_.B_()}function Ev(n){return nl(n)&&!au(n).u_()&&n.U_.size>0}function nl(n){return Qe(n).W_.size===0}function NA(n){n.H_=void 0}async function dM(n){n.j_.set("Online")}async function mM(n){n.U_.forEach((e,t)=>{vv(n,e)})}async function pM(n,e){NA(n),Ev(n)?(n.j_.q_(e),_v(n)):n.j_.set("Unknown")}async function gM(n,e,t){if(n.j_.set("Online"),e instanceof pA&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const h of o.targetIds)a.U_.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.U_.delete(h),a.H_.removeTarget(h))}(n,e)}catch(r){Ae(Qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wh(n,r)}else if(e instanceof Rh?n.H_.We(e):e instanceof mA?n.H_.Ze(e):n.H_.je(e),!t.isEqual($e.min()))try{const r=await AA(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.H_.ot(u);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.U_.get(m);y&&o.U_.set(m,y.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,m)=>{const y=o.U_.get(f);if(!y)return;o.U_.set(f,y.withResumeToken(Un.EMPTY_BYTE_STRING,y.snapshotVersion)),xA(o,f);const E=new ja(y.target,f,m,y.sequenceNumber);vv(o,E)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){Ae(Qo,"Failed to raise snapshot:",r),await Wh(n,r)}}async function Wh(n,e,t){if(!su(e))throw e;n.W_.add(1),await Wc(n),n.j_.set("Offline"),t||(t=()=>AA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ae(Qo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Rd(n)})}function DA(n,e){return e().catch(t=>Wh(n,t,e))}async function Ad(n){const e=Qe(n),t=Xa(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:nv;for(;yM(e);)try{const a=await JL(e.localStore,r);if(a===null){e.K_.length===0&&t.P_();break}r=a.batchId,vM(e,a)}catch(a){await Wh(e,a)}kA(e)&&PA(e)}function yM(n){return nl(n)&&n.K_.length<10}function vM(n,e){n.K_.push(e);const t=Xa(n);t.c_()&&t.S_&&t.b_(e.mutations)}function kA(n){return nl(n)&&!Xa(n).u_()&&n.K_.length>0}function PA(n){Xa(n).start()}async function _M(n){Xa(n).C_()}async function EM(n){const e=Xa(n);for(const t of n.K_)e.b_(t.mutations)}async function TM(n,e,t){const r=n.K_.shift(),a=cv.from(r,e,t);await DA(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Ad(n)}async function bM(n,e){e&&Xa(n).S_&&await async function(r,a){if(function(u){return rL(u)&&u!==ye.ABORTED}(a.code)){const o=r.K_.shift();Xa(r).h_(),await DA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await Ad(r)}}(n,e),kA(n)&&PA(n)}async function Vb(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),Ae(Qo,"RemoteStore received new credentials");const r=nl(t);t.W_.add(3),await Wc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Rd(t)}async function wM(n,e){const t=Qe(n);e?(t.W_.delete(2),await Rd(t)):e||(t.W_.add(2),await Wc(t),t.j_.set("Unknown"))}function au(n){return n.J_||(n.J_=function(t,r,a){const o=Qe(t);return o.M_(),new oM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{xo:dM.bind(null,n),No:mM.bind(null,n),Lo:pM.bind(null,n),p_:gM.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Ev(n)?_v(n):n.j_.set("Unknown")):(await n.J_.stop(),NA(n))})),n.J_}function Xa(n){return n.Y_||(n.Y_=function(t,r,a){const o=Qe(t);return o.M_(),new lM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:_M.bind(null,n),Lo:bM.bind(null,n),D_:EM.bind(null,n),v_:TM.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Ad(n)):(await n.Y_.stop(),n.K_.length>0&&(Ae(Qo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const u=Date.now()+r,h=new Tv(e,t,u,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bv(n,e){if(Fs("AsyncQueue",`${e}: ${n}`),su(n))return new Ce(ye.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{static emptySet(e){return new Gl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ue.comparator(t.key,r.key):(t,r)=>Ue.comparator(t.key,r.key),this.keyedMap=mc(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Gl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.Z_=new zt(Ue.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Fe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Jl{constructor(e,t,r,a,o,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,a,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Jl(e,t,Gl.emptySet(t),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class RM{constructor(){this.queries=Bb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const a=Qe(t),o=a.queries;a.queries=Bb(),o.forEach((u,h)=>{for(const f of h.ta)f.onError(r)})})(this,new Ce(ye.ABORTED,"Firestore shutting down"))}}function Bb(){return new tl(n=>tA(n),_d)}async function LA(n,e){const t=Qe(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.na()&&e.ra()&&(r=2):(o=new SM,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(a,!0);break;case 1:o.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=bv(u,`Initialization of query '${Vl(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&wv(t)}async function MA(n,e){const t=Qe(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const u=o.ta.indexOf(e);u>=0&&(o.ta.splice(u,1),o.ta.length===0?a=e.ra()?0:1:!o.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function AM(n,e){const t=Qe(n);let r=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const h of u.ta)h.oa(a)&&(r=!0);u.ea=a}}r&&wv(t)}function CM(n,e,t){const r=Qe(n),a=r.queries.get(e);if(a)for(const o of a.ta)o.onError(t);r.queries.delete(e)}function wv(n){n.ia.forEach(e=>{e.next()})}var yy,zb;(zb=yy||(yy={}))._a="default",zb.Cache="cache";class UA{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Jl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==yy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.key=e}}class jA{constructor(e){this.key=e}}class IM{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=it(),this.mutatedKeys=it(),this.ya=nA(e),this.wa=new Gl(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new jb,a=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,E)=>{const _=a.get(y),R=Ed(this.query,E)?E:null,A=!!_&&this.mutatedKeys.has(_.key),V=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let D=!1;_&&R?_.data.isEqual(R.data)?A!==V&&(r.track({type:3,doc:R}),D=!0):this.va(_,R)||(r.track({type:2,doc:R}),D=!0,(f&&this.ya(R,f)>0||m&&this.ya(R,m)<0)&&(h=!0)):!_&&R?(r.track({type:0,doc:R}),D=!0):_&&!R&&(r.track({type:1,doc:_}),D=!0,(f||m)&&(h=!0)),D&&(R?(u=u.add(R),o=V?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{wa:u,Da:r,ls:h,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((y,E)=>function(R,A){const V=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return V(R)-V(A)}(y.type,E.type)||this.ya(y.doc,E.doc)),this.Ca(r),a=a!=null&&a;const h=t&&!a?this.Fa():[],f=this.pa.size===0&&this.current&&!a?1:0,m=f!==this.ga;return this.ga=f,u.length!==0||m?{snapshot:new Jl(this.query,e.wa,o,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new jb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=it(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new jA(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new VA(r))}),t}Oa(e){this.fa=e.gs,this.pa=it();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Jl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Sv="SyncEngine";class OM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class xM{constructor(e){this.key=e,this.Ba=!1}}class NM{constructor(e,t,r,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new tl(h=>tA(h),_d),this.qa=new Map,this.Qa=new Set,this.$a=new zt(Ue.comparator),this.Ka=new Map,this.Ua=new dv,this.Wa={},this.Ga=new Map,this.za=Yl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function DM(n,e,t=!0){const r=$A(n);let a;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.Na()):a=await BA(r,e,t,!0),a}async function kM(n,e){const t=$A(n);await BA(t,e,!0,!1)}async function BA(n,e,t,r){const a=await ZL(n.localStore,rs(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await PM(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&OA(n.remoteStore,a),h}async function PM(n,e,t,r,a){n.Ha=(E,_,R)=>async function(V,D,$,K){let H=D.view.ba($);H.ls&&(H=await kb(V.localStore,D.query,!1).then(({documents:M})=>D.view.ba(M,H)));const te=K&&K.targetChanges.get(D.targetId),ae=K&&K.targetMismatches.get(D.targetId)!=null,ge=D.view.applyChanges(H,V.isPrimaryClient,te,ae);return Fb(V,D.targetId,ge.Ma),ge.snapshot}(n,E,_,R);const o=await kb(n.localStore,e,!0),u=new IM(e,o.gs),h=u.ba(o.documents),f=Qc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),m=u.applyChanges(h,n.isPrimaryClient,f);Fb(n,t,m.Ma);const y=new OM(e,t,u);return n.ka.set(e,y),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function LM(n,e,t){const r=Qe(n),a=r.ka.get(e),o=r.qa.get(a.targetId);if(o.length>1)return r.qa.set(a.targetId,o.filter(u=>!_d(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await py(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&yv(r.remoteStore,a.targetId),vy(r,a.targetId)}).catch(iu)):(vy(r,a.targetId),await py(r.localStore,a.targetId,!0))}async function MM(n,e){const t=Qe(n),r=t.ka.get(e),a=t.qa.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),yv(t.remoteStore,r.targetId))}async function UM(n,e,t){const r=HM(n);try{const a=await function(u,h){const f=Qe(u),m=vn.now(),y=h.reduce((R,A)=>R.add(A.key),it());let E,_;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>{let A=Hs(),V=it();return f.ds.getEntries(R,y).next(D=>{A=D,A.forEach(($,K)=>{K.isValidDocument()||(V=V.add($))})}).next(()=>f.localDocuments.getOverlayedDocuments(R,A)).next(D=>{E=D;const $=[];for(const K of h){const H=JP(K,E.get(K.key).overlayedDocument);H!=null&&$.push(new to(K.key,H,KR(H.value.mapValue),bi.exists(!0)))}return f.mutationQueue.addMutationBatch(R,m,$,h)}).next(D=>{_=D;const $=D.applyToLocalDocumentSet(E,V);return f.documentOverlayCache.saveOverlays(R,D.batchId,$)})}).then(()=>({batchId:_.batchId,changes:iA(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,h,f){let m=u.Wa[u.currentUser.toKey()];m||(m=new zt(ot)),m=m.insert(h,f),u.Wa[u.currentUser.toKey()]=m}(r,a.batchId,t),await Xc(r,a.changes),await Ad(r.remoteStore)}catch(a){const o=bv(a,"Failed to persist write");t.reject(o)}}async function zA(n,e){const t=Qe(n);try{const r=await XL(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t.Ka.get(o);u&&(Et(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.Ba=!0:a.modifiedDocuments.size>0?Et(u.Ba):a.removedDocuments.size>0&&(Et(u.Ba),u.Ba=!1))}),await Xc(t,r,e)}catch(r){await iu(r)}}function qb(n,e,t){const r=Qe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ka.forEach((o,u)=>{const h=u.view.sa(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const f=Qe(u);f.onlineState=h;let m=!1;f.queries.forEach((y,E)=>{for(const _ of E.ta)_.sa(h)&&(m=!0)}),m&&wv(f)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VM(n,e,t){const r=Qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Ka.get(e),o=a&&a.key;if(o){let u=new zt(Ue.comparator);u=u.insert(o,$n.newNoDocument(o,$e.min()));const h=it().add(o),f=new wd($e.min(),new Map,new zt(ot),u,h);await zA(r,f),r.$a=r.$a.remove(o),r.Ka.delete(e),Rv(r)}else await py(r.localStore,e,!1).then(()=>vy(r,e,t)).catch(iu)}async function jM(n,e){const t=Qe(n),r=e.batch.batchId;try{const a=await WL(t.localStore,e);FA(t,r,null),qA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Xc(t,a)}catch(a){await iu(a)}}async function BM(n,e,t){const r=Qe(n);try{const a=await function(u,h){const f=Qe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return f.mutationQueue.lookupMutationBatch(m,h).next(E=>(Et(E!==null),y=E.keys(),f.mutationQueue.removeMutationBatch(m,E))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>f.localDocuments.getDocuments(m,y))})}(r.localStore,e);FA(r,e,t),qA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Xc(r,a)}catch(a){await iu(a)}}function qA(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function FA(n,e,t){const r=Qe(n);let a=r.Wa[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function vy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||HA(n,r)})}function HA(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(yv(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Rv(n))}function Fb(n,e,t){for(const r of t)r instanceof VA?(n.Ua.addReference(r.key,e),zM(n,r)):r instanceof jA?(Ae(Sv,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||HA(n,r.key)):Fe()}function zM(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Ae(Sv,"New document in limbo: "+t),n.Qa.add(r),Rv(n))}function Rv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ue(kt.fromString(e)),r=n.za.next();n.Ka.set(r,new xM(t)),n.$a=n.$a.insert(t,r),OA(n.remoteStore,new ja(rs(ov(t.path)),r,"TargetPurposeLimboResolution",gd.ae))}}async function Xc(n,e,t){const r=Qe(n),a=[],o=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,f)=>{u.push(r.Ha(f,e,t).then(m=>{var y;if((m||t)&&r.isPrimaryClient){const E=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,E?"current":"not-current")}if(m){a.push(m);const E=pv.Yi(f.targetId,m);o.push(E)}}))}),await Promise.all(u),r.La.p_(a),await async function(f,m){const y=Qe(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>pe.forEach(m,_=>pe.forEach(_.Hi,R=>y.persistence.referenceDelegate.addReference(E,_.targetId,R)).next(()=>pe.forEach(_.Ji,R=>y.persistence.referenceDelegate.removeReference(E,_.targetId,R)))))}catch(E){if(!su(E))throw E;Ae(gv,"Failed to update sequence numbers: "+E)}for(const E of m){const _=E.targetId;if(!E.fromCache){const R=y.Ts.get(_),A=R.snapshotVersion,V=R.withLastLimboFreeSnapshotVersion(A);y.Ts=y.Ts.insert(_,V)}}}(r.localStore,o))}async function qM(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){Ae(Sv,"User change. New user:",e.toKey());const r=await RA(t.localStore,e);t.currentUser=e,function(o,u){o.Ga.forEach(h=>{h.forEach(f=>{f.reject(new Ce(ye.CANCELLED,u))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xc(t,r.Rs)}}function FM(n,e){const t=Qe(n),r=t.Ka.get(e);if(r&&r.Ba)return it().add(r.key);{let a=it();const o=t.qa.get(e);if(!o)return a;for(const u of o){const h=t.ka.get(u);a=a.unionWith(h.view.Sa)}return a}}function $A(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VM.bind(null,e),e.La.p_=AM.bind(null,e.eventManager),e.La.Ja=CM.bind(null,e.eventManager),e}function HM(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BM.bind(null,e),e}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return QL(this.persistence,new $L,e.initialUser,this.serializer)}Xa(e){return new SA(mv.ri,this.serializer)}Za(e){return new tM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class $M extends Xh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Et(this.persistence.referenceDelegate instanceof Qh);const r=this.persistence.referenceDelegate.garbageCollector;return new xL(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new SA(r=>Qh.ri(r,t),this.serializer)}}class _y{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qM.bind(null,this.syncEngine),await wM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RM}()}createDatastore(e){const t=Sd(e.databaseInfo.databaseId),r=function(o){return new aM(o)}(e.databaseInfo);return function(o,u,h,f){return new cM(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,u,h){return new hM(r,a,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>qb(this.syncEngine,t,0),function(){return Mb.D()?new Mb:new nM}())}createSyncEngine(e,t){return function(a,o,u,h,f,m,y){const E=new NM(a,o,u,h,f,m);return y&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=Qe(a);Ae(Qo,"RemoteStore shutting down."),o.W_.add(5),await Wc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}_y.provider={build:()=>new _y};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Fs("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="FirestoreClient";class GM{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Hn.UNAUTHENTICATED,this.clientId=UR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Ae(Ya,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ae(Ya,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=bv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ig(n,e){n.asyncQueue.verifyOperationInProgress(),Ae(Ya,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await RA(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Hb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await KM(n);Ae(Ya,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Vb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>Vb(e.remoteStore,a)),n._onlineComponents=e}async function KM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ae(Ya,"Using user provided OfflineComponentProvider");try{await ig(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ye.FAILED_PRECONDITION||a.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Kl("Error using user provided cache. Falling back to memory cache: "+t),await ig(n,new Xh)}}else Ae(Ya,"Using default OfflineComponentProvider"),await ig(n,new $M(void 0));return n._offlineComponents}async function KA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ae(Ya,"Using user provided OnlineComponentProvider"),await Hb(n,n._uninitializedComponentsProvider._online)):(Ae(Ya,"Using default OnlineComponentProvider"),await Hb(n,new _y))),n._onlineComponents}function QM(n){return KA(n).then(e=>e.syncEngine)}async function QA(n){const e=await KA(n),t=e.eventManager;return t.onListen=DM.bind(null,e.syncEngine),t.onUnlisten=LM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=kM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=MM.bind(null,e.syncEngine),t}function WM(n,e,t={}){const r=new Vs;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,m){const y=new GA({next:_=>{y.su(),u.enqueueAndForget(()=>MA(o,E));const R=_.docs.has(h);!R&&_.fromCache?m.reject(new Ce(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&_.fromCache&&f&&f.source==="server"?m.reject(new Ce(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),E=new UA(ov(h.path),y,{includeMetadataChanges:!0,Ta:!0});return LA(o,E)}(await QA(n),n.asyncQueue,e,t,r)),r.promise}function XM(n,e,t={}){const r=new Vs;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,m){const y=new GA({next:_=>{y.su(),u.enqueueAndForget(()=>MA(o,E)),_.fromCache&&f.source==="server"?m.reject(new Ce(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:_=>m.reject(_)}),E=new UA(h,y,{includeMetadataChanges:!0,Ta:!0});return LA(o,E)}(await QA(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(n,e,t){if(!t)throw new Ce(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function YM(n,e,t,r){if(e===!0&&r===!0)throw new Ce(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Gb(n){if(!Ue.isDocumentKey(n))throw new Ce(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Kb(n){if(Ue.isDocumentKey(n))throw new Ce(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Cd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe()}function $s(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Cd(n);throw new Ce(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firestore.googleapis.com",Qb=!0;class Wb{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YA,this.ssl=Qb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Qb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IL)throw new Ce(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ce(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ce(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ce(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Id{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sP;switch(r.type){case"firstParty":return new uP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=$b.get(t);r&&(Ae("ComponentProvider","Removing Datastore"),$b.delete(t),r.terminate())}(this),Promise.resolve()}}function JM(n,e,t,r={}){var a;const o=(n=$s(n,Id))._getSettings(),u=`${e}:${t}`;if(o.host!==YA&&o.host!==u&&Kl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),r.mockUserToken){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Hn.MOCK_USER;else{h=FS(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Ce(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Hn(m)}n._authCredentials=new aP(new MR(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rl(this.firestore,e,this._query)}}class _r{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}}class Fa extends rl{constructor(e,t,r){super(e,t,ov(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new Ue(e))}withConverter(e){return new Fa(this.firestore,e,this._path)}}function _i(n,e,...t){if(n=tn(n),XA("collection","path",e),n instanceof Id){const r=kt.fromString(e,...t);return Kb(r),new Fa(n,null,r)}{if(!(n instanceof _r||n instanceof Fa))throw new Ce(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kt.fromString(e,...t));return Kb(r),new Fa(n.firestore,null,r)}}function Xi(n,e,...t){if(n=tn(n),arguments.length===1&&(e=UR.newId()),XA("doc","path",e),n instanceof Id){const r=kt.fromString(e,...t);return Gb(r),new _r(n,null,new Ue(r))}{if(!(n instanceof _r||n instanceof Fa))throw new Ce(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kt.fromString(e,...t));return Gb(r),new _r(n.firestore,n instanceof Fa?n.converter:null,new Ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="AsyncQueue";class Yb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new CA(this,"async_queue_retry"),this.Su=()=>{const r=rg();r&&Ae(Xb,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=rg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=rg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Vs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!su(e))throw e;Ae(Xb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Fs("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Tv.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(a),a}Du(){this.gu&&Fe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class ou extends Id{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new Yb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yb(e),this._firestoreClient=void 0,await e}}}function ZM(n,e){const t=typeof n=="object"?n:$y(),r=typeof n=="string"?n:Bh,a=hd(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=BS("firestore");o&&JM(a,...o)}return a}function Av(n){if(n._terminated)throw new Ce(ye.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||eU(n),n._firestoreClient}function eU(n){var e,t,r;const a=n._freezeSettings(),o=function(h,f,m,y){return new wP(h,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,WA(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new GM(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zl(Un.fromBase64String(e))}catch(t){throw new Ce(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zl(Un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=/^__.*__$/;class nU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kc(e,this.data,t,this.fieldTransforms)}}class JA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new to(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ZA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class xv{constructor(e,t,r,a,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new xv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Yh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(ZA(this.Lu)&&tU.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class rU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Sd(e)}ju(e,t,r,a=!1){return new xv({Lu:e,methodName:t,zu:r,path:Mn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nv(n){const e=n._freezeSettings(),t=Sd(n._databaseId);return new rU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iU(n,e,t,r,a,o={}){const u=n.ju(o.merge||o.mergeFields?2:0,e,t,a);Dv("Data must be an object, but it was:",u,r);const h=e1(r,u);let f,m;if(o.merge)f=new Lr(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const E of o.mergeFields){const _=Ey(e,E,t);if(!u.contains(_))throw new Ce(ye.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);n1(y,_)||y.push(_)}f=new Lr(y),m=u.fieldTransforms.filter(E=>f.covers(E.field))}else f=null,m=u.fieldTransforms;return new nU(new vr(h),f,m)}class xd extends Cv{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xd}}function sU(n,e,t,r){const a=n.ju(1,e,t);Dv("Data must be an object, but it was:",a,r);const o=[],u=vr.empty();eo(r,(f,m)=>{const y=kv(e,f,t);m=tn(m);const E=a.Ku(y);if(m instanceof xd)o.push(y);else{const _=Yc(m,E);_!=null&&(o.push(y),u.set(y,_))}});const h=new Lr(o);return new JA(u,h,a.fieldTransforms)}function aU(n,e,t,r,a,o){const u=n.ju(1,e,t),h=[Ey(e,r,t)],f=[a];if(o.length%2!=0)throw new Ce(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)h.push(Ey(e,o[_])),f.push(o[_+1]);const m=[],y=vr.empty();for(let _=h.length-1;_>=0;--_)if(!n1(m,h[_])){const R=h[_];let A=f[_];A=tn(A);const V=u.Ku(R);if(A instanceof xd)m.push(R);else{const D=Yc(A,V);D!=null&&(m.push(R),y.set(R,D))}}const E=new Lr(m);return new JA(y,E,u.fieldTransforms)}function oU(n,e,t,r=!1){return Yc(t,n.ju(r?4:3,e))}function Yc(n,e){if(t1(n=tn(n)))return Dv("Unsupported field value:",e,n),e1(n,e);if(n instanceof Cv)return function(r,a){if(!ZA(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const o=[];let u=0;for(const h of r){let f=Yc(h,a.Uu(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GP(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=vn.fromDate(r);return{timestampValue:Kh(a.serializer,o)}}if(r instanceof vn){const o=new vn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kh(a.serializer,o)}}if(r instanceof Iv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zl)return{bytesValue:gA(a.serializer,r._byteString)};if(r instanceof _r){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Ov)return function(u,h){return{mapValue:{fields:{[$R]:{stringValue:GR},[zh]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.Wu("VectorValues must only contain numeric values.");return lv(h.serializer,m)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${Cd(r)}`)}(n,e)}function e1(n,e){const t={};return jR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(n,(r,a)=>{const o=Yc(a,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function t1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vn||n instanceof Iv||n instanceof Zl||n instanceof _r||n instanceof Cv||n instanceof Ov)}function Dv(n,e,t){if(!t1(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=Cd(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Ey(n,e,t){if((e=tn(e))instanceof Od)return e._internalPath;if(typeof e=="string")return kv(n,e);throw Yh("Field path arguments must be of type string or ",n,!1,void 0,t)}const lU=new RegExp("[~\\*/\\[\\]]");function kv(n,e,t){if(e.search(lU)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Od(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yh(n,e,t,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new Ce(ye.INVALID_ARGUMENT,h+n+f)}function n1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class uU extends r1{data(){return super.data()}}function Pv(n,e){return typeof e=="string"?kv(n,e):e instanceof Od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ce(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lv{}class i1 extends Lv{}function ac(n,e,...t){let r=[];e instanceof Lv&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof Mv).length,h=o.filter(f=>f instanceof Nd).length;if(u>1||u>0&&h>0)throw new Ce(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class Nd extends i1{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Nd(e,t,r)}_apply(e){const t=this._parse(e);return s1(e._query,t),new rl(e.firestore,e.converter,cy(e._query,t))}_parse(e){const t=Nv(e.firestore);return function(o,u,h,f,m,y,E){let _;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Ce(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){ew(E,y);const A=[];for(const V of E)A.push(Zb(f,o,V));_={arrayValue:{values:A}}}else _=Zb(f,o,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||ew(E,y),_=oU(h,u,E,y==="in"||y==="not-in");return dn.create(m,y,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function oc(n,e,t){const r=e,a=Pv("where",n);return Nd._create(a,r,t)}class Mv extends Lv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Si.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let u=a;const h=o.getFlattenedFilters();for(const f of h)s1(u,f),u=cy(u,f)}(e._query,t),new rl(e.firestore,e.converter,cy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Uv extends i1{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Uv(e,t,r)}_apply(e){return new rl(e.firestore,e.converter,Hh(e._query,this._limit,this._limitType))}}function Jb(n){return Uv._create("limit",n,"F")}function Zb(n,e,t){if(typeof(t=tn(t))=="string"){if(t==="")throw new Ce(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eA(e)&&t.indexOf("/")!==-1)throw new Ce(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(kt.fromString(t));if(!Ue.isDocumentKey(r))throw new Ce(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mb(n,new Ue(r))}if(t instanceof _r)return mb(n,t._key);throw new Ce(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cd(t)}.`)}function ew(n,e){if(!Array.isArray(n)||n.length===0)throw new Ce(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function s1(n,e){const t=function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ce(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class fU{convertValue(e,t="none"){switch(Wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return eo(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[zh].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>en(u.doubleValue));return new Ov(o)}convertGeoPoint(e){return new Iv(en(e.latitude),en(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const t=Ka(e);return new vn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=kt.fromString(e);Et(bA(r));const a=new xc(r.get(1),r.get(3)),o=new Ue(r.popFirst(5));return a.isEqual(t)||Fs(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class a1 extends r1{constructor(e,t,r,a,o,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Pv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ah extends a1{data(e={}){return super.data(e)}}class dU{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new gc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ah(this._firestore,this._userDataWriter,r.key,r,new gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const f=new Ah(a._firestore,a._userDataWriter,h.doc.key,h.doc,new gc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new Ah(a._firestore,a._userDataWriter,h.doc.key,h.doc,new gc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:mU(h.type),doc:f,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function mU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(n){n=$s(n,_r);const e=$s(n.firestore,ou);return WM(Av(e),n._key).then(t=>gU(e,n,t))}class o1 extends fU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,t)}}function xs(n){n=$s(n,rl);const e=$s(n.firestore,ou),t=Av(e),r=new o1(e);return cU(n._query),XM(t,n._query).then(a=>new dU(e,r,n,a))}function tw(n,e,t,...r){n=$s(n,_r);const a=$s(n.firestore,ou),o=Nv(a);let u;return u=typeof(e=tn(e))=="string"||e instanceof Od?aU(o,"updateDoc",n._key,e,t,r):sU(o,"updateDoc",n._key,e),Vv(a,[u.toMutation(n._key,bi.exists(!0))])}function pU(n){return Vv($s(n.firestore,ou),[new uv(n._key,bi.none())])}function nw(n,e){const t=$s(n.firestore,ou),r=Xi(n),a=hU(n.converter,e);return Vv(t,[iU(Nv(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,bi.exists(!1))]).then(()=>r)}function Vv(n,e){return function(r,a){const o=new Vs;return r.asyncQueue.enqueueAndForget(async()=>UM(await QM(r),a,o)),o.promise}(Av(n),e)}function gU(n,e,t){const r=t.docs.get(e._key),a=new o1(n);return new a1(n,a,e._key,r,new gc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){ru=a})(Zo),Ho(new $a("firestore",(r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new ou(new oP(r.getProvider("auth-internal")),new cP(u,r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ce(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xc(m.options.projectId,y)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),es(rb,ib,e),es(rb,ib,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="firebasestorage.googleapis.com",u1="storageBucket",yU=2*60*1e3,vU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt extends us{constructor(e,t,r=0){super(sg(e),`Firebase Storage: ${t} (${sg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Kt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Kt||(Kt={}));function sg(n){return"storage/"+n}function jv(){const n="An unknown error occurred, please check the error payload for server response.";return new Wt(Kt.UNKNOWN,n)}function _U(n){return new Wt(Kt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function EU(n){return new Wt(Kt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function TU(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wt(Kt.UNAUTHENTICATED,n)}function bU(){return new Wt(Kt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wU(n){return new Wt(Kt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function SU(){return new Wt(Kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RU(){return new Wt(Kt.CANCELED,"User canceled the upload/download.")}function AU(n){return new Wt(Kt.INVALID_URL,"Invalid URL '"+n+"'.")}function CU(n){return new Wt(Kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function IU(){return new Wt(Kt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+u1+"' property when initializing the app?")}function OU(){return new Wt(Kt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xU(){return new Wt(Kt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function NU(n){return new Wt(Kt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ty(n){return new Wt(Kt.INVALID_ARGUMENT,n)}function c1(){return new Wt(Kt.APP_DELETED,"The Firebase app was deleted.")}function DU(n){return new Wt(Kt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wc(n,e){return new Wt(Kt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function lc(n){throw new Wt(Kt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Mr.makeFromUrl(e,t)}catch{return new Mr(e,"")}if(r.path==="")return r;throw CU(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),f={bucket:1,path:3};function m(te){te.path_=decodeURIComponent(te.path)}const y="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",R=new RegExp(`^https?://${E}/${y}/b/${a}/o${_}`,"i"),A={bucket:1,path:3},V=t===l1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",$=new RegExp(`^https?://${V}/${a}/${D}`,"i"),H=[{regex:h,indices:f,postModify:o},{regex:R,indices:A,postModify:m},{regex:$,indices:{bucket:1,path:2},postModify:m}];for(let te=0;te<H.length;te++){const ae=H[te],ge=ae.regex.exec(e);if(ge){const M=ge[ae.indices.bucket];let P=ge[ae.indices.path];P||(P=""),r=new Mr(M,P),ae.postModify(r);break}}if(r==null)throw AU(e);return r}}class kU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(n,e,t){let r=1,a=null,o=null,u=!1,h=0;function f(){return h===2}let m=!1;function y(...D){m||(m=!0,e.apply(null,D))}function E(D){a=setTimeout(()=>{a=null,n(R,f())},D)}function _(){o&&clearTimeout(o)}function R(D,...$){if(m){_();return}if(D){_(),y.call(null,D,...$);return}if(f()||u){_(),y.call(null,D,...$);return}r<64&&(r*=2);let H;h===1?(h=2,H=0):H=(r+Math.random())*1e3,E(H)}let A=!1;function V(D){A||(A=!0,_(),!m&&(a!==null?(D||(h=2),clearTimeout(a),E(0)):D||(h=1)))}return E(0),o=setTimeout(()=>{u=!0,V(!0)},t),V}function LU(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(n){return n!==void 0}function UU(n){return typeof n=="object"&&!Array.isArray(n)}function Bv(n){return typeof n=="string"||n instanceof String}function rw(n){return zv()&&n instanceof Blob}function zv(){return typeof Blob<"u"}function iw(n,e,t,r){if(r<e)throw Ty(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Ty(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function f1(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var zo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(zo||(zo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,t,r,a,o,u,h,f,m,y,E,_=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=E,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,A)=>{this.resolve_=R,this.reject_=A,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new ch(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===zo.NO_ERROR,f=o.getStatus();if(!h||VU(f,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===zo.ABORT;r(!1,new ch(!1,null,y));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new ch(m,o))})},t=(r,a)=>{const o=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());MU(f)?o(f):o()}catch(f){u(f)}else if(h!==null){const f=jv();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(a.canceled){const f=this.appDelete_?c1():RU();u(f)}else{const f=SU();u(f)}};this.canceled_?t(!1,new ch(!1,null,!0)):this.backoffId_=PU(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ch{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function BU(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function zU(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qU(n,e){e&&(n["X-Firebase-GMPID"]=e)}function FU(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function HU(n,e,t,r,a,o,u=!0){const h=f1(n.urlParams),f=n.url+h,m=Object.assign({},n.headers);return qU(m,e),BU(m,t),zU(m,o),FU(m,r),new jU(f,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function GU(...n){const e=$U();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(zv())return new Blob(n);throw new Wt(Kt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function KU(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(n){if(typeof atob>"u")throw NU("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ag{constructor(e,t){this.data=e,this.contentType=t||null}}function WU(n,e){switch(n){case Zi.RAW:return new ag(h1(e));case Zi.BASE64:case Zi.BASE64URL:return new ag(d1(n,e));case Zi.DATA_URL:return new ag(YU(e),JU(e))}throw jv()}function h1(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,u=n.charCodeAt(++t);r=65536|(o&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function XU(n){let e;try{e=decodeURIComponent(n)}catch{throw wc(Zi.DATA_URL,"Malformed data URL.")}return h1(e)}function d1(n,e){switch(n){case Zi.BASE64:{const a=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(a||o)throw wc(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Zi.BASE64URL:{const a=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(a||o)throw wc(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=QU(e)}catch(a){throw a.message.includes("polyfill")?a:wc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class m1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw wc(Zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=ZU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function YU(n){const e=new m1(n);return e.base64?d1(Zi.BASE64,e.rest):XU(e.rest)}function JU(n){return new m1(n).contentType}function ZU(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,t){let r=0,a="";rw(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(rw(this.data_)){const r=this.data_,a=KU(r,e,t);return a===null?null:new Va(a)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Va(r,!0)}}static getBlob(...e){if(zv()){const t=e.map(r=>r instanceof Va?r.data_:r);return new Va(GU.apply(null,t))}else{const t=e.map(u=>Bv(u)?WU(Zi.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const a=new Uint8Array(r);let o=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)a[o++]=u[h]}),new Va(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(n){let e;try{e=JSON.parse(n)}catch{return null}return UU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function tV(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function g1(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(n,e){return e}class sr{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||nV}}let fh=null;function rV(n){return!Bv(n)||n.length<2?n:g1(n)}function y1(){if(fh)return fh;const n=[];n.push(new sr("bucket")),n.push(new sr("generation")),n.push(new sr("metageneration")),n.push(new sr("name","fullPath",!0));function e(o,u){return rV(u)}const t=new sr("name");t.xform=e,n.push(t);function r(o,u){return u!==void 0?Number(u):u}const a=new sr("size");return a.xform=r,n.push(a),n.push(new sr("timeCreated")),n.push(new sr("updated")),n.push(new sr("md5Hash",null,!0)),n.push(new sr("cacheControl",null,!0)),n.push(new sr("contentDisposition",null,!0)),n.push(new sr("contentEncoding",null,!0)),n.push(new sr("contentLanguage",null,!0)),n.push(new sr("contentType",null,!0)),n.push(new sr("metadata","customMetadata",!0)),fh=n,fh}function iV(n,e){function t(){const r=n.bucket,a=n.fullPath,o=new Mr(r,a);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function sV(n,e,t){const r={};r.type="file";const a=t.length;for(let o=0;o<a;o++){const u=t[o];r[u.local]=u.xform(r,e[u.server])}return iV(r,n),r}function v1(n,e,t){const r=p1(e);return r===null?null:sV(n,r,t)}function aV(n,e,t,r){const a=p1(e);if(a===null||!Bv(a.downloadTokens))return null;const o=a.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(m=>{const y=n.bucket,E=n.fullPath,_="/b/"+u(y)+"/o/"+u(E),R=qv(_,t,r),A=f1({alt:"media",token:m});return R+A})[0]}function oV(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const o=e[a];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class _1{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(n){if(!n)throw jv()}function lV(n,e){function t(r,a){const o=v1(n,a,e);return E1(o!==null),o}return t}function uV(n,e){function t(r,a){const o=v1(n,a,e);return E1(o!==null),aV(o,a,n.host,n._protocol)}return t}function T1(n){function e(t,r){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=bU():a=TU():t.getStatus()===402?a=EU(n.bucket):t.getStatus()===403?a=wU(n.path):a=r,a.status=t.getStatus(),a.serverResponse=r.serverResponse,a}return e}function cV(n){const e=T1(n);function t(r,a){let o=e(r,a);return r.getStatus()===404&&(o=_U(n.path)),o.serverResponse=a.serverResponse,o}return t}function fV(n,e,t){const r=e.fullServerUrl(),a=qv(r,n.host,n._protocol),o="GET",u=n.maxOperationRetryTime,h=new _1(a,o,uV(n,t),u);return h.errorHandler=cV(e),h}function hV(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function dV(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=hV(null,e)),r}function mV(n,e,t,r,a){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let H="";for(let te=0;te<2;te++)H=H+Math.random().toString().slice(2);return H}const f=h();u["Content-Type"]="multipart/related; boundary="+f;const m=dV(e,r,a),y=oV(m,t),E="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,_=`\r
--`+f+"--",R=Va.getBlob(E,r,_);if(R===null)throw OU();const A={name:m.fullPath},V=qv(o,n.host,n._protocol),D="POST",$=n.maxUploadRetryTime,K=new _1(V,D,lV(n,t),$);return K.urlParams=A,K.headers=u,K.body=R.uploadData(),K.errorHandler=T1(e),K}class pV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a){if(this.sent_)throw lc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw lc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gV extends pV{initXhr(){this.xhr_.responseType="text"}}function b1(){return new gV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,t){this._service=e,t instanceof Mr?this._location=t:this._location=Mr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Wo(e,t)}get root(){const e=new Mr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g1(this._location.path)}get storage(){return this._service}get parent(){const e=eV(this._location.path);if(e===null)return null;const t=new Mr(this._location.bucket,e);return new Wo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw DU(e)}}function yV(n,e,t){n._throwIfRoot("uploadBytes");const r=mV(n.storage,n._location,y1(),new Va(e,!0),t);return n.storage.makeRequestWithTokens(r,b1).then(a=>({metadata:a,ref:n}))}function vV(n){n._throwIfRoot("getDownloadURL");const e=fV(n.storage,n._location,y1());return n.storage.makeRequestWithTokens(e,b1).then(t=>{if(t===null)throw xU();return t})}function _V(n,e){const t=tV(n._location.path,e),r=new Mr(n._location.bucket,t);return new Wo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(n){return/^[A-Za-z]+:\/\//.test(n)}function TV(n,e){return new Wo(n,e)}function w1(n,e){if(n instanceof Fv){const t=n;if(t._bucket==null)throw IU();const r=new Wo(t,t._bucket);return e!=null?w1(r,e):r}else return e!==void 0?_V(n,e):n}function bV(n,e){if(e&&EV(e)){if(n instanceof Fv)return TV(n,e);throw Ty("To use ref(service, url), the first argument must be a Storage instance.")}else return w1(n,e)}function sw(n,e){const t=e==null?void 0:e[u1];return t==null?null:Mr.makeFromBucketSpec(t,n)}function wV(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:FS(a,n.app.options.projectId))}class Fv{constructor(e,t,r,a,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._bucket=null,this._host=l1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yU,this._maxUploadRetryTime=vU,this._requests=new Set,a!=null?this._bucket=Mr.makeFromBucketSpec(a,this._host):this._bucket=sw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mr.makeFromBucketSpec(this._url,e):this._bucket=sw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){iw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){iw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wo(this,e)}_makeRequest(e,t,r,a,o=!0){if(this._deleted)return new kU(c1());{const u=HU(e,this._appId,r,a,t,this._firebaseVersion,o);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const aw="@firebase/storage",ow="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="storage";function SV(n,e,t){return n=tn(n),yV(n,e,t)}function RV(n){return n=tn(n),vV(n)}function lw(n,e){return n=tn(n),bV(n,e)}function AV(n=$y(),e){n=tn(n);const r=hd(n,S1).getImmediate({identifier:e}),a=BS("storage");return a&&CV(r,...a),r}function CV(n,e,t,r={}){wV(n,e,t,r)}function IV(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Fv(t,r,a,e,Zo)}function OV(){Ho(new $a(S1,IV,"PUBLIC").setMultipleInstances(!0)),es(aw,ow,""),es(aw,ow,"esm2017")}OV();/*! Axios v1.8.3 Copyright (c) 2025 Matt Zabriskie and contributors */var og,uw;function xV(){if(uw)return og;uw=1;function n(w,S){return function(){return w.apply(S,arguments)}}const{toString:e}=Object.prototype,{getPrototypeOf:t}=Object,r=(w=>S=>{const N=e.call(S);return w[N]||(w[N]=N.slice(8,-1).toLowerCase())})(Object.create(null)),a=w=>(w=w.toLowerCase(),S=>r(S)===w),o=w=>S=>typeof S===w,{isArray:u}=Array,h=o("undefined");function f(w){return w!==null&&!h(w)&&w.constructor!==null&&!h(w.constructor)&&_(w.constructor.isBuffer)&&w.constructor.isBuffer(w)}const m=a("ArrayBuffer");function y(w){let S;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?S=ArrayBuffer.isView(w):S=w&&w.buffer&&m(w.buffer),S}const E=o("string"),_=o("function"),R=o("number"),A=w=>w!==null&&typeof w=="object",V=w=>w===!0||w===!1,D=w=>{if(r(w)!=="object")return!1;const S=t(w);return(S===null||S===Object.prototype||Object.getPrototypeOf(S)===null)&&!(Symbol.toStringTag in w)&&!(Symbol.iterator in w)},$=a("Date"),K=a("File"),H=a("Blob"),te=a("FileList"),ae=w=>A(w)&&_(w.pipe),ge=w=>{let S;return w&&(typeof FormData=="function"&&w instanceof FormData||_(w.append)&&((S=r(w))==="formdata"||S==="object"&&_(w.toString)&&w.toString()==="[object FormData]"))},M=a("URLSearchParams"),[P,k,B,z]=["ReadableStream","Request","Response","Headers"].map(a),G=w=>w.trim?w.trim():w.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function U(w,S,{allOwnKeys:N=!1}={}){if(w===null||typeof w>"u")return;let L,F;if(typeof w!="object"&&(w=[w]),u(w))for(L=0,F=w.length;L<F;L++)S.call(null,w[L],L,w);else{const X=N?Object.getOwnPropertyNames(w):Object.keys(w),J=X.length;let ve;for(L=0;L<J;L++)ve=X[L],S.call(null,w[ve],ve,w)}}function Je(w,S){S=S.toLowerCase();const N=Object.keys(w);let L=N.length,F;for(;L-- >0;)if(F=N[L],S===F.toLowerCase())return F;return null}const le=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:RO,re=w=>!h(w)&&w!==le;function he(){const{caseless:w}=re(this)&&this||{},S={},N=(L,F)=>{const X=w&&Je(S,F)||F;D(S[X])&&D(L)?S[X]=he(S[X],L):D(L)?S[X]=he({},L):u(L)?S[X]=L.slice():S[X]=L};for(let L=0,F=arguments.length;L<F;L++)arguments[L]&&U(arguments[L],N);return S}const de=(w,S,N,{allOwnKeys:L}={})=>(U(S,(F,X)=>{N&&_(F)?w[X]=n(F,N):w[X]=F},{allOwnKeys:L}),w),Oe=w=>(w.charCodeAt(0)===65279&&(w=w.slice(1)),w),q=(w,S,N,L)=>{w.prototype=Object.create(S.prototype,L),w.prototype.constructor=w,Object.defineProperty(w,"super",{value:S.prototype}),N&&Object.assign(w.prototype,N)},fe=(w,S,N,L)=>{let F,X,J;const ve={};if(S=S||{},w==null)return S;do{for(F=Object.getOwnPropertyNames(w),X=F.length;X-- >0;)J=F[X],(!L||L(J,w,S))&&!ve[J]&&(S[J]=w[J],ve[J]=!0);w=N!==!1&&t(w)}while(w&&(!N||N(w,S))&&w!==Object.prototype);return S},Re=(w,S,N)=>{w=String(w),(N===void 0||N>w.length)&&(N=w.length),N-=S.length;const L=w.indexOf(S,N);return L!==-1&&L===N},Ee=w=>{if(!w)return null;if(u(w))return w;let S=w.length;if(!R(S))return null;const N=new Array(S);for(;S-- >0;)N[S]=w[S];return N},Te=(w=>S=>w&&S instanceof w)(typeof Uint8Array<"u"&&t(Uint8Array)),Ne=(w,S)=>{const L=(w&&w[Symbol.iterator]).call(w);let F;for(;(F=L.next())&&!F.done;){const X=F.value;S.call(w,X[0],X[1])}},Ve=(w,S)=>{let N;const L=[];for(;(N=w.exec(S))!==null;)L.push(N);return L},Pt=a("HTMLFormElement"),nt=w=>w.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(N,L,F){return L.toUpperCase()+F}),Tt=(({hasOwnProperty:w})=>(S,N)=>w.call(S,N))(Object.prototype),st=a("RegExp"),nn=(w,S)=>{const N=Object.getOwnPropertyDescriptors(w),L={};U(N,(F,X)=>{let J;(J=S(F,X,w))!==!1&&(L[X]=J||F)}),Object.defineProperties(w,L)},lr=w=>{nn(w,(S,N)=>{if(_(w)&&["arguments","caller","callee"].indexOf(N)!==-1)return!1;const L=w[N];if(_(L)){if(S.enumerable=!1,"writable"in S){S.writable=!1;return}S.set||(S.set=()=>{throw Error("Can not rewrite read-only method '"+N+"'")})}})},En=(w,S)=>{const N={},L=F=>{F.forEach(X=>{N[X]=!0})};return u(w)?L(w):L(String(w).split(S)),N},Qn=()=>{},mt=(w,S)=>w!=null&&Number.isFinite(w=+w)?w:S;function ur(w){return!!(w&&_(w.append)&&w[Symbol.toStringTag]==="FormData"&&w[Symbol.iterator])}const oi=w=>{const S=new Array(10),N=(L,F)=>{if(A(L)){if(S.indexOf(L)>=0)return;if(!("toJSON"in L)){S[F]=L;const X=u(L)?[]:{};return U(L,(J,ve)=>{const xe=N(J,F+1);!h(xe)&&(X[ve]=xe)}),S[F]=void 0,X}}return L};return N(w,0)},Ws=a("AsyncFunction"),Xs=w=>w&&(A(w)||_(w))&&_(w.then)&&_(w.catch),Ai=((w,S)=>w?setImmediate:S?((N,L)=>(le.addEventListener("message",({source:F,data:X})=>{F===le&&X===N&&L.length&&L.shift()()},!1),F=>{L.push(F),le.postMessage(N,"*")}))(`axios@${Math.random()}`,[]):N=>setTimeout(N))(typeof setImmediate=="function",_(le.postMessage)),Ys=typeof queueMicrotask<"u"?queueMicrotask.bind(le):typeof process<"u"&&process.nextTick||Ai;var se={isArray:u,isArrayBuffer:m,isBuffer:f,isFormData:ge,isArrayBufferView:y,isString:E,isNumber:R,isBoolean:V,isObject:A,isPlainObject:D,isReadableStream:P,isRequest:k,isResponse:B,isHeaders:z,isUndefined:h,isDate:$,isFile:K,isBlob:H,isRegExp:st,isFunction:_,isStream:ae,isURLSearchParams:M,isTypedArray:Te,isFileList:te,forEach:U,merge:he,extend:de,trim:G,stripBOM:Oe,inherits:q,toFlatObject:fe,kindOf:r,kindOfTest:a,endsWith:Re,toArray:Ee,forEachEntry:Ne,matchAll:Ve,isHTMLForm:Pt,hasOwnProperty:Tt,hasOwnProp:Tt,reduceDescriptors:nn,freezeMethods:lr,toObjectSet:En,toCamelCase:nt,noop:Qn,toFiniteNumber:mt,findKey:Je,global:le,isContextDefined:re,isSpecCompliantForm:ur,toJSONObject:oi,isAsyncFn:Ws,isThenable:Xs,setImmediate:Ai,asap:Ys};function ze(w,S,N,L,F){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=w,this.name="AxiosError",S&&(this.code=S),N&&(this.config=N),L&&(this.request=L),F&&(this.response=F,this.status=F.status?F.status:null)}se.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const In=ze.prototype,no={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(w=>{no[w]={value:w}}),Object.defineProperties(ze,no),Object.defineProperty(In,"isAxiosError",{value:!0}),ze.from=(w,S,N,L,F,X)=>{const J=Object.create(In);return se.toFlatObject(w,J,function(xe){return xe!==Error.prototype},ve=>ve!=="isAxiosError"),ze.call(J,w.message,S,N,L,F),J.cause=w,J.name=w.name,X&&Object.assign(J,X),J};var Xt=null;function qt(w){return se.isPlainObject(w)||se.isArray(w)}function jr(w){return se.endsWith(w,"[]")?w.slice(0,-2):w}function ro(w,S,N){return w?w.concat(S).map(function(F,X){return F=jr(F),!N&&X?"["+F+"]":F}).join(N?".":""):S}function io(w){return se.isArray(w)&&!w.some(qt)}const mu=se.toFlatObject(se,{},null,function(S){return/^is[A-Z]/.test(S)});function Br(w,S,N){if(!se.isObject(w))throw new TypeError("target must be an object");S=S||new FormData,N=se.toFlatObject(N,{metaTokens:!0,dots:!1,indexes:!1},!1,function(He,De){return!se.isUndefined(De[He])});const L=N.metaTokens,F=N.visitor||Se,X=N.dots,J=N.indexes,xe=(N.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(S);if(!se.isFunction(F))throw new TypeError("visitor must be a function");function we(Le){if(Le===null)return"";if(se.isDate(Le))return Le.toISOString();if(!xe&&se.isBlob(Le))throw new ze("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(Le)||se.isTypedArray(Le)?xe&&typeof Blob=="function"?new Blob([Le]):Buffer.from(Le):Le}function Se(Le,He,De){let bt=Le;if(Le&&!De&&typeof Le=="object"){if(se.endsWith(He,"{}"))He=L?He:He.slice(0,-2),Le=JSON.stringify(Le);else if(se.isArray(Le)&&io(Le)||(se.isFileList(Le)||se.endsWith(He,"[]"))&&(bt=se.toArray(Le)))return He=jr(He),bt.forEach(function(Dt,pr){!(se.isUndefined(Dt)||Dt===null)&&S.append(J===!0?ro([He],pr,X):J===null?He:He+"[]",we(Dt))}),!1}return qt(Le)?!0:(S.append(ro(De,He,X),we(Le)),!1)}const Pe=[],gt=Object.assign(mu,{defaultVisitor:Se,convertValue:we,isVisitable:qt});function It(Le,He){if(!se.isUndefined(Le)){if(Pe.indexOf(Le)!==-1)throw Error("Circular reference detected in "+He.join("."));Pe.push(Le),se.forEach(Le,function(bt,Lt){(!(se.isUndefined(bt)||bt===null)&&F.call(S,bt,se.isString(Lt)?Lt.trim():Lt,He,gt))===!0&&It(bt,He?He.concat(Lt):[Lt])}),Pe.pop()}}if(!se.isObject(w))throw new TypeError("data must be an object");return It(w),S}function li(w){const S={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(w).replace(/[!'()~]|%20|%00/g,function(L){return S[L]})}function rn(w,S){this._pairs=[],w&&Br(w,this,S)}const Js=rn.prototype;Js.append=function(S,N){this._pairs.push([S,N])},Js.toString=function(S){const N=S?function(L){return S.call(this,L,li)}:li;return this._pairs.map(function(F){return N(F[0])+"="+N(F[1])},"").join("&")};function zr(w){return encodeURIComponent(w).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Tn(w,S,N){if(!S)return w;const L=N&&N.encode||zr;se.isFunction(N)&&(N={serialize:N});const F=N&&N.serialize;let X;if(F?X=F(S,N):X=se.isURLSearchParams(S)?S.toString():new rn(S,N).toString(L),X){const J=w.indexOf("#");J!==-1&&(w=w.slice(0,J)),w+=(w.indexOf("?")===-1?"?":"&")+X}return w}class so{constructor(){this.handlers=[]}use(S,N,L){return this.handlers.push({fulfilled:S,rejected:N,synchronous:L?L.synchronous:!1,runWhen:L?L.runWhen:null}),this.handlers.length-1}eject(S){this.handlers[S]&&(this.handlers[S]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(S){se.forEach(this.handlers,function(L){L!==null&&S(L)})}}var ao=so,oo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qr=typeof URLSearchParams<"u"?URLSearchParams:rn,Ci=typeof FormData<"u"?FormData:null,br=typeof Blob<"u"?Blob:null,cr={isBrowser:!0,classes:{URLSearchParams:qr,FormData:Ci,Blob:br},protocols:["http","https","file","blob","url","data"]};const Fr=typeof window<"u"&&typeof document<"u",Ii=typeof navigator=="object"&&navigator||void 0,lo=Fr&&(!Ii||["ReactNative","NativeScript","NS"].indexOf(Ii.product)<0),Oi=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zs=Fr&&window.location.href||"http://localhost";var Mt=Object.freeze({__proto__:null,hasBrowserEnv:Fr,hasStandardBrowserWebWorkerEnv:Oi,hasStandardBrowserEnv:lo,navigator:Ii,origin:Zs}),Yt={...Mt,...cr};function xi(w,S){return Br(w,new Yt.classes.URLSearchParams,Object.assign({visitor:function(N,L,F,X){return Yt.isNode&&se.isBuffer(N)?(this.append(L,N.toString("base64")),!1):X.defaultVisitor.apply(this,arguments)}},S))}function Ni(w){return se.matchAll(/\w+|\[(\w*)]/g,w).map(S=>S[0]==="[]"?"":S[1]||S[0])}function il(w){const S={},N=Object.keys(w);let L;const F=N.length;let X;for(L=0;L<F;L++)X=N[L],S[X]=w[X];return S}function uo(w){function S(N,L,F,X){let J=N[X++];if(J==="__proto__")return!0;const ve=Number.isFinite(+J),xe=X>=N.length;return J=!J&&se.isArray(F)?F.length:J,xe?(se.hasOwnProp(F,J)?F[J]=[F[J],L]:F[J]=L,!ve):((!F[J]||!se.isObject(F[J]))&&(F[J]=[]),S(N,L,F[J],X)&&se.isArray(F[J])&&(F[J]=il(F[J])),!ve)}if(se.isFormData(w)&&se.isFunction(w.entries)){const N={};return se.forEachEntry(w,(L,F)=>{S(Ni(L),F,N,0)}),N}return null}function Di(w,S,N){if(se.isString(w))try{return(S||JSON.parse)(w),se.trim(w)}catch(L){if(L.name!=="SyntaxError")throw L}return(N||JSON.stringify)(w)}const fr={transitional:oo,adapter:["xhr","http","fetch"],transformRequest:[function(S,N){const L=N.getContentType()||"",F=L.indexOf("application/json")>-1,X=se.isObject(S);if(X&&se.isHTMLForm(S)&&(S=new FormData(S)),se.isFormData(S))return F?JSON.stringify(uo(S)):S;if(se.isArrayBuffer(S)||se.isBuffer(S)||se.isStream(S)||se.isFile(S)||se.isBlob(S)||se.isReadableStream(S))return S;if(se.isArrayBufferView(S))return S.buffer;if(se.isURLSearchParams(S))return N.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),S.toString();let ve;if(X){if(L.indexOf("application/x-www-form-urlencoded")>-1)return xi(S,this.formSerializer).toString();if((ve=se.isFileList(S))||L.indexOf("multipart/form-data")>-1){const xe=this.env&&this.env.FormData;return Br(ve?{"files[]":S}:S,xe&&new xe,this.formSerializer)}}return X||F?(N.setContentType("application/json",!1),Di(S)):S}],transformResponse:[function(S){const N=this.transitional||fr.transitional,L=N&&N.forcedJSONParsing,F=this.responseType==="json";if(se.isResponse(S)||se.isReadableStream(S))return S;if(S&&se.isString(S)&&(L&&!this.responseType||F)){const J=!(N&&N.silentJSONParsing)&&F;try{return JSON.parse(S)}catch(ve){if(J)throw ve.name==="SyntaxError"?ze.from(ve,ze.ERR_BAD_RESPONSE,this,null,this.response):ve}}return S}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yt.classes.FormData,Blob:Yt.classes.Blob},validateStatus:function(S){return S>=200&&S<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],w=>{fr.headers[w]={}});var Ft=fr;const Jt=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var ui=w=>{const S={};let N,L,F;return w&&w.split(`
`).forEach(function(J){F=J.indexOf(":"),N=J.substring(0,F).trim().toLowerCase(),L=J.substring(F+1).trim(),!(!N||S[N]&&Jt[N])&&(N==="set-cookie"?S[N]?S[N].push(L):S[N]=[L]:S[N]=S[N]?S[N]+", "+L:L)}),S};const ki=Symbol("internals");function Hr(w){return w&&String(w).trim().toLowerCase()}function Wn(w){return w===!1||w==null?w:se.isArray(w)?w.map(Wn):String(w)}function co(w){const S=Object.create(null),N=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let L;for(;L=N.exec(w);)S[L[1]]=L[2];return S}const Pi=w=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(w.trim());function ci(w,S,N,L,F){if(se.isFunction(L))return L.call(this,S,N);if(F&&(S=N),!!se.isString(S)){if(se.isString(L))return S.indexOf(L)!==-1;if(se.isRegExp(L))return L.test(S)}}function wr(w){return w.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(S,N,L)=>N.toUpperCase()+L)}function fi(w,S){const N=se.toCamelCase(" "+S);["get","set","has"].forEach(L=>{Object.defineProperty(w,L+N,{value:function(F,X,J){return this[L].call(this,S,F,X,J)},configurable:!0})})}class Sr{constructor(S){S&&this.set(S)}set(S,N,L){const F=this;function X(ve,xe,we){const Se=Hr(xe);if(!Se)throw new Error("header name must be a non-empty string");const Pe=se.findKey(F,Se);(!Pe||F[Pe]===void 0||we===!0||we===void 0&&F[Pe]!==!1)&&(F[Pe||xe]=Wn(ve))}const J=(ve,xe)=>se.forEach(ve,(we,Se)=>X(we,Se,xe));if(se.isPlainObject(S)||S instanceof this.constructor)J(S,N);else if(se.isString(S)&&(S=S.trim())&&!Pi(S))J(ui(S),N);else if(se.isHeaders(S))for(const[ve,xe]of S.entries())X(xe,ve,L);else S!=null&&X(N,S,L);return this}get(S,N){if(S=Hr(S),S){const L=se.findKey(this,S);if(L){const F=this[L];if(!N)return F;if(N===!0)return co(F);if(se.isFunction(N))return N.call(this,F,L);if(se.isRegExp(N))return N.exec(F);throw new TypeError("parser must be boolean|regexp|function")}}}has(S,N){if(S=Hr(S),S){const L=se.findKey(this,S);return!!(L&&this[L]!==void 0&&(!N||ci(this,this[L],L,N)))}return!1}delete(S,N){const L=this;let F=!1;function X(J){if(J=Hr(J),J){const ve=se.findKey(L,J);ve&&(!N||ci(L,L[ve],ve,N))&&(delete L[ve],F=!0)}}return se.isArray(S)?S.forEach(X):X(S),F}clear(S){const N=Object.keys(this);let L=N.length,F=!1;for(;L--;){const X=N[L];(!S||ci(this,this[X],X,S,!0))&&(delete this[X],F=!0)}return F}normalize(S){const N=this,L={};return se.forEach(this,(F,X)=>{const J=se.findKey(L,X);if(J){N[J]=Wn(F),delete N[X];return}const ve=S?wr(X):String(X).trim();ve!==X&&delete N[X],N[ve]=Wn(F),L[ve]=!0}),this}concat(...S){return this.constructor.concat(this,...S)}toJSON(S){const N=Object.create(null);return se.forEach(this,(L,F)=>{L!=null&&L!==!1&&(N[F]=S&&se.isArray(L)?L.join(", "):L)}),N}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([S,N])=>S+": "+N).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(S){return S instanceof this?S:new this(S)}static concat(S,...N){const L=new this(S);return N.forEach(F=>L.set(F)),L}static accessor(S){const L=(this[ki]=this[ki]={accessors:{}}).accessors,F=this.prototype;function X(J){const ve=Hr(J);L[ve]||(fi(F,J),L[ve]=!0)}return se.isArray(S)?S.forEach(X):X(S),this}}Sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),se.reduceDescriptors(Sr.prototype,({value:w},S)=>{let N=S[0].toUpperCase()+S.slice(1);return{get:()=>w,set(L){this[N]=L}}}),se.freezeMethods(Sr);var sn=Sr;function At(w,S){const N=this||Ft,L=S||N,F=sn.from(L.headers);let X=L.data;return se.forEach(w,function(ve){X=ve.call(N,X,F.normalize(),S?S.status:void 0)}),F.normalize(),X}function ea(w){return!!(w&&w.__CANCEL__)}function Rr(w,S,N){ze.call(this,w??"canceled",ze.ERR_CANCELED,S,N),this.name="CanceledError"}se.inherits(Rr,ze,{__CANCEL__:!0});function Vn(w,S,N){const L=N.config.validateStatus;!N.status||!L||L(N.status)?w(N):S(new ze("Request failed with status code "+N.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(N.status/100)-4],N.config,N.request,N))}function jn(w){const S=/^([-+\w]{1,25})(:?\/\/|:)/.exec(w);return S&&S[1]||""}function Xn(w,S){w=w||10;const N=new Array(w),L=new Array(w);let F=0,X=0,J;return S=S!==void 0?S:1e3,function(xe){const we=Date.now(),Se=L[X];J||(J=we),N[F]=xe,L[F]=we;let Pe=X,gt=0;for(;Pe!==F;)gt+=N[Pe++],Pe=Pe%w;if(F=(F+1)%w,F===X&&(X=(X+1)%w),we-J<S)return;const It=Se&&we-Se;return It?Math.round(gt*1e3/It):void 0}}function pu(w,S){let N=0,L=1e3/S,F,X;const J=(we,Se=Date.now())=>{N=Se,F=null,X&&(clearTimeout(X),X=null),w.apply(null,we)};return[(...we)=>{const Se=Date.now(),Pe=Se-N;Pe>=L?J(we,Se):(F=we,X||(X=setTimeout(()=>{X=null,J(F)},L-Pe)))},()=>F&&J(F)]}const Li=(w,S,N=3)=>{let L=0;const F=Xn(50,250);return pu(X=>{const J=X.loaded,ve=X.lengthComputable?X.total:void 0,xe=J-L,we=F(xe),Se=J<=ve;L=J;const Pe={loaded:J,total:ve,progress:ve?J/ve:void 0,bytes:xe,rate:we||void 0,estimated:we&&ve&&Se?(ve-J)/we:void 0,event:X,lengthComputable:ve!=null,[S?"download":"upload"]:!0};w(Pe)},N)},ta=(w,S)=>{const N=w!=null;return[L=>S[0]({lengthComputable:N,total:w,loaded:L}),S[1]]},fo=w=>(...S)=>se.asap(()=>w(...S));var Mi=Yt.hasStandardBrowserEnv?((w,S)=>N=>(N=new URL(N,Yt.origin),w.protocol===N.protocol&&w.host===N.host&&(S||w.port===N.port)))(new URL(Yt.origin),Yt.navigator&&/(msie|trident)/i.test(Yt.navigator.userAgent)):()=>!0,Ui=Yt.hasStandardBrowserEnv?{write(w,S,N,L,F,X){const J=[w+"="+encodeURIComponent(S)];se.isNumber(N)&&J.push("expires="+new Date(N).toGMTString()),se.isString(L)&&J.push("path="+L),se.isString(F)&&J.push("domain="+F),X===!0&&J.push("secure"),document.cookie=J.join("; ")},read(w){const S=document.cookie.match(new RegExp("(^|;\\s*)("+w+")=([^;]*)"));return S?decodeURIComponent(S[3]):null},remove(w){this.write(w,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function hr(w){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(w)}function On(w,S){return S?w.replace(/\/?\/$/,"")+"/"+S.replace(/^\/+/,""):w}function ho(w,S,N){let L=!hr(S);return w&&L||N==!1?On(w,S):S}const sl=w=>w instanceof sn?{...w}:w;function Yn(w,S){S=S||{};const N={};function L(we,Se,Pe,gt){return se.isPlainObject(we)&&se.isPlainObject(Se)?se.merge.call({caseless:gt},we,Se):se.isPlainObject(Se)?se.merge({},Se):se.isArray(Se)?Se.slice():Se}function F(we,Se,Pe,gt){if(se.isUndefined(Se)){if(!se.isUndefined(we))return L(void 0,we,Pe,gt)}else return L(we,Se,Pe,gt)}function X(we,Se){if(!se.isUndefined(Se))return L(void 0,Se)}function J(we,Se){if(se.isUndefined(Se)){if(!se.isUndefined(we))return L(void 0,we)}else return L(void 0,Se)}function ve(we,Se,Pe){if(Pe in S)return L(we,Se);if(Pe in w)return L(void 0,we)}const xe={url:X,method:X,data:X,baseURL:J,transformRequest:J,transformResponse:J,paramsSerializer:J,timeout:J,timeoutMessage:J,withCredentials:J,withXSRFToken:J,adapter:J,responseType:J,xsrfCookieName:J,xsrfHeaderName:J,onUploadProgress:J,onDownloadProgress:J,decompress:J,maxContentLength:J,maxBodyLength:J,beforeRedirect:J,transport:J,httpAgent:J,httpsAgent:J,cancelToken:J,socketPath:J,responseEncoding:J,validateStatus:ve,headers:(we,Se,Pe)=>F(sl(we),sl(Se),Pe,!0)};return se.forEach(Object.keys(Object.assign({},w,S)),function(Se){const Pe=xe[Se]||F,gt=Pe(w[Se],S[Se],Se);se.isUndefined(gt)&&Pe!==ve||(N[Se]=gt)}),N}var na=w=>{const S=Yn({},w);let{data:N,withXSRFToken:L,xsrfHeaderName:F,xsrfCookieName:X,headers:J,auth:ve}=S;S.headers=J=sn.from(J),S.url=Tn(ho(S.baseURL,S.url,S.allowAbsoluteUrls),w.params,w.paramsSerializer),ve&&J.set("Authorization","Basic "+btoa((ve.username||"")+":"+(ve.password?unescape(encodeURIComponent(ve.password)):"")));let xe;if(se.isFormData(N)){if(Yt.hasStandardBrowserEnv||Yt.hasStandardBrowserWebWorkerEnv)J.setContentType(void 0);else if((xe=J.getContentType())!==!1){const[we,...Se]=xe?xe.split(";").map(Pe=>Pe.trim()).filter(Boolean):[];J.setContentType([we||"multipart/form-data",...Se].join("; "))}}if(Yt.hasStandardBrowserEnv&&(L&&se.isFunction(L)&&(L=L(S)),L||L!==!1&&Mi(S.url))){const we=F&&X&&Ui.read(X);we&&J.set(F,we)}return S},hi=typeof XMLHttpRequest<"u"&&function(w){return new Promise(function(N,L){const F=na(w);let X=F.data;const J=sn.from(F.headers).normalize();let{responseType:ve,onUploadProgress:xe,onDownloadProgress:we}=F,Se,Pe,gt,It,Le;function He(){It&&It(),Le&&Le(),F.cancelToken&&F.cancelToken.unsubscribe(Se),F.signal&&F.signal.removeEventListener("abort",Se)}let De=new XMLHttpRequest;De.open(F.method.toUpperCase(),F.url,!0),De.timeout=F.timeout;function bt(){if(!De)return;const Dt=sn.from("getAllResponseHeaders"in De&&De.getAllResponseHeaders()),on={data:!ve||ve==="text"||ve==="json"?De.responseText:De.response,status:De.status,statusText:De.statusText,headers:Dt,config:w,request:De};Vn(function(Qr){N(Qr),He()},function(Qr){L(Qr),He()},on),De=null}"onloadend"in De?De.onloadend=bt:De.onreadystatechange=function(){!De||De.readyState!==4||De.status===0&&!(De.responseURL&&De.responseURL.indexOf("file:")===0)||setTimeout(bt)},De.onabort=function(){De&&(L(new ze("Request aborted",ze.ECONNABORTED,w,De)),De=null)},De.onerror=function(){L(new ze("Network Error",ze.ERR_NETWORK,w,De)),De=null},De.ontimeout=function(){let pr=F.timeout?"timeout of "+F.timeout+"ms exceeded":"timeout exceeded";const on=F.transitional||oo;F.timeoutErrorMessage&&(pr=F.timeoutErrorMessage),L(new ze(pr,on.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,w,De)),De=null},X===void 0&&J.setContentType(null),"setRequestHeader"in De&&se.forEach(J.toJSON(),function(pr,on){De.setRequestHeader(on,pr)}),se.isUndefined(F.withCredentials)||(De.withCredentials=!!F.withCredentials),ve&&ve!=="json"&&(De.responseType=F.responseType),we&&([gt,Le]=Li(we,!0),De.addEventListener("progress",gt)),xe&&De.upload&&([Pe,It]=Li(xe),De.upload.addEventListener("progress",Pe),De.upload.addEventListener("loadend",It)),(F.cancelToken||F.signal)&&(Se=Dt=>{De&&(L(!Dt||Dt.type?new Rr(null,w,De):Dt),De.abort(),De=null)},F.cancelToken&&F.cancelToken.subscribe(Se),F.signal&&(F.signal.aborted?Se():F.signal.addEventListener("abort",Se)));const Lt=jn(F.url);if(Lt&&Yt.protocols.indexOf(Lt)===-1){L(new ze("Unsupported protocol "+Lt+":",ze.ERR_BAD_REQUEST,w));return}De.send(X||null)})},Vi=(w,S)=>{const{length:N}=w=w?w.filter(Boolean):[];if(S||N){let L=new AbortController,F;const X=function(we){if(!F){F=!0,ve();const Se=we instanceof Error?we:this.reason;L.abort(Se instanceof ze?Se:new Rr(Se instanceof Error?Se.message:Se))}};let J=S&&setTimeout(()=>{J=null,X(new ze(`timeout ${S} of ms exceeded`,ze.ETIMEDOUT))},S);const ve=()=>{w&&(J&&clearTimeout(J),J=null,w.forEach(we=>{we.unsubscribe?we.unsubscribe(X):we.removeEventListener("abort",X)}),w=null)};w.forEach(we=>we.addEventListener("abort",X));const{signal:xe}=L;return xe.unsubscribe=()=>se.asap(ve),xe}};const cs=function*(w,S){let N=w.byteLength;if(N<S){yield w;return}let L=0,F;for(;L<N;)F=L+S,yield w.slice(L,F),L=F},ra=async function*(w,S){for await(const N of lt(w))yield*cs(N,S)},lt=async function*(w){if(w[Symbol.asyncIterator]){yield*w;return}const S=w.getReader();try{for(;;){const{done:N,value:L}=await S.read();if(N)break;yield L}}finally{await S.cancel()}},ji=(w,S,N,L)=>{const F=ra(w,S);let X=0,J,ve=xe=>{J||(J=!0,L&&L(xe))};return new ReadableStream({async pull(xe){try{const{done:we,value:Se}=await F.next();if(we){ve(),xe.close();return}let Pe=Se.byteLength;if(N){let gt=X+=Pe;N(gt)}xe.enqueue(new Uint8Array(Se))}catch(we){throw ve(we),we}},cancel(xe){return ve(xe),F.return()}},{highWaterMark:2})},Ar=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Jn=Ar&&typeof ReadableStream=="function",gu=Ar&&(typeof TextEncoder=="function"?(w=>S=>w.encode(S))(new TextEncoder):async w=>new Uint8Array(await new Response(w).arrayBuffer())),ia=(w,...S)=>{try{return!!w(...S)}catch{return!1}},al=Jn&&ia(()=>{let w=!1;const S=new Request(Yt.origin,{body:new ReadableStream,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!S}),sa=64*1024,po=Jn&&ia(()=>se.isReadableStream(new Response("").body)),aa={stream:po&&(w=>w.body)};Ar&&(w=>{["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!aa[S]&&(aa[S]=se.isFunction(w[S])?N=>N[S]():(N,L)=>{throw new ze(`Response type '${S}' is not supported`,ze.ERR_NOT_SUPPORT,L)})})})(new Response);const $r=async w=>{if(w==null)return 0;if(se.isBlob(w))return w.size;if(se.isSpecCompliantForm(w))return(await new Request(Yt.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(se.isArrayBufferView(w)||se.isArrayBuffer(w))return w.byteLength;if(se.isURLSearchParams(w)&&(w=w+""),se.isString(w))return(await gu(w)).byteLength},dr=async(w,S)=>{const N=se.toFiniteNumber(w.getContentLength());return N??$r(S)};var oa=Ar&&(async w=>{let{url:S,method:N,data:L,signal:F,cancelToken:X,timeout:J,onDownloadProgress:ve,onUploadProgress:xe,responseType:we,headers:Se,withCredentials:Pe="same-origin",fetchOptions:gt}=na(w);we=we?(we+"").toLowerCase():"text";let It=Vi([F,X&&X.toAbortSignal()],J),Le;const He=It&&It.unsubscribe&&(()=>{It.unsubscribe()});let De;try{if(xe&&al&&N!=="get"&&N!=="head"&&(De=await dr(Se,L))!==0){let on=new Request(S,{method:"POST",body:L,duplex:"half"}),bn;if(se.isFormData(L)&&(bn=on.headers.get("content-type"))&&Se.setContentType(bn),on.body){const[Qr,ds]=ta(De,Li(fo(xe)));L=ji(on.body,sa,Qr,ds)}}se.isString(Pe)||(Pe=Pe?"include":"omit");const bt="credentials"in Request.prototype;Le=new Request(S,{...gt,signal:It,method:N.toUpperCase(),headers:Se.normalize().toJSON(),body:L,duplex:"half",credentials:bt?Pe:void 0});let Lt=await fetch(Le);const Dt=po&&(we==="stream"||we==="response");if(po&&(ve||Dt&&He)){const on={};["status","statusText","headers"].forEach(go=>{on[go]=Lt[go]});const bn=se.toFiniteNumber(Lt.headers.get("content-length")),[Qr,ds]=ve&&ta(bn,Li(fo(ve),!0))||[];Lt=new Response(ji(Lt.body,sa,Qr,()=>{ds&&ds(),He&&He()}),on)}we=we||"text";let pr=await aa[se.findKey(aa,we)||"text"](Lt,w);return!Dt&&He&&He(),await new Promise((on,bn)=>{Vn(on,bn,{data:pr,headers:sn.from(Lt.headers),status:Lt.status,statusText:Lt.statusText,config:w,request:Le})})}catch(bt){throw He&&He(),bt&&bt.name==="TypeError"&&/fetch/i.test(bt.message)?Object.assign(new ze("Network Error",ze.ERR_NETWORK,w,Le),{cause:bt.cause||bt}):ze.from(bt,bt&&bt.code,w,Le)}});const Cr={http:Xt,xhr:hi,fetch:oa};se.forEach(Cr,(w,S)=>{if(w){try{Object.defineProperty(w,"name",{value:S})}catch{}Object.defineProperty(w,"adapterName",{value:S})}});const Gr=w=>`- ${w}`,di=w=>se.isFunction(w)||w===null||w===!1;var la={getAdapter:w=>{w=se.isArray(w)?w:[w];const{length:S}=w;let N,L;const F={};for(let X=0;X<S;X++){N=w[X];let J;if(L=N,!di(N)&&(L=Cr[(J=String(N)).toLowerCase()],L===void 0))throw new ze(`Unknown adapter '${J}'`);if(L)break;F[J||"#"+X]=L}if(!L){const X=Object.entries(F).map(([ve,xe])=>`adapter ${ve} `+(xe===!1?"is not supported by the environment":"is not available in the build"));let J=S?X.length>1?`since :
`+X.map(Gr).join(`
`):" "+Gr(X[0]):"as no adapter specified";throw new ze("There is no suitable adapter to dispatch the request "+J,"ERR_NOT_SUPPORT")}return L},adapters:Cr};function ua(w){if(w.cancelToken&&w.cancelToken.throwIfRequested(),w.signal&&w.signal.aborted)throw new Rr(null,w)}function Bi(w){return ua(w),w.headers=sn.from(w.headers),w.data=At.call(w,w.transformRequest),["post","put","patch"].indexOf(w.method)!==-1&&w.headers.setContentType("application/x-www-form-urlencoded",!1),la.getAdapter(w.adapter||Ft.adapter)(w).then(function(L){return ua(w),L.data=At.call(w,w.transformResponse,L),L.headers=sn.from(L.headers),L},function(L){return ea(L)||(ua(w),L&&L.response&&(L.response.data=At.call(w,w.transformResponse,L.response),L.response.headers=sn.from(L.response.headers))),Promise.reject(L)})}const Zn="1.8.3",Kr={};["object","boolean","number","function","string","symbol"].forEach((w,S)=>{Kr[w]=function(L){return typeof L===w||"a"+(S<1?"n ":" ")+w}});const Ir={};Kr.transitional=function(S,N,L){function F(X,J){return"[Axios v"+Zn+"] Transitional option '"+X+"'"+J+(L?". "+L:"")}return(X,J,ve)=>{if(S===!1)throw new ze(F(J," has been removed"+(N?" in "+N:"")),ze.ERR_DEPRECATED);return N&&!Ir[J]&&(Ir[J]=!0,console.warn(F(J," has been deprecated since v"+N+" and will be removed in the near future"))),S?S(X,J,ve):!0}},Kr.spelling=function(S){return(N,L)=>(console.warn(`${L} is likely a misspelling of ${S}`),!0)};function zi(w,S,N){if(typeof w!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const L=Object.keys(w);let F=L.length;for(;F-- >0;){const X=L[F],J=S[X];if(J){const ve=w[X],xe=ve===void 0||J(ve,X,w);if(xe!==!0)throw new ze("option "+X+" must be "+xe,ze.ERR_BAD_OPTION_VALUE);continue}if(N!==!0)throw new ze("Unknown option "+X,ze.ERR_BAD_OPTION)}}var mr={assertOptions:zi,validators:Kr};const Bn=mr.validators;class er{constructor(S){this.defaults=S,this.interceptors={request:new ao,response:new ao}}async request(S,N){try{return await this._request(S,N)}catch(L){if(L instanceof Error){let F={};Error.captureStackTrace?Error.captureStackTrace(F):F=new Error;const X=F.stack?F.stack.replace(/^.+\n/,""):"";try{L.stack?X&&!String(L.stack).endsWith(X.replace(/^.+\n.+\n/,""))&&(L.stack+=`
`+X):L.stack=X}catch{}}throw L}}_request(S,N){typeof S=="string"?(N=N||{},N.url=S):N=S||{},N=Yn(this.defaults,N);const{transitional:L,paramsSerializer:F,headers:X}=N;L!==void 0&&mr.assertOptions(L,{silentJSONParsing:Bn.transitional(Bn.boolean),forcedJSONParsing:Bn.transitional(Bn.boolean),clarifyTimeoutError:Bn.transitional(Bn.boolean)},!1),F!=null&&(se.isFunction(F)?N.paramsSerializer={serialize:F}:mr.assertOptions(F,{encode:Bn.function,serialize:Bn.function},!0)),N.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?N.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:N.allowAbsoluteUrls=!0),mr.assertOptions(N,{baseUrl:Bn.spelling("baseURL"),withXsrfToken:Bn.spelling("withXSRFToken")},!0),N.method=(N.method||this.defaults.method||"get").toLowerCase();let J=X&&se.merge(X.common,X[N.method]);X&&se.forEach(["delete","get","head","post","put","patch","common"],Le=>{delete X[Le]}),N.headers=sn.concat(J,X);const ve=[];let xe=!0;this.interceptors.request.forEach(function(He){typeof He.runWhen=="function"&&He.runWhen(N)===!1||(xe=xe&&He.synchronous,ve.unshift(He.fulfilled,He.rejected))});const we=[];this.interceptors.response.forEach(function(He){we.push(He.fulfilled,He.rejected)});let Se,Pe=0,gt;if(!xe){const Le=[Bi.bind(this),void 0];for(Le.unshift.apply(Le,ve),Le.push.apply(Le,we),gt=Le.length,Se=Promise.resolve(N);Pe<gt;)Se=Se.then(Le[Pe++],Le[Pe++]);return Se}gt=ve.length;let It=N;for(Pe=0;Pe<gt;){const Le=ve[Pe++],He=ve[Pe++];try{It=Le(It)}catch(De){He.call(this,De);break}}try{Se=Bi.call(this,It)}catch(Le){return Promise.reject(Le)}for(Pe=0,gt=we.length;Pe<gt;)Se=Se.then(we[Pe++],we[Pe++]);return Se}getUri(S){S=Yn(this.defaults,S);const N=ho(S.baseURL,S.url,S.allowAbsoluteUrls);return Tn(N,S.params,S.paramsSerializer)}}se.forEach(["delete","get","head","options"],function(S){er.prototype[S]=function(N,L){return this.request(Yn(L||{},{method:S,url:N,data:(L||{}).data}))}}),se.forEach(["post","put","patch"],function(S){function N(L){return function(X,J,ve){return this.request(Yn(ve||{},{method:S,headers:L?{"Content-Type":"multipart/form-data"}:{},url:X,data:J}))}}er.prototype[S]=N(),er.prototype[S+"Form"]=N(!0)});var tr=er;class fs{constructor(S){if(typeof S!="function")throw new TypeError("executor must be a function.");let N;this.promise=new Promise(function(X){N=X});const L=this;this.promise.then(F=>{if(!L._listeners)return;let X=L._listeners.length;for(;X-- >0;)L._listeners[X](F);L._listeners=null}),this.promise.then=F=>{let X;const J=new Promise(ve=>{L.subscribe(ve),X=ve}).then(F);return J.cancel=function(){L.unsubscribe(X)},J},S(function(X,J,ve){L.reason||(L.reason=new Rr(X,J,ve),N(L.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(S){if(this.reason){S(this.reason);return}this._listeners?this._listeners.push(S):this._listeners=[S]}unsubscribe(S){if(!this._listeners)return;const N=this._listeners.indexOf(S);N!==-1&&this._listeners.splice(N,1)}toAbortSignal(){const S=new AbortController,N=L=>{S.abort(L)};return this.subscribe(N),S.signal.unsubscribe=()=>this.unsubscribe(N),S.signal}static source(){let S;return{token:new fs(function(F){S=F}),cancel:S}}}var an=fs;function pt(w){return function(N){return w.apply(null,N)}}function ca(w){return se.isObject(w)&&w.isAxiosError===!0}const mi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mi).forEach(([w,S])=>{mi[S]=w});var ol=mi;function hs(w){const S=new tr(w),N=n(tr.prototype.request,S);return se.extend(N,tr.prototype,S,{allOwnKeys:!0}),se.extend(N,S,null,{allOwnKeys:!0}),N.create=function(F){return hs(Yn(w,F))},N}const Ct=hs(Ft);return Ct.Axios=tr,Ct.CanceledError=Rr,Ct.CancelToken=an,Ct.isCancel=ea,Ct.VERSION=Zn,Ct.toFormData=Br,Ct.AxiosError=ze,Ct.Cancel=Ct.CanceledError,Ct.all=function(S){return Promise.all(S)},Ct.spread=pt,Ct.isAxiosError=ca,Ct.mergeConfig=Yn,Ct.AxiosHeaders=sn,Ct.formToJSON=w=>uo(se.isHTMLForm(w)?new FormData(w):w),Ct.getAdapter=la.getAdapter,Ct.HttpStatusCode=ol,Ct.default=Ct,og=Ct,og}var lg,cw;function NV(){if(cw)return lg;cw=1;var n=function(t,r){return r?t.then(function(a){r(null,a.data)}).catch(function(a){r(a,null)}):t.then(function(a){return a.data})};return lg=n,lg}const DV={},kV=Object.freeze(Object.defineProperty({__proto__:null,default:DV},Symbol.toStringTag,{value:"Module"})),PV=AO(kV);var ug,fw;function or(){if(fw)return ug;fw=1;var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _};function e(_){return+new Date(_)/1e3}function t(_){return r(_)?_:e(_)}function r(_){return!isNaN(Number(_))}function a(_){return!!_&&(typeof _>"u"?"undefined":n(_))==="object"&&!Array.isArray(_)}function o(_){return _===void 0?_:_?1:0}function u(_){return typeof _<"u"}function h(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R={};for(var A in _)R["notes["+A+"]"]=_[A];return R}function f(_){return JSON.stringify(_,null,2)}function m(_,R,A){return new Error(`
`+_+`
`+("Expected("+(typeof R>"u"?"undefined":n(R))+`)
`+f(R)+`

`)+("Got("+(typeof A>"u"?"undefined":n(A))+`)
`+f(A)))}function y(_,R,A){var V=PV;if(!u(_)||!u(R)||!u(A))throw Error("Invalid Parameters: Please give request body,signature sent in X-Razorpay-Signature header and webhook secret from dashboard as parameters");_=_.toString();var D=V.createHmac("sha256",A).update(_).digest("hex");return D===R}function E(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments[1],A=arguments[2],V=_.payment_id;if(!A)throw new Error("secret is mandatory");if(u(_.order_id)===!0)var D=_.order_id,$=D+"|"+V;else if(u(_.subscription_id)===!0)var K=_.subscription_id,$=V+"|"+K;else if(u(_.payment_link_id)===!0)var H=_.payment_link_id,te=_.payment_link_reference_id,ae=_.payment_link_status,$=H+"|"+te+"|"+ae+"|"+V;else throw new Error("Either order_id or subscription_id is mandatory");return y($,R,A)}return ug={normalizeNotes:h,normalizeDate:t,normalizeBoolean:o,isNumber:r,getDateInSecs:e,prettify:f,isDefined:u,isNonNullObject:a,getTestError:m,validateWebhookSignature:y,validatePaymentVerification:E},ug}var cg,hw;function LV(){if(hw)return cg;hw=1;var n=function(){function y(E,_){for(var R=0;R<_.length;R++){var A=_[R];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,_,R){return _&&y(E.prototype,_),R&&y(E,R),E}}();function e(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}var t=xV().default,r=NV(),a=or(),o=a.isNonNullObject,u={"X-Razorpay-Account":"","Content-Type":"application/json"};function h(y){var E={};return o(y)?Object.keys(y).reduce(function(_,R){return u.hasOwnProperty(R)&&(_[R]=y[R]),_},E):E}function f(y){throw{statusCode:y.response.status,error:y.response.data.error}}var m=function(){function y(E){e(this,y),this.version="v1",this.rq=t.create({baseURL:E.hostUrl,auth:{username:E.key_id,password:E.key_secret},headers:Object.assign({"User-Agent":E.ua},h(E.headers))})}return n(y,[{key:"getEntityUrl",value:function(_){return _.hasOwnProperty("version")?"/"+_.version+_.url:"/"+this.version+_.url}},{key:"get",value:function(_,R){return r(this.rq.get(this.getEntityUrl(_),{params:_.data}).catch(f),R)}},{key:"post",value:function(_,R){return r(this.rq.post(this.getEntityUrl(_),_.data).catch(f),R)}},{key:"postFormData",value:function(_,R){return r(this.rq.post(this.getEntityUrl(_),_.formData,{headers:{"Content-Type":"multipart/form-data"}}).catch(f),R)}},{key:"put",value:function(_,R){return r(this.rq.put(this.getEntityUrl(_),_.data).catch(f),R)}},{key:"patch",value:function(_,R){return r(this.rq.patch(this.getEntityUrl(_),_.data).catch(f),R)}},{key:"delete",value:function(_,R){return r(this.rq.delete(this.getEntityUrl(_)).catch(f),R)}}]),y}();return cg=m,cg}const MV="2.9.5",UV={version:MV};var fg,dw;function VV(){if(dw)return fg;dw=1;var n=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t};function e(t,r){var a={};for(var o in t)r.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o]);return a}return fg=function(t){var r="/accounts";return{create:function(o,u){return t.post({version:"v2",url:""+r,data:o},u)},edit:function(o,u,h){return t.patch({version:"v2",url:r+"/"+o,data:u},h)},fetch:function(o,u){return t.get({version:"v2",url:r+"/"+o},u)},delete:function(o,u){return t.delete({version:"v2",url:r+"/"+o},u)},uploadAccountDoc:function(o,u,h){var f=u.file,m=e(u,["file"]);return t.postFormData({version:"v2",url:r+"/"+o+"/documents",formData:n({file:f.value},m)},h)},fetchAccountDoc:function(o,u){return t.get({version:"v2",url:r+"/"+o+"/documents"},u)}}},fg}var hg,mw;function jV(){if(mw)return hg;mw=1;var n=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t};function e(t,r){var a={};for(var o in t)r.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o]);return a}return hg=function(t){var r="/accounts";return{create:function(o,u,h){return t.post({version:"v2",url:r+"/"+o+"/stakeholders",data:u},h)},edit:function(o,u,h,f){return t.patch({version:"v2",url:r+"/"+o+"/stakeholders/"+u,data:h},f)},fetch:function(o,u,h){return t.get({version:"v2",url:r+"/"+o+"/stakeholders/"+u},h)},all:function(o,u){return t.get({version:"v2",url:r+"/"+o+"/stakeholders"},u)},uploadStakeholderDoc:function(o,u,h,f){var m=h.file,y=e(h,["file"]);return t.postFormData({version:"v2",url:r+"/"+o+"/stakeholders/"+u+"/documents",formData:n({file:m.value},y)},f)},fetchStakeholderDoc:function(o,u,h){return t.get({version:"v2",url:r+"/"+o+"/stakeholders/"+u+"/documents"},h)}}},hg}var dg,pw;function BV(){if(pw)return dg;pw=1;var n=Object.assign||function(u){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m])}return u};function e(u,h){var f={};for(var m in u)h.indexOf(m)>=0||Object.prototype.hasOwnProperty.call(u,m)&&(f[m]=u[m]);return f}var t=or(),r=t.normalizeDate,a="`payment_id` is mandatory",o="/payments";return dg=function(u){return{all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=f.from,E=f.to,_=f.count,R=f.skip,A=void 0;return y&&(y=r(y)),E&&(E=r(E)),f.hasOwnProperty("expand[]")&&(A={"expand[]":f["expand[]"]}),_=Number(_)||10,R=Number(R)||0,u.get({url:""+o,data:{from:y,to:E,count:_,skip:R,expand:A}},m)},fetch:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],E=void 0;if(!f)throw new Error("`payment_id` is mandatory");return m.hasOwnProperty("expand[]")&&(E={"expand[]":m["expand[]"]}),u.get({url:o+"/"+f,data:{expand:E}},y)},capture:function(f,m,y,E){if(!f)throw new Error("`payment_id` is mandatory");if(!m)throw new Error("`amount` is mandatory");var _={amount:m};return typeof y=="function"&&!E?(E=y,y=void 0):typeof y=="string"&&(_.currency=y),u.post({url:o+"/"+f+"/capture",data:_},E)},createPaymentJson:function(f,m){var y=o+"/create/json",E=e(f,[]),_=Object.assign(E);return u.post({url:y,data:_},m)},createRecurringPayment:function(f,m){return u.post({url:o+"/create/recurring",data:f},m)},edit:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];if(!f)throw new Error("`payment_id` is mandatory");return u.patch({url:o+"/"+f,data:m},y)},refund:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];if(!f)throw new Error("`payment_id` is mandatory");return u.post({url:o+"/"+f+"/refund",data:m},y)},fetchMultipleRefund:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],E=m.from,_=m.to,R=m.count,A=m.skip,V=o+"/"+f+"/refunds";return u.get({url:V,data:n({},m,{from:E,to:_,count:R,skip:A})},y)},fetchRefund:function(f,m,y){if(!f)throw new Error("payment Id` is mandatory");if(!m)throw new Error("refund Id` is mandatory");return u.get({url:o+"/"+f+"/refunds/"+m},y)},fetchTransfer:function(f,m){if(!f)throw new Error("payment Id` is mandatory");return u.get({url:o+"/"+f+"/transfers"},m)},transfer:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];if(!f)throw new Error("`payment_id` is mandatory");return u.post({url:o+"/"+f+"/transfers",data:m},y)},bankTransfer:function(f,m){return f?u.get({url:o+"/"+f+"/bank_transfer"},m):Promise.reject(a)},fetchCardDetails:function(f,m){return f?u.get({url:o+"/"+f+"/card"},m):Promise.reject(a)},fetchPaymentDowntime:function(f){return u.get({url:o+"/downtimes"},f)},fetchPaymentDowntimeById:function(f,m){return f?u.get({url:o+"/downtimes/"+f},m):Promise.reject("Downtime Id is mandatory")},otpGenerate:function(f,m){return f?u.post({url:o+"/"+f+"/otp_generate"},m):Promise.reject("payment Id is mandatory")},otpSubmit:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];return f?u.post({url:o+"/"+f+"/otp/submit",data:m},y):Promise.reject("payment Id is mandatory")},otpResend:function(f,m){return f?u.post({url:o+"/"+f+"/otp/resend"},m):Promise.reject("payment Id is mandatory")},createUpi:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=o+"/create/upi",E=e(f,[]),_=Object.assign(E);return u.post({url:y,data:_},m)},validateVpa:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=o+"/validate/vpa",E=e(f,[]),_=Object.assign(E);return u.post({url:y,data:_},m)},fetchPaymentMethods:function(f){var m="/methods";return u.get({url:m},f)}}},dg}var mg,gw;function zV(){if(gw)return mg;gw=1;var n=or(),e=n.normalizeDate;return n.normalizeNotes,mg=function(t){return{all:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments[1],u=a.from,h=a.to,f=a.count,m=a.skip,y=a.payment_id,E="/refunds";return y&&(E="/payments/"+y+"/refunds"),u&&(u=e(u)),h&&(h=e(h)),f=Number(f)||10,m=Number(m)||0,t.get({url:E,data:{from:u,to:h,count:f,skip:m}},o)},edit:function(a,o,u){if(!a)throw new Error("refund Id is mandatory");return t.patch({url:"/refunds/"+a,data:o},u)},fetch:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments[2],h=o.payment_id;if(!a)throw new Error("`refund_id` is mandatory");var f="/refunds/"+a;return h&&(f="/payments/"+h+f),t.get({url:f},u)}}},mg}var pg,yw;function qV(){if(yw)return pg;yw=1;var n=Object.assign||function(a){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(a[h]=u[h])}return a};function e(a,o){var u={};for(var h in a)o.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(a,h)&&(u[h]=a[h]);return u}var t=or(),r=t.normalizeDate;return pg=function(a){return{all:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=u.from,m=u.to,y=u.count,E=u.skip,_=u.authorized,R=u.receipt,A=void 0;return f&&(f=r(f)),m&&(m=r(m)),u.hasOwnProperty("expand[]")&&(A={"expand[]":u["expand[]"]}),y=Number(y)||10,E=Number(E)||0,_=_,a.get({url:"/orders",data:{from:f,to:m,count:y,skip:E,authorized:_,receipt:R,expand:A}},h)},fetch:function(u,h){if(!u)throw new Error("`order_id` is mandatory");return a.get({url:"/orders/"+u},h)},create:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=u.currency,m=e(u,["currency"]);f=f||"INR";var y=Object.assign(n({currency:f},m));return a.post({url:"/orders",data:y},h)},edit:function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments[2];if(!u)throw new Error("`order_id` is mandatory");return a.patch({url:"/orders/"+u,data:h},f)},fetchPayments:function(u,h){if(!u)throw new Error("`order_id` is mandatory");return a.get({url:"/orders/"+u+"/payments"},h)},fetchTransferOrder:function(u,h){if(!u)throw new Error("`order_id` is mandatory");return a.get({url:"/orders/"+u+"/?expand[]=transfers&status"},h)},viewRtoReview:function(u,h){return a.post({url:"/orders/"+u+"/rto_review"},h)},editFulfillment:function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.post({url:"/orders/"+u+"/fulfillment",data:h})}}},pg}var gg,vw;function FV(){return vw||(vw=1,gg=function(n){return{create:function(t,r){return n.post({url:"/customers",data:t},r)},edit:function(t,r,a){return n.put({url:"/customers/"+t,data:r},a)},fetch:function(t,r){return n.get({url:"/customers/"+t},r)},all:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments[1],a=t.count,o=t.skip;return a=Number(a)||10,o=Number(o)||0,n.get({url:"/customers",data:{count:a,skip:o}},r)},fetchTokens:function(t,r){return n.get({url:"/customers/"+t+"/tokens"},r)},fetchToken:function(t,r,a){return n.get({url:"/customers/"+t+"/tokens/"+r},a)},deleteToken:function(t,r,a){return n.delete({url:"/customers/"+t+"/tokens/"+r},a)},addBankAccount:function(t,r,a){return n.post({url:"/customers/"+t+"/bank_account",data:r},a)},deleteBankAccount:function(t,r,a){return n.delete({url:"/customers/"+t+"/bank_account/"+r},a)},requestEligibilityCheck:function(t,r){return n.post({url:"/customers/eligibility",data:t},r)},fetchEligibility:function(t,r){return n.get({url:"/customers/eligibility/"+t},r)}}}),gg}var yg,_w;function HV(){if(_w)return yg;_w=1;var n=or(),e=n.normalizeDate;return yg=function(t){return{all:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments[1],u=a.from,h=a.to,f=a.count,m=a.skip,y=a.payment_id,E=a.recipient_settlement_id,_="/transfers";return y&&(_="/payments/"+y+"/transfers"),u&&(u=e(u)),h&&(h=e(h)),f=Number(f)||10,m=Number(m)||0,t.get({url:_,data:{from:u,to:h,count:f,skip:m,recipient_settlement_id:E}},o)},fetch:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments[2];if(o.payment_id,!a)throw new Error("`transfer_id` is mandatory");var h="/transfers/"+a;return t.get({url:h},u)},create:function(a,o){return t.post({url:"/transfers",data:a},o)},edit:function(a,o,u){return t.patch({url:"/transfers/"+a,data:o},u)},reverse:function(a,o,u){if(!a)throw new Error("`transfer_id` is mandatory");var h="/transfers/"+a+"/reversals";return t.post({url:h,data:o},u)},fetchSettlements:function(a){return t.get({url:"/transfers?expand[]=recipient_settlement"},a)}}},yg}var vg,Ew;function $V(){if(Ew)return vg;Ew=1;var n=or();return n.normalizeNotes,vg=function(e){var t="/tokens";return{create:function(a,o){return e.post({url:""+t,data:a},o)},fetch:function(a,o){return e.post({url:t+"/fetch",data:a},o)},delete:function(a,o){return e.post({url:t+"/delete",data:a},o)},processPaymentOnAlternatePAorPG:function(a,o){return e.post({url:t+"/service_provider_tokens/token_transactional_data",data:a},o)}}},vg}var _g,Tw;function GV(){if(Tw)return _g;Tw=1;var n=Object.assign||function(u){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m])}return u};function e(u,h){var f={};for(var m in u)h.indexOf(m)>=0||Object.prototype.hasOwnProperty.call(u,m)&&(f[m]=u[m]);return f}var t=or(),r=t.normalizeDate;t.normalizeNotes;var a="/virtual_accounts",o="`virtual_account_id` is mandatory";return _g=function(u){return{all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=f.from,E=f.to,_=f.count,R=f.skip,A=e(f,["from","to","count","skip"]),V=a;return y&&(y=r(y)),E&&(E=r(E)),_=Number(_)||10,R=Number(R)||0,u.get({url:V,data:n({from:y,to:E,count:_,skip:R},A)},m)},fetch:function(f,m){if(!f)return Promise.reject(o);var y=a+"/"+f;return u.get({url:y},m)},create:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1];return u.post({url:a,data:f},m)},close:function(f,m){return f?u.post({url:a+"/"+f+"/close"},m):Promise.reject(o)},fetchPayments:function(f,m){if(!f)return Promise.reject(o);var y=a+"/"+f+"/payments";return u.get({url:y},m)},addReceiver:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];return f?u.post({url:a+"/"+f+"/receivers",data:m},y):Promise.reject(o)},allowedPayer:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];return f?u.post({url:a+"/"+f+"/allowed_payers",data:m},y):Promise.reject(o)},deleteAllowedPayer:function(f,m,y){return f?m?u.delete({url:a+"/"+f+"/allowed_payers/"+m},y):Promise.reject("allowed payer id is mandatory"):Promise.reject(o)}}},_g}var Eg,bw;function KV(){if(bw)return Eg;bw=1;var n=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])}return r},e=or(),t=e.normalizeDate;return Eg=function(a){var o="/invoices",u="Invoice ID is mandatory";return{create:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=o;return a.post({url:y,data:f},m)},edit:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],E=o+"/"+f;return f?a.patch({url:E,data:m},y):Promise.reject("Invoice ID is mandatory")},issue:function(f,m){if(!f)return Promise.reject(u);var y=o+"/"+f+"/issue";return a.post({url:y},m)},delete:function(f,m){if(!f)return Promise.reject(u);var y=o+"/"+f;return a.delete({url:y},m)},cancel:function(f,m){if(!f)return Promise.reject(u);var y=o+"/"+f+"/cancel";return a.post({url:y},m)},fetch:function(f,m){if(!f)return Promise.reject(u);var y=o+"/"+f;return a.get({url:y},m)},all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=f.from,E=f.to,_=f.count,R=f.skip,A=o;return y&&(y=t(y)),E&&(E=t(E)),_=Number(_)||10,R=Number(R)||0,a.get({url:A,data:n({},f,{from:y,to:E,count:_,skip:R})},m)},notifyBy:function(f,m,y){if(!f)return Promise.reject(u);if(!m)return Promise.reject("`medium` is required");var E=o+"/"+f+"/notify_by/"+m;return a.post({url:E},y)}}},Eg}var Tg,ww;function QV(){return ww||(ww=1,Tg=function(n){var e="/iins";return{fetch:function(r,a){return n.get({url:e+"/"+r},a)},all:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments[1];return n.get({url:e+"/list",data:r},a)}}}),Tg}var bg,Sw;function WV(){if(Sw)return bg;Sw=1;var n=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])}return r},e=or(),t=e.normalizeDate;return bg=function(a){var o="/payment_links",u="Payment Link ID is mandatory";return{create:function(f,m){var y=o;return a.post({url:y,data:f},m)},cancel:function(f,m){if(!f)return Promise.reject(u);var y=o+"/"+f+"/cancel";return a.post({url:y},m)},fetch:function(f,m){if(!f)return Promise.reject(u);var y=o+"/"+f;return a.get({url:y},m)},all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=f.from,E=f.to,_=f.count,R=f.skip,A=o;return y&&(y=t(y)),E&&(E=t(E)),_=Number(_)||10,R=Number(R)||0,a.get({url:A,data:n({},f,{from:y,to:E,count:_,skip:R})},m)},edit:function(f,m,y){return a.patch({url:o+"/"+f,data:m},y)},notifyBy:function(f,m,y){if(!f)return Promise.reject(u);if(!m)return Promise.reject("`medium` is required");var E=o+"/"+f+"/notify_by/"+m;return a.post({url:E},y)}}},bg}var wg,Rw;function XV(){if(Rw)return wg;Rw=1;var n=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])}return r},e=or(),t=e.normalizeDate;return wg=function(a){var o="/plans",u="Plan ID is mandatory";return{create:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=o;return a.post({url:y,data:f},m)},fetch:function(f,m){if(!f)return Promise.reject(u);var y=o+"/"+f;return a.get({url:y},m)},all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=f.from,E=f.to,_=f.count,R=f.skip,A=o;return y&&(y=t(y)),E&&(E=t(E)),_=Number(_)||10,R=Number(R)||0,a.get({url:A,data:n({},f,{from:y,to:E,count:_,skip:R})},m)}}},wg}var Sg,Aw;function YV(){return Aw||(Aw=1,Sg=function(n){var e="/accounts";return{requestProductConfiguration:function(r,a,o){return n.post({version:"v2",url:e+"/"+r+"/products",data:a},o)},edit:function(r,a,o,u){return n.patch({version:"v2",url:e+"/"+r+"/products/"+a,data:o},u)},fetch:function(r,a,o){return n.get({version:"v2",url:e+"/"+r+"/products/"+a},o)},fetchTnc:function(r,a){return n.get({version:"v2",url:"/products/"+r+"/tnc"},a)}}}),Sg}var Rg,Cw;function JV(){if(Cw)return Rg;Cw=1;var n=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])}return r},e=or(),t=e.normalizeDate;return Rg=function(a){var o="/subscriptions",u="Subscription ID is mandatory";return{create:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=o;return a.post({url:y,data:f},m)},fetch:function(f,m){if(!f)return Promise.reject(u);var y=o+"/"+f;return a.get({url:y},m)},update:function(f,m,y){var E=o+"/"+f;return f?a.patch({url:E,data:m},y):Promise.reject(u)},pendingUpdate:function(f,m){var y=o+"/"+f+"/retrieve_scheduled_changes";return f?a.get({url:y},m):Promise.reject(u)},cancelScheduledChanges:function(f,m){var y=o+"/"+f+"/cancel_scheduled_changes";return f?a.post({url:y},m):Promise.reject("Subscription Id is mandatory")},pause:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],E=o+"/"+f+"/pause";return f?a.post({url:E,data:m},y):Promise.reject("Subscription Id is mandatory")},resume:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],E=o+"/"+f+"/resume";return f?a.post({url:E,data:m},y):Promise.reject("Subscription Id is mandatory")},deleteOffer:function(f,m,y){var E=o+"/"+f+"/"+m;return f?a.delete({url:E},y):Promise.reject("Subscription Id is mandatory")},all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=f.from,E=f.to,_=f.count,R=f.skip,A=o;return y&&(y=t(y)),E&&(E=t(E)),_=Number(_)||10,R=Number(R)||0,a.get({url:A,data:n({},f,{from:y,to:E,count:_,skip:R})},m)},cancel:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=arguments[2],E=o+"/"+f+"/cancel";return f?a.post(n({url:E},m&&{data:{cancel_at_cycle_end:1}}),y):Promise.reject(u)},createAddon:function(f,m,y){var E=o+"/"+f+"/addons";return f?a.post({url:E,data:n({},m)},y):Promise.reject(u)},createRegistrationLink:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1];return a.post({url:"/subscription_registration/auth_links",data:f},m)}}},Rg}var Ag,Iw;function ZV(){if(Iw)return Ag;Iw=1;var n=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])}return r},e=or(),t=e.normalizeDate;return Ag=function(r){var a="/addons",o="Addon ID is mandatory";return{fetch:function(h,f){if(!h)return Promise.reject(o);var m=a+"/"+h;return r.get({url:m},f)},delete:function(h,f){if(!h)return Promise.reject(o);var m=a+"/"+h;return r.delete({url:m},f)},all:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments[1],m=h.from,y=h.to,E=h.count,_=h.skip,R=a;return m&&(m=t(m)),y&&(y=t(y)),E=Number(E)||10,_=Number(_)||0,r.get({url:R,data:n({},h,{from:m,to:y,count:E,skip:_})},f)}}},Ag}var Cg,Ow;function ej(){if(Ow)return Cg;Ow=1;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};return Cg=function(e){var t="/settlements";return{createOndemandSettlement:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments[1],u=t+"/ondemand";return e.post({url:u,data:a},o)},all:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments[1],u=a.from,h=a.to,f=a.count,m=a.skip,y=t;return e.get({url:y,data:n({},a,{from:u,to:h,count:f,skip:m})},o)},fetch:function(a,o){return a?e.get({url:t+"/"+a},o):Promise.reject("settlement Id is mandatroy")},fetchOndemandSettlementById:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments[2],h=void 0;return a?(o.hasOwnProperty("expand[]")&&(h={"expand[]":o["expand[]"]}),e.get({url:t+"/ondemand/"+a,data:{expand:h}},u)):Promise.reject("settlment Id is mandatroy")},fetchAllOndemandSettlement:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments[1],u=void 0,h=a.from,f=a.to,m=a.count,y=a.skip,E=t+"/ondemand";return a.hasOwnProperty("expand[]")&&(u={"expand[]":a["expand[]"]}),e.get({url:E,data:n({},a,{from:h,to:f,count:m,skip:y,expand:u})},o)},reports:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments[1],u=a.day,h=a.count,f=a.skip,m=t+"/recon/combined";return e.get({url:m,data:n({},a,{day:u,count:h,skip:f})},o)}}},Cg}var Ig,xw;function tj(){if(xw)return Ig;xw=1;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};return Ig=function(e){var t="/payments/qr_codes";return{create:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments[1],u=t;return e.post({url:u,data:a},o)},all:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments[1],u=a.from,h=a.to,f=a.count,m=a.skip,y=t;return e.get({url:y,data:n({},a,{from:u,to:h,count:f,skip:m})},o)},fetchAllPayments:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments[2],h=o.from,f=o.to,m=o.count,y=o.skip,E=t+"/"+a+"/payments";return e.get({url:E,data:n({},o,{from:h,to:f,count:m,skip:y})},u)},fetch:function(a,o){return a?e.get({url:t+"/"+a},o):Promise.reject("qrCode Id is mandatroy")},close:function(a,o){if(!a)return Promise.reject("qrCode Id is mandatroy");var u=t+"/"+a+"/close";return e.post({url:u},o)}}},Ig}var Og,Nw;function nj(){if(Nw)return Og;Nw=1;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};return Og=function(e){return{create:function(r,a){return e.post({url:"/fund_accounts",data:n({},r)},a)},fetch:function(r,a){return r?e.get({url:"/fund_accounts?customer_id="+r},a):Promise.reject("Customer Id is mandatroy")}}},Og}var xg,Dw;function rj(){if(Dw)return xg;Dw=1;var n=Object.assign||function(a){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(a[h]=u[h])}return a};function e(a,o){var u={};for(var h in a)o.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(a,h)&&(u[h]=a[h]);return u}var t=or(),r=t.normalizeDate;return xg=function(a){return{all:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=u.from,m=u.to,y=u.count,E=u.skip,_=u.authorized,R=u.receipt;return f&&(f=r(f)),m&&(m=r(m)),y=Number(y)||10,E=Number(E)||0,a.get({url:"/items",data:{from:f,to:m,count:y,skip:E,authorized:_,receipt:R}},h)},fetch:function(u,h){if(!u)throw new Error("`item_id` is mandatory");return a.get({url:"/items/"+u},h)},create:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=u.amount,m=u.currency,y=e(u,["amount","currency"]);if(m=m||"INR",!f)throw new Error("`amount` is mandatory");var E=Object.assign(n({currency:m,amount:f},y));return a.post({url:"/items",data:E},h)},edit:function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments[2];if(!u)throw new Error("`item_id` is mandatory");var m="/items/"+u;return a.patch({url:m,data:h},f)},delete:function(u,h){if(!u)throw new Error("`item_id` is mandatory");return a.delete({url:"/items/"+u},h)}}},xg}var Ng,kw;function ij(){return kw||(kw=1,Ng=function(n){return{fetch:function(t,r){if(!t)throw new Error("`card_id` is mandatory");return n.get({url:"/cards/"+t},r)},requestCardReference:function(t,r){return n.post({url:"/cards/fingerprints",data:t},r)}}}),Ng}var Dg,Pw;function sj(){if(Pw)return Dg;Pw=1;var n=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u])}return r},e=or(),t=e.normalizeDate;return Dg=function(r){var a="/accounts";return{create:function(u,h,f){var m={url:"/webhooks",data:u};return h&&(m={version:"v2",url:a+"/"+h+"/webhooks",data:u}),r.post(m,f)},edit:function(u,h,f,m){return f&&h?r.patch({version:"v2",url:a+"/"+f+"/webhooks/"+h,data:u},m):r.put({url:"/webhooks/"+h,data:u},m)},all:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=arguments[2],m=u.from,y=u.to,E=u.count,_=u.skip;m&&(m=t(m)),y&&(y=t(y)),E=Number(E)||10,_=Number(_)||0;var R=n({},u,{from:m,to:y,count:E,skip:_});return h?r.get({version:"v2",url:a+"/"+h+"/webhooks/",data:R},f):r.get({url:"/webhooks",data:R},f)},fetch:function(u,h,f){return r.get({version:"v2",url:a+"/"+h+"/webhooks/"+u},f)},delete:function(u,h,f){return r.delete({version:"v2",url:a+"/"+h+"/webhooks/"+u},f)}}},Dg}var kg,Lw;function aj(){if(Lw)return kg;Lw=1;var n=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t};function e(t,r){var a={};for(var o in t)r.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o]);return a}return kg=function(t){var r="/documents";return{create:function(o,u){var h=o.file,f=e(o,["file"]);return t.postFormData({url:""+r,formData:n({file:h.value},f)},u)},fetch:function(o,u){return t.get({url:r+"/"+o},u)}}},kg}var Pg,Mw;function oj(){return Mw||(Mw=1,Pg=function(n){var e="/disputes";return{fetch:function(r,a){return n.get({url:e+"/"+r},a)},all:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments[1],o=r.count,u=r.skip;return o=Number(o)||10,u=Number(u)||0,n.get({url:""+e,data:{count:o,skip:u}},a)},accept:function(r,a){return n.post({url:e+"/"+r+"/accept"},a)},contest:function(r,a,o){return n.patch({url:e+"/"+r+"/contest",data:a},o)}}}),Pg}var Lg,Uw;function lj(){if(Uw)return Lg;Uw=1;var n=function(){function h(f,m){for(var y=0;y<m.length;y++){var E=m[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(f,E.key,E)}}return function(f,m,y){return m&&h(f.prototype,m),y&&h(f,y),f}}();function e(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}var t=LV(),r=UV,a=or(),o=a.validateWebhookSignature,u=function(){n(h,null,[{key:"validateWebhookSignature",value:function(){return o.apply(void 0,arguments)}}]);function h(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e(this,h);var m=f.key_id,y=f.key_secret,E=f.headers;if(!m)throw new Error("`key_id` is mandatory");this.key_id=m,this.key_secret=y,this.api=new t({hostUrl:"https://api.razorpay.com",ua:"razorpay-node@"+h.VERSION,key_id:m,key_secret:y,headers:E}),this.addResources()}return n(h,[{key:"addResources",value:function(){Object.assign(this,{accounts:VV()(this.api),stakeholders:jV()(this.api),payments:BV()(this.api),refunds:zV()(this.api),orders:qV()(this.api),customers:FV()(this.api),transfers:HV()(this.api),tokens:$V()(this.api),virtualAccounts:GV()(this.api),invoices:KV()(this.api),iins:QV()(this.api),paymentLink:WV()(this.api),plans:XV()(this.api),products:YV()(this.api),subscriptions:JV()(this.api),addons:ZV()(this.api),settlements:ej()(this.api),qrCode:tj()(this.api),fundAccount:nj()(this.api),items:rj()(this.api),cards:ij()(this.api),webhooks:sj()(this.api),documents:aj()(this.api),disputes:oj()(this.api)})}}]),h}();return u.VERSION=r.version,Lg=u,Lg}lj();function R1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=R1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function qo(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=R1(n))&&(r&&(r+=" "),r+=e);return r}function uj(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}uj(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Jc=n=>typeof n=="number"&&!isNaN(n),Xo=n=>typeof n=="string",Gs=n=>typeof n=="function",cj=n=>Xo(n)||Jc(n),by=n=>Xo(n)||Gs(n)?n:null,fj=(n,e)=>n===!1||Jc(n)&&n>0?n:e,wy=n=>C.isValidElement(n)||Xo(n)||Gs(n)||Jc(n);function hj(n,e,t=300){let{scrollHeight:r,style:a}=n;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${t}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,t)})})}function dj({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:a=300}){return function({children:o,position:u,preventExitTransition:h,done:f,nodeRef:m,isIn:y,playToast:E}){let _=t?`${n}--${u}`:n,R=t?`${e}--${u}`:e,A=C.useRef(0);return C.useLayoutEffect(()=>{let V=m.current,D=_.split(" "),$=K=>{K.target===m.current&&(E(),V.removeEventListener("animationend",$),V.removeEventListener("animationcancel",$),A.current===0&&K.type!=="animationcancel"&&V.classList.remove(...D))};V.classList.add(...D),V.addEventListener("animationend",$),V.addEventListener("animationcancel",$)},[]),C.useEffect(()=>{let V=m.current,D=()=>{V.removeEventListener("animationend",D),r?hj(V,f,a):f()};y||(h?D():(A.current=1,V.className+=` ${R}`,V.addEventListener("animationend",D)))},[y]),dt.createElement(dt.Fragment,null,o)}}function Vw(n,e){return{content:A1(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function A1(n,e,t=!1){return C.isValidElement(n)&&!Xo(n.type)?C.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Gs(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function mj({closeToast:n,theme:e,ariaLabel:t="close"}){return dt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},dt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},dt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function pj({delay:n,isRunning:e,closeToast:t,type:r="default",hide:a,className:o,controlledProgress:u,progress:h,rtl:f,isIn:m,theme:y}){let E=a||u&&h===0,_={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(_.transform=`scaleX(${h})`);let R=qo("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),A=Gs(o)?o({rtl:f,type:r,defaultClassName:R}):qo(R,o),V={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{m&&t()}};return dt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},dt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${r}`}),dt.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:A,style:_,...V}))}var gj=1,C1=()=>`${gj++}`;function yj(n,e,t){let r=1,a=0,o=[],u=[],h=e,f=new Map,m=new Set,y=K=>(m.add(K),()=>m.delete(K)),E=()=>{u=Array.from(f.values()),m.forEach(K=>K())},_=({containerId:K,toastId:H,updateId:te})=>{let ae=K?K!==n:n!==1,ge=f.has(H)&&te==null;return ae||ge},R=(K,H)=>{f.forEach(te=>{var ae;(H==null||H===te.props.toastId)&&((ae=te.toggle)==null||ae.call(te,K))})},A=K=>{var H,te;(te=(H=K.props)==null?void 0:H.onClose)==null||te.call(H,K.removalReason),K.isActive=!1},V=K=>{if(K==null)f.forEach(A);else{let H=f.get(K);H&&A(H)}E()},D=()=>{a-=o.length,o=[]},$=K=>{var H,te;let{toastId:ae,updateId:ge}=K.props,M=ge==null;K.staleId&&f.delete(K.staleId),K.isActive=!0,f.set(ae,K),E(),t(Vw(K,M?"added":"updated")),M&&((te=(H=K.props).onOpen)==null||te.call(H))};return{id:n,props:h,observe:y,toggle:R,removeToast:V,toasts:f,clearQueue:D,buildToast:(K,H)=>{if(_(H))return;let{toastId:te,updateId:ae,data:ge,staleId:M,delay:P}=H,k=ae==null;k&&a++;let B={...h,style:h.toastStyle,key:r++,...Object.fromEntries(Object.entries(H).filter(([G,U])=>U!=null)),toastId:te,updateId:ae,data:ge,isIn:!1,className:by(H.className||h.toastClassName),progressClassName:by(H.progressClassName||h.progressClassName),autoClose:H.isLoading?!1:fj(H.autoClose,h.autoClose),closeToast(G){f.get(te).removalReason=G,V(te)},deleteToast(){let G=f.get(te);if(G!=null){if(t(Vw(G,"removed")),f.delete(te),a--,a<0&&(a=0),o.length>0){$(o.shift());return}E()}}};B.closeButton=h.closeButton,H.closeButton===!1||wy(H.closeButton)?B.closeButton=H.closeButton:H.closeButton===!0&&(B.closeButton=wy(h.closeButton)?h.closeButton:!0);let z={content:K,props:B,staleId:M};h.limit&&h.limit>0&&a>h.limit&&k?o.push(z):Jc(P)?setTimeout(()=>{$(z)},P):$(z)},setProps(K){h=K},setToggle:(K,H)=>{let te=f.get(K);te&&(te.toggle=H)},isToastActive:K=>{var H;return(H=f.get(K))==null?void 0:H.isActive},getSnapshot:()=>u}}var ar=new Map,Pc=[],Sy=new Set,vj=n=>Sy.forEach(e=>e(n)),I1=()=>ar.size>0;function _j(){Pc.forEach(n=>x1(n.content,n.options)),Pc=[]}var Ej=(n,{containerId:e})=>{var t;return(t=ar.get(e||1))==null?void 0:t.toasts.get(n)};function O1(n,e){var t;if(e)return!!((t=ar.get(e))!=null&&t.isToastActive(n));let r=!1;return ar.forEach(a=>{a.isToastActive(n)&&(r=!0)}),r}function Tj(n){if(!I1()){Pc=Pc.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||cj(n))ar.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=ar.get(n.containerId);e?e.removeToast(n.id):ar.forEach(t=>{t.removeToast(n.id)})}}var bj=(n={})=>{ar.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function x1(n,e){wy(n)&&(I1()||Pc.push({content:n,options:e}),ar.forEach(t=>{t.buildToast(n,e)}))}function wj(n){var e;(e=ar.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function N1(n,e){ar.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function Sj(n){let e=n.containerId||1;return{subscribe(t){let r=yj(e,n,vj);ar.set(e,r);let a=r.observe(t);return _j(),()=>{a(),ar.delete(e)}},setProps(t){var r;(r=ar.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=ar.get(e))==null?void 0:t.getSnapshot()}}}function Rj(n){return Sy.add(n),()=>{Sy.delete(n)}}function Aj(n){return n&&(Xo(n.toastId)||Jc(n.toastId))?n.toastId:C1()}function Zc(n,e){return x1(n,e),e.toastId}function Dd(n,e){return{...e,type:e&&e.type||n,toastId:Aj(e)}}function kd(n){return(e,t)=>Zc(e,Dd(n,t))}function Rt(n,e){return Zc(n,Dd("default",e))}Rt.loading=(n,e)=>Zc(n,Dd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Cj(n,{pending:e,error:t,success:r},a){let o;e&&(o=Xo(e)?Rt.loading(e,a):Rt.loading(e.render,{...a,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(m,y,E)=>{if(y==null){Rt.dismiss(o);return}let _={type:m,...u,...a,data:E},R=Xo(y)?{render:y}:y;return o?Rt.update(o,{..._,...R}):Rt(R.render,{..._,...R}),E},f=Gs(n)?n():n;return f.then(m=>h("success",r,m)).catch(m=>h("error",t,m)),f}Rt.promise=Cj;Rt.success=kd("success");Rt.info=kd("info");Rt.error=kd("error");Rt.warning=kd("warning");Rt.warn=Rt.warning;Rt.dark=(n,e)=>Zc(n,Dd("default",{theme:"dark",...e}));function Ij(n){Tj(n)}Rt.dismiss=Ij;Rt.clearWaitingQueue=bj;Rt.isActive=O1;Rt.update=(n,e={})=>{let t=Ej(n,e);if(t){let{props:r,content:a}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:C1()};o.toastId!==n&&(o.staleId=n);let u=o.render||a;delete o.render,Zc(u,o)}};Rt.done=n=>{Rt.update(n,{progress:1})};Rt.onChange=Rj;Rt.play=n=>N1(!0,n);Rt.pause=n=>N1(!1,n);function Oj(n){var e;let{subscribe:t,getSnapshot:r,setProps:a}=C.useRef(Sj(n)).current;a(n);let o=(e=C.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function u(h){if(!o)return[];let f=new Map;return n.newestOnTop&&o.reverse(),o.forEach(m=>{let{position:y}=m.props;f.has(y)||f.set(y,[]),f.get(y).push(m)}),Array.from(f,m=>h(m[0],m[1]))}return{getToastToRender:u,isToastActive:O1,count:o==null?void 0:o.length}}function xj(n){let[e,t]=C.useState(!1),[r,a]=C.useState(!1),o=C.useRef(null),u=C.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:m,onClick:y,closeOnClick:E}=n;wj({id:n.toastId,containerId:n.containerId,fn:t}),C.useEffect(()=>{if(n.pauseOnFocusLoss)return _(),()=>{R()}},[n.pauseOnFocusLoss]);function _(){document.hasFocus()||$(),window.addEventListener("focus",D),window.addEventListener("blur",$)}function R(){window.removeEventListener("focus",D),window.removeEventListener("blur",$)}function A(M){if(n.draggable===!0||n.draggable===M.pointerType){K();let P=o.current;u.canCloseOnClick=!0,u.canDrag=!0,P.style.transition="none",n.draggableDirection==="x"?(u.start=M.clientX,u.removalDistance=P.offsetWidth*(n.draggablePercent/100)):(u.start=M.clientY,u.removalDistance=P.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function V(M){let{top:P,bottom:k,left:B,right:z}=o.current.getBoundingClientRect();M.nativeEvent.type!=="touchend"&&n.pauseOnHover&&M.clientX>=B&&M.clientX<=z&&M.clientY>=P&&M.clientY<=k?$():D()}function D(){t(!0)}function $(){t(!1)}function K(){u.didMove=!1,document.addEventListener("pointermove",te),document.addEventListener("pointerup",ae)}function H(){document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",ae)}function te(M){let P=o.current;if(u.canDrag&&P){u.didMove=!0,e&&$(),n.draggableDirection==="x"?u.delta=M.clientX-u.start:u.delta=M.clientY-u.start,u.start!==M.clientX&&(u.canCloseOnClick=!1);let k=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;P.style.transform=`translate3d(${k},0)`,P.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function ae(){H();let M=o.current;if(u.canDrag&&u.didMove&&M){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){a(!0),n.closeToast(!0),n.collapseAll();return}M.style.transition="transform 0.2s, opacity 0.2s",M.style.removeProperty("transform"),M.style.removeProperty("opacity")}}let ge={onPointerDown:A,onPointerUp:V};return h&&f&&(ge.onMouseEnter=$,n.stacked||(ge.onMouseLeave=D)),E&&(ge.onClick=M=>{y&&y(M),u.canCloseOnClick&&m(!0)}),{playToast:D,pauseToast:$,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:ge}}var Nj=typeof window<"u"?C.useLayoutEffect:C.useEffect,Pd=({theme:n,type:e,isLoading:t,...r})=>dt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function Dj(n){return dt.createElement(Pd,{...n},dt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function kj(n){return dt.createElement(Pd,{...n},dt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Pj(n){return dt.createElement(Pd,{...n},dt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Lj(n){return dt.createElement(Pd,{...n},dt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Mj(){return dt.createElement("div",{className:"Toastify__spinner"})}var Ry={info:kj,warning:Dj,success:Pj,error:Lj,spinner:Mj},Uj=n=>n in Ry;function Vj({theme:n,type:e,isLoading:t,icon:r}){let a=null,o={theme:n,type:e};return r===!1||(Gs(r)?a=r({...o,isLoading:t}):C.isValidElement(r)?a=C.cloneElement(r,o):t?a=Ry.spinner():Uj(e)&&(a=Ry[e](o))),a}var jj=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:a,playToast:o}=xj(n),{closeButton:u,children:h,autoClose:f,onClick:m,type:y,hideProgressBar:E,closeToast:_,transition:R,position:A,className:V,style:D,progressClassName:$,updateId:K,role:H,progress:te,rtl:ae,toastId:ge,deleteToast:M,isIn:P,isLoading:k,closeOnClick:B,theme:z,ariaLabel:G}=n,U=qo("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":ae},{"Toastify__toast--close-on-click":B}),Je=Gs(V)?V({rtl:ae,position:A,type:y,defaultClassName:U}):qo(U,V),le=Vj(n),re=!!te||!f,he={closeToast:_,type:y,theme:z},de=null;return u===!1||(Gs(u)?de=u(he):C.isValidElement(u)?de=C.cloneElement(u,he):de=mj(he)),dt.createElement(R,{isIn:P,done:M,position:A,preventExitTransition:t,nodeRef:r,playToast:o},dt.createElement("div",{id:ge,tabIndex:0,onClick:m,"data-in":P,className:Je,...a,style:D,ref:r,...P&&{role:H,"aria-label":G}},le!=null&&dt.createElement("div",{className:qo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},le),A1(h,n,!e),de,!n.customProgressBar&&dt.createElement(pj,{...K&&!re?{key:`p-${K}`}:{},rtl:ae,theme:z,delay:f,isRunning:e,isIn:P,closeToast:_,hide:E,type:y,className:$,controlledProgress:re,progress:te||0})))},Bj=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),zj=dj(Bj("bounce",!0)),qj={position:"top-right",transition:zj,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function Fj(n){let e={...qj,...n},t=n.stacked,[r,a]=C.useState(!0),o=C.useRef(null),{getToastToRender:u,isToastActive:h,count:f}=Oj(e),{className:m,style:y,rtl:E,containerId:_,hotKeys:R}=e;function A(D){let $=qo("Toastify__toast-container",`Toastify__toast-container--${D}`,{"Toastify__toast-container--rtl":E});return Gs(m)?m({position:D,rtl:E,defaultClassName:$}):qo($,by(m))}function V(){t&&(a(!0),Rt.play())}return Nj(()=>{var D;if(t){let $=o.current.querySelectorAll('[data-in="true"]'),K=12,H=(D=e.position)==null?void 0:D.includes("top"),te=0,ae=0;Array.from($).reverse().forEach((ge,M)=>{let P=ge;P.classList.add("Toastify__toast--stacked"),M>0&&(P.dataset.collapsed=`${r}`),P.dataset.pos||(P.dataset.pos=H?"top":"bot");let k=te*(r?.2:1)+(r?0:K*M);P.style.setProperty("--y",`${H?k:k*-1}px`),P.style.setProperty("--g",`${K}`),P.style.setProperty("--s",`${1-(r?ae:0)}`),te+=P.offsetHeight,ae+=.025})}},[r,f,t]),C.useEffect(()=>{function D($){var K;let H=o.current;R($)&&((K=H.querySelector('[tabIndex="0"]'))==null||K.focus(),a(!1),Rt.pause()),$.key==="Escape"&&(document.activeElement===H||H!=null&&H.contains(document.activeElement))&&(a(!0),Rt.play())}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[R]),dt.createElement("section",{ref:o,className:"Toastify",id:_,onMouseEnter:()=>{t&&(a(!1),Rt.pause())},onMouseLeave:V,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((D,$)=>{let K=$.length?{...y}:{...y,pointerEvents:"none"};return dt.createElement("div",{tabIndex:-1,className:A(D),"data-stacked":t,style:K,key:`c-${D}`},$.map(({content:H,props:te})=>dt.createElement(jj,{...te,stacked:t,collapseAll:V,isIn:h(te.toastId,te.containerId),key:`t-${te.key}`},H)))}))}function D1(n,e){return function(){return n.apply(e,arguments)}}const{toString:Hj}=Object.prototype,{getPrototypeOf:Hv}=Object,Ld=(n=>e=>{const t=Hj.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ri=n=>(n=n.toLowerCase(),e=>Ld(e)===n),Md=n=>e=>typeof e===n,{isArray:lu}=Array,Lc=Md("undefined");function $j(n){return n!==null&&!Lc(n)&&n.constructor!==null&&!Lc(n.constructor)&&Ur(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const k1=Ri("ArrayBuffer");function Gj(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&k1(n.buffer),e}const Kj=Md("string"),Ur=Md("function"),P1=Md("number"),Ud=n=>n!==null&&typeof n=="object",Qj=n=>n===!0||n===!1,Ch=n=>{if(Ld(n)!=="object")return!1;const e=Hv(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Wj=Ri("Date"),Xj=Ri("File"),Yj=Ri("Blob"),Jj=Ri("FileList"),Zj=n=>Ud(n)&&Ur(n.pipe),e4=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Ur(n.append)&&((e=Ld(n))==="formdata"||e==="object"&&Ur(n.toString)&&n.toString()==="[object FormData]"))},t4=Ri("URLSearchParams"),[n4,r4,i4,s4]=["ReadableStream","Request","Response","Headers"].map(Ri),a4=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ef(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,a;if(typeof n!="object"&&(n=[n]),lu(n))for(r=0,a=n.length;r<a;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function L1(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,a;for(;r-- >0;)if(a=t[r],e===a.toLowerCase())return a;return null}const Bo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,M1=n=>!Lc(n)&&n!==Bo;function Ay(){const{caseless:n}=M1(this)&&this||{},e={},t=(r,a)=>{const o=n&&L1(e,a)||a;Ch(e[o])&&Ch(r)?e[o]=Ay(e[o],r):Ch(r)?e[o]=Ay({},r):lu(r)?e[o]=r.slice():e[o]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&ef(arguments[r],t);return e}const o4=(n,e,t,{allOwnKeys:r}={})=>(ef(e,(a,o)=>{t&&Ur(a)?n[o]=D1(a,t):n[o]=a},{allOwnKeys:r}),n),l4=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),u4=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},c4=(n,e,t,r)=>{let a,o,u;const h={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),o=a.length;o-- >0;)u=a[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&Hv(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},f4=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},h4=n=>{if(!n)return null;if(lu(n))return n;let e=n.length;if(!P1(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},d4=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Hv(Uint8Array)),m4=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let a;for(;(a=r.next())&&!a.done;){const o=a.value;e.call(n,o[0],o[1])}},p4=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},g4=Ri("HTMLFormElement"),y4=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,a){return r.toUpperCase()+a}),jw=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),v4=Ri("RegExp"),U1=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};ef(t,(a,o)=>{let u;(u=e(a,o,n))!==!1&&(r[o]=u||a)}),Object.defineProperties(n,r)},_4=n=>{U1(n,(e,t)=>{if(Ur(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Ur(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},E4=(n,e)=>{const t={},r=a=>{a.forEach(o=>{t[o]=!0})};return lu(n)?r(n):r(String(n).split(e)),t},T4=()=>{},b4=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function w4(n){return!!(n&&Ur(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const S4=n=>{const e=new Array(10),t=(r,a)=>{if(Ud(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[a]=r;const o=lu(r)?[]:{};return ef(r,(u,h)=>{const f=t(u,a+1);!Lc(f)&&(o[h]=f)}),e[a]=void 0,o}}return r};return t(n,0)},R4=Ri("AsyncFunction"),A4=n=>n&&(Ud(n)||Ur(n))&&Ur(n.then)&&Ur(n.catch),V1=((n,e)=>n?setImmediate:e?((t,r)=>(Bo.addEventListener("message",({source:a,data:o})=>{a===Bo&&o===t&&r.length&&r.shift()()},!1),a=>{r.push(a),Bo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ur(Bo.postMessage)),C4=typeof queueMicrotask<"u"?queueMicrotask.bind(Bo):typeof process<"u"&&process.nextTick||V1,oe={isArray:lu,isArrayBuffer:k1,isBuffer:$j,isFormData:e4,isArrayBufferView:Gj,isString:Kj,isNumber:P1,isBoolean:Qj,isObject:Ud,isPlainObject:Ch,isReadableStream:n4,isRequest:r4,isResponse:i4,isHeaders:s4,isUndefined:Lc,isDate:Wj,isFile:Xj,isBlob:Yj,isRegExp:v4,isFunction:Ur,isStream:Zj,isURLSearchParams:t4,isTypedArray:d4,isFileList:Jj,forEach:ef,merge:Ay,extend:o4,trim:a4,stripBOM:l4,inherits:u4,toFlatObject:c4,kindOf:Ld,kindOfTest:Ri,endsWith:f4,toArray:h4,forEachEntry:m4,matchAll:p4,isHTMLForm:g4,hasOwnProperty:jw,hasOwnProp:jw,reduceDescriptors:U1,freezeMethods:_4,toObjectSet:E4,toCamelCase:y4,noop:T4,toFiniteNumber:b4,findKey:L1,global:Bo,isContextDefined:M1,isSpecCompliantForm:w4,toJSONObject:S4,isAsyncFn:R4,isThenable:A4,setImmediate:V1,asap:C4};function We(n,e,t,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}oe.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const j1=We.prototype,B1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{B1[n]={value:n}});Object.defineProperties(We,B1);Object.defineProperty(j1,"isAxiosError",{value:!0});We.from=(n,e,t,r,a,o)=>{const u=Object.create(j1);return oe.toFlatObject(n,u,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),We.call(u,n.message,e,t,r,a),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const I4=null;function Cy(n){return oe.isPlainObject(n)||oe.isArray(n)}function z1(n){return oe.endsWith(n,"[]")?n.slice(0,-2):n}function Bw(n,e,t){return n?n.concat(e).map(function(a,o){return a=z1(a),!t&&o?"["+a+"]":a}).join(t?".":""):e}function O4(n){return oe.isArray(n)&&!n.some(Cy)}const x4=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function Vd(n,e,t){if(!oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(V,D){return!oe.isUndefined(D[V])});const r=t.metaTokens,a=t.visitor||y,o=t.dots,u=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(a))throw new TypeError("visitor must be a function");function m(A){if(A===null)return"";if(oe.isDate(A))return A.toISOString();if(!f&&oe.isBlob(A))throw new We("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(A)||oe.isTypedArray(A)?f&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function y(A,V,D){let $=A;if(A&&!D&&typeof A=="object"){if(oe.endsWith(V,"{}"))V=r?V:V.slice(0,-2),A=JSON.stringify(A);else if(oe.isArray(A)&&O4(A)||(oe.isFileList(A)||oe.endsWith(V,"[]"))&&($=oe.toArray(A)))return V=z1(V),$.forEach(function(H,te){!(oe.isUndefined(H)||H===null)&&e.append(u===!0?Bw([V],te,o):u===null?V:V+"[]",m(H))}),!1}return Cy(A)?!0:(e.append(Bw(D,V,o),m(A)),!1)}const E=[],_=Object.assign(x4,{defaultVisitor:y,convertValue:m,isVisitable:Cy});function R(A,V){if(!oe.isUndefined(A)){if(E.indexOf(A)!==-1)throw Error("Circular reference detected in "+V.join("."));E.push(A),oe.forEach(A,function($,K){(!(oe.isUndefined($)||$===null)&&a.call(e,$,oe.isString(K)?K.trim():K,V,_))===!0&&R($,V?V.concat(K):[K])}),E.pop()}}if(!oe.isObject(n))throw new TypeError("data must be an object");return R(n),e}function zw(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function $v(n,e){this._pairs=[],n&&Vd(n,this,e)}const q1=$v.prototype;q1.append=function(e,t){this._pairs.push([e,t])};q1.toString=function(e){const t=e?function(r){return e.call(this,r,zw)}:zw;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function N4(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function F1(n,e,t){if(!e)return n;const r=t&&t.encode||N4;oe.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let o;if(a?o=a(e,t):o=oe.isURLSearchParams(e)?e.toString():new $v(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class qw{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const H1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},D4=typeof URLSearchParams<"u"?URLSearchParams:$v,k4=typeof FormData<"u"?FormData:null,P4=typeof Blob<"u"?Blob:null,L4={isBrowser:!0,classes:{URLSearchParams:D4,FormData:k4,Blob:P4},protocols:["http","https","file","blob","url","data"]},Gv=typeof window<"u"&&typeof document<"u",Iy=typeof navigator=="object"&&navigator||void 0,M4=Gv&&(!Iy||["ReactNative","NativeScript","NS"].indexOf(Iy.product)<0),U4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",V4=Gv&&window.location.href||"http://localhost",j4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Gv,hasStandardBrowserEnv:M4,hasStandardBrowserWebWorkerEnv:U4,navigator:Iy,origin:V4},Symbol.toStringTag,{value:"Module"})),Gn={...j4,...L4};function B4(n,e){return Vd(n,new Gn.classes.URLSearchParams,Object.assign({visitor:function(t,r,a,o){return Gn.isNode&&oe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function z4(n){return oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function q4(n){const e={},t=Object.keys(n);let r;const a=t.length;let o;for(r=0;r<a;r++)o=t[r],e[o]=n[o];return e}function $1(n){function e(t,r,a,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),f=o>=t.length;return u=!u&&oe.isArray(a)?a.length:u,f?(oe.hasOwnProp(a,u)?a[u]=[a[u],r]:a[u]=r,!h):((!a[u]||!oe.isObject(a[u]))&&(a[u]=[]),e(t,r,a[u],o)&&oe.isArray(a[u])&&(a[u]=q4(a[u])),!h)}if(oe.isFormData(n)&&oe.isFunction(n.entries)){const t={};return oe.forEachEntry(n,(r,a)=>{e(z4(r),a,t,0)}),t}return null}function F4(n,e,t){if(oe.isString(n))try{return(e||JSON.parse)(n),oe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const tf={transitional:H1,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",a=r.indexOf("application/json")>-1,o=oe.isObject(e);if(o&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return a?JSON.stringify($1(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return B4(e,this.formSerializer).toString();if((h=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Vd(h?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||a?(t.setContentType("application/json",!1),F4(e)):e}],transformResponse:[function(e){const t=this.transitional||tf.transitional,r=t&&t.forcedJSONParsing,a=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||a)){const u=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?We.from(h,We.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gn.classes.FormData,Blob:Gn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],n=>{tf.headers[n]={}});const H4=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$4=n=>{const e={};let t,r,a;return n&&n.split(`
`).forEach(function(u){a=u.indexOf(":"),t=u.substring(0,a).trim().toLowerCase(),r=u.substring(a+1).trim(),!(!t||e[t]&&H4[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Fw=Symbol("internals");function uc(n){return n&&String(n).trim().toLowerCase()}function Ih(n){return n===!1||n==null?n:oe.isArray(n)?n.map(Ih):String(n)}function G4(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const K4=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Mg(n,e,t,r,a){if(oe.isFunction(r))return r.call(this,e,t);if(a&&(e=t),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function Q4(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function W4(n,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(a,o,u){return this[r].call(this,e,a,o,u)},configurable:!0})})}let Er=class{constructor(e){e&&this.set(e)}set(e,t,r){const a=this;function o(h,f,m){const y=uc(f);if(!y)throw new Error("header name must be a non-empty string");const E=oe.findKey(a,y);(!E||a[E]===void 0||m===!0||m===void 0&&a[E]!==!1)&&(a[E||f]=Ih(h))}const u=(h,f)=>oe.forEach(h,(m,y)=>o(m,y,f));if(oe.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(oe.isString(e)&&(e=e.trim())&&!K4(e))u($4(e),t);else if(oe.isHeaders(e))for(const[h,f]of e.entries())o(f,h,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=uc(e),e){const r=oe.findKey(this,e);if(r){const a=this[r];if(!t)return a;if(t===!0)return G4(a);if(oe.isFunction(t))return t.call(this,a,r);if(oe.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=uc(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Mg(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let a=!1;function o(u){if(u=uc(u),u){const h=oe.findKey(r,u);h&&(!t||Mg(r,r[h],h,t))&&(delete r[h],a=!0)}}return oe.isArray(e)?e.forEach(o):o(e),a}clear(e){const t=Object.keys(this);let r=t.length,a=!1;for(;r--;){const o=t[r];(!e||Mg(this,this[o],o,e,!0))&&(delete this[o],a=!0)}return a}normalize(e){const t=this,r={};return oe.forEach(this,(a,o)=>{const u=oe.findKey(r,o);if(u){t[u]=Ih(a),delete t[o];return}const h=e?Q4(o):String(o).trim();h!==o&&delete t[o],t[h]=Ih(a),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(r,a)=>{r!=null&&r!==!1&&(t[a]=e&&oe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[Fw]=this[Fw]={accessors:{}}).accessors,a=this.prototype;function o(u){const h=uc(u);r[h]||(W4(a,u),r[h]=!0)}return oe.isArray(e)?e.forEach(o):o(e),this}};Er.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(Er.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});oe.freezeMethods(Er);function Ug(n,e){const t=this||tf,r=e||t,a=Er.from(r.headers);let o=r.data;return oe.forEach(n,function(h){o=h.call(t,o,a.normalize(),e?e.status:void 0)}),a.normalize(),o}function G1(n){return!!(n&&n.__CANCEL__)}function uu(n,e,t){We.call(this,n??"canceled",We.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(uu,We,{__CANCEL__:!0});function K1(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new We("Request failed with status code "+t.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function X4(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Y4(n,e){n=n||10;const t=new Array(n),r=new Array(n);let a=0,o=0,u;return e=e!==void 0?e:1e3,function(f){const m=Date.now(),y=r[o];u||(u=m),t[a]=f,r[a]=m;let E=o,_=0;for(;E!==a;)_+=t[E++],E=E%n;if(a=(a+1)%n,a===o&&(o=(o+1)%n),m-u<e)return;const R=y&&m-y;return R?Math.round(_*1e3/R):void 0}}function J4(n,e){let t=0,r=1e3/e,a,o;const u=(m,y=Date.now())=>{t=y,a=null,o&&(clearTimeout(o),o=null),n.apply(null,m)};return[(...m)=>{const y=Date.now(),E=y-t;E>=r?u(m,y):(a=m,o||(o=setTimeout(()=>{o=null,u(a)},r-E)))},()=>a&&u(a)]}const Jh=(n,e,t=3)=>{let r=0;const a=Y4(50,250);return J4(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,f=u-r,m=a(f),y=u<=h;r=u;const E={loaded:u,total:h,progress:h?u/h:void 0,bytes:f,rate:m||void 0,estimated:m&&h&&y?(h-u)/m:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(E)},t)},Hw=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},$w=n=>(...e)=>oe.asap(()=>n(...e)),Z4=Gn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Gn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Gn.origin),Gn.navigator&&/(msie|trident)/i.test(Gn.navigator.userAgent)):()=>!0,eB=Gn.hasStandardBrowserEnv?{write(n,e,t,r,a,o){const u=[n+"="+encodeURIComponent(e)];oe.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),oe.isString(r)&&u.push("path="+r),oe.isString(a)&&u.push("domain="+a),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tB(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function nB(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Q1(n,e,t){let r=!tB(e);return n&&r||t==!1?nB(n,e):e}const Gw=n=>n instanceof Er?{...n}:n;function Yo(n,e){e=e||{};const t={};function r(m,y,E,_){return oe.isPlainObject(m)&&oe.isPlainObject(y)?oe.merge.call({caseless:_},m,y):oe.isPlainObject(y)?oe.merge({},y):oe.isArray(y)?y.slice():y}function a(m,y,E,_){if(oe.isUndefined(y)){if(!oe.isUndefined(m))return r(void 0,m,E,_)}else return r(m,y,E,_)}function o(m,y){if(!oe.isUndefined(y))return r(void 0,y)}function u(m,y){if(oe.isUndefined(y)){if(!oe.isUndefined(m))return r(void 0,m)}else return r(void 0,y)}function h(m,y,E){if(E in e)return r(m,y);if(E in n)return r(void 0,m)}const f={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(m,y,E)=>a(Gw(m),Gw(y),E,!0)};return oe.forEach(Object.keys(Object.assign({},n,e)),function(y){const E=f[y]||a,_=E(n[y],e[y],y);oe.isUndefined(_)&&E!==h||(t[y]=_)}),t}const W1=n=>{const e=Yo({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:u,auth:h}=e;e.headers=u=Er.from(u),e.url=F1(Q1(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if(oe.isFormData(t)){if(Gn.hasStandardBrowserEnv||Gn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((f=u.getContentType())!==!1){const[m,...y]=f?f.split(";").map(E=>E.trim()).filter(Boolean):[];u.setContentType([m||"multipart/form-data",...y].join("; "))}}if(Gn.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&Z4(e.url))){const m=a&&o&&eB.read(o);m&&u.set(a,m)}return e},rB=typeof XMLHttpRequest<"u",iB=rB&&function(n){return new Promise(function(t,r){const a=W1(n);let o=a.data;const u=Er.from(a.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:m}=a,y,E,_,R,A;function V(){R&&R(),A&&A(),a.cancelToken&&a.cancelToken.unsubscribe(y),a.signal&&a.signal.removeEventListener("abort",y)}let D=new XMLHttpRequest;D.open(a.method.toUpperCase(),a.url,!0),D.timeout=a.timeout;function $(){if(!D)return;const H=Er.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),ae={data:!h||h==="text"||h==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:H,config:n,request:D};K1(function(M){t(M),V()},function(M){r(M),V()},ae),D=null}"onloadend"in D?D.onloadend=$:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout($)},D.onabort=function(){D&&(r(new We("Request aborted",We.ECONNABORTED,n,D)),D=null)},D.onerror=function(){r(new We("Network Error",We.ERR_NETWORK,n,D)),D=null},D.ontimeout=function(){let te=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const ae=a.transitional||H1;a.timeoutErrorMessage&&(te=a.timeoutErrorMessage),r(new We(te,ae.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,n,D)),D=null},o===void 0&&u.setContentType(null),"setRequestHeader"in D&&oe.forEach(u.toJSON(),function(te,ae){D.setRequestHeader(ae,te)}),oe.isUndefined(a.withCredentials)||(D.withCredentials=!!a.withCredentials),h&&h!=="json"&&(D.responseType=a.responseType),m&&([_,A]=Jh(m,!0),D.addEventListener("progress",_)),f&&D.upload&&([E,R]=Jh(f),D.upload.addEventListener("progress",E),D.upload.addEventListener("loadend",R)),(a.cancelToken||a.signal)&&(y=H=>{D&&(r(!H||H.type?new uu(null,n,D):H),D.abort(),D=null)},a.cancelToken&&a.cancelToken.subscribe(y),a.signal&&(a.signal.aborted?y():a.signal.addEventListener("abort",y)));const K=X4(a.url);if(K&&Gn.protocols.indexOf(K)===-1){r(new We("Unsupported protocol "+K+":",We.ERR_BAD_REQUEST,n));return}D.send(o||null)})},sB=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,a;const o=function(m){if(!a){a=!0,h();const y=m instanceof Error?m:this.reason;r.abort(y instanceof We?y:new uu(y instanceof Error?y.message:y))}};let u=e&&setTimeout(()=>{u=null,o(new We(`timeout ${e} of ms exceeded`,We.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),n=null)};n.forEach(m=>m.addEventListener("abort",o));const{signal:f}=r;return f.unsubscribe=()=>oe.asap(h),f}},aB=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,a;for(;r<t;)a=r+e,yield n.slice(r,a),r=a},oB=async function*(n,e){for await(const t of lB(n))yield*aB(t,e)},lB=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},Kw=(n,e,t,r)=>{const a=oB(n,e);let o=0,u,h=f=>{u||(u=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:m,value:y}=await a.next();if(m){h(),f.close();return}let E=y.byteLength;if(t){let _=o+=E;t(_)}f.enqueue(new Uint8Array(y))}catch(m){throw h(m),m}},cancel(f){return h(f),a.return()}},{highWaterMark:2})},jd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",X1=jd&&typeof ReadableStream=="function",uB=jd&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Y1=(n,...e)=>{try{return!!n(...e)}catch{return!1}},cB=X1&&Y1(()=>{let n=!1;const e=new Request(Gn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Qw=64*1024,Oy=X1&&Y1(()=>oe.isReadableStream(new Response("").body)),Zh={stream:Oy&&(n=>n.body)};jd&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Zh[e]&&(Zh[e]=oe.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new We(`Response type '${e}' is not supported`,We.ERR_NOT_SUPPORT,r)})})})(new Response);const fB=async n=>{if(n==null)return 0;if(oe.isBlob(n))return n.size;if(oe.isSpecCompliantForm(n))return(await new Request(Gn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(n)||oe.isArrayBuffer(n))return n.byteLength;if(oe.isURLSearchParams(n)&&(n=n+""),oe.isString(n))return(await uB(n)).byteLength},hB=async(n,e)=>{const t=oe.toFiniteNumber(n.getContentLength());return t??fB(e)},dB=jd&&(async n=>{let{url:e,method:t,data:r,signal:a,cancelToken:o,timeout:u,onDownloadProgress:h,onUploadProgress:f,responseType:m,headers:y,withCredentials:E="same-origin",fetchOptions:_}=W1(n);m=m?(m+"").toLowerCase():"text";let R=sB([a,o&&o.toAbortSignal()],u),A;const V=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let D;try{if(f&&cB&&t!=="get"&&t!=="head"&&(D=await hB(y,r))!==0){let ae=new Request(e,{method:"POST",body:r,duplex:"half"}),ge;if(oe.isFormData(r)&&(ge=ae.headers.get("content-type"))&&y.setContentType(ge),ae.body){const[M,P]=Hw(D,Jh($w(f)));r=Kw(ae.body,Qw,M,P)}}oe.isString(E)||(E=E?"include":"omit");const $="credentials"in Request.prototype;A=new Request(e,{..._,signal:R,method:t.toUpperCase(),headers:y.normalize().toJSON(),body:r,duplex:"half",credentials:$?E:void 0});let K=await fetch(A);const H=Oy&&(m==="stream"||m==="response");if(Oy&&(h||H&&V)){const ae={};["status","statusText","headers"].forEach(k=>{ae[k]=K[k]});const ge=oe.toFiniteNumber(K.headers.get("content-length")),[M,P]=h&&Hw(ge,Jh($w(h),!0))||[];K=new Response(Kw(K.body,Qw,M,()=>{P&&P(),V&&V()}),ae)}m=m||"text";let te=await Zh[oe.findKey(Zh,m)||"text"](K,n);return!H&&V&&V(),await new Promise((ae,ge)=>{K1(ae,ge,{data:te,headers:Er.from(K.headers),status:K.status,statusText:K.statusText,config:n,request:A})})}catch($){throw V&&V(),$&&$.name==="TypeError"&&/fetch/i.test($.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,n,A),{cause:$.cause||$}):We.from($,$&&$.code,n,A)}}),xy={http:I4,xhr:iB,fetch:dB};oe.forEach(xy,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Ww=n=>`- ${n}`,mB=n=>oe.isFunction(n)||n===null||n===!1,J1={getAdapter:n=>{n=oe.isArray(n)?n:[n];const{length:e}=n;let t,r;const a={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!mB(t)&&(r=xy[(u=String(t)).toLowerCase()],r===void 0))throw new We(`Unknown adapter '${u}'`);if(r)break;a[u||"#"+o]=r}if(!r){const o=Object.entries(a).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(Ww).join(`
`):" "+Ww(o[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:xy};function Vg(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new uu(null,n)}function Xw(n){return Vg(n),n.headers=Er.from(n.headers),n.data=Ug.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),J1.getAdapter(n.adapter||tf.adapter)(n).then(function(r){return Vg(n),r.data=Ug.call(n,n.transformResponse,r),r.headers=Er.from(r.headers),r},function(r){return G1(r)||(Vg(n),r&&r.response&&(r.response.data=Ug.call(n,n.transformResponse,r.response),r.response.headers=Er.from(r.response.headers))),Promise.reject(r)})}const Z1="1.8.3",Bd={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Bd[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Yw={};Bd.transitional=function(e,t,r){function a(o,u){return"[Axios v"+Z1+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new We(a(u," has been removed"+(t?" in "+t:"")),We.ERR_DEPRECATED);return t&&!Yw[u]&&(Yw[u]=!0,console.warn(a(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};Bd.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function pB(n,e,t){if(typeof n!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let a=r.length;for(;a-- >0;){const o=r[a],u=e[o];if(u){const h=n[o],f=h===void 0||u(h,o,n);if(f!==!0)throw new We("option "+o+" must be "+f,We.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new We("Unknown option "+o,We.ERR_BAD_OPTION)}}const Oh={assertOptions:pB,validators:Bd},Wi=Oh.validators;let Fo=class{constructor(e){this.defaults=e,this.interceptors={request:new qw,response:new qw}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Yo(this.defaults,t);const{transitional:r,paramsSerializer:a,headers:o}=t;r!==void 0&&Oh.assertOptions(r,{silentJSONParsing:Wi.transitional(Wi.boolean),forcedJSONParsing:Wi.transitional(Wi.boolean),clarifyTimeoutError:Wi.transitional(Wi.boolean)},!1),a!=null&&(oe.isFunction(a)?t.paramsSerializer={serialize:a}:Oh.assertOptions(a,{encode:Wi.function,serialize:Wi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Oh.assertOptions(t,{baseUrl:Wi.spelling("baseURL"),withXsrfToken:Wi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&oe.merge(o.common,o[t.method]);o&&oe.forEach(["delete","get","head","post","put","patch","common"],A=>{delete o[A]}),t.headers=Er.concat(u,o);const h=[];let f=!0;this.interceptors.request.forEach(function(V){typeof V.runWhen=="function"&&V.runWhen(t)===!1||(f=f&&V.synchronous,h.unshift(V.fulfilled,V.rejected))});const m=[];this.interceptors.response.forEach(function(V){m.push(V.fulfilled,V.rejected)});let y,E=0,_;if(!f){const A=[Xw.bind(this),void 0];for(A.unshift.apply(A,h),A.push.apply(A,m),_=A.length,y=Promise.resolve(t);E<_;)y=y.then(A[E++],A[E++]);return y}_=h.length;let R=t;for(E=0;E<_;){const A=h[E++],V=h[E++];try{R=A(R)}catch(D){V.call(this,D);break}}try{y=Xw.call(this,R)}catch(A){return Promise.reject(A)}for(E=0,_=m.length;E<_;)y=y.then(m[E++],m[E++]);return y}getUri(e){e=Yo(this.defaults,e);const t=Q1(e.baseURL,e.url,e.allowAbsoluteUrls);return F1(t,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){Fo.prototype[e]=function(t,r){return this.request(Yo(r||{},{method:e,url:t,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(Yo(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}Fo.prototype[e]=t(),Fo.prototype[e+"Form"]=t(!0)});let gB=class eC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(a=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](a);r._listeners=null}),this.promise.then=a=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(a);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new uu(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new eC(function(a){e=a}),cancel:e}}};function yB(n){return function(t){return n.apply(null,t)}}function vB(n){return oe.isObject(n)&&n.isAxiosError===!0}const Ny={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ny).forEach(([n,e])=>{Ny[e]=n});function tC(n){const e=new Fo(n),t=D1(Fo.prototype.request,e);return oe.extend(t,Fo.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return tC(Yo(n,a))},t}const Qt=tC(tf);Qt.Axios=Fo;Qt.CanceledError=uu;Qt.CancelToken=gB;Qt.isCancel=G1;Qt.VERSION=Z1;Qt.toFormData=Vd;Qt.AxiosError=We;Qt.Cancel=Qt.CanceledError;Qt.all=function(e){return Promise.all(e)};Qt.spread=yB;Qt.isAxiosError=vB;Qt.mergeConfig=Yo;Qt.AxiosHeaders=Er;Qt.formToJSON=n=>$1(oe.isHTMLForm(n)?new FormData(n):n);Qt.getAdapter=J1.getAdapter;Qt.HttpStatusCode=Ny;Qt.default=Qt;const{Axios:U6,AxiosError:V6,CanceledError:j6,isCancel:B6,CancelToken:z6,VERSION:q6,all:F6,Cancel:H6,isAxiosError:$6,spread:G6,toFormData:K6,AxiosHeaders:Q6,HttpStatusCode:W6,formToJSON:X6,getAdapter:Y6,mergeConfig:J6}=Qt,Pn=[];for(let n=0;n<256;++n)Pn.push((n+256).toString(16).slice(1));function _B(n,e=0){return(Pn[n[e+0]]+Pn[n[e+1]]+Pn[n[e+2]]+Pn[n[e+3]]+"-"+Pn[n[e+4]]+Pn[n[e+5]]+"-"+Pn[n[e+6]]+Pn[n[e+7]]+"-"+Pn[n[e+8]]+Pn[n[e+9]]+"-"+Pn[n[e+10]]+Pn[n[e+11]]+Pn[n[e+12]]+Pn[n[e+13]]+Pn[n[e+14]]+Pn[n[e+15]]).toLowerCase()}let jg;const EB=new Uint8Array(16);function TB(){if(!jg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");jg=crypto.getRandomValues.bind(crypto)}return jg(EB)}const bB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jw={randomUUID:bB};function wB(n,e,t){var a;if(Jw.randomUUID&&!n)return Jw.randomUUID();n=n||{};const r=n.random??((a=n.rng)==null?void 0:a.call(n))??TB();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,_B(r)}const nC=C.createContext(null),SB={apiKey:"AIzaSyBB5YbvvoBIG3HtqgAx8iRBSqR-8EvhAYM",authDomain:"hotel-bites.firebaseapp.com",projectId:"hotel-bites",storageBucket:"hotel-bites.firebasestorage.app",messagingSenderId:"1088802123792",appId:"1:1088802123792:web:e6e2ba513ce6847c6a1a95"},Tr=()=>C.useContext(nC),Kv=GS(SB),hh=rP(Kv),fn=ZM(Kv),Zw=AV(Kv),RB=n=>{const e=(le,re)=>qk(hh,le,re),t=(le,re)=>Fk(hh,le,re),r=async(le,re)=>{var Oe;let he="";if(le&&(le!=null&&le.productImage)){const{productImage:q}=le,fe=lw(Zw,`uploads/images/${Date.now()}-${q.name}`);he=await SV(fe,q),le={...le,productImage:((Oe=he==null?void 0:he.ref)==null?void 0:Oe.fullPath)||""}}let de;return de=await nw(_i(fn,re),{...le,userId:(M==null?void 0:M.uid)||""}),de},a=async le=>{const{productId:re}=le,he=_i(fn,"products",re,"variants");return await nw(he,{...le,userId:(M==null?void 0:M.uid)||""})},o=async le=>await xs(_i(fn,le)),u=async(le,re,he)=>{const de=_i(fn,le,re,he);return await xs(de)},h=async(le,re)=>{const he=Xi(fn,re,le);return await Lo(he)},f=async()=>{try{const he=(await xs(_i(fn,"products"))).docs.map(Oe=>({id:Oe.id,...Oe.data()})).map(async Oe=>{const q=ac(_i(fn,`products/${Oe.id}/variants`),Jb(1)),fe=await xs(q),Re=fe.docs.length>0?{id:fe.docs[0].id,...fe.docs[0].data()}:null;return{...Oe,firstVariant:Re}});return await Promise.all(he)}catch(le){console.error("Error fetching products with variants:",le)}},m=async(le,re)=>{try{if(!le||!re)throw new Error("Collection name and document ID are required.");const he=Xi(fn,le,re);await pU(he)}catch(he){console.error("Error deleting document:",he)}},y=async le=>{try{if(!M)return null;const re=_i(fn,le),he=ac(re,oc("userId","==",M.uid)),Oe=(await xs(he)).docs.map(Ne=>({id:Ne.id,...Ne.data()})),q=Oe.map(Ne=>Lo(Xi(fn,"products",Ne.productId))),fe=Oe.map(Ne=>Lo(Xi(fn,`products/${Ne.productId}/variants`,Ne.variantId))),Re=await Promise.all(q),Ee=await Promise.all(fe);return Oe.map((Ne,Ve)=>({...Ne,product:Re[Ve].exists()?{id:Re[Ve].id,...Re[Ve].data()}:null,variant:Ee[Ve].exists()?{id:Ee[Ve].id,...Ee[Ve].data()}:null}))}catch(re){console.error("Error fetching cart details:",re)}},E=async le=>{try{if(!M||!(le!=null&&le.length))return null;const re=le.map(Ee=>Lo(Xi(fn,"purchasedItems",Ee)));let he=await Promise.all(re);he=he.map((Ee,Te)=>Ee.data());const de=he.map(Ee=>Lo(Xi(fn,"products",Ee.productId))),Oe=he.map(Ee=>Lo(Xi(fn,`products/${Ee.productId}/variants`,Ee.variantId))),q=await Promise.all(de),fe=await Promise.all(Oe);return he.map((Ee,Te)=>({...Ee,product:q[Te].exists()?{id:q[Te].id,...q[Te].data()}:null,variant:fe[Te].exists()?{id:fe[Te].id,...fe[Te].data()}:null}))}catch(re){console.error("Error fetching cart details:",re)}},_=async(le,re,he)=>{try{const de=_i(fn,le),Oe=ac(de,oc("productId","==",re),oc("variantId","==",he),Jb(1)),q=await xs(Oe);return q.empty?null:q.docs[0]}catch(de){return console.error("Error checking cart item:",de),null}},R=async()=>{try{if(!(M!=null&&M.uid))return console.error("User is not logged in"),[];const le=_i(fn,"orders"),re=ac(le,oc("userId","==",M.uid)),de=(await xs(re)).docs.map(Oe=>({id:Oe.id,...Oe.data()})).filter(Oe=>Oe.status!=="razorpayOrderCreationStart");return de}catch(le){return console.error("Error fetching orders:",le),[]}},A=async le=>{try{if(!le)return console.error("No delivery partner found"),[];const re=_i(fn,"orders"),he=ac(re,oc("deliveryPartnerId","==",le));return(await xs(he)).docs.map(q=>({id:q.id,...q.data()})).filter(q=>q.status!=="razorpayOrderCreationStart")}catch(re){return console.error("Error fetching orders:",re),[]}},V=async()=>{try{if(!M||!(M!=null&&M.uid))return console.error("User is not logged in"),[];const le=_i(fn,"orders");return(await xs(le)).docs.map(de=>({id:de.id,...de.data()})).filter(de=>de.status!=="razorpayOrderCreationStart")}catch(le){return console.error("Error fetching orders:",le),[]}},D=le=>RV(lw(Zw,le)),$=le=>{Rt(le)},K=async(le,re)=>{try{if(!le||!re)throw new Error("Order ID and payload are required.");const he=Xi(fn,"orders",le);await tw(he,re),console.log(`Order ${le} updated!`)}catch(he){console.error("Error updating order status:",he)}},H=()=>wB(),te=async le=>{var re;try{const he=await Qt.post("https://us-central1-hotel-bites.cloudfunctions.net/createRazorPayOrder",le,{headers:{"Content-Type":"application/json"}});return console.log("Order Created:",he.data),he.data}catch(he){console.error("Error creating order:",((re=he.response)==null?void 0:re.data)||he.message)}},ae=async le=>{try{const re={razorpayOrderId:le.razorpayOrderId,razorpayPaymentId:le.paymentId,razorpaySignature:le.signature,orderId:le.orderId},he=await r(re,"razorpayPaymentSuccess"),de=he.id,Oe=await Qt.post("https://us-central1-hotel-bites.cloudfunctions.net/verifyPaymentSignature",{razorpayPaymentSuccessId:de});console.log(Oe.data);const q=await Lo(he),fe=Xi(fn,"orders",le.orderId);q.data().paymentStatus==="Done"&&await tw(fe,{razorpayPaymentId:le.paymentId})}catch(re){console.log("error in createRazorpayPaymentsSuccess function  : ",re)}},ge=async le=>{const{finalPrice:re,paymentMethod:he}=le;let de={orderId:H(),status:he==="online"?"razorpayOrderCreationStart":"Created",finalPrice:parseFloat(re),_createdDate:new Date().toISOString()};if(he==="online"){const fe=(await te(de)).id;de={...de,razorpayOrderId:fe}}return(await r(de,"orders")).id},[M,P]=C.useState(null),[k,B]=C.useState(!1),[z,G]=C.useState(!1);C.useEffect(()=>{Gk(hh,le=>{P(le||null)})},[]);const U=!!M,Je=async()=>{try{await hh.signOut(),console.log("User signed out successfully"),P(null)}catch(le){console.error("Sign Out Error",le)}};return C.useEffect(()=>{M?(M==null?void 0:M.uid)=="ukEdfieQ7FaI4rpITgxbtWyBuZZ2"?B(!0):(M==null?void 0:M.uid)=="EEqRTrY732ZaK27XRkjkJbjMq5E2"&&G(!0):(k&&B(!1),z&&G(!1))},[M]),I.jsx(nC.Provider,{value:{isLoggedIn:U,user:M,isAdmin:k,isDeliveryPartner:z,fetchOrdersForDeliveryAgent:A,singinUserWithEmailAndPass:t,signupUserWithEmailAndPassword:e,getDocById:h,getDocuments:o,handleCreateNewDoc:r,handleCreateNewVariant:a,getSubCollectionAllDocuments:u,removeDocumentWithId:m,getImageURL:D,fetchOrders:R,fetchAllOrders:V,updateOrderStatus:K,fetchProductsWithFirstVariant:f,fetchCartWithDetails:y,fetchPurchasedItemWithDetails:E,logoutUser:Je,displayToastMessage:$,checkIsItemAlreadyInCart:_,createOrder:ge,createRazorpayPaymentsSuccess:ae},children:n.children})},AB=["as","disabled"];function CB(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function IB(n){return!n||n.trim()==="#"}function Qv({tagName:n,disabled:e,href:t,target:r,rel:a,role:o,onClick:u,tabIndex:h=0,type:f}){n||(t!=null||r!=null||a!=null?n="a":n="button");const m={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},m];const y=_=>{if((e||n==="a"&&IB(t))&&_.preventDefault(),e){_.stopPropagation();return}u==null||u(_)},E=_=>{_.key===" "&&(_.preventDefault(),y(_))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:h,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?a:void 0,onClick:y,onKeyDown:E},m]}const rC=C.forwardRef((n,e)=>{let{as:t,disabled:r}=n,a=CB(n,AB);const[o,{tagName:u}]=Qv(Object.assign({tagName:t,disabled:r},a));return I.jsx(u,Object.assign({},a,o,{ref:e}))});rC.displayName="Button";const Vr=C.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:a=!1,disabled:o=!1,className:u,...h},f)=>{const m=Ke(e,"btn"),[y,{tagName:E}]=Qv({tagName:n,disabled:o,...h}),_=E;return I.jsx(_,{...y,...h,ref:f,disabled:o,className:Be(u,m,a&&"active",t&&`${m}-${t}`,r&&`${m}-${r}`,h.href&&o&&"disabled")})});Vr.displayName="Button";const Wv=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},a)=>(e=Ke(e,"card-body"),I.jsx(t,{ref:a,className:Be(n,e),...r})));Wv.displayName="CardBody";const iC=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},a)=>(e=Ke(e,"card-footer"),I.jsx(t,{ref:a,className:Be(n,e),...r})));iC.displayName="CardFooter";const Xv=C.createContext(null);Xv.displayName="CardHeaderContext";const sC=C.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},a)=>{const o=Ke(n,"card-header"),u=C.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return I.jsx(Xv.Provider,{value:u,children:I.jsx(t,{ref:a,...r,className:Be(e,o)})})});sC.displayName="CardHeader";const aC=C.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...a},o)=>{const u=Ke(n,"card-img");return I.jsx(r,{ref:o,className:Be(t?`${u}-${t}`:u,e),...a})});aC.displayName="CardImg";const oC=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},a)=>(e=Ke(e,"card-img-overlay"),I.jsx(t,{ref:a,className:Be(n,e),...r})));oC.displayName="CardImgOverlay";const lC=C.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},a)=>(e=Ke(e,"card-link"),I.jsx(t,{ref:a,className:Be(n,e),...r})));lC.displayName="CardLink";const zd=n=>C.forwardRef((e,t)=>I.jsx("div",{...e,ref:t,className:Be(e.className,n)})),OB=zd("h6"),uC=C.forwardRef(({className:n,bsPrefix:e,as:t=OB,...r},a)=>(e=Ke(e,"card-subtitle"),I.jsx(t,{ref:a,className:Be(n,e),...r})));uC.displayName="CardSubtitle";const cC=C.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},a)=>(e=Ke(e,"card-text"),I.jsx(t,{ref:a,className:Be(n,e),...r})));cC.displayName="CardText";const xB=zd("h5"),fC=C.forwardRef(({className:n,bsPrefix:e,as:t=xB,...r},a)=>(e=Ke(e,"card-title"),I.jsx(t,{ref:a,className:Be(n,e),...r})));fC.displayName="CardTitle";const hC=C.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:a,body:o=!1,children:u,as:h="div",...f},m)=>{const y=Ke(n,"card");return I.jsx(h,{ref:m,...f,className:Be(e,y,t&&`bg-${t}`,r&&`text-${r}`,a&&`border-${a}`),children:o?I.jsx(Wv,{children:u}):u})});hC.displayName="Card";const _t=Object.assign(hC,{Img:aC,Title:fC,Subtitle:uC,Body:Wv,Link:lC,Text:cC,Header:sC,Footer:iC,ImgOverlay:oC}),NB=n=>{const{id:e,name:t,description:r,status:a,firstVariant:o,productImage:u}=n,h=Tr(),f=ai(),[m,y]=C.useState(null);C.useEffect(()=>{u&&h.getImageURL(u).then(A=>y(A))},[u]);const E=A=>{const V=e;let D="";A==="detail"?D=`/products/${V}`:D=`/products/${V}/variants/new`,f(D)},_=a==="active",R=h.isAdmin?{width:"18rem",margin:"25px"}:{width:"18rem",margin:"25px",backgroundColor:_?"white":"#f8f9fa",opacity:_?1:.6,pointerEvents:_?"auto":"none"};return I.jsxs(_t,{style:R,children:[m&&I.jsx(_t.Img,{variant:"top",src:m,alt:t}),I.jsxs(_t.Body,{children:[I.jsx(_t.Title,{children:t}),I.jsx(_t.Text,{children:r}),h.isAdmin&&I.jsxs(_t.Text,{children:["Status: ",I.jsx("strong",{children:a})]}),I.jsxs(_t.Text,{children:["Price: ",I.jsxs("strong",{children:[" ",(o==null?void 0:o.priceOffer)||(o==null?void 0:o.priceOriginal)]})]}),!h.isAdmin&&_&&I.jsx(Vr,{onClick:()=>E("detail"),variant:"primary",children:"Details"}),h.isAdmin&&I.jsx(Vr,{onClick:()=>E("variant"),variant:"primary",children:"Add New Variant"})]})]})};function Dy(){return Dy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Dy.apply(null,arguments)}function dC(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function eS(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function DB(n){var e=kB(n,"string");return typeof e=="symbol"?e:String(e)}function kB(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function PB(n,e,t){var r=C.useRef(n!==void 0),a=C.useState(e),o=a[0],u=a[1],h=n!==void 0,f=r.current;return r.current=h,!h&&f&&o!==e&&u(e),[h?n:o,C.useCallback(function(m){for(var y=arguments.length,E=new Array(y>1?y-1:0),_=1;_<y;_++)E[_-1]=arguments[_];t&&t.apply(void 0,[m].concat(E)),u(m)},[t])]}function qd(n,e){return Object.keys(e).reduce(function(t,r){var a,o=t,u=o[eS(r)],h=o[r],f=dC(o,[eS(r),r].map(DB)),m=e[r],y=PB(h,u,n[m]),E=y[0],_=y[1];return Dy({},f,(a={},a[r]=E,a[m]=_,a))},n)}function ky(n,e){return ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},ky(n,e)}function LB(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,ky(n,e)}function Yv(n){return n&&n.ownerDocument||document}function MB(n){var e=Yv(n);return e&&e.defaultView||window}function UB(n,e){return MB(n).getComputedStyle(n,e)}var VB=/([A-Z])/g;function jB(n){return n.replace(VB,"-$1").toLowerCase()}var BB=/^ms-/;function dh(n){return jB(n).replace(BB,"-ms-")}var zB=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function qB(n){return!!(n&&zB.test(n))}function js(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(dh(e))||UB(n).getPropertyValue(dh(e));Object.keys(e).forEach(function(a){var o=e[a];!o&&o!==0?n.style.removeProperty(dh(a)):qB(a)?r+=a+"("+o+") ":t+=dh(a)+": "+o+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var Bg={exports:{}},zg,tS;function FB(){if(tS)return zg;tS=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zg=n,zg}var qg,nS;function HB(){if(nS)return qg;nS=1;var n=FB();function e(){}function t(){}return t.resetWarningCache=e,qg=function(){function r(u,h,f,m,y,E){if(E!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function a(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},qg}var rS;function $B(){return rS||(rS=1,Bg.exports=HB()()),Bg.exports}var GB=$B();const Bs=od(GB),iS={disabled:!1},mC=dt.createContext(null);var KB=function(e){return e.scrollTop},yc="unmounted",ka="exited",Ti="entering",Ns="entered",Mc="exiting",Qs=function(n){LB(e,n);function e(r,a){var o;o=n.call(this,r,a)||this;var u=a,h=u&&!u.isMounting?r.enter:r.appear,f;return o.appearStatus=null,r.in?h?(f=ka,o.appearStatus=Ti):f=Ns:r.unmountOnExit||r.mountOnEnter?f=yc:f=ka,o.state={status:f},o.nextCallback=null,o}e.getDerivedStateFromProps=function(a,o){var u=a.in;return u&&o.status===yc?{status:ka}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(a){var o=null;if(a!==this.props){var u=this.state.status;this.props.in?u!==Ti&&u!==Ns&&(o=Ti):(u===Ti||u===Ns)&&(o=Mc)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var a=this.props.timeout,o,u,h;return o=u=h=a,a!=null&&typeof a!="number"&&(o=a.exit,u=a.enter,h=a.appear!==void 0?a.appear:u),{exit:o,enter:u,appear:h}},t.updateStatus=function(a,o){if(a===void 0&&(a=!1),o!==null)if(this.cancelNextCallback(),o===Ti){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:zl.findDOMNode(this);u&&KB(u)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ka&&this.setState({status:yc})},t.performEnter=function(a){var o=this,u=this.props.enter,h=this.context?this.context.isMounting:a,f=this.props.nodeRef?[h]:[zl.findDOMNode(this),h],m=f[0],y=f[1],E=this.getTimeouts(),_=h?E.appear:E.enter;if(!a&&!u||iS.disabled){this.safeSetState({status:Ns},function(){o.props.onEntered(m)});return}this.props.onEnter(m,y),this.safeSetState({status:Ti},function(){o.props.onEntering(m,y),o.onTransitionEnd(_,function(){o.safeSetState({status:Ns},function(){o.props.onEntered(m,y)})})})},t.performExit=function(){var a=this,o=this.props.exit,u=this.getTimeouts(),h=this.props.nodeRef?void 0:zl.findDOMNode(this);if(!o||iS.disabled){this.safeSetState({status:ka},function(){a.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:Mc},function(){a.props.onExiting(h),a.onTransitionEnd(u.exit,function(){a.safeSetState({status:ka},function(){a.props.onExited(h)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(a,o){o=this.setNextCallback(o),this.setState(a,o)},t.setNextCallback=function(a){var o=this,u=!0;return this.nextCallback=function(h){u&&(u=!1,o.nextCallback=null,a(h))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},t.onTransitionEnd=function(a,o){this.setNextCallback(o);var u=this.props.nodeRef?this.props.nodeRef.current:zl.findDOMNode(this),h=a==null&&!this.props.addEndListener;if(!u||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],m=f[0],y=f[1];this.props.addEndListener(m,y)}a!=null&&setTimeout(this.nextCallback,a)},t.render=function(){var a=this.state.status;if(a===yc)return null;var o=this.props,u=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var h=dC(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return dt.createElement(mC.Provider,{value:null},typeof u=="function"?u(a,h):dt.cloneElement(dt.Children.only(u),h))},e}(dt.Component);Qs.contextType=mC;Qs.propTypes={};function Ll(){}Qs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ll,onEntering:Ll,onEntered:Ll,onExit:Ll,onExiting:Ll,onExited:Ll};Qs.UNMOUNTED=yc;Qs.EXITED=ka;Qs.ENTERING=Ti;Qs.ENTERED=Ns;Qs.EXITING=Mc;function QB(n){return n.code==="Escape"||n.keyCode===27}function WB(){const n=C.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function cu(n){if(!n||typeof n=="function")return null;const{major:e}=WB();return e>=19?n.props.ref:n.ref}const Fd=!!(typeof window<"u"&&window.document&&window.document.createElement);var Py=!1,Ly=!1;try{var Fg={get passive(){return Py=!0},get once(){return Ly=Py=!0}};Fd&&(window.addEventListener("test",Fg,Fg),window.removeEventListener("test",Fg,!0))}catch{}function XB(n,e,t,r){if(r&&typeof r!="boolean"&&!Ly){var a=r.once,o=r.capture,u=t;!Ly&&a&&(u=t.__once||function h(f){this.removeEventListener(e,h,o),t.call(this,f)},t.__once=u),n.addEventListener(e,u,Py?r:o)}n.addEventListener(e,t,r)}function YB(n,e,t,r){var a=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,a),t.__once&&n.removeEventListener(e,t.__once,a)}function ed(n,e,t,r){return XB(n,e,t,r),function(){YB(n,e,t,r)}}function JB(n,e,t,r){if(r===void 0&&(r=!0),n){var a=document.createEvent("HTMLEvents");a.initEvent(e,t,r),n.dispatchEvent(a)}}function ZB(n){var e=js(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function e3(n,e,t){t===void 0&&(t=5);var r=!1,a=setTimeout(function(){r||JB(n,"transitionend",!0)},e+t),o=ed(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(a),o()}}function t3(n,e,t,r){t==null&&(t=ZB(n)||0);var a=e3(n,t,r),o=ed(n,"transitionend",e);return function(){a(),o()}}function sS(n,e){const t=js(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function Jv(n,e){const t=sS(n,"transitionDuration"),r=sS(n,"transitionDelay"),a=t3(n,o=>{o.target===n&&(a(),e(o))},t+r)}function cc(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...a){e.apply(this,a),t.apply(this,a)}},null)}function pC(n){n.offsetHeight}const aS=n=>!n||typeof n=="function"?n:e=>{n.current=e};function n3(n,e){const t=aS(n),r=aS(e);return a=>{t&&t(a),r&&r(a)}}function r3(n,e){return C.useMemo(()=>n3(n,e),[n,e])}function i3(n){return n&&"setState"in n?zl.findDOMNode(n):n??null}const Zv=dt.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:a,onExited:o,addEndListener:u,children:h,childRef:f,...m},y)=>{const E=C.useRef(null),_=r3(E,f),R=ge=>{_(i3(ge))},A=ge=>M=>{ge&&E.current&&ge(E.current,M)},V=C.useCallback(A(n),[n]),D=C.useCallback(A(e),[e]),$=C.useCallback(A(t),[t]),K=C.useCallback(A(r),[r]),H=C.useCallback(A(a),[a]),te=C.useCallback(A(o),[o]),ae=C.useCallback(A(u),[u]);return I.jsx(Qs,{ref:y,...m,onEnter:V,onEntered:$,onEntering:D,onExit:K,onExited:te,onExiting:H,addEndListener:ae,nodeRef:E,children:typeof h=="function"?(ge,M)=>h(ge,{...M,ref:R}):dt.cloneElement(h,{ref:R})})}),s3={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function a3(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=e[t],a=s3[n];return r+parseInt(js(e,a[0]),10)+parseInt(js(e,a[1]),10)}const o3={[ka]:"collapse",[Mc]:"collapsing",[Ti]:"collapsing",[Ns]:"collapse show"},l3=dt.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:a,className:o,children:u,dimension:h="height",in:f=!1,timeout:m=300,mountOnEnter:y=!1,unmountOnExit:E=!1,appear:_=!1,getDimensionValue:R=a3,...A},V)=>{const D=typeof h=="function"?h():h,$=C.useMemo(()=>cc(ge=>{ge.style[D]="0"},n),[D,n]),K=C.useMemo(()=>cc(ge=>{const M=`scroll${D[0].toUpperCase()}${D.slice(1)}`;ge.style[D]=`${ge[M]}px`},e),[D,e]),H=C.useMemo(()=>cc(ge=>{ge.style[D]=null},t),[D,t]),te=C.useMemo(()=>cc(ge=>{ge.style[D]=`${R(D,ge)}px`,pC(ge)},r),[r,R,D]),ae=C.useMemo(()=>cc(ge=>{ge.style[D]=null},a),[D,a]);return I.jsx(Zv,{ref:V,addEndListener:Jv,...A,"aria-expanded":A.role?f:null,onEnter:$,onEntering:K,onEntered:H,onExit:te,onExiting:ae,childRef:cu(u),in:f,timeout:m,mountOnEnter:y,unmountOnExit:E,appear:_,children:(ge,M)=>dt.cloneElement(u,{...M,className:Be(o,u.props.className,o3[ge],D==="width"&&"collapse-horizontal")})})});function u3(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n},[n]),e}function fu(n){const e=u3(n);return C.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const gC=zd("h4");gC.displayName="DivStyledAsH4";const yC=C.forwardRef(({className:n,bsPrefix:e,as:t=gC,...r},a)=>(e=Ke(e,"alert-heading"),I.jsx(t,{ref:a,className:Be(n,e),...r})));yC.displayName="AlertHeading";function c3(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n},[n]),e}function Ds(n){const e=c3(n);return C.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function f3(){const n=C.useRef(!0),e=C.useRef(()=>n.current);return C.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function h3(n){const e=C.useRef(null);return C.useEffect(()=>{e.current=n}),e.current}const d3=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",m3=typeof document<"u",oS=m3||d3?C.useLayoutEffect:C.useEffect,p3=["onKeyDown"];function g3(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function y3(n){return!n||n.trim()==="#"}const e_=C.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=g3(n,p3);const[a]=Qv(Object.assign({tagName:"a"},r)),o=Ds(u=>{a.onKeyDown(u),t==null||t(u)});return y3(r.href)||r.role==="button"?I.jsx("a",Object.assign({ref:e},r,a,{onKeyDown:o})):I.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});e_.displayName="Anchor";const vC=C.forwardRef(({className:n,bsPrefix:e,as:t=e_,...r},a)=>(e=Ke(e,"alert-link"),I.jsx(t,{ref:a,className:Be(n,e),...r})));vC.displayName="AlertLink";const v3={[Ti]:"show",[Ns]:"show"},td=C.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...a},o)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},h=C.useCallback((f,m)=>{pC(f),r==null||r(f,m)},[r]);return I.jsx(Zv,{ref:o,addEndListener:Jv,...u,onEnter:h,childRef:cu(e),children:(f,m)=>C.cloneElement(e,{...m,className:Be("fade",n,e.props.className,v3[f],t[f])})})});td.displayName="Fade";const _3={"aria-label":Bs.string,onClick:Bs.func,variant:Bs.oneOf(["white"])},Hd=C.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},a)=>I.jsx("button",{ref:a,type:"button",className:Be("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));Hd.displayName="CloseButton";Hd.propTypes=_3;const _C=C.forwardRef((n,e)=>{const{bsPrefix:t,show:r=!0,closeLabel:a="Close alert",closeVariant:o,className:u,children:h,variant:f="primary",onClose:m,dismissible:y,transition:E=td,..._}=qd(n,{show:"onClose"}),R=Ke(t,"alert"),A=fu($=>{m&&m(!1,$)}),V=E===!0?td:E,D=I.jsxs("div",{role:"alert",...V?void 0:_,ref:e,className:Be(u,R,f&&`${R}-${f}`,y&&`${R}-dismissible`),children:[y&&I.jsx(Hd,{onClick:A,"aria-label":a,variant:o}),h]});return V?I.jsx(V,{unmountOnExit:!0,..._,ref:void 0,in:r,children:D}):r?D:null});_C.displayName="Alert";const $d=Object.assign(_C,{Link:vC,Heading:yC});function E3(n,e){return C.Children.toArray(n).some(t=>C.isValidElement(t)&&t.type===e)}function T3({as:n,bsPrefix:e,className:t,...r}){e=Ke(e,"col");const a=cN(),o=fN(),u=[],h=[];return a.forEach(f=>{const m=r[f];delete r[f];let y,E,_;typeof m=="object"&&m!=null?{span:y,offset:E,order:_}=m:y=m;const R=f!==o?`-${f}`:"";y&&u.push(y===!0?`${e}${R}`:`${e}${R}-${y}`),_!=null&&h.push(`order${R}-${_}`),E!=null&&h.push(`offset${R}-${E}`)}),[{...r,className:Be(t,...u,...h)},{as:n,bsPrefix:e,spans:u}]}const EC=C.forwardRef((n,e)=>{const[{className:t,...r},{as:a="div",bsPrefix:o,spans:u}]=T3(n);return I.jsx(a,{...r,ref:e,className:Be(t,!u.length&&o)})});EC.displayName="Col";const t_=C.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:r,...a},o)=>{const u=Ke(n,"container"),h=typeof e=="string"?`-${e}`:"-fluid";return I.jsx(t,{ref:o,...a,className:Be(r,e?`${u}${h}`:u)})});t_.displayName="Container";var b3=Function.prototype.bind.call(Function.prototype.call,[].slice);function Vo(n,e){return b3(n.querySelectorAll(e))}function w3(){const[,n]=C.useReducer(e=>e+1,0);return n}function lS(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const nd=C.createContext(null),Gd=(n,e=null)=>n!=null?String(n):e||null,n_=C.createContext(null);n_.displayName="NavContext";const S3="data-rr-ui-",R3="rrUi";function Kd(n){return`${S3}${n}`}function A3(n){return`${R3}${n}`}const TC=C.createContext(Fd?window:void 0);TC.Provider;function r_(){return C.useContext(TC)}const C3=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",I3=typeof document<"u",O3=I3||C3?C.useLayoutEffect:C.useEffect,hu=C.createContext(null);hu.displayName="NavbarContext";const x3={type:Bs.string,tooltip:Bs.bool,as:Bs.elementType},Qd=C.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...a},o)=>I.jsx(n,{...a,ref:o,className:Be(e,`${t}-${r?"tooltip":"feedback"}`)}));Qd.displayName="Feedback";Qd.propTypes=x3;const Ks=C.createContext({}),i_=C.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:a=!1,isInvalid:o=!1,as:u="input",...h},f)=>{const{controlId:m}=C.useContext(Ks);return e=Ke(e,"form-check-input"),I.jsx(u,{...h,ref:f,type:r,id:n||m,className:Be(t,e,a&&"is-valid",o&&"is-invalid")})});i_.displayName="FormCheckInput";const rd=C.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},a)=>{const{controlId:o}=C.useContext(Ks);return n=Ke(n,"form-check-label"),I.jsx("label",{...r,ref:a,htmlFor:t||o,className:Be(e,n)})});rd.displayName="FormCheckLabel";const bC=C.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:a=!1,disabled:o=!1,isValid:u=!1,isInvalid:h=!1,feedbackTooltip:f=!1,feedback:m,feedbackType:y,className:E,style:_,title:R="",type:A="checkbox",label:V,children:D,as:$="input",...K},H)=>{e=Ke(e,"form-check"),t=Ke(t,"form-switch");const{controlId:te}=C.useContext(Ks),ae=C.useMemo(()=>({controlId:n||te}),[te,n]),ge=!D&&V!=null&&V!==!1||E3(D,rd),M=I.jsx(i_,{...K,type:A==="switch"?"checkbox":A,ref:H,isValid:u,isInvalid:h,disabled:o,as:$});return I.jsx(Ks.Provider,{value:ae,children:I.jsx("div",{style:_,className:Be(E,ge&&e,r&&`${e}-inline`,a&&`${e}-reverse`,A==="switch"&&t),children:D||I.jsxs(I.Fragment,{children:[M,ge&&I.jsx(rd,{title:R,children:V}),m&&I.jsx(Qd,{type:y,tooltip:f,children:m})]})})})});bC.displayName="FormCheck";const id=Object.assign(bC,{Input:i_,Label:rd}),wC=C.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:a,className:o,isValid:u=!1,isInvalid:h=!1,plaintext:f,readOnly:m,as:y="input",...E},_)=>{const{controlId:R}=C.useContext(Ks);return n=Ke(n,"form-control"),I.jsx(y,{...E,type:e,size:r,ref:_,readOnly:m,id:a||R,className:Be(o,f?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,u&&"is-valid",h&&"is-invalid")})});wC.displayName="FormControl";const N3=Object.assign(wC,{Feedback:Qd}),SC=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},a)=>(e=Ke(e,"form-floating"),I.jsx(t,{ref:a,className:Be(n,e),...r})));SC.displayName="FormFloating";const s_=C.forwardRef(({controlId:n,as:e="div",...t},r)=>{const a=C.useMemo(()=>({controlId:n}),[n]);return I.jsx(Ks.Provider,{value:a,children:I.jsx(e,{...t,ref:r})})});s_.displayName="FormGroup";const RC=C.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:a,htmlFor:o,...u},h)=>{const{controlId:f}=C.useContext(Ks);e=Ke(e,"form-label");let m="col-form-label";typeof t=="string"&&(m=`${m} ${m}-${t}`);const y=Be(a,e,r&&"visually-hidden",t&&m);return o=o||f,t?I.jsx(EC,{ref:h,as:"label",className:y,htmlFor:o,...u}):I.jsx(n,{ref:h,className:y,htmlFor:o,...u})});RC.displayName="FormLabel";const AC=C.forwardRef(({bsPrefix:n,className:e,id:t,...r},a)=>{const{controlId:o}=C.useContext(Ks);return n=Ke(n,"form-range"),I.jsx("input",{...r,type:"range",ref:a,className:Be(e,n),id:t||o})});AC.displayName="FormRange";const CC=C.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:a=!1,isInvalid:o=!1,id:u,...h},f)=>{const{controlId:m}=C.useContext(Ks);return n=Ke(n,"form-select"),I.jsx("select",{...h,size:t,ref:f,className:Be(r,n,e&&`${n}-${e}`,a&&"is-valid",o&&"is-invalid"),id:u||m})});CC.displayName="FormSelect";const IC=C.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...a},o)=>(n=Ke(n,"form-text"),I.jsx(t,{...a,ref:o,className:Be(e,n,r&&"text-muted")})));IC.displayName="FormText";const OC=C.forwardRef((n,e)=>I.jsx(id,{...n,ref:e,type:"switch"}));OC.displayName="Switch";const D3=Object.assign(OC,{Input:id.Input,Label:id.Label}),xC=C.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:a,...o},u)=>(n=Ke(n,"form-floating"),I.jsxs(s_,{ref:u,className:Be(e,n),controlId:r,...o,children:[t,I.jsx("label",{htmlFor:r,children:a})]})));xC.displayName="FloatingLabel";const k3={_ref:Bs.any,validated:Bs.bool,as:Bs.elementType},a_=C.forwardRef(({className:n,validated:e,as:t="form",...r},a)=>I.jsx(t,{...r,ref:a,className:Be(n,e&&"was-validated")}));a_.displayName="Form";a_.propTypes=k3;const Xe=Object.assign(a_,{Group:s_,Control:N3,Floating:SC,Check:id,Switch:D3,Label:RC,Text:IC,Range:AC,Select:CC,FloatingLabel:xC}),uS=n=>!n||typeof n=="function"?n:e=>{n.current=e};function P3(n,e){const t=uS(n),r=uS(e);return a=>{t&&t(a),r&&r(a)}}function Wd(n,e){return C.useMemo(()=>P3(n,e),[n,e])}const NC=C.createContext(null),L3=["as","active","eventKey"];function M3(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function o_({key:n,onClick:e,active:t,id:r,role:a,disabled:o}){const u=C.useContext(nd),h=C.useContext(n_),f=C.useContext(NC);let m=t;const y={role:a};if(h){!a&&h.role==="tablist"&&(y.role="tab");const E=h.getControllerId(n??null),_=h.getControlledId(n??null);y[Kd("event-key")]=n,y.id=E||r,m=t==null&&n!=null?h.activeKey===n:t,(m||!(f!=null&&f.unmountOnExit)&&!(f!=null&&f.mountOnEnter))&&(y["aria-controls"]=_)}return y.role==="tab"&&(y["aria-selected"]=m,m||(y.tabIndex=-1),o&&(y.tabIndex=-1,y["aria-disabled"]=!0)),y.onClick=Ds(E=>{o||(e==null||e(E),n!=null&&u&&!E.isPropagationStopped()&&u(n,E))}),[y,{isActive:m}]}const DC=C.forwardRef((n,e)=>{let{as:t=rC,active:r,eventKey:a}=n,o=M3(n,L3);const[u,h]=o_(Object.assign({key:Gd(a,o.href),active:r},o));return u[Kd("active")]=h.isActive,I.jsx(t,Object.assign({},o,u,{ref:e}))});DC.displayName="NavItem";const U3=["as","onSelect","activeKey","role","onKeyDown"];function V3(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const cS=()=>{},fS=Kd("event-key"),kC=C.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:a,role:o,onKeyDown:u}=n,h=V3(n,U3);const f=w3(),m=C.useRef(!1),y=C.useContext(nd),E=C.useContext(NC);let _,R;E&&(o=o||"tablist",a=E.activeKey,_=E.getControlledId,R=E.getControllerId);const A=C.useRef(null),V=H=>{const te=A.current;if(!te)return null;const ae=Vo(te,`[${fS}]:not([aria-disabled=true])`),ge=te.querySelector("[aria-selected=true]");if(!ge||ge!==document.activeElement)return null;const M=ae.indexOf(ge);if(M===-1)return null;let P=M+H;return P>=ae.length&&(P=0),P<0&&(P=ae.length-1),ae[P]},D=(H,te)=>{H!=null&&(r==null||r(H,te),y==null||y(H,te))},$=H=>{if(u==null||u(H),!E)return;let te;switch(H.key){case"ArrowLeft":case"ArrowUp":te=V(-1);break;case"ArrowRight":case"ArrowDown":te=V(1);break;default:return}te&&(H.preventDefault(),D(te.dataset[A3("EventKey")]||null,H),m.current=!0,f())};C.useEffect(()=>{if(A.current&&m.current){const H=A.current.querySelector(`[${fS}][aria-selected=true]`);H==null||H.focus()}m.current=!1});const K=Wd(e,A);return I.jsx(nd.Provider,{value:D,children:I.jsx(n_.Provider,{value:{role:o,activeKey:Gd(a),getControlledId:_||cS,getControllerId:R||cS},children:I.jsx(t,Object.assign({},h,{onKeyDown:$,ref:K,role:o}))})})});kC.displayName="Nav";const PC=Object.assign(kC,{Item:DC}),LC=C.forwardRef(({bsPrefix:n,active:e,disabled:t,eventKey:r,className:a,variant:o,action:u,as:h,...f},m)=>{n=Ke(n,"list-group-item");const[y,E]=o_({key:Gd(r,f.href),active:e,...f}),_=fu(A=>{if(t){A.preventDefault(),A.stopPropagation();return}y.onClick(A)});t&&f.tabIndex===void 0&&(f.tabIndex=-1,f["aria-disabled"]=!0);const R=h||(u?f.href?"a":"button":"div");return I.jsx(R,{ref:m,...f,...y,onClick:_,className:Be(a,n,E.isActive&&"active",t&&"disabled",o&&`${n}-${o}`,u&&`${n}-action`)})});LC.displayName="ListGroupItem";const MC=C.forwardRef((n,e)=>{const{className:t,bsPrefix:r,variant:a,horizontal:o,numbered:u,as:h="div",...f}=qd(n,{activeKey:"onSelect"}),m=Ke(r,"list-group");let y;return o&&(y=o===!0?"horizontal":`horizontal-${o}`),I.jsx(PC,{ref:e,...f,as:h,className:Be(t,m,a&&`${m}-${a}`,y&&`${m}-${y}`,u&&`${m}-numbered`)})});MC.displayName="ListGroup";const sd=Object.assign(MC,{Item:LC});function Hg(n){n===void 0&&(n=Yv());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function j3(n){const e=C.useRef(n);return e.current=n,e}function B3(n){const e=j3(n);C.useEffect(()=>()=>e.current(),[])}function z3(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const hS=Kd("modal-open");class l_{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return z3(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[r]:a.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(js(a,r)||"0",10)+e.scrollBarWidth}px`),a.setAttribute(hS,""),js(a,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(hS),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const $g=(n,e)=>Fd?n==null?(e||Yv()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function q3(n,e){const t=r_(),[r,a]=C.useState(()=>$g(n,t==null?void 0:t.document));if(!r){const o=$g(n);o&&a(o)}return C.useEffect(()=>{},[e,r]),C.useEffect(()=>{const o=$g(n);o!==r&&a(o)},[n,r]),r}function F3({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:a}){const o=C.useRef(null),u=C.useRef(e),h=Ds(t);C.useEffect(()=>{e?u.current=!0:h(o.current)},[e,h]);const f=Wd(o,cu(n)),m=C.cloneElement(n,{ref:f});return e?m:a||!u.current&&r?null:m}const H3=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function $3(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function G3(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:a,onExiting:o,onExited:u,addEndListener:h,children:f}=n,m=$3(n,H3);const y=C.useRef(null),E=Wd(y,cu(f)),_=te=>ae=>{te&&y.current&&te(y.current,ae)},R=C.useCallback(_(e),[e]),A=C.useCallback(_(t),[t]),V=C.useCallback(_(r),[r]),D=C.useCallback(_(a),[a]),$=C.useCallback(_(o),[o]),K=C.useCallback(_(u),[u]),H=C.useCallback(_(h),[h]);return Object.assign({},m,{nodeRef:y},e&&{onEnter:R},t&&{onEntering:A},r&&{onEntered:V},a&&{onExit:D},o&&{onExiting:$},u&&{onExited:K},h&&{addEndListener:H},{children:typeof f=="function"?(te,ae)=>f(te,Object.assign({},ae,{ref:E})):C.cloneElement(f,{ref:E})})}const K3=["component"];function Q3(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const W3=C.forwardRef((n,e)=>{let{component:t}=n,r=Q3(n,K3);const a=G3(r);return I.jsx(t,Object.assign({ref:e},a))});function X3({in:n,onTransition:e}){const t=C.useRef(null),r=C.useRef(!0),a=Ds(e);return oS(()=>{if(!t.current)return;let o=!1;return a({in:n,element:t.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[n,a]),oS(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function Y3({children:n,in:e,onExited:t,onEntered:r,transition:a}){const[o,u]=C.useState(!e);e&&o&&u(!1);const h=X3({in:!!e,onTransition:m=>{const y=()=>{m.isStale()||(m.in?r==null||r(m.element,m.initial):(u(!0),t==null||t(m.element)))};Promise.resolve(a(m)).then(y,E=>{throw m.in||u(!0),E})}}),f=Wd(h,cu(n));return o&&!e?null:C.cloneElement(n,{ref:f})}function dS(n,e,t){return n?I.jsx(W3,Object.assign({},t,{component:n})):e?I.jsx(Y3,Object.assign({},t,{transition:e})):I.jsx(F3,Object.assign({},t))}const J3=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Z3(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let Gg;function e6(n){return Gg||(Gg=new l_({ownerDocument:n==null?void 0:n.document})),Gg}function t6(n){const e=r_(),t=n||e6(e),r=C.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:C.useCallback(a=>{r.current.dialog=a},[]),setBackdropRef:C.useCallback(a=>{r.current.backdrop=a},[])})}const UC=C.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:a,style:o,children:u,backdrop:h=!0,keyboard:f=!0,onBackdropClick:m,onEscapeKeyDown:y,transition:E,runTransition:_,backdropTransition:R,runBackdropTransition:A,autoFocus:V=!0,enforceFocus:D=!0,restoreFocus:$=!0,restoreFocusOptions:K,renderDialog:H,renderBackdrop:te=mt=>I.jsx("div",Object.assign({},mt)),manager:ae,container:ge,onShow:M,onHide:P=()=>{},onExit:k,onExited:B,onExiting:z,onEnter:G,onEntering:U,onEntered:Je}=n,le=Z3(n,J3);const re=r_(),he=q3(ge),de=t6(ae),Oe=f3(),q=h3(t),[fe,Re]=C.useState(!t),Ee=C.useRef(null);C.useImperativeHandle(e,()=>de,[de]),Fd&&!q&&t&&(Ee.current=Hg(re==null?void 0:re.document)),t&&fe&&Re(!1);const Te=Ds(()=>{if(de.add(),st.current=ed(document,"keydown",nt),Tt.current=ed(document,"focus",()=>setTimeout(Ve),!0),M&&M(),V){var mt,ur;const oi=Hg((mt=(ur=de.dialog)==null?void 0:ur.ownerDocument)!=null?mt:re==null?void 0:re.document);de.dialog&&oi&&!lS(de.dialog,oi)&&(Ee.current=oi,de.dialog.focus())}}),Ne=Ds(()=>{if(de.remove(),st.current==null||st.current(),Tt.current==null||Tt.current(),$){var mt;(mt=Ee.current)==null||mt.focus==null||mt.focus(K),Ee.current=null}});C.useEffect(()=>{!t||!he||Te()},[t,he,Te]),C.useEffect(()=>{fe&&Ne()},[fe,Ne]),B3(()=>{Ne()});const Ve=Ds(()=>{if(!D||!Oe()||!de.isTopModal())return;const mt=Hg(re==null?void 0:re.document);de.dialog&&mt&&!lS(de.dialog,mt)&&de.dialog.focus()}),Pt=Ds(mt=>{mt.target===mt.currentTarget&&(m==null||m(mt),h===!0&&P())}),nt=Ds(mt=>{f&&QB(mt)&&de.isTopModal()&&(y==null||y(mt),mt.defaultPrevented||P())}),Tt=C.useRef(),st=C.useRef(),nn=(...mt)=>{Re(!0),B==null||B(...mt)};if(!he)return null;const lr=Object.assign({role:r,ref:de.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},le,{style:o,className:a,tabIndex:-1});let En=H?H(lr):I.jsx("div",Object.assign({},lr,{children:C.cloneElement(u,{role:"document"})}));En=dS(E,_,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:k,onExiting:z,onExited:nn,onEnter:G,onEntering:U,onEntered:Je,children:En});let Qn=null;return h&&(Qn=te({ref:de.setBackdropRef,onClick:Pt}),Qn=dS(R,A,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Qn})),I.jsx(I.Fragment,{children:zl.createPortal(I.jsxs(I.Fragment,{children:[Qn,En]}),he)})});UC.displayName="Modal";const n6=Object.assign(UC,{Manager:l_});function r6(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function i6(n,e){n.classList?n.classList.add(e):r6(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function mS(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function s6(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=mS(n.className,e):n.setAttribute("class",mS(n.className&&n.className.baseVal||"",e))}const Ml={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class VC extends l_{adjustAndStore(e,t,r){const a=t.style[e];t.dataset[e]=a,js(t,{[e]:`${parseFloat(js(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],js(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(i6(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Vo(t,Ml.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),Vo(t,Ml.STICKY_CONTENT).forEach(o=>this.adjustAndStore(a,o,-e.scrollBarWidth)),Vo(t,Ml.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(a,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();s6(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Vo(t,Ml.FIXED_CONTENT).forEach(o=>this.restore(r,o)),Vo(t,Ml.STICKY_CONTENT).forEach(o=>this.restore(a,o)),Vo(t,Ml.NAVBAR_TOGGLER).forEach(o=>this.restore(a,o))}}let Kg;function a6(n){return Kg||(Kg=new VC(n)),Kg}const jC=C.createContext({onHide(){}}),o6=C.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:a,...o},u)=>{const h=C.useContext(jC),f=fu(()=>{h==null||h.onHide(),r==null||r()});return I.jsxs("div",{ref:u,...o,children:[a,t&&I.jsx(Hd,{"aria-label":n,variant:e,onClick:f})]})}),BC=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},a)=>(e=Ke(e,"nav-item"),I.jsx(t,{ref:a,className:Be(n,e),...r})));BC.displayName="NavItem";const zC=C.forwardRef(({bsPrefix:n,className:e,as:t=e_,active:r,eventKey:a,disabled:o=!1,...u},h)=>{n=Ke(n,"nav-link");const[f,m]=o_({key:Gd(a,u.href),active:r,disabled:o,...u});return I.jsx(t,{...u,...f,ref:h,disabled:o,className:Be(e,n,o&&"disabled",m.isActive&&"active")})});zC.displayName="NavLink";const qC=C.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:a,fill:o=!1,justify:u=!1,navbar:h,navbarScroll:f,className:m,activeKey:y,...E}=qd(n,{activeKey:"onSelect"}),_=Ke(r,"nav");let R,A,V=!1;const D=C.useContext(hu),$=C.useContext(Xv);return D?(R=D.bsPrefix,V=h??!0):$&&({cardHeaderBsPrefix:A}=$),I.jsx(PC,{as:t,ref:e,activeKey:y,className:Be(m,{[_]:!V,[`${R}-nav`]:V,[`${R}-nav-scroll`]:V&&f,[`${A}-${a}`]:!!A,[`${_}-${a}`]:!!a,[`${_}-fill`]:o,[`${_}-justified`]:u}),...E})});qC.displayName="Nav";const Da=Object.assign(qC,{Item:BC,Link:zC}),FC=C.forwardRef(({bsPrefix:n,className:e,as:t,...r},a)=>{n=Ke(n,"navbar-brand");const o=t||(r.href?"a":"span");return I.jsx(o,{...r,ref:a,className:Be(e,n)})});FC.displayName="NavbarBrand";const HC=C.forwardRef(({children:n,bsPrefix:e,...t},r)=>{e=Ke(e,"navbar-collapse");const a=C.useContext(hu);return I.jsx(l3,{in:!!(a&&a.expanded),...t,children:I.jsx("div",{ref:r,className:e,children:n})})});HC.displayName="NavbarCollapse";const $C=C.forwardRef(({bsPrefix:n,className:e,children:t,label:r="Toggle navigation",as:a="button",onClick:o,...u},h)=>{n=Ke(n,"navbar-toggler");const{onToggle:f,expanded:m}=C.useContext(hu)||{},y=fu(E=>{o&&o(E),f&&f()});return a==="button"&&(u.type="button"),I.jsx(a,{...u,ref:h,onClick:y,"aria-label":r,className:Be(e,n,!m&&"collapsed"),children:t||I.jsx("span",{className:`${n}-icon`})})});$C.displayName="NavbarToggle";const My=new WeakMap,pS=(n,e)=>{if(!n||!e)return;const t=My.get(e)||new Map;My.set(e,t);let r=t.get(n);return r||(r=e.matchMedia(n),r.refCount=0,t.set(r.media,r)),r};function l6(n,e=typeof window>"u"?void 0:window){const t=pS(n,e),[r,a]=C.useState(()=>t?t.matches:!1);return O3(()=>{let o=pS(n,e);if(!o)return a(!1);let u=My.get(e);const h=()=>{a(o.matches)};return o.refCount++,o.addListener(h),h(),()=>{o.removeListener(h),o.refCount--,o.refCount<=0&&(u==null||u.delete(o.media)),o=void 0}},[n]),r}function u6(n){const e=Object.keys(n);function t(h,f){return h===f?f:h?`${h} and ${f}`:f}function r(h){return e[Math.min(e.indexOf(h)+1,e.length-1)]}function a(h){const f=r(h);let m=n[f];return typeof m=="number"?m=`${m-.2}px`:m=`calc(${m} - 0.2px)`,`(max-width: ${m})`}function o(h){let f=n[h];return typeof f=="number"&&(f=`${f}px`),`(min-width: ${f})`}function u(h,f,m){let y;typeof h=="object"?(y=h,m=f,f=!0):(f=f||!0,y={[h]:f});let E=C.useMemo(()=>Object.entries(y).reduce((_,[R,A])=>((A==="up"||A===!0)&&(_=t(_,o(R))),(A==="down"||A===!0)&&(_=t(_,a(R))),_),""),[JSON.stringify(y)]);return l6(E,m)}return u}const c6=u6({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),GC=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},a)=>(e=Ke(e,"offcanvas-body"),I.jsx(t,{ref:a,className:Be(n,e),...r})));GC.displayName="OffcanvasBody";const f6={[Ti]:"show",[Ns]:"show"},KC=C.forwardRef(({bsPrefix:n,className:e,children:t,in:r=!1,mountOnEnter:a=!1,unmountOnExit:o=!1,appear:u=!1,...h},f)=>(n=Ke(n,"offcanvas"),I.jsx(Zv,{ref:f,addEndListener:Jv,in:r,mountOnEnter:a,unmountOnExit:o,appear:u,...h,childRef:cu(t),children:(m,y)=>C.cloneElement(t,{...y,className:Be(e,t.props.className,(m===Ti||m===Mc)&&`${n}-toggling`,f6[m])})})));KC.displayName="OffcanvasToggling";const QC=C.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...a},o)=>(n=Ke(n,"offcanvas-header"),I.jsx(o6,{ref:o,...a,className:Be(e,n),closeLabel:t,closeButton:r})));QC.displayName="OffcanvasHeader";const h6=zd("h5"),WC=C.forwardRef(({className:n,bsPrefix:e,as:t=h6,...r},a)=>(e=Ke(e,"offcanvas-title"),I.jsx(t,{ref:a,className:Be(n,e),...r})));WC.displayName="OffcanvasTitle";function d6(n){return I.jsx(KC,{...n})}function m6(n){return I.jsx(td,{...n})}const XC=C.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":r,placement:a="start",responsive:o,show:u=!1,backdrop:h=!0,keyboard:f=!0,scroll:m=!1,onEscapeKeyDown:y,onShow:E,onHide:_,container:R,autoFocus:A=!0,enforceFocus:V=!0,restoreFocus:D=!0,restoreFocusOptions:$,onEntered:K,onExit:H,onExiting:te,onEnter:ae,onEntering:ge,onExited:M,backdropClassName:P,manager:k,renderStaticNode:B=!1,...z},G)=>{const U=C.useRef();n=Ke(n,"offcanvas");const[Je,le]=C.useState(!1),re=fu(_),he=c6(o||"xs","up");C.useEffect(()=>{le(o?u&&!he:u)},[u,o,he]);const de=C.useMemo(()=>({onHide:re}),[re]);function Oe(){return k||(m?(U.current||(U.current=new VC({handleContainerOverflow:!1})),U.current):a6())}const q=(Te,...Ne)=>{Te&&(Te.style.visibility="visible"),ae==null||ae(Te,...Ne)},fe=(Te,...Ne)=>{Te&&(Te.style.visibility=""),M==null||M(...Ne)},Re=C.useCallback(Te=>I.jsx("div",{...Te,className:Be(`${n}-backdrop`,P)}),[P,n]),Ee=Te=>I.jsx("div",{...Te,...z,className:Be(e,o?`${n}-${o}`:n,`${n}-${a}`),"aria-labelledby":r,children:t});return I.jsxs(I.Fragment,{children:[!Je&&(o||B)&&Ee({}),I.jsx(jC.Provider,{value:de,children:I.jsx(n6,{show:Je,ref:G,backdrop:h,container:R,keyboard:f,autoFocus:A,enforceFocus:V&&!m,restoreFocus:D,restoreFocusOptions:$,onEscapeKeyDown:y,onShow:E,onHide:re,onEnter:q,onEntering:ge,onEntered:K,onExit:H,onExiting:te,onExited:fe,manager:Oe(),transition:d6,backdropTransition:m6,renderBackdrop:Re,renderDialog:Ee})})]})});XC.displayName="Offcanvas";const p6=Object.assign(XC,{Body:GC,Header:QC,Title:WC}),YC=C.forwardRef(({onHide:n,...e},t)=>{const r=C.useContext(hu),a=fu(()=>{r==null||r.onToggle==null||r.onToggle(),n==null||n()});return I.jsx(p6,{ref:t,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:a})});YC.displayName="NavbarOffcanvas";const JC=C.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},a)=>(e=Ke(e,"navbar-text"),I.jsx(t,{ref:a,className:Be(n,e),...r})));JC.displayName="NavbarText";const ZC=C.forwardRef((n,e)=>{const{bsPrefix:t,expand:r=!0,variant:a="light",bg:o,fixed:u,sticky:h,className:f,as:m="nav",expanded:y,onToggle:E,onSelect:_,collapseOnSelect:R=!1,...A}=qd(n,{expanded:"onToggle"}),V=Ke(t,"navbar"),D=C.useCallback((...H)=>{_==null||_(...H),R&&y&&(E==null||E(!1))},[_,R,y,E]);A.role===void 0&&m!=="nav"&&(A.role="navigation");let $=`${V}-expand`;typeof r=="string"&&($=`${$}-${r}`);const K=C.useMemo(()=>({onToggle:()=>E==null?void 0:E(!y),bsPrefix:V,expanded:!!y,expand:r}),[V,y,r,E]);return I.jsx(hu.Provider,{value:K,children:I.jsx(nd.Provider,{value:D,children:I.jsx(m,{ref:e,...A,className:Be(f,V,r&&$,a&&`${V}-${a}`,o&&`bg-${o}`,h&&`sticky-${h}`,u&&`fixed-${u}`)})})})});ZC.displayName="Navbar";const ad=Object.assign(ZC,{Brand:FC,Collapse:HC,Offcanvas:YC,Text:JC,Toggle:$C}),du=C.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:r,as:a="div",className:o,...u},h)=>{n=Ke(n,"spinner");const f=`${n}-${t}`;return I.jsx(a,{ref:h,...u,className:Be(o,f,r&&`${f}-${r}`,e&&`text-${e}`)})});du.displayName="Spinner";const g6=()=>I.jsx(ad,{className:"footer-bar",children:I.jsx(t_,{className:"justify-content-center",children:I.jsxs(ad.Text,{children:["Contact us:",I.jsx("a",{href:"tel:+91 7011974522",children:" +91 7011974522"}),",",I.jsx("a",{href:"tel:+91 9990708731",children:" +91 9990708731"})," | Webapp creator:",I.jsx("a",{href:"https://www.example.com",target:"_blank",rel:"noopener noreferrer",children:" www.example.com"})]})})}),gS=()=>{const n=Tr(),[e,t]=C.useState([]),[r,a]=C.useState([]),[o,u]=C.useState(!0),[h,f]=C.useState("");C.useEffect(()=>{(async()=>{await n.fetchProductsWithFirstVariant().then(E=>{t(E),a(E)}),u(!1)})()},[]);const m=y=>{const E=y.target.value.toLowerCase();f(E);const _=e.filter(R=>R.name.toLowerCase().includes(E)||R.description.toLowerCase().includes(E));a(_)};return o?I.jsxs("div",{className:"text-center mt-5",children:[I.jsx(du,{animation:"border"}),I.jsx("p",{children:"Welcome! We are loading products for you.."})]}):I.jsxs("div",{className:"home-page",children:[I.jsx("div",{className:"ad-container",children:"Advertising space"}),I.jsxs("div",{className:"header",children:[I.jsx("div",{className:"menu-title",children:"Menu"}),I.jsx("div",{className:"cart-icon-container",children:I.jsx("div",{className:"cart-icon",children:""})})]}),I.jsx("div",{className:"search-container",children:I.jsx("input",{type:"text",className:"search-input",placeholder:"Search for food...",value:h,onChange:m})}),I.jsx("div",{className:"menu-container",children:I.jsx("div",{className:"menu-list",children:r.length>0?r.map(y=>I.jsx(NB,{...y},y.id)):I.jsx("p",{className:"text-center mt-4",children:"No items match your search."})})})]})},y6=()=>{const n=Tr(),e=ai(),[t,r]=C.useState(""),[a,o]=C.useState("");C.useEffect(()=>{n.isLoggedIn&&e("/")},[n,e]);const u=async h=>{h.preventDefault();try{console.log("login in a user...");const f=await n.singinUserWithEmailAndPass(t,a);console.log("Successfull",f)}catch(f){console.log("Unsuccessfull",f.message,f),n.displayToastMessage(f.message)}};return I.jsx("div",{className:"container mt-5",children:I.jsxs(Xe,{onSubmit:u,children:[I.jsxs(Xe.Group,{className:"mb-3",controlId:"formBasicEmail",children:[I.jsx(Xe.Label,{children:"Email address"}),I.jsx(Xe.Control,{onChange:h=>r(h.target.value),value:t,type:"email",placeholder:"Enter email"})]}),I.jsxs(Xe.Group,{className:"mb-3",controlId:"formBasicPassword",children:[I.jsx(Xe.Label,{children:"Password"}),I.jsx(Xe.Control,{onChange:h=>o(h.target.value),value:a,type:"password",placeholder:"Password"})]}),I.jsx(Vr,{variant:"primary",type:"submit",children:"Login"})]})})},v6=()=>{const n=Tr(),e=ai(),[t,r]=C.useState(""),[a,o]=C.useState("");C.useEffect(()=>{n.isLoggedIn&&e("/")},[n,e]);const u=async h=>{h.preventDefault();try{console.log("Signin up a user...");const f=await n.signupUserWithEmailAndPassword(t,a);console.log("Successfull",f)}catch(f){console.log("Unsuccessfull",f.message,f),n.displayToastMessage(f.message)}};return I.jsx("div",{className:"container mt-5",children:I.jsxs(Xe,{onSubmit:u,children:[I.jsxs(Xe.Group,{className:"mb-3",controlId:"formBasicEmail",children:[I.jsx(Xe.Label,{children:"Email address"}),I.jsx(Xe.Control,{onChange:h=>r(h.target.value),value:t,type:"email",placeholder:"Enter email"}),I.jsx(Xe.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),I.jsxs(Xe.Group,{className:"mb-3",controlId:"formBasicPassword",children:[I.jsx(Xe.Label,{children:"Password"}),I.jsx(Xe.Control,{onChange:h=>o(h.target.value),value:a,type:"password",placeholder:"Password"})]}),I.jsx(Vr,{variant:"primary",type:"submit",children:"Create Account"})]})})},_6=()=>{const n=Tr(),{isAdmin:e,isDeliveryPartner:t}=n;return I.jsx(ad,{children:I.jsxs(t_,{children:[I.jsx(ad.Brand,{as:Yi,to:"/",children:"Kalra Catrers"}),I.jsxs(Da,{className:"ms-auto",children:[" ",e&&I.jsx(Da.Link,{as:Yi,to:"/products/new",children:"Add New Product"}),t&&I.jsx(Da.Link,{as:Yi,to:"/orders/delivery-partner",children:"Orders!"}),!e&&!t&&I.jsx(Da.Link,{as:Yi,to:"/cart",children:"Cart"}),!(n!=null&&n.user)&&I.jsx(Da.Link,{as:Yi,to:"/register",children:"Register"}),!(n!=null&&n.user)&&I.jsx(Da.Link,{as:Yi,to:"/login",children:"Login"}),(n==null?void 0:n.user)&&!e&&!t&&I.jsx(Da.Link,{as:Yi,to:"/orders",children:"My orders"}),(n==null?void 0:n.isAdmin)&&I.jsx(Da.Link,{as:Yi,to:"/orders/all",children:"All orders"}),(n==null?void 0:n.user)&&I.jsx("button",{onClick:async()=>{await n.logoutUser()},className:"btn btn-light text-decoration-none text-dark",children:"Logout"})]})]})})},E6=({label:n,options:e,selected:t,onChange:r})=>I.jsxs(Xe.Group,{className:"mb-3",children:[I.jsx(Xe.Label,{children:n}),I.jsx(Xe.Select,{value:(t==null?void 0:t.id)||"",onChange:r,children:e.length===0?I.jsx("option",{disabled:!0,children:"No variants available"}):e.map(a=>I.jsxs("option",{value:a.id,children:[a.data().title," - ",a.data().name," (",a.data().priceOffer||a.data().priceOriginal,")"]},a.id))})]}),T6=()=>{const n=ai(),e=IS(),t=Tr(),[r,a]=C.useState(1),[o,u]=C.useState(null),[h,f]=C.useState([]),[m,y]=C.useState(null),[E,_]=C.useState(null),[R,A]=C.useState(!0);C.useEffect(()=>{(async()=>{R||A(!0);const K="products",H="variants",te=await t.getDocById(e.productId,K);u(te.data());const ae=await t.getSubCollectionAllDocuments(K,e.productId,H);f(ae.docs),ae.docs.length>0&&y({id:ae.docs[0].id,...ae.docs[0].data()}),A(!1)})()},[e.productId,t]);const V=$=>{const K=$.target.value,H=h.find(te=>te.id===K);y({id:H.id,...H.data()})},D=async()=>{if(!m)return alert("Please select a variant");if(await t.checkIsItemAlreadyInCart("shoppingCartItems",e.productId,m.id)===null){const K={quantity:r,productId:e.productId,variantId:m.id};await t.handleCreateNewDoc(K,"shoppingCartItems"),t.displayToastMessage("Added to cart successfully!")}else t.displayToastMessage("Item already in cart!");n("/")};return R?I.jsxs("div",{className:"text-center mt-5",children:[I.jsx(du,{animation:"border"}),I.jsx("p",{children:"loading detials.."})]}):!o||!h||!m?I.jsx("div",{className:"container mt-5",children:I.jsx($d,{variant:"info",children:"No data found"},"info")}):I.jsxs("div",{className:"container mt-5",children:[I.jsx("h1",{children:o.name}),I.jsx("img",{src:E,width:"50%",style:{borderRadius:"10px"},alt:"Product"}),I.jsx("h1",{children:"Details"}),I.jsxs("p",{children:["Price: Rs. ",(m==null?void 0:m.priceOffer)||(m==null?void 0:m.priceOriginal)||"N/A"]}),I.jsx(E6,{label:"Select Variant",options:h,selected:m,onChange:V}),I.jsxs(Xe.Group,{className:"mb-3",children:[I.jsx(Xe.Label,{children:"Quantity"}),I.jsx(Xe.Control,{type:"number",min:"1",value:r,onChange:$=>a($.target.value)})]}),I.jsx(Vr,{onClick:D,variant:"primary",disabled:!(t!=null&&t.user),children:"Add to Cart"}),I.jsx("div",{className:"not-logged-in-text",children:!(t!=null&&t.user)&&"Please Login to start adding items to cart"})]})},b6=n=>{const{id:e,handleRemoveDocument:t,quantity:r}=n,{name:a,description:o,status:u,productImage:h}=n==null?void 0:n.product,{variant:f}=n,m=Tr();ai();const[y,E]=C.useState(null);return C.useEffect(()=>{h&&m.getImageURL(h).then(_=>E(_))},[h]),I.jsxs(_t,{style:{width:"18rem",margin:"25px"},children:[y&&I.jsx(_t.Img,{variant:"top",src:y,alt:a}),I.jsxs(_t.Body,{children:[I.jsx(_t.Title,{children:a}),I.jsx(_t.Text,{children:o}),I.jsxs(_t.Text,{children:["Status: ",I.jsx("strong",{children:u})]}),I.jsxs(_t.Text,{children:["quantity: ",r]}),I.jsxs(_t.Text,{children:["Price: ",I.jsx("strong",{children:(f==null?void 0:f.priceOffer)||(f==null?void 0:f.priceOriginal)})]}),I.jsxs(_t.Text,{children:["Total Price: ",I.jsxs("strong",{children:["INR ",r*((f==null?void 0:f.priceOffer)||(f==null?void 0:f.priceOriginal))]})]}),I.jsx(Vr,{onClick:async()=>{await t(e),m.displayToastMessage("removed successfully!")},variant:"primary",children:"Remove"})]})]})},w6="/hotel-bites",S6=[{label:"Online",value:"online"},{label:"COD",value:"cash-on-delivery"}],R6=["Old OPD , Safdarjung Hospital , New Delhi, Delhi - 110029","Main OPD , Safdarjung Hospital , New Delhi, Delhi - 110029","NEB , Safdarjung Hospital , New Delhi, Delhi - 110029","SSB , Safdarjung Hospital , New Delhi, Delhi - 110029","SIC , Safdarjung Hospital , New Delhi, Delhi - 110029"],A6=()=>{const n=Tr(),[e,t]=C.useState([]),[r,a]=C.useState(0),[o,u]=C.useState(""),[h,f]=C.useState(R6),[m,y]=C.useState(""),[E,_]=C.useState(""),[R,A]=C.useState(!0),[V,D]=C.useState("cash-on-delivery"),$=async()=>{await n.fetchCartWithDetails("shoppingCartItems").then(z=>t(z)),A(!1)},K=async z=>{await n.removeDocumentWithId("shoppingCartItems",z),await $()};C.useEffect(()=>{$()},[]);const H=()=>{const z=e.reduce((G,U)=>{var le,re;const Je=((le=U==null?void 0:U.variant)==null?void 0:le.priceOffer)||((re=U==null?void 0:U.variant)==null?void 0:re.priceOriginal)||0;return G+U.quantity*Je},0);a(z)};C.useEffect(()=>{e?H():a("Not found")},[e]);const te=ai(),ae=async z=>{const Je={purchasedItems:await Promise.all(e.map(async le=>{const re={productId:le==null?void 0:le.productId,variantId:le==null?void 0:le.variantId,quantity:le==null?void 0:le.quantity};return(await n.handleCreateNewDoc(re,"purchasedItems")).id})),address:o,landmark:m,cookingInstructions:E,deliveryPartnerId:"EEqRTrY732ZaK27XRkjkJbjMq5E2",paymentMethod:V,status:"Created"};console.log(Je),await n.updateOrderStatus(z,Je),await Promise.all(e.map(le=>n.removeDocumentWithId("shoppingCartItems",le.id))),A(!1),te("/orders"),n.displayToastMessage("Order Placed successfully!")},ge=()=>{alert("payment failed")},M=()=>{},P=async z=>{try{await n.createRazorpayPaymentsSuccess(z),ae(z.orderId)}catch(G){console.log(G),A(!1)}},k=async z=>{var Je;const U=(await n.getDocById(z,"orders")).data();try{const le={key:"rzp_test_dR0eFnGfUhVgbV",amount:U.finalPrice*100,currency:"INR",order_id:U.razorpayOrderId,name:"Hotel Bites",description:"Order Payment",handler:function(he){console.log("Payment Success:2",he);const de={razorpayOrderId:he.razorpay_order_id,paymentId:he.razorpay_payment_id,signature:he.razorpay_signature,orderId:z};console.log("payload3",de),P(de),M()},prefill:{name:"",email:(Je=n==null?void 0:n.user)==null?void 0:Je.uid,contact:""},theme:{color:"#3399cc"},retry:!1},re=new window.Razorpay(le);re.on("payment.failed",async function(he){ge(),A(!1)}),re.open()}catch(le){console.log("error in handlePayment function  : ",le),A(!1)}finally{}},B=async()=>{try{if(!o){n.displayToastMessage("Please select an address before placing the order.","error");return}if(e.length===0)return;A(!0);const z={finalPrice:r,paymentMethod:V},G=await n.createOrder(z);V==="online"?await k(G):ae(G)}catch(z){console.error("Error placing order:",z),A(!1)}finally{}};return R?I.jsxs("div",{className:"text-center mt-5",children:[I.jsx(du,{animation:"border"}),I.jsx("p",{children:"Processing.."})]}):I.jsxs("div",{className:"home-page",children:[I.jsx("div",{className:"ad-container",children:"Advertising space"}),I.jsx("div",{className:"header",children:I.jsx("div",{className:"order-summary",children:"Cart"})}),!e||(e==null?void 0:e.length)===0?I.jsx($d,{variant:"info",children:"Cart Empty!"},"info"):I.jsxs(I.Fragment,{children:[I.jsx(LS,{children:e==null?void 0:e.map(z=>I.jsx(b6,{id:z.id,handleRemoveDocument:K,...z},z.id))}),I.jsxs(Xe.Group,{className:"mt-3",children:[I.jsx(Xe.Label,{children:"Enter Cooking Instructions/Preferences"}),I.jsx(Xe.Control,{type:"text",placeholder:"Enter any specific cooking instructions",value:E,onChange:z=>_(z.target.value)})]}),I.jsxs(Xe.Group,{className:"mt-3",children:[I.jsx(Xe.Label,{children:"Select Delivery Address"}),I.jsxs(Xe.Select,{value:o,onChange:z=>u(z.target.value),children:[I.jsx("option",{value:"",children:"-- Select Address --"}),h.map((z,G)=>I.jsx("option",{value:z,children:z},G))]})]}),I.jsxs(Xe.Group,{className:"mt-3",children:[I.jsx(Xe.Label,{children:"Enter Landmark"}),I.jsx(Xe.Control,{type:"text",placeholder:"Enter landmark near the address",value:m,onChange:z=>y(z.target.value)})]}),I.jsxs("div",{className:"final-price",children:["final price : ",r]}),I.jsxs("div",{className:"mt-3",children:[I.jsx("h5",{children:"Select Payment Method"}),S6.map((z,G)=>I.jsxs("div",{className:"form-check",children:[I.jsx("input",{className:"form-check-input",type:"radio",name:"paymentMethod",id:z.value,value:z.value,checked:V===z.value,onChange:()=>D(z.value)}),I.jsx("label",{htmlFor:z.value,className:"form-check-label",children:z.label})]},G))]}),I.jsx(Vr,{onClick:()=>B(),variant:"primary",children:"Place Order"})]})]})},Ei=({children:n,status:e})=>{const t=Tr(),r=(e==null?void 0:e.requiresAdmin)||!1,a=(e==null?void 0:e.requiresLogin)||!1,o=(e==null?void 0:e.deliveryScreen)||!1;return r&&(t!=null&&t.isAdmin)||a&&(t!=null&&t.user)||o&&(t!=null&&t.isDeliveryPartner)||!r&&!a?n:I.jsx("div",{className:"text-center mt-5",children:I.jsx("h3",{children:"Please Login to view content"})})},eI=n=>{const{id:e,handleRemoveDocument:t,quantity:r}=n,{name:a,description:o,status:u,productImage:h}=n==null?void 0:n.product,{variant:f,finalPrice:m}=n,y=Tr();ai();const[E,_]=C.useState(null);return C.useEffect(()=>{h&&y.getImageURL(h).then(R=>_(R))},[h]),I.jsxs(_t,{style:{width:"18rem",margin:"25px"},children:[E&&I.jsx(_t.Img,{variant:"top",src:E,alt:a}),I.jsxs(_t.Body,{children:[I.jsx(_t.Title,{children:a}),I.jsxs(_t.Text,{children:["quantity: ",r]}),I.jsxs(_t.Text,{children:["Price: ",I.jsxs("strong",{children:[" ",(f==null?void 0:f.priceOffer)||(f==null?void 0:f.priceOriginal)]})]}),I.jsxs(_t.Text,{children:["Total Price: ",I.jsxs("strong",{children:[" ",r*((f==null?void 0:f.priceOffer)||(f==null?void 0:f.priceOriginal))]})]})]})]})},C6=()=>{const n=Tr(),[e,t]=C.useState([]),[r,a]=C.useState(!0);ai();const o=async()=>{var f;try{const m=(f=n==null?void 0:n.user)==null?void 0:f.uid,y=await n.fetchOrdersForDeliveryAgent(m),_=(await Promise.all(y.map(async R=>{const A=await n.fetchPurchasedItemWithDetails(R.purchasedItems);return{...R,purchasedItems:A}}))).sort((R,A)=>new Date(A._createdDate)-new Date(R._createdDate));t(_)}catch(m){console.error("Error fetching orders:",m)}finally{a(!1)}};C.useEffect(()=>{o()},[n]);const u=async(f,m)=>{a(!0),await n.updateOrderStatus(f,{status:m}),await o(),a(!1)},h=f=>f?new Date(f).toLocaleString("en-GB",{year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"";return r?I.jsxs("div",{className:"text-center mt-5",children:[I.jsx(du,{animation:"border"}),I.jsx("p",{children:"Loading orders..."})]}):e!=null&&e.length?I.jsxs("div",{className:"container mt-5",children:[I.jsx("h3",{className:"mb-4",children:"My Orders"}),e==null?void 0:e.map(f=>{var m;return I.jsxs(_t,{className:"mb-3",children:[I.jsx(_t.Header,{children:I.jsxs("h5",{children:["Order ID: ",f.orderId]})}),I.jsxs(_t.Body,{children:[I.jsxs("h6",{children:["Status: ",f.status]}),I.jsxs("h6",{children:["Final Price: ",f.finalPrice]}),I.jsxs("h6",{children:["Address: ",f==null?void 0:f.address]}),(f==null?void 0:f._createdDate)&&I.jsxs("h6",{children:["Created Date:"," ",h(f==null?void 0:f._createdDate)]}),(f==null?void 0:f.paymentMethod)&&I.jsxs("h6",{children:["Payment Method: ",f==null?void 0:f.paymentMethod]}),(f==null?void 0:f.razorpayPaymentStatus)&&I.jsxs("h6",{children:["Payment Status: ",(f==null?void 0:f.razorpayPaymentStatus)==="Done"?"Paid":"Pending"]}),I.jsx("hr",{}),I.jsx("h6",{children:"Purchased Items:"}),I.jsx(sd,{children:(m=f.purchasedItems)==null?void 0:m.map((y,E)=>I.jsx(sd.Item,{children:I.jsx(eI,{id:y.id,...y,finalPrice:f==null?void 0:f.finalPrice},y.id)},E))}),I.jsx(Vr,{onClick:()=>{u(f.id,"Delivered")},variant:"success",disabled:f.status==="Delivered"||f.status==="Cancelled",children:"Order delivered"}),I.jsx(Vr,{onClick:()=>{u(f.id,"Cancelled")},variant:"danger",disabled:f.status==="Delivered"||f.status==="Cancelled",children:"Order Cancelled"})]})]},f.orderId)})]}):I.jsx($d,{variant:"warning",className:"mt-5 text-center",children:"No orders found."})},I6=["Created","Preparing","Ready for Pickup","Out for Delivery","Delivered","Cancelled"],yS=({isAdminView:n})=>{const e=Tr(),[t,r]=C.useState([]),[a,o]=C.useState(!0),u=ai(),h=C.useRef(null);C.useEffect(()=>{n&&!(e!=null&&e.isAdmin)&&u("/")},[e,n,u]);const f=async()=>{try{const _=n?await e.fetchAllOrders():await e.fetchOrders(),A=(await Promise.all(_.map(async V=>{const D=await e.fetchPurchasedItemWithDetails(V.purchasedItems);return{...V,purchasedItems:D}}))).sort((V,D)=>new Date(D._createdDate)-new Date(V._createdDate));r(A)}catch(_){console.error("Error fetching orders:",_)}finally{o(!1)}};C.useEffect(()=>{f()},[e]);const m=async(_,R)=>{o(!0),await e.updateOrderStatus(_,{status:R}),await f(),o(!1)},y=_=>_?new Date(_).toLocaleString("en-GB",{year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"",E=_=>{const R=document.getElementById(`order-${_}`),A=window.open("","_blank");A.document.write(R.innerHTML),A.document.close(),A.print()};return a?I.jsxs("div",{className:"text-center mt-5",children:[I.jsx(du,{animation:"border"}),I.jsx("p",{children:"Loading orders..."})]}):t!=null&&t.length?I.jsxs("div",{className:"container mt-5",children:[I.jsx("h3",{className:"mb-4",children:n?"All Orders":"My Orders"}),t==null?void 0:t.map(_=>{var R;return I.jsxs(_t,{className:"mb-3",children:[I.jsx(_t.Header,{children:I.jsxs("h5",{children:["Order ID: ",_.orderId]})}),I.jsxs(_t.Body,{id:`order-${_.orderId}`,ref:h,children:[I.jsxs("h6",{children:["Status:",e!=null&&e.isAdmin?I.jsx(Xe.Select,{value:_.status,onChange:A=>m(_.id,A.target.value),className:"ms-2 d-inline w-auto",children:I6.map(A=>I.jsx("option",{value:A,children:A},A))}):I.jsx("span",{className:"text-primary ms-2",children:_.status})]}),I.jsxs("h6",{children:["Final Price: ",_.finalPrice]}),_.cookingInstructions&&I.jsxs("h6",{children:[I.jsx("strong",{children:"Cooking Instructions:"})," ",I.jsx("span",{style:{color:"red"},children:_.cookingInstructions})]}),I.jsxs("h6",{children:["Address: ",_==null?void 0:_.address]}),n&&I.jsxs("h6",{children:["Delivery Partner ID: ",_==null?void 0:_.deliveryPartnerId]}),(_==null?void 0:_._createdDate)&&I.jsxs("h6",{children:["Created Date: ",y(_==null?void 0:_._createdDate)]}),(_==null?void 0:_.paymentMethod)&&I.jsxs("h6",{children:["Payment Method: ",_==null?void 0:_.paymentMethod]}),(_==null?void 0:_.razorpayPaymentStatus)&&I.jsxs("h6",{children:["Payment Status: ",(_==null?void 0:_.razorpayPaymentStatus)==="Done"?"Paid":"Pending"]}),I.jsx("hr",{}),I.jsx("h6",{children:"Purchased Items:"}),I.jsx(sd,{children:(R=_.purchasedItems)==null?void 0:R.map((A,V)=>I.jsx(sd.Item,{children:I.jsx(eI,{id:A.id,...A,finalPrice:_==null?void 0:_.finalPrice},A.id)},V))})]}),!n&&I.jsx(_t.Footer,{children:I.jsx(Vr,{variant:"secondary",onClick:()=>E(_.orderId),children:"Print Order"})})]},_.orderId)})]}):I.jsx($d,{variant:"warning",className:"mt-5 text-center",children:"No orders found."})},mh=({label:n,name:e,value:t,onChange:r,placeholder:a})=>I.jsxs(Xe.Group,{className:"mb-3",children:[I.jsx(Xe.Label,{children:n}),I.jsx(Xe.Control,{type:"text",name:e,value:t,onChange:r,placeholder:a})]}),O6=()=>{const n=Tr(),e=ai();C.useEffect(()=>{n.isAdmin||e("/")},[n,e]);const[t,r]=C.useState(""),a={SKU:"",name:"",description:"",productImage:"",status:""},[o,u]=C.useState(a),h=m=>{u({...o,[m.target.name]:m.target.value})},f=async m=>{m.preventDefault();const y={...o,productImage:t};await n.handleCreateNewDoc(y,"products"),u(a),n.displayToastMessage("product created successfully!"),e("/")};return I.jsx("div",{className:"container mt-5",children:I.jsxs(Xe,{onSubmit:f,children:[I.jsx(mh,{label:"SKU",name:"SKU",value:o.SKU,onChange:h,placeholder:"Enter SKU"}),I.jsx(mh,{label:"Product Name",name:"name",value:o.name,onChange:h,placeholder:"Enter Product Name"}),I.jsx(mh,{label:"Description",name:"description",value:o.description,onChange:h,placeholder:"Enter Description"}),I.jsxs(Xe.Group,{className:"mb-3",controlId:"formBasicPassword",children:[I.jsx(Xe.Label,{children:"Cover Pic"}),I.jsx(Xe.Control,{onChange:m=>r(m.target.files[0]),type:"file"})]}),I.jsx(mh,{label:"Status",name:"status",value:o.status,onChange:h,placeholder:"Enter Status (active/non-active)"}),I.jsx(Vr,{variant:"primary",type:"submit",children:"Create"})]})})},Mo=({label:n,name:e,value:t,onChange:r,placeholder:a,type:o="text"})=>I.jsxs(Xe.Group,{className:"mb-3",children:[I.jsx(Xe.Label,{children:n}),I.jsx(Xe.Control,{type:o,name:e,value:t,onChange:r,placeholder:a})]}),x6=()=>{const n=Tr(),e=ai();C.useEffect(()=>{n.isAdmin||e("/")},[n,e]);const t=IS(),[r,a]=C.useState({SKU:"",title:"",name:"",priceOffer:"",priceOriginal:"",inventoryQuantity:"",status:"",productImages:[]}),o=h=>{const{name:f,value:m,type:y}=h.target;a({...r,[f]:y==="number"?parseFloat(m)||"":m})},u=async h=>{h.preventDefault();const{productId:f}=t,m={...r,productId:f};await n.handleCreateNewVariant(m),e("/")};return I.jsx("div",{className:"container mt-5",children:I.jsxs(Xe,{onSubmit:u,children:[I.jsx(Mo,{label:"SKU",name:"SKU",value:r.SKU,onChange:o,placeholder:"Enter SKU"}),I.jsx(Mo,{label:"Title (Weight/Size)",name:"title",value:r.title,onChange:o,placeholder:"Enter Weight/Size"}),I.jsx(Mo,{label:"Variant Name (200gm/..)",name:"name",value:r.name,onChange:o,placeholder:"Enter Variant Name"}),I.jsx(Mo,{label:"Offer Price",name:"priceOffer",value:r.priceOffer,onChange:o,placeholder:"Enter Offer Price",type:"number"}),I.jsx(Mo,{label:"Original Price",name:"priceOriginal",value:r.priceOriginal,onChange:o,placeholder:"Enter Original Price",type:"number"}),I.jsx(Mo,{label:"Inventory Quantity",name:"inventoryQuantity",value:r.inventoryQuantity,onChange:o,placeholder:"Enter Inventory Quantity",type:"number"}),I.jsx(Mo,{label:"Status",name:"status",value:r.status,onChange:o,placeholder:"Enter Status (active/non-active)"}),I.jsx(Vr,{variant:"primary",type:"submit",children:"Create"})]})})};function N6(){return I.jsxs("div",{children:[I.jsx(_6,{}),I.jsx(Fj,{}),I.jsxs(Rx,{children:[I.jsx(si,{path:"/",element:I.jsx(Ei,{children:I.jsx(gS,{})})}),I.jsx(si,{path:"/login",element:I.jsx(Ei,{children:I.jsx(y6,{})})}),I.jsx(si,{path:"/register",element:I.jsx(Ei,{children:I.jsx(v6,{})})}),I.jsx(si,{path:"/products",element:I.jsx(Ei,{children:I.jsx(gS,{})})}),I.jsx(si,{path:"/products/new",element:I.jsx(Ei,{status:{requiresAdmin:!0},children:I.jsx(O6,{})})}),I.jsx(si,{path:"/products/:productId",element:I.jsx(Ei,{status:{},children:I.jsx(T6,{})})}),I.jsx(si,{path:"/products/:productId/variants/new",element:I.jsx(Ei,{status:{requiresAdmin:!0},children:I.jsx(x6,{})})}),I.jsx(si,{path:"/cart",element:I.jsx(Ei,{status:{requiresLogin:!0},children:I.jsx(A6,{})})}),I.jsx(si,{path:"/orders/delivery-partner",element:I.jsx(Ei,{status:{deliveryScreen:!0},children:I.jsx(C6,{})})}),I.jsx(si,{path:"/orders",element:I.jsx(Ei,{status:{requiresLogin:!0},children:I.jsx(yS,{})})}),I.jsx(si,{path:"/orders/all",element:I.jsx(Ei,{status:{requiresAdmin:!0},children:I.jsx(yS,{isAdminView:!0})})})]}),I.jsx(g6,{})]})}LO.createRoot(document.getElementById("root")).render(I.jsx(Wx,{basename:w6,children:I.jsx(RB,{children:I.jsx(N6,{})})}));
