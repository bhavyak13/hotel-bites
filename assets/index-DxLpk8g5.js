(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var ZC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function JC(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),t}var lp={exports:{}},Fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function eI(){if(w0)return Fu;w0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Fu.Fragment=e,Fu.jsx=t,Fu.jsxs=t,Fu}var R0;function tI(){return R0||(R0=1,lp.exports=eI()),lp.exports}var P=tI(),up={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function nI(){if(S0)return Qe;S0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,q={};function L(F,fe,Se){this.props=F,this.context=fe,this.refs=q,this.updater=Se||A}L.prototype.isReactComponent={},L.prototype.setState=function(F,fe){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,fe,"setState")},L.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function Y(){}Y.prototype=L.prototype;function $(F,fe,Se){this.props=F,this.context=fe,this.refs=q,this.updater=Se||A}var K=$.prototype=new Y;K.constructor=$,D(K,L.prototype),K.isPureReactComponent=!0;var ie=Array.isArray,le={H:null,A:null,T:null,S:null},me=Object.prototype.hasOwnProperty;function V(F,fe,Se,Te,ve,Me){return Se=Me.ref,{$$typeof:n,type:F,key:fe,ref:Se!==void 0?Se:null,props:Me}}function C(F,fe){return V(F.type,fe,void 0,void 0,void 0,F.props)}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function M(F){var fe={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Se){return fe[Se]})}var B=/\/+/g;function H(F,fe){return typeof F=="object"&&F!==null&&F.key!=null?M(""+F.key):fe.toString(36)}function U(){}function We(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(U,U):(F.status="pending",F.then(function(fe){F.status==="pending"&&(F.status="fulfilled",F.value=fe)},function(fe){F.status==="pending"&&(F.status="rejected",F.reason=fe)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function Ke(F,fe,Se,Te,ve){var Me=typeof F;(Me==="undefined"||Me==="boolean")&&(F=null);var ze=!1;if(F===null)ze=!0;else switch(Me){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(F.$$typeof){case n:case e:ze=!0;break;case y:return ze=F._init,Ke(ze(F._payload),fe,Se,Te,ve)}}if(ze)return ve=ve(F),ze=Te===""?"."+H(F,0):Te,ie(ve)?(Se="",ze!=null&&(Se=ze.replace(B,"$&/")+"/"),Ke(ve,fe,Se,"",function(_t){return _t})):ve!=null&&(O(ve)&&(ve=C(ve,Se+(ve.key==null||F&&F.key===ve.key?"":(""+ve.key).replace(B,"$&/")+"/")+ze)),fe.push(ve)),1;ze=0;var Lt=Te===""?".":Te+":";if(ie(F))for(var Je=0;Je<F.length;Je++)Te=F[Je],Me=Lt+H(Te,Je),ze+=Ke(Te,fe,Se,Me,ve);else if(Je=E(F),typeof Je=="function")for(F=Je.call(F),Je=0;!(Te=F.next()).done;)Te=Te.value,Me=Lt+H(Te,Je++),ze+=Ke(Te,fe,Se,Me,ve);else if(Me==="object"){if(typeof F.then=="function")return Ke(We(F),fe,Se,Te,ve);throw fe=String(F),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.")}return ze}function pe(F,fe,Se){if(F==null)return F;var Te=[],ve=0;return Ke(F,Te,"","",function(Me){return fe.call(Se,Me,ve++)}),Te}function Re(F){if(F._status===-1){var fe=F._result;fe=fe(),fe.then(function(Se){(F._status===0||F._status===-1)&&(F._status=1,F._result=Se)},function(Se){(F._status===0||F._status===-1)&&(F._status=2,F._result=Se)}),F._status===-1&&(F._status=0,F._result=fe)}if(F._status===1)return F._result.default;throw F._result}var ge=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function Ge(){}return Qe.Children={map:pe,forEach:function(F,fe,Se){pe(F,function(){fe.apply(this,arguments)},Se)},count:function(F){var fe=0;return pe(F,function(){fe++}),fe},toArray:function(F){return pe(F,function(fe){return fe})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Qe.Component=L,Qe.Fragment=t,Qe.Profiler=a,Qe.PureComponent=$,Qe.StrictMode=i,Qe.Suspense=f,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Qe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Qe.cache=function(F){return function(){return F.apply(null,arguments)}},Qe.cloneElement=function(F,fe,Se){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var Te=D({},F.props),ve=F.key,Me=void 0;if(fe!=null)for(ze in fe.ref!==void 0&&(Me=void 0),fe.key!==void 0&&(ve=""+fe.key),fe)!me.call(fe,ze)||ze==="key"||ze==="__self"||ze==="__source"||ze==="ref"&&fe.ref===void 0||(Te[ze]=fe[ze]);var ze=arguments.length-2;if(ze===1)Te.children=Se;else if(1<ze){for(var Lt=Array(ze),Je=0;Je<ze;Je++)Lt[Je]=arguments[Je+2];Te.children=Lt}return V(F.type,ve,void 0,void 0,Me,Te)},Qe.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},Qe.createElement=function(F,fe,Se){var Te,ve={},Me=null;if(fe!=null)for(Te in fe.key!==void 0&&(Me=""+fe.key),fe)me.call(fe,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(ve[Te]=fe[Te]);var ze=arguments.length-2;if(ze===1)ve.children=Se;else if(1<ze){for(var Lt=Array(ze),Je=0;Je<ze;Je++)Lt[Je]=arguments[Je+2];ve.children=Lt}if(F&&F.defaultProps)for(Te in ze=F.defaultProps,ze)ve[Te]===void 0&&(ve[Te]=ze[Te]);return V(F,Me,void 0,void 0,null,ve)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(F){return{$$typeof:h,render:F}},Qe.isValidElement=O,Qe.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:Re}},Qe.memo=function(F,fe){return{$$typeof:p,type:F,compare:fe===void 0?null:fe}},Qe.startTransition=function(F){var fe=le.T,Se={};le.T=Se;try{var Te=F(),ve=le.S;ve!==null&&ve(Se,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(Ge,ge)}catch(Me){ge(Me)}finally{le.T=fe}},Qe.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Qe.use=function(F){return le.H.use(F)},Qe.useActionState=function(F,fe,Se){return le.H.useActionState(F,fe,Se)},Qe.useCallback=function(F,fe){return le.H.useCallback(F,fe)},Qe.useContext=function(F){return le.H.useContext(F)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(F,fe){return le.H.useDeferredValue(F,fe)},Qe.useEffect=function(F,fe){return le.H.useEffect(F,fe)},Qe.useId=function(){return le.H.useId()},Qe.useImperativeHandle=function(F,fe,Se){return le.H.useImperativeHandle(F,fe,Se)},Qe.useInsertionEffect=function(F,fe){return le.H.useInsertionEffect(F,fe)},Qe.useLayoutEffect=function(F,fe){return le.H.useLayoutEffect(F,fe)},Qe.useMemo=function(F,fe){return le.H.useMemo(F,fe)},Qe.useOptimistic=function(F,fe){return le.H.useOptimistic(F,fe)},Qe.useReducer=function(F,fe,Se){return le.H.useReducer(F,fe,Se)},Qe.useRef=function(F){return le.H.useRef(F)},Qe.useState=function(F){return le.H.useState(F)},Qe.useSyncExternalStore=function(F,fe,Se){return le.H.useSyncExternalStore(F,fe,Se)},Qe.useTransition=function(){return le.H.useTransition()},Qe.version="19.0.0",Qe}var A0;function Zg(){return A0||(A0=1,up.exports=nI()),up.exports}var S=Zg();const ct=Lh(S);var cp={exports:{}},Hu={},fp={exports:{}},hp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function rI(){return C0||(C0=1,function(n){function e(pe,Re){var ge=pe.length;pe.push(Re);e:for(;0<ge;){var Ge=ge-1>>>1,F=pe[Ge];if(0<a(F,Re))pe[Ge]=Re,pe[ge]=F,ge=Ge;else break e}}function t(pe){return pe.length===0?null:pe[0]}function i(pe){if(pe.length===0)return null;var Re=pe[0],ge=pe.pop();if(ge!==Re){pe[0]=ge;e:for(var Ge=0,F=pe.length,fe=F>>>1;Ge<fe;){var Se=2*(Ge+1)-1,Te=pe[Se],ve=Se+1,Me=pe[ve];if(0>a(Te,ge))ve<F&&0>a(Me,Te)?(pe[Ge]=Me,pe[ve]=ge,Ge=ve):(pe[Ge]=Te,pe[Se]=ge,Ge=Se);else if(ve<F&&0>a(Me,ge))pe[Ge]=Me,pe[ve]=ge,Ge=ve;else break e}}return Re}function a(pe,Re){var ge=pe.sortIndex-Re.sortIndex;return ge!==0?ge:pe.id-Re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],p=[],y=1,_=null,E=3,A=!1,D=!1,q=!1,L=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function K(pe){for(var Re=t(p);Re!==null;){if(Re.callback===null)i(p);else if(Re.startTime<=pe)i(p),Re.sortIndex=Re.expirationTime,e(f,Re);else break;Re=t(p)}}function ie(pe){if(q=!1,K(pe),!D)if(t(f)!==null)D=!0,We();else{var Re=t(p);Re!==null&&Ke(ie,Re.startTime-pe)}}var le=!1,me=-1,V=5,C=-1;function O(){return!(n.unstable_now()-C<V)}function M(){if(le){var pe=n.unstable_now();C=pe;var Re=!0;try{e:{D=!1,q&&(q=!1,Y(me),me=-1),A=!0;var ge=E;try{t:{for(K(pe),_=t(f);_!==null&&!(_.expirationTime>pe&&O());){var Ge=_.callback;if(typeof Ge=="function"){_.callback=null,E=_.priorityLevel;var F=Ge(_.expirationTime<=pe);if(pe=n.unstable_now(),typeof F=="function"){_.callback=F,K(pe),Re=!0;break t}_===t(f)&&i(f),K(pe)}else i(f);_=t(f)}if(_!==null)Re=!0;else{var fe=t(p);fe!==null&&Ke(ie,fe.startTime-pe),Re=!1}}break e}finally{_=null,E=ge,A=!1}Re=void 0}}finally{Re?B():le=!1}}}var B;if(typeof $=="function")B=function(){$(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,U=H.port2;H.port1.onmessage=M,B=function(){U.postMessage(null)}}else B=function(){L(M,0)};function We(){le||(le=!0,B())}function Ke(pe,Re){me=L(function(){pe(n.unstable_now())},Re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(pe){pe.callback=null},n.unstable_continueExecution=function(){D||A||(D=!0,We())},n.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<pe?Math.floor(1e3/pe):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(pe){switch(E){case 1:case 2:case 3:var Re=3;break;default:Re=E}var ge=E;E=Re;try{return pe()}finally{E=ge}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(pe,Re){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var ge=E;E=pe;try{return Re()}finally{E=ge}},n.unstable_scheduleCallback=function(pe,Re,ge){var Ge=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ge+ge:Ge):ge=Ge,pe){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ge+F,pe={id:y++,callback:Re,priorityLevel:pe,startTime:ge,expirationTime:F,sortIndex:-1},ge>Ge?(pe.sortIndex=ge,e(p,pe),t(f)===null&&pe===t(p)&&(q?(Y(me),me=-1):q=!0,Ke(ie,ge-Ge))):(pe.sortIndex=F,e(f,pe),D||A||(D=!0,We())),pe},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(pe){var Re=E;return function(){var ge=E;E=Re;try{return pe.apply(this,arguments)}finally{E=ge}}}}(hp)),hp}var I0;function iI(){return I0||(I0=1,fp.exports=rI()),fp.exports}var dp={exports:{}},Un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function sI(){if(O0)return Un;O0=1;var n=Zg();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:f,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Un.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,y)},Un.flushSync=function(f){var p=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=p,i.p=y,i.d.f()}},Un.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},Un.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Un.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:A}):y==="script"&&i.d.X(f,{crossOrigin:_,integrity:E,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Un.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},Un.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin);i.d.L(f,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Un.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},Un.requestFormReset=function(f){i.d.r(f)},Un.unstable_batchedUpdates=function(f,p){return f(p)},Un.useFormState=function(f,p,y){return c.H.useFormState(f,p,y)},Un.useFormStatus=function(){return c.H.useHostTransitionStatus()},Un.version="19.0.0",Un}var x0;function yw(){if(x0)return dp.exports;x0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dp.exports=sI(),dp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function aI(){if(N0)return Hu;N0=1;var n=iI(),e=Zg(),t=yw();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),ie=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=le&&r[le]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function C(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case f:return"Fragment";case h:return"Portal";case y:return"Profiler";case p:return"StrictMode";case q:return"Suspense";case L:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case A:return(r.displayName||"Context")+".Provider";case E:return(r._context.displayName||"Context")+".Consumer";case D:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Y:return s=r.displayName||null,s!==null?s:C(r.type)||"Memo";case $:s=r._payload,r=r._init;try{return C(r(s))}catch{}}return null}var O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.assign,B,H;function U(r){if(B===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);B=s&&s[1]||"",H=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+B+r+H}var We=!1;function Ke(r,s){if(!r||We)return"";We=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(se){var ne=se}Reflect.construct(r,[],he)}else{try{he.call()}catch(se){ne=se}r.call(he.prototype)}}else{try{throw Error()}catch(se){ne=se}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(se){if(se&&ne&&typeof se.stack=="string")return[se.stack,ne.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],I=g[1];if(b&&I){var j=b.split(`
`),Q=I.split(`
`);for(m=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(u===j.length||m===Q.length)for(u=j.length-1,m=Q.length-1;1<=u&&0<=m&&j[u]!==Q[m];)m--;for(;1<=u&&0<=m;u--,m--)if(j[u]!==Q[m]){if(u!==1||m!==1)do if(u--,m--,0>m||j[u]!==Q[m]){var ae=`
`+j[u].replace(" at new "," at ");return r.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",r.displayName)),ae}while(1<=u&&0<=m);break}}}finally{We=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?U(o):""}function pe(r){switch(r.tag){case 26:case 27:case 5:return U(r.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return r=Ke(r.type,!1),r;case 11:return r=Ke(r.type.render,!1),r;case 1:return r=Ke(r.type,!0),r;default:return""}}function Re(r){try{var s="";do s+=pe(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ge(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function Ge(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function F(r){if(ge(r)!==r)throw Error(i(188))}function fe(r){var s=r.alternate;if(!s){if(s=ge(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return F(m),r;if(g===u)return F(m),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=m,u=g;else{for(var b=!1,I=m.child;I;){if(I===o){b=!0,o=m,u=g;break}if(I===u){b=!0,u=m,o=g;break}I=I.sibling}if(!b){for(I=g.child;I;){if(I===o){b=!0,o=g,u=m;break}if(I===u){b=!0,u=g,o=m;break}I=I.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function Se(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=Se(r),s!==null)return s;r=r.sibling}return null}var Te=Array.isArray,ve=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me={pending:!1,data:null,method:null,action:null},ze=[],Lt=-1;function Je(r){return{current:r}}function _t(r){0>Lt||(r.current=ze[Lt],ze[Lt]=null,Lt--)}function nt(r,s){Lt++,ze[Lt]=r.current,r.current=s}var Zt=Je(null),tr=Je(null),mn=Je(null),qn=Je(null);function dt(r,s){switch(nt(mn,s),nt(tr,r),nt(Zt,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?ZE(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=ZE(r),s=JE(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}_t(Zt),nt(Zt,s)}function kn(){_t(Zt),_t(tr),_t(mn)}function Ir(r){r.memoizedState!==null&&nt(qn,r);var s=Zt.current,o=JE(s,r.type);s!==o&&(nt(tr,r),nt(Zt,o))}function Ji(r){tr.current===r&&(_t(Zt),_t(tr)),qn.current===r&&(_t(qn),Vu._currentValue=Me)}var qs=Object.prototype.hasOwnProperty,es=n.unstable_scheduleCallback,Fs=n.unstable_cancelCallback,eu=n.unstable_shouldYield,Ha=n.unstable_requestPaint,Rn=n.unstable_now,qo=n.unstable_getCurrentPriorityLevel,te=n.unstable_ImmediatePriority,Ie=n.unstable_UserBlockingPriority,Or=n.unstable_NormalPriority,$a=n.unstable_LowPriority,Ga=n.unstable_IdlePriority,Ka=n.log,mi=n.unstable_setDisableYieldValue,Qr=null,pn=null;function Qa(r){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Qr,r,void 0,(r.current.flags&128)===128)}catch{}}function Fn(r){if(typeof Ka=="function"&&mi(r),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Qr,r)}catch{}}var gn=Math.clz32?Math.clz32:Fo,ts=Math.log,Ya=Math.LN2;function Fo(r){return r>>>=0,r===0?32:31-(ts(r)/Ya|0)|0}var mr=128,pi=4194304;function nr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Hn(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,m=r.suspendedLanes,g=r.pingedLanes,b=r.warmLanes;r=r.finishedLanes!==0;var I=o&134217727;return I!==0?(o=I&~m,o!==0?u=nr(o):(g&=I,g!==0?u=nr(g):r||(b=I&~b,b!==0&&(u=nr(b))))):(I=o&~m,I!==0?u=nr(I):g!==0?u=nr(g):r||(b=o&~b,b!==0&&(u=nr(b)))),u===0?0:s!==0&&s!==u&&!(s&m)&&(m=u&-u,b=s&-s,m>=b||m===32&&(b&4194176)!==0)?s:u}function gi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Hs(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xa(){var r=mr;return mr<<=1,!(mr&4194176)&&(mr=128),r}function yi(){var r=pi;return pi<<=1,!(pi&62914560)&&(pi=4194304),r}function vi(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function xt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ho(r,s,o,u,m,g){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var I=r.entanglements,j=r.expirationTimes,Q=r.hiddenUpdates;for(o=b&~o;0<o;){var ae=31-gn(o),he=1<<ae;I[ae]=0,j[ae]=-1;var ne=Q[ae];if(ne!==null)for(Q[ae]=null,ae=0;ae<ne.length;ae++){var se=ne[ae];se!==null&&(se.lane&=-536870913)}o&=~he}u!==0&&_i(r,u,0),g!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~s))}function _i(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-gn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function Ei(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-gn(o),m=1<<u;m&s|r[u]&s&&(r[u]|=s),o&=~m}}function $o(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function Qt(){var r=ve.p;return r!==0?r:(r=window.event,r===void 0?32:y0(r.type))}function Ti(r,s){var o=ve.p;try{return ve.p=r,s()}finally{ve.p=o}}var xr=Math.random().toString(36).slice(2),Jt="__reactFiber$"+xr,qt="__reactProps$"+xr,Yr="__reactContainer$"+xr,Xr="__reactEvents$"+xr,bi="__reactListeners$"+xr,Nr="__reactHandles$"+xr,Wa="__reactResources$"+xr,Wr="__reactMarker$"+xr;function pr(r){delete r[Jt],delete r[qt],delete r[Xr],delete r[bi],delete r[Nr]}function Pn(r){var s=r[Jt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Yr]||o[Jt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=n0(r);r!==null;){if(o=r[Jt])return o;r=n0(r)}return s}r=o,o=r.parentNode}return null}function Zr(r){if(r=r[Jt]||r[Yr]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function wi(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Dr(r){var s=r[Wa];return s||(s=r[Wa]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Nt(r){r[Wr]=!0}var Za=new Set,Jr={};function Dt(r,s){yn(r,s),yn(r+"Capture",s)}function yn(r,s){for(Jr[r]=s,r=0;r<s.length;r++)Za.add(s[r])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ri=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$s={},Ja={};function Go(r){return qs.call(Ja,r)?!0:qs.call($s,r)?!1:Ri.test(r)?Ja[r]=!0:($s[r]=!0,!1)}function Si(r,s,o){if(Go(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function gr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function $n(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function vn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ko(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function tu(r){var s=Ko(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ns(r){r._valueTracker||(r._valueTracker=tu(r))}function eo(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Ko(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function rs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var kr=/[\n"\\]/g;function yt(r){return r.replace(kr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ei(r,s,o,u,m,g,b,I){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+vn(s)):r.value!==""+vn(s)&&(r.value=""+vn(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?Ks(r,b,vn(s)):o!=null?Ks(r,b,vn(o)):u!=null&&r.removeAttribute("value"),m==null&&g!=null&&(r.defaultChecked=!!g),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+vn(I):r.removeAttribute("name")}function Gs(r,s,o,u,m,g,b,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+vn(o):"",s=s!=null?""+vn(s):o,I||s===r.value||(r.value=s),r.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=I?r.checked:!!u,r.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function Ks(r,s,o){s==="number"&&rs(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ft(r,s,o,u){if(r=r.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=s.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&u&&(r[o].defaultSelected=!0)}else{for(o=""+vn(o),s=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,u&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function is(r,s,o){if(s!=null&&(s=""+vn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+vn(o):""}function Ai(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(Te(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=vn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function rr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qs(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||nu.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function ss(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&o[m]!==u&&Qs(r,m,u)}else for(var g in s)s.hasOwnProperty(g)&&Qs(r,g,s[g])}function Ys(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pr(r){return Qo.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Gn=null;function Ci(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ir=null,ti=null;function ni(r){var s=Zr(r);if(s&&(r=s.stateNode)){var o=r[qt]||null;e:switch(r=s.stateNode,s.type){case"input":if(ei(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+yt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var m=u[qt]||null;if(!m)throw Error(i(90));ei(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&eo(u)}break e;case"textarea":is(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ft(r,!!o.multiple,s,!1)}}}var to=!1;function Xs(r,s,o){if(to)return r(s,o);to=!0;try{var u=r(s);return u}finally{if(to=!1,(ir!==null||ti!==null)&&(yf(),ir&&(s=ir,r=ti,ti=ir=null,ni(s),r)))for(s=0;s<r.length;s++)ni(r[s])}}function Ii(r,s){var o=r.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var sr=!1;if(Mn)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){sr=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{sr=!1}var ar=null,ri=null,Mr=null;function xi(){if(Mr)return Mr;var r,s=ri,o=s.length,u,m="value"in ar?ar.value:ar.textContent,g=m.length;for(r=0;r<o&&s[r]===m[r];r++);var b=o-r;for(u=1;u<=b&&s[o-u]===m[g-u];u++);return Mr=m.slice(r,1<u?1-u:void 0)}function yr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Lr(){return!0}function Ni(){return!1}function Et(r){function s(o,u,m,g,b){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(o=r[I],this[I]=o?o(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Lr:Ni,this.isPropagationStopped=Ni,this}return M(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),s}var rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ii=Et(rt),si=M({},rt,{view:0,detail:0}),Yo=Et(si),Ws,Zs,or,as=M({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:St,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==or&&(or&&r.type==="mousemove"?(Ws=r.screenX-or.screenX,Zs=r.screenY-or.screenY):Zs=Ws=0,or=r),Ws)},movementY:function(r){return"movementY"in r?r.movementY:Zs}}),Kn=Et(as),kt=M({},as,{dataTransfer:0}),w=Et(kt),R=M({},si,{relatedTarget:0}),N=Et(R),k=M({},rt,{animationName:0,elapsedTime:0,pseudoElement:0}),z=Et(k),X=M({},rt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Z=Et(X),de=M({},rt,{data:0}),Ce=Et(de),ye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mt(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Oe[r])?!!s[r]:!1}function St(){return mt}var Ne=M({},si,{key:function(r){if(r.key){var s=ye[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=yr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ee[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:St,charCode:function(r){return r.type==="keypress"?yr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?yr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Be=Et(Ne),De=M({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),At=Et(De),Tt=M({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:St}),Ut=Et(Tt),lr=M({},rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),on=Et(lr),vr=M({},as,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ur=Et(vr),en=M({},rt,{newState:0,oldState:0}),no=Et(en),Vc=[9,13,27,32],Di=Mn&&"CompositionEvent"in window,d=null;Mn&&"documentMode"in document&&(d=document.documentMode);var v=Mn&&"TextEvent"in window&&!d,T=Mn&&(!Di||d&&8<d&&11>=d),x=" ",J=!1;function re(r,s){switch(r){case"keyup":return Vc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var at=!1;function ln(r,s){switch(r){case"compositionend":return _e(s);case"keypress":return s.which!==32?null:(J=!0,x);case"textInput":return r=s.data,r===x&&J?null:r;default:return null}}function ot(r,s){if(at)return r==="compositionend"||!Di&&re(r,s)?(r=xi(),Mr=ri=ar=null,at=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var _n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!_n[r.type]:s==="textarea"}function os(r,s,o,u){ir?ti?ti.push(u):ti=[u]:ir=u,s=bf(s,"onChange"),0<s.length&&(o=new ii("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Sn=null,ki=null;function iu(r){KE(r,0)}function jc(r){var s=wi(r);if(eo(s))return r}function bv(r,s){if(r==="change")return s}var wv=!1;if(Mn){var _d;if(Mn){var Ed="oninput"in document;if(!Ed){var Rv=document.createElement("div");Rv.setAttribute("oninput","return;"),Ed=typeof Rv.oninput=="function"}_d=Ed}else _d=!1;wv=_d&&(!document.documentMode||9<document.documentMode)}function Sv(){Sn&&(Sn.detachEvent("onpropertychange",Av),ki=Sn=null)}function Av(r){if(r.propertyName==="value"&&jc(ki)){var s=[];os(s,ki,r,Ci(r)),Xs(iu,s)}}function I1(r,s,o){r==="focusin"?(Sv(),Sn=s,ki=o,Sn.attachEvent("onpropertychange",Av)):r==="focusout"&&Sv()}function O1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return jc(ki)}function x1(r,s){if(r==="click")return jc(s)}function N1(r,s){if(r==="input"||r==="change")return jc(s)}function D1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var _r=typeof Object.is=="function"?Object.is:D1;function su(r,s){if(_r(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!qs.call(s,m)||!_r(r[m],s[m]))return!1}return!0}function Cv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Iv(r,s){var o=Cv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Cv(o)}}function Ov(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Ov(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function xv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=rs(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=rs(r.document)}return s}function Td(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function k1(r,s){var o=xv(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&Ov(s.ownerDocument.documentElement,s)){if(u!==null&&Td(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var m=s.textContent.length,g=Math.min(u.start,m);u=u.end===void 0?g:Math.min(u.end,m),!o.extend&&g>u&&(m=u,u=g,g=m),m=Iv(s,g);var b=Iv(s,u);m&&b&&(o.rangeCount!==1||o.anchorNode!==m.node||o.anchorOffset!==m.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(r=r.createRange(),r.setStart(m.node,m.offset),o.removeAllRanges(),g>u?(o.addRange(r),o.extend(b.node,b.offset)):(r.setEnd(b.node,b.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var P1=Mn&&"documentMode"in document&&11>=document.documentMode,Xo=null,bd=null,au=null,wd=!1;function Nv(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;wd||Xo==null||Xo!==rs(u)||(u=Xo,"selectionStart"in u&&Td(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),au&&su(au,u)||(au=u,u=bf(bd,"onSelect"),0<u.length&&(s=new ii("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Xo)))}function ro(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Wo={animationend:ro("Animation","AnimationEnd"),animationiteration:ro("Animation","AnimationIteration"),animationstart:ro("Animation","AnimationStart"),transitionrun:ro("Transition","TransitionRun"),transitionstart:ro("Transition","TransitionStart"),transitioncancel:ro("Transition","TransitionCancel"),transitionend:ro("Transition","TransitionEnd")},Rd={},Dv={};Mn&&(Dv=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function io(r){if(Rd[r])return Rd[r];if(!Wo[r])return r;var s=Wo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Dv)return Rd[r]=s[o];return r}var kv=io("animationend"),Pv=io("animationiteration"),Mv=io("animationstart"),M1=io("transitionrun"),L1=io("transitionstart"),U1=io("transitioncancel"),Lv=io("transitionend"),Uv=new Map,Vv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ai(r,s){Uv.set(r,s),Dt(s,[r])}var Ur=[],Zo=0,Sd=0;function Bc(){for(var r=Zo,s=Sd=Zo=0;s<r;){var o=Ur[s];Ur[s++]=null;var u=Ur[s];Ur[s++]=null;var m=Ur[s];Ur[s++]=null;var g=Ur[s];if(Ur[s++]=null,u!==null&&m!==null){var b=u.pending;b===null?m.next=m:(m.next=b.next,b.next=m),u.pending=m}g!==0&&jv(o,m,g)}}function zc(r,s,o,u){Ur[Zo++]=r,Ur[Zo++]=s,Ur[Zo++]=o,Ur[Zo++]=u,Sd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Ad(r,s,o,u){return zc(r,s,o,u),qc(r)}function Js(r,s){return zc(r,null,null,s),qc(r)}function jv(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var m=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(m=!0)),r=g,g=g.return;m&&s!==null&&r.tag===3&&(g=r.stateNode,m=31-gn(o),g=g.hiddenUpdates,r=g[m],r===null?g[m]=[s]:r.push(s),s.lane=o|536870912)}function qc(r){if(50<Nu)throw Nu=0,Dm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Jo={},Bv=new WeakMap;function Vr(r,s){if(typeof r=="object"&&r!==null){var o=Bv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Re(s)},Bv.set(r,s),s)}return{value:r,source:s,stack:Re(s)}}var el=[],tl=0,Fc=null,Hc=0,jr=[],Br=0,so=null,ls=1,us="";function ao(r,s){el[tl++]=Hc,el[tl++]=Fc,Fc=r,Hc=s}function zv(r,s,o){jr[Br++]=ls,jr[Br++]=us,jr[Br++]=so,so=r;var u=ls;r=us;var m=32-gn(u)-1;u&=~(1<<m),o+=1;var g=32-gn(s)+m;if(30<g){var b=m-m%5;g=(u&(1<<b)-1).toString(32),u>>=b,m-=b,ls=1<<32-gn(s)+m|o<<m|u,us=g+r}else ls=1<<g|o<<m|u,us=r}function Cd(r){r.return!==null&&(ao(r,1),zv(r,1,0))}function Id(r){for(;r===Fc;)Fc=el[--tl],el[tl]=null,Hc=el[--tl],el[tl]=null;for(;r===so;)so=jr[--Br],jr[Br]=null,us=jr[--Br],jr[Br]=null,ls=jr[--Br],jr[Br]=null}var Qn=null,An=null,pt=!1,oi=null,Pi=!1,Od=Error(i(519));function oo(r){var s=Error(i(418,""));throw uu(Vr(s,r)),Od}function qv(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Jt]=r,s[qt]=u,o){case"dialog":it("cancel",s),it("close",s);break;case"iframe":case"object":case"embed":it("load",s);break;case"video":case"audio":for(o=0;o<ku.length;o++)it(ku[o],s);break;case"source":it("error",s);break;case"img":case"image":case"link":it("error",s),it("load",s);break;case"details":it("toggle",s);break;case"input":it("invalid",s),Gs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ns(s);break;case"select":it("invalid",s);break;case"textarea":it("invalid",s),Ai(s,u.value,u.defaultValue,u.children),ns(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||WE(s.textContent,o)?(u.popover!=null&&(it("beforetoggle",s),it("toggle",s)),u.onScroll!=null&&it("scroll",s),u.onScrollEnd!=null&&it("scrollend",s),u.onClick!=null&&(s.onclick=wf),s=!0):s=!1,s||oo(r)}function Fv(r){for(Qn=r.return;Qn;)switch(Qn.tag){case 3:case 27:Pi=!0;return;case 5:case 13:Pi=!1;return;default:Qn=Qn.return}}function ou(r){if(r!==Qn)return!1;if(!pt)return Fv(r),pt=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Ym(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&An&&oo(r),Fv(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){An=ui(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}An=null}}else An=Qn?ui(r.stateNode.nextSibling):null;return!0}function lu(){An=Qn=null,pt=!1}function uu(r){oi===null?oi=[r]:oi.push(r)}var cu=Error(i(460)),Hv=Error(i(474)),xd={then:function(){}};function $v(r){return r=r.status,r==="fulfilled"||r==="rejected"}function $c(){}function Gv(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then($c,$c),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===cu?Error(i(483)):r;default:if(typeof s.status=="string")s.then($c,$c);else{if(r=It,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===cu?Error(i(483)):r}throw fu=s,cu}}var fu=null;function Kv(){if(fu===null)throw Error(i(459));var r=fu;return fu=null,r}var nl=null,hu=0;function Gc(r){var s=hu;return hu+=1,nl===null&&(nl=[]),Gv(nl,r,s)}function du(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Kc(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Qv(r){var s=r._init;return s(r._payload)}function Yv(r){function s(W,G){if(r){var ee=W.deletions;ee===null?(W.deletions=[G],W.flags|=16):ee.push(G)}}function o(W,G){if(!r)return null;for(;G!==null;)s(W,G),G=G.sibling;return null}function u(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function m(W,G){return W=fa(W,G),W.index=0,W.sibling=null,W}function g(W,G,ee){return W.index=ee,r?(ee=W.alternate,ee!==null?(ee=ee.index,ee<G?(W.flags|=33554434,G):ee):(W.flags|=33554434,G)):(W.flags|=1048576,G)}function b(W){return r&&W.alternate===null&&(W.flags|=33554434),W}function I(W,G,ee,oe){return G===null||G.tag!==6?(G=Rm(ee,W.mode,oe),G.return=W,G):(G=m(G,ee),G.return=W,G)}function j(W,G,ee,oe){var Ae=ee.type;return Ae===f?ae(W,G,ee.props.children,oe,ee.key):G!==null&&(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===$&&Qv(Ae)===G.type)?(G=m(G,ee.props),du(G,ee),G.return=W,G):(G=hf(ee.type,ee.key,ee.props,null,W.mode,oe),du(G,ee),G.return=W,G)}function Q(W,G,ee,oe){return G===null||G.tag!==4||G.stateNode.containerInfo!==ee.containerInfo||G.stateNode.implementation!==ee.implementation?(G=Sm(ee,W.mode,oe),G.return=W,G):(G=m(G,ee.children||[]),G.return=W,G)}function ae(W,G,ee,oe,Ae){return G===null||G.tag!==7?(G=vo(ee,W.mode,oe,Ae),G.return=W,G):(G=m(G,ee),G.return=W,G)}function he(W,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Rm(""+G,W.mode,ee),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case c:return ee=hf(G.type,G.key,G.props,null,W.mode,ee),du(ee,G),ee.return=W,ee;case h:return G=Sm(G,W.mode,ee),G.return=W,G;case $:var oe=G._init;return G=oe(G._payload),he(W,G,ee)}if(Te(G)||me(G))return G=vo(G,W.mode,ee,null),G.return=W,G;if(typeof G.then=="function")return he(W,Gc(G),ee);if(G.$$typeof===A)return he(W,uf(W,G),ee);Kc(W,G)}return null}function ne(W,G,ee,oe){var Ae=G!==null?G.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ae!==null?null:I(W,G,""+ee,oe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case c:return ee.key===Ae?j(W,G,ee,oe):null;case h:return ee.key===Ae?Q(W,G,ee,oe):null;case $:return Ae=ee._init,ee=Ae(ee._payload),ne(W,G,ee,oe)}if(Te(ee)||me(ee))return Ae!==null?null:ae(W,G,ee,oe,null);if(typeof ee.then=="function")return ne(W,G,Gc(ee),oe);if(ee.$$typeof===A)return ne(W,G,uf(W,ee),oe);Kc(W,ee)}return null}function se(W,G,ee,oe,Ae){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return W=W.get(ee)||null,I(G,W,""+oe,Ae);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case c:return W=W.get(oe.key===null?ee:oe.key)||null,j(G,W,oe,Ae);case h:return W=W.get(oe.key===null?ee:oe.key)||null,Q(G,W,oe,Ae);case $:var Xe=oe._init;return oe=Xe(oe._payload),se(W,G,ee,oe,Ae)}if(Te(oe)||me(oe))return W=W.get(ee)||null,ae(G,W,oe,Ae,null);if(typeof oe.then=="function")return se(W,G,ee,Gc(oe),Ae);if(oe.$$typeof===A)return se(W,G,ee,uf(G,oe),Ae);Kc(G,oe)}return null}function xe(W,G,ee,oe){for(var Ae=null,Xe=null,ke=G,Le=G=0,bn=null;ke!==null&&Le<ee.length;Le++){ke.index>Le?(bn=ke,ke=null):bn=ke.sibling;var gt=ne(W,ke,ee[Le],oe);if(gt===null){ke===null&&(ke=bn);break}r&&ke&&gt.alternate===null&&s(W,ke),G=g(gt,G,Le),Xe===null?Ae=gt:Xe.sibling=gt,Xe=gt,ke=bn}if(Le===ee.length)return o(W,ke),pt&&ao(W,Le),Ae;if(ke===null){for(;Le<ee.length;Le++)ke=he(W,ee[Le],oe),ke!==null&&(G=g(ke,G,Le),Xe===null?Ae=ke:Xe.sibling=ke,Xe=ke);return pt&&ao(W,Le),Ae}for(ke=u(ke);Le<ee.length;Le++)bn=se(ke,W,Le,ee[Le],oe),bn!==null&&(r&&bn.alternate!==null&&ke.delete(bn.key===null?Le:bn.key),G=g(bn,G,Le),Xe===null?Ae=bn:Xe.sibling=bn,Xe=bn);return r&&ke.forEach(function(va){return s(W,va)}),pt&&ao(W,Le),Ae}function Fe(W,G,ee,oe){if(ee==null)throw Error(i(151));for(var Ae=null,Xe=null,ke=G,Le=G=0,bn=null,gt=ee.next();ke!==null&&!gt.done;Le++,gt=ee.next()){ke.index>Le?(bn=ke,ke=null):bn=ke.sibling;var va=ne(W,ke,gt.value,oe);if(va===null){ke===null&&(ke=bn);break}r&&ke&&va.alternate===null&&s(W,ke),G=g(va,G,Le),Xe===null?Ae=va:Xe.sibling=va,Xe=va,ke=bn}if(gt.done)return o(W,ke),pt&&ao(W,Le),Ae;if(ke===null){for(;!gt.done;Le++,gt=ee.next())gt=he(W,gt.value,oe),gt!==null&&(G=g(gt,G,Le),Xe===null?Ae=gt:Xe.sibling=gt,Xe=gt);return pt&&ao(W,Le),Ae}for(ke=u(ke);!gt.done;Le++,gt=ee.next())gt=se(ke,W,Le,gt.value,oe),gt!==null&&(r&&gt.alternate!==null&&ke.delete(gt.key===null?Le:gt.key),G=g(gt,G,Le),Xe===null?Ae=gt:Xe.sibling=gt,Xe=gt);return r&&ke.forEach(function(WC){return s(W,WC)}),pt&&ao(W,Le),Ae}function $t(W,G,ee,oe){if(typeof ee=="object"&&ee!==null&&ee.type===f&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case c:e:{for(var Ae=ee.key;G!==null;){if(G.key===Ae){if(Ae=ee.type,Ae===f){if(G.tag===7){o(W,G.sibling),oe=m(G,ee.props.children),oe.return=W,W=oe;break e}}else if(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===$&&Qv(Ae)===G.type){o(W,G.sibling),oe=m(G,ee.props),du(oe,ee),oe.return=W,W=oe;break e}o(W,G);break}else s(W,G);G=G.sibling}ee.type===f?(oe=vo(ee.props.children,W.mode,oe,ee.key),oe.return=W,W=oe):(oe=hf(ee.type,ee.key,ee.props,null,W.mode,oe),du(oe,ee),oe.return=W,W=oe)}return b(W);case h:e:{for(Ae=ee.key;G!==null;){if(G.key===Ae)if(G.tag===4&&G.stateNode.containerInfo===ee.containerInfo&&G.stateNode.implementation===ee.implementation){o(W,G.sibling),oe=m(G,ee.children||[]),oe.return=W,W=oe;break e}else{o(W,G);break}else s(W,G);G=G.sibling}oe=Sm(ee,W.mode,oe),oe.return=W,W=oe}return b(W);case $:return Ae=ee._init,ee=Ae(ee._payload),$t(W,G,ee,oe)}if(Te(ee))return xe(W,G,ee,oe);if(me(ee)){if(Ae=me(ee),typeof Ae!="function")throw Error(i(150));return ee=Ae.call(ee),Fe(W,G,ee,oe)}if(typeof ee.then=="function")return $t(W,G,Gc(ee),oe);if(ee.$$typeof===A)return $t(W,G,uf(W,ee),oe);Kc(W,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,G!==null&&G.tag===6?(o(W,G.sibling),oe=m(G,ee),oe.return=W,W=oe):(o(W,G),oe=Rm(ee,W.mode,oe),oe.return=W,W=oe),b(W)):o(W,G)}return function(W,G,ee,oe){try{hu=0;var Ae=$t(W,G,ee,oe);return nl=null,Ae}catch(ke){if(ke===cu)throw ke;var Xe=Hr(29,ke,null,W.mode);return Xe.lanes=oe,Xe.return=W,Xe}finally{}}}var lo=Yv(!0),Xv=Yv(!1),rl=Je(null),Qc=Je(0);function Wv(r,s){r=Es,nt(Qc,r),nt(rl,s),Es=r|s.baseLanes}function Nd(){nt(Qc,Es),nt(rl,rl.current)}function Dd(){Es=Qc.current,_t(rl),_t(Qc)}var zr=Je(null),Mi=null;function ea(r){var s=r.alternate;nt(cn,cn.current&1),nt(zr,r),Mi===null&&(s===null||rl.current!==null||s.memoizedState!==null)&&(Mi=r)}function Zv(r){if(r.tag===22){if(nt(cn,cn.current),nt(zr,r),Mi===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Mi=r)}}else ta()}function ta(){nt(cn,cn.current),nt(zr,zr.current)}function cs(r){_t(zr),Mi===r&&(Mi=null),_t(cn)}var cn=Je(0);function Yc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var V1=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},j1=n.unstable_scheduleCallback,B1=n.unstable_NormalPriority,fn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kd(){return{controller:new V1,data:new Map,refCount:0}}function mu(r){r.refCount--,r.refCount===0&&j1(B1,function(){r.controller.abort()})}var pu=null,Pd=0,il=0,sl=null;function z1(r,s){if(pu===null){var o=pu=[];Pd=0,il=Bm(),sl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Pd++,s.then(Jv,Jv),s}function Jv(){if(--Pd===0&&pu!==null){sl!==null&&(sl.status="fulfilled");var r=pu;pu=null,il=0,sl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function q1(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var e_=O.S;O.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&z1(r,s),e_!==null&&e_(r,s)};var uo=Je(null);function Md(){var r=uo.current;return r!==null?r:It.pooledCache}function Xc(r,s){s===null?nt(uo,uo.current):nt(uo,s.pool)}function t_(){var r=Md();return r===null?null:{parent:fn._currentValue,pool:r}}var na=0,Ye=null,bt=null,tn=null,Wc=!1,al=!1,co=!1,Zc=0,gu=0,ol=null,F1=0;function Yt(){throw Error(i(321))}function Ld(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!_r(r[o],s[o]))return!1;return!0}function Ud(r,s,o,u,m,g){return na=g,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,O.H=r===null||r.memoizedState===null?fo:ra,co=!1,g=o(u,m),co=!1,al&&(g=r_(s,o,u,m)),n_(r),g}function n_(r){O.H=Li;var s=bt!==null&&bt.next!==null;if(na=0,tn=bt=Ye=null,Wc=!1,gu=0,ol=null,s)throw Error(i(300));r===null||En||(r=r.dependencies,r!==null&&lf(r)&&(En=!0))}function r_(r,s,o,u){Ye=r;var m=0;do{if(al&&(ol=null),gu=0,al=!1,25<=m)throw Error(i(301));if(m+=1,tn=bt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}O.H=ho,g=s(o,u)}while(al);return g}function H1(){var r=O.H,s=r.useState()[0];return s=typeof s.then=="function"?yu(s):s,r=r.useState()[0],(bt!==null?bt.memoizedState:null)!==r&&(Ye.flags|=1024),s}function Vd(){var r=Zc!==0;return Zc=0,r}function jd(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Bd(r){if(Wc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wc=!1}na=0,tn=bt=Ye=null,al=!1,gu=Zc=0,ol=null}function cr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Ye.memoizedState=tn=r:tn=tn.next=r,tn}function nn(){if(bt===null){var r=Ye.alternate;r=r!==null?r.memoizedState:null}else r=bt.next;var s=tn===null?Ye.memoizedState:tn.next;if(s!==null)tn=s,bt=r;else{if(r===null)throw Ye.alternate===null?Error(i(467)):Error(i(310));bt=r,r={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},tn===null?Ye.memoizedState=tn=r:tn=tn.next=r}return tn}var Jc;Jc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function yu(r){var s=gu;return gu+=1,ol===null&&(ol=[]),r=Gv(ol,r,s),s=Ye,(tn===null?s.memoizedState:tn.next)===null&&(s=s.alternate,O.H=s===null||s.memoizedState===null?fo:ra),r}function ef(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return yu(r);if(r.$$typeof===A)return Ln(r)}throw Error(i(438,String(r)))}function zd(r){var s=null,o=Ye.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ye.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Jc(),Ye.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=ie;return s.index++,o}function fs(r,s){return typeof s=="function"?s(r):s}function tf(r){var s=nn();return qd(s,bt,r)}function qd(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var m=r.baseQueue,g=u.pending;if(g!==null){if(m!==null){var b=m.next;m.next=g.next,g.next=b}s.baseQueue=m=g,u.pending=null}if(g=r.baseState,m===null)r.memoizedState=g;else{s=m.next;var I=b=null,j=null,Q=s,ae=!1;do{var he=Q.lane&-536870913;if(he!==Q.lane?(lt&he)===he:(na&he)===he){var ne=Q.revertLane;if(ne===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),he===il&&(ae=!0);else if((na&ne)===ne){Q=Q.next,ne===il&&(ae=!0);continue}else he={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},j===null?(I=j=he,b=g):j=j.next=he,Ye.lanes|=ne,ha|=ne;he=Q.action,co&&o(g,he),g=Q.hasEagerState?Q.eagerState:o(g,he)}else ne={lane:he,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},j===null?(I=j=ne,b=g):j=j.next=ne,Ye.lanes|=he,ha|=he;Q=Q.next}while(Q!==null&&Q!==s);if(j===null?b=g:j.next=I,!_r(g,r.memoizedState)&&(En=!0,ae&&(o=sl,o!==null)))throw o;r.memoizedState=g,r.baseState=b,r.baseQueue=j,u.lastRenderedState=g}return m===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Fd(r){var s=nn(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do g=r(g,b.action),b=b.next;while(b!==m);_r(g,s.memoizedState)||(En=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function i_(r,s,o){var u=Ye,m=nn(),g=pt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!_r((bt||m).memoizedState,o);if(b&&(m.memoizedState=o,En=!0),m=m.queue,Gd(o_.bind(null,u,m,r),[r]),m.getSnapshot!==s||b||tn!==null&&tn.memoizedState.tag&1){if(u.flags|=2048,ll(9,a_.bind(null,u,m,o,s),{destroy:void 0},null),It===null)throw Error(i(349));g||na&60||s_(u,s,o)}return o}function s_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ye.updateQueue,s===null?(s=Jc(),Ye.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function a_(r,s,o,u){s.value=o,s.getSnapshot=u,l_(s)&&u_(r)}function o_(r,s,o){return o(function(){l_(s)&&u_(r)})}function l_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!_r(r,o)}catch{return!0}}function u_(r){var s=Js(r,2);s!==null&&Yn(s,r,2)}function Hd(r){var s=cr();if(typeof r=="function"){var o=r;if(r=o(),co){Fn(!0);try{o()}finally{Fn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:r},s}function c_(r,s,o,u){return r.baseState=o,qd(r,bt,typeof u=="function"?u:fs)}function $1(r,s,o,u,m){if(sf(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};O.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,f_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function f_(r,s){var o=s.action,u=s.payload,m=r.state;if(s.isTransition){var g=O.T,b={};O.T=b;try{var I=o(m,u),j=O.S;j!==null&&j(b,I),h_(r,s,I)}catch(Q){$d(r,s,Q)}finally{O.T=g}}else try{g=o(m,u),h_(r,s,g)}catch(Q){$d(r,s,Q)}}function h_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){d_(r,s,u)},function(u){return $d(r,s,u)}):d_(r,s,o)}function d_(r,s,o){s.status="fulfilled",s.value=o,m_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,f_(r,o)))}function $d(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,m_(s),s=s.next;while(s!==u)}r.action=null}function m_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function p_(r,s){return s}function g_(r,s){if(pt){var o=It.formState;if(o!==null){e:{var u=Ye;if(pt){if(An){t:{for(var m=An,g=Pi;m.nodeType!==8;){if(!g){m=null;break t}if(m=ui(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){An=ui(m.nextSibling),u=m.data==="F!";break e}}oo(u)}u=!1}u&&(s=o[0])}}return o=cr(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p_,lastRenderedState:s},o.queue=u,o=P_.bind(null,Ye,u),u.dispatch=o,u=Hd(!1),g=Wd.bind(null,Ye,!1,u.queue),u=cr(),m={state:s,dispatch:null,action:r,pending:null},u.queue=m,o=$1.bind(null,Ye,m,g,o),m.dispatch=o,u.memoizedState=r,[s,o,!1]}function y_(r){var s=nn();return v_(s,bt,r)}function v_(r,s,o){s=qd(r,s,p_)[0],r=tf(fs)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?yu(s):s;var u=nn(),m=u.queue,g=m.dispatch;return o!==u.memoizedState&&(Ye.flags|=2048,ll(9,G1.bind(null,m,o),{destroy:void 0},null)),[s,g,r]}function G1(r,s){r.action=s}function __(r){var s=nn(),o=bt;if(o!==null)return v_(s,o,r);nn(),s=s.memoizedState,o=nn();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function ll(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=Ye.updateQueue,s===null&&(s=Jc(),Ye.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function E_(){return nn().memoizedState}function nf(r,s,o,u){var m=cr();Ye.flags|=r,m.memoizedState=ll(1|s,o,{destroy:void 0},u===void 0?null:u)}function rf(r,s,o,u){var m=nn();u=u===void 0?null:u;var g=m.memoizedState.inst;bt!==null&&u!==null&&Ld(u,bt.memoizedState.deps)?m.memoizedState=ll(s,o,g,u):(Ye.flags|=r,m.memoizedState=ll(1|s,o,g,u))}function T_(r,s){nf(8390656,8,r,s)}function Gd(r,s){rf(2048,8,r,s)}function b_(r,s){return rf(4,2,r,s)}function w_(r,s){return rf(4,4,r,s)}function R_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function S_(r,s,o){o=o!=null?o.concat([r]):null,rf(4,4,R_.bind(null,s,r),o)}function Kd(){}function A_(r,s){var o=nn();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Ld(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function C_(r,s){var o=nn();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Ld(s,u[1]))return u[0];if(u=r(),co){Fn(!0);try{r()}finally{Fn(!1)}}return o.memoizedState=[u,s],u}function Qd(r,s,o){return o===void 0||na&1073741824?r.memoizedState=s:(r.memoizedState=o,r=OE(),Ye.lanes|=r,ha|=r,o)}function I_(r,s,o,u){return _r(o,s)?o:rl.current!==null?(r=Qd(r,o,u),_r(r,s)||(En=!0),r):na&42?(r=OE(),Ye.lanes|=r,ha|=r,s):(En=!0,r.memoizedState=o)}function O_(r,s,o,u,m){var g=ve.p;ve.p=g!==0&&8>g?g:8;var b=O.T,I={};O.T=I,Wd(r,!1,s,o);try{var j=m(),Q=O.S;if(Q!==null&&Q(I,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ae=q1(j,u);vu(r,s,ae,wr(r))}else vu(r,s,u,wr(r))}catch(he){vu(r,s,{then:function(){},status:"rejected",reason:he},wr())}finally{ve.p=g,O.T=b}}function K1(){}function Yd(r,s,o,u){if(r.tag!==5)throw Error(i(476));var m=x_(r).queue;O_(r,m,s,Me,o===null?K1:function(){return N_(r),o(u)})}function x_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Me,baseState:Me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:Me},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function N_(r){var s=x_(r).next.queue;vu(r,s,{},wr())}function Xd(){return Ln(Vu)}function D_(){return nn().memoizedState}function k_(){return nn().memoizedState}function Q1(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=wr();r=aa(o);var u=oa(s,r,o);u!==null&&(Yn(u,s,o),Tu(u,s,o)),s={cache:kd()},r.payload=s;return}s=s.return}}function Y1(r,s,o){var u=wr();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},sf(r)?M_(s,o):(o=Ad(r,s,o,u),o!==null&&(Yn(o,r,u),L_(o,s,u)))}function P_(r,s,o){var u=wr();vu(r,s,o,u)}function vu(r,s,o,u){var m={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(sf(r))M_(s,m);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,I=g(b,o);if(m.hasEagerState=!0,m.eagerState=I,_r(I,b))return zc(r,s,m,0),It===null&&Bc(),!1}catch{}finally{}if(o=Ad(r,s,m,u),o!==null)return Yn(o,r,u),L_(o,s,u),!0}return!1}function Wd(r,s,o,u){if(u={lane:2,revertLane:Bm(),action:u,hasEagerState:!1,eagerState:null,next:null},sf(r)){if(s)throw Error(i(479))}else s=Ad(r,o,u,2),s!==null&&Yn(s,r,2)}function sf(r){var s=r.alternate;return r===Ye||s!==null&&s===Ye}function M_(r,s){al=Wc=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function L_(r,s,o){if(o&4194176){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ei(r,o)}}var Li={readContext:Ln,use:ef,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt};Li.useCacheRefresh=Yt,Li.useMemoCache=Yt,Li.useHostTransitionStatus=Yt,Li.useFormState=Yt,Li.useActionState=Yt,Li.useOptimistic=Yt;var fo={readContext:Ln,use:ef,useCallback:function(r,s){return cr().memoizedState=[r,s===void 0?null:s],r},useContext:Ln,useEffect:T_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,nf(4194308,4,R_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return nf(4194308,4,r,s)},useInsertionEffect:function(r,s){nf(4,2,r,s)},useMemo:function(r,s){var o=cr();s=s===void 0?null:s;var u=r();if(co){Fn(!0);try{r()}finally{Fn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=cr();if(o!==void 0){var m=o(s);if(co){Fn(!0);try{o(s)}finally{Fn(!1)}}}else m=s;return u.memoizedState=u.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},u.queue=r,r=r.dispatch=Y1.bind(null,Ye,r),[u.memoizedState,r]},useRef:function(r){var s=cr();return r={current:r},s.memoizedState=r},useState:function(r){r=Hd(r);var s=r.queue,o=P_.bind(null,Ye,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Kd,useDeferredValue:function(r,s){var o=cr();return Qd(o,r,s)},useTransition:function(){var r=Hd(!1);return r=O_.bind(null,Ye,r.queue,!0,!1),cr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Ye,m=cr();if(pt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),It===null)throw Error(i(349));lt&60||s_(u,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,T_(o_.bind(null,u,g,r),[r]),u.flags|=2048,ll(9,a_.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var r=cr(),s=It.identifierPrefix;if(pt){var o=us,u=ls;o=(u&~(1<<32-gn(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=Zc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=F1++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return cr().memoizedState=Q1.bind(null,Ye)}};fo.useMemoCache=zd,fo.useHostTransitionStatus=Xd,fo.useFormState=g_,fo.useActionState=g_,fo.useOptimistic=function(r){var s=cr();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Wd.bind(null,Ye,!0,o),o.dispatch=s,[r,s]};var ra={readContext:Ln,use:ef,useCallback:A_,useContext:Ln,useEffect:Gd,useImperativeHandle:S_,useInsertionEffect:b_,useLayoutEffect:w_,useMemo:C_,useReducer:tf,useRef:E_,useState:function(){return tf(fs)},useDebugValue:Kd,useDeferredValue:function(r,s){var o=nn();return I_(o,bt.memoizedState,r,s)},useTransition:function(){var r=tf(fs)[0],s=nn().memoizedState;return[typeof r=="boolean"?r:yu(r),s]},useSyncExternalStore:i_,useId:D_};ra.useCacheRefresh=k_,ra.useMemoCache=zd,ra.useHostTransitionStatus=Xd,ra.useFormState=y_,ra.useActionState=y_,ra.useOptimistic=function(r,s){var o=nn();return c_(o,bt,r,s)};var ho={readContext:Ln,use:ef,useCallback:A_,useContext:Ln,useEffect:Gd,useImperativeHandle:S_,useInsertionEffect:b_,useLayoutEffect:w_,useMemo:C_,useReducer:Fd,useRef:E_,useState:function(){return Fd(fs)},useDebugValue:Kd,useDeferredValue:function(r,s){var o=nn();return bt===null?Qd(o,r,s):I_(o,bt.memoizedState,r,s)},useTransition:function(){var r=Fd(fs)[0],s=nn().memoizedState;return[typeof r=="boolean"?r:yu(r),s]},useSyncExternalStore:i_,useId:D_};ho.useCacheRefresh=k_,ho.useMemoCache=zd,ho.useHostTransitionStatus=Xd,ho.useFormState=__,ho.useActionState=__,ho.useOptimistic=function(r,s){var o=nn();return bt!==null?c_(o,bt,r,s):(o.baseState=r,[r,o.queue.dispatch])};function Zd(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:M({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Jd={isMounted:function(r){return(r=r._reactInternals)?ge(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=wr(),m=aa(u);m.payload=s,o!=null&&(m.callback=o),s=oa(r,m,u),s!==null&&(Yn(s,r,u),Tu(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=wr(),m=aa(u);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=oa(r,m,u),s!==null&&(Yn(s,r,u),Tu(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=wr(),u=aa(o);u.tag=2,s!=null&&(u.callback=s),s=oa(r,u,o),s!==null&&(Yn(s,r,o),Tu(s,r,o))}};function U_(r,s,o,u,m,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!su(o,u)||!su(m,g):!0}function V_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Jd.enqueueReplaceState(s,s.state,null)}function mo(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=M({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}var af=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function j_(r){af(r)}function B_(r){console.error(r)}function z_(r){af(r)}function of(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function q_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function em(r,s,o){return o=aa(o),o.tag=3,o.payload={element:null},o.callback=function(){of(r,s)},o}function F_(r){return r=aa(r),r.tag=3,r}function H_(r,s,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=u.value;r.payload=function(){return m(g)},r.callback=function(){q_(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){q_(s,o,u),typeof m!="function"&&(da===null?da=new Set([this]):da.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function X1(r,s,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Eu(s,o,m,!0),o=zr.current,o!==null){switch(o.tag){case 13:return Mi===null?Mm():o.alternate===null&&Ht===0&&(Ht=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===xd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Um(r,u,m)),!1;case 22:return o.flags|=65536,u===xd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Um(r,u,m)),!1}throw Error(i(435,o.tag))}return Um(r,u,m),Mm(),!1}if(pt)return s=zr.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==Od&&(r=Error(i(422),{cause:u}),uu(Vr(r,o)))):(u!==Od&&(s=Error(i(423),{cause:u}),uu(Vr(s,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,u=Vr(u,o),m=em(r.stateNode,u,m),pm(r,m),Ht!==4&&(Ht=2)),!1;var g=Error(i(520),{cause:u});if(g=Vr(g,o),Ou===null?Ou=[g]:Ou.push(g),Ht!==4&&(Ht=2),s===null)return!0;u=Vr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=em(o.stateNode,u,r),pm(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(da===null||!da.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=F_(m),H_(m,r,o,u),pm(o,m),!1}o=o.return}while(o!==null);return!1}var $_=Error(i(461)),En=!1;function Cn(r,s,o,u){s.child=r===null?Xv(s,null,o,u):lo(s,r.child,o,u)}function G_(r,s,o,u,m){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var I in u)I!=="ref"&&(b[I]=u[I])}else b=u;return go(s),u=Ud(r,s,o,b,g,m),I=Vd(),r!==null&&!En?(jd(r,s,m),hs(r,s,m)):(pt&&I&&Cd(s),s.flags|=1,Cn(r,s,u,m),s.child)}function K_(r,s,o,u,m){if(r===null){var g=o.type;return typeof g=="function"&&!wm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,Q_(r,s,g,u,m)):(r=hf(o.type,null,u,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!um(r,m)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:su,o(b,u)&&r.ref===s.ref)return hs(r,s,m)}return s.flags|=1,r=fa(g,u),r.ref=s.ref,r.return=s,s.child=r}function Q_(r,s,o,u,m){if(r!==null){var g=r.memoizedProps;if(su(g,u)&&r.ref===s.ref)if(En=!1,s.pendingProps=u=g,um(r,m))r.flags&131072&&(En=!0);else return s.lanes=r.lanes,hs(r,s,m)}return tm(r,s,o,u,m)}function Y_(r,s,o){var u=s.pendingProps,m=u.children,g=(s.stateNode._pendingVisibility&2)!==0,b=r!==null?r.memoizedState:null;if(_u(r,s),u.mode==="hidden"||g){if(s.flags&128){if(u=b!==null?b.baseLanes|o:o,r!==null){for(m=s.child=r.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return X_(r,s,u,o)}if(o&536870912)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Xc(s,b!==null?b.cachePool:null),b!==null?Wv(s,b):Nd(),Zv(s);else return s.lanes=s.childLanes=536870912,X_(r,s,b!==null?b.baseLanes|o:o,o)}else b!==null?(Xc(s,b.cachePool),Wv(s,b),ta(),s.memoizedState=null):(r!==null&&Xc(s,null),Nd(),ta());return Cn(r,s,m,o),s.child}function X_(r,s,o,u){var m=Md();return m=m===null?null:{parent:fn._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},r!==null&&Xc(s,null),Nd(),Zv(s),r!==null&&Eu(r,s,u,!0),null}function _u(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function tm(r,s,o,u,m){return go(s),o=Ud(r,s,o,u,void 0,m),u=Vd(),r!==null&&!En?(jd(r,s,m),hs(r,s,m)):(pt&&u&&Cd(s),s.flags|=1,Cn(r,s,o,m),s.child)}function W_(r,s,o,u,m,g){return go(s),s.updateQueue=null,o=r_(s,u,o,m),n_(r),u=Vd(),r!==null&&!En?(jd(r,s,g),hs(r,s,g)):(pt&&u&&Cd(s),s.flags|=1,Cn(r,s,o,g),s.child)}function Z_(r,s,o,u,m){if(go(s),s.stateNode===null){var g=Jo,b=o.contextType;typeof b=="object"&&b!==null&&(g=Ln(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Jd,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},dm(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?Ln(b):Jo,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Zd(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Jd.enqueueReplaceState(g,g.state,null),wu(s,u,g,m),bu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var I=s.memoizedProps,j=mo(o,I);g.props=j;var Q=g.context,ae=o.contextType;b=Jo,typeof ae=="object"&&ae!==null&&(b=Ln(ae));var he=o.getDerivedStateFromProps;ae=typeof he=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||Q!==b)&&V_(s,g,u,b),sa=!1;var ne=s.memoizedState;g.state=ne,wu(s,u,g,m),bu(),Q=s.memoizedState,I||ne!==Q||sa?(typeof he=="function"&&(Zd(s,o,he,u),Q=s.memoizedState),(j=sa||U_(s,o,j,u,ne,Q,b))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=b,u=j):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,mm(r,s),b=s.memoizedProps,ae=mo(o,b),g.props=ae,he=s.pendingProps,ne=g.context,Q=o.contextType,j=Jo,typeof Q=="object"&&Q!==null&&(j=Ln(Q)),I=o.getDerivedStateFromProps,(Q=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==he||ne!==j)&&V_(s,g,u,j),sa=!1,ne=s.memoizedState,g.state=ne,wu(s,u,g,m),bu();var se=s.memoizedState;b!==he||ne!==se||sa||r!==null&&r.dependencies!==null&&lf(r.dependencies)?(typeof I=="function"&&(Zd(s,o,I,u),se=s.memoizedState),(ae=sa||U_(s,o,ae,u,ne,se,j)||r!==null&&r.dependencies!==null&&lf(r.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,se,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,se,j)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=se),g.props=u,g.state=se,g.context=j,u=ae):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,_u(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=lo(s,r.child,null,m),s.child=lo(s,null,o,m)):Cn(r,s,o,m),s.memoizedState=g.state,r=s.child):r=hs(r,s,m),r}function J_(r,s,o,u){return lu(),s.flags|=256,Cn(r,s,o,u),s.child}var nm={dehydrated:null,treeContext:null,retryLane:0};function rm(r){return{baseLanes:r,cachePool:t_()}}function im(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=$r),r}function eE(r,s,o){var u=s.pendingProps,m=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(cn.current&2)!==0),b&&(m=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(pt){if(m?ea(s):ta(),pt){var I=An,j;if(j=I){e:{for(j=I,I=Pi;j.nodeType!==8;){if(!I){I=null;break e}if(j=ui(j.nextSibling),j===null){I=null;break e}}I=j}I!==null?(s.memoizedState={dehydrated:I,treeContext:so!==null?{id:ls,overflow:us}:null,retryLane:536870912},j=Hr(18,null,null,0),j.stateNode=I,j.return=s,s.child=j,Qn=s,An=null,j=!0):j=!1}j||oo(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return I.data==="$!"?s.lanes=16:s.lanes=536870912,null;cs(s)}return I=u.children,u=u.fallback,m?(ta(),m=s.mode,I=am({mode:"hidden",children:I},m),u=vo(u,m,o,null),I.return=s,u.return=s,I.sibling=u,s.child=I,m=s.child,m.memoizedState=rm(o),m.childLanes=im(r,b,o),s.memoizedState=nm,u):(ea(s),sm(s,I))}if(j=r.memoizedState,j!==null&&(I=j.dehydrated,I!==null)){if(g)s.flags&256?(ea(s),s.flags&=-257,s=om(r,s,o)):s.memoizedState!==null?(ta(),s.child=r.child,s.flags|=128,s=null):(ta(),m=u.fallback,I=s.mode,u=am({mode:"visible",children:u.children},I),m=vo(m,I,o,null),m.flags|=2,u.return=s,m.return=s,u.sibling=m,s.child=u,lo(s,r.child,null,o),u=s.child,u.memoizedState=rm(o),u.childLanes=im(r,b,o),s.memoizedState=nm,s=m);else if(ea(s),I.data==="$!"){if(b=I.nextSibling&&I.nextSibling.dataset,b)var Q=b.dgst;b=Q,u=Error(i(419)),u.stack="",u.digest=b,uu({value:u,source:null,stack:null}),s=om(r,s,o)}else if(En||Eu(r,s,o,!1),b=(o&r.childLanes)!==0,En||b){if(b=It,b!==null){if(u=o&-o,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(b.suspendedLanes|o)?0:u,u!==0&&u!==j.retryLane)throw j.retryLane=u,Js(r,u),Yn(b,r,u),$_}I.data==="$?"||Mm(),s=om(r,s,o)}else I.data==="$?"?(s.flags|=128,s.child=r.child,s=fC.bind(null,r),I._reactRetry=s,s=null):(r=j.treeContext,An=ui(I.nextSibling),Qn=s,pt=!0,oi=null,Pi=!1,r!==null&&(jr[Br++]=ls,jr[Br++]=us,jr[Br++]=so,ls=r.id,us=r.overflow,so=s),s=sm(s,u.children),s.flags|=4096);return s}return m?(ta(),m=u.fallback,I=s.mode,j=r.child,Q=j.sibling,u=fa(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&31457280,Q!==null?m=fa(Q,m):(m=vo(m,I,o,null),m.flags|=2),m.return=s,u.return=s,u.sibling=m,s.child=u,u=m,m=s.child,I=r.child.memoizedState,I===null?I=rm(o):(j=I.cachePool,j!==null?(Q=fn._currentValue,j=j.parent!==Q?{parent:Q,pool:Q}:j):j=t_(),I={baseLanes:I.baseLanes|o,cachePool:j}),m.memoizedState=I,m.childLanes=im(r,b,o),s.memoizedState=nm,u):(ea(s),o=r.child,r=o.sibling,o=fa(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function sm(r,s){return s=am({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function am(r,s){return AE(r,s,0,null)}function om(r,s,o){return lo(s,r.child,null,o),r=sm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function tE(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),fm(r.return,s,o)}function lm(r,s,o,u,m){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=m)}function nE(r,s,o){var u=s.pendingProps,m=u.revealOrder,g=u.tail;if(Cn(r,s,u.children,o),u=cn.current,u&2)u=u&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&tE(r,o,s);else if(r.tag===19)tE(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(nt(cn,u),m){case"forwards":for(o=s.child,m=null;o!==null;)r=o.alternate,r!==null&&Yc(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),lm(s,!1,m,o,g);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&Yc(r)===null){s.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}lm(s,!0,o,null,g);break;case"together":lm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hs(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ha|=s.lanes,!(o&s.childLanes))if(r!==null){if(Eu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=fa(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=fa(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function um(r,s){return r.lanes&s?!0:(r=r.dependencies,!!(r!==null&&lf(r)))}function W1(r,s,o){switch(s.tag){case 3:dt(s,s.stateNode.containerInfo),ia(s,fn,r.memoizedState.cache),lu();break;case 27:case 5:Ir(s);break;case 4:dt(s,s.stateNode.containerInfo);break;case 10:ia(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ea(s),s.flags|=128,null):o&s.child.childLanes?eE(r,s,o):(ea(s),r=hs(r,s,o),r!==null?r.sibling:null);ea(s);break;case 19:var m=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Eu(r,s,o,!1),u=(o&s.childLanes)!==0),m){if(u)return nE(r,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),nt(cn,cn.current),u)break;return null;case 22:case 23:return s.lanes=0,Y_(r,s,o);case 24:ia(s,fn,r.memoizedState.cache)}return hs(r,s,o)}function rE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)En=!0;else{if(!um(r,o)&&!(s.flags&128))return En=!1,W1(r,s,o);En=!!(r.flags&131072)}else En=!1,pt&&s.flags&1048576&&zv(s,Hc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,m=u._init;if(u=m(u._payload),s.type=u,typeof u=="function")wm(u)?(r=mo(u,r),s.tag=1,s=Z_(null,s,u,r,o)):(s.tag=0,s=tm(null,s,u,r,o));else{if(u!=null){if(m=u.$$typeof,m===D){s.tag=11,s=G_(null,s,u,r,o);break e}else if(m===Y){s.tag=14,s=K_(null,s,u,r,o);break e}}throw s=C(u)||u,Error(i(306,s,""))}}return s;case 0:return tm(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,m=mo(u,s.pendingProps),Z_(r,s,u,m,o);case 3:e:{if(dt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var g=s.pendingProps;m=s.memoizedState,u=m.element,mm(r,s),wu(s,g,null,o);var b=s.memoizedState;if(g=b.cache,ia(s,fn,g),g!==m.cache&&hm(s,[fn],o,!0),bu(),g=b.element,m.isDehydrated)if(m={element:g,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=J_(r,s,g,o);break e}else if(g!==u){u=Vr(Error(i(424)),s),uu(u),s=J_(r,s,g,o);break e}else for(An=ui(s.stateNode.containerInfo.firstChild),Qn=s,pt=!0,oi=null,Pi=!0,o=Xv(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(lu(),g===u){s=hs(r,s,o);break e}Cn(r,s,g,o)}s=s.child}return s;case 26:return _u(r,s),r===null?(o=a0(s.type,null,s.pendingProps,null))?s.memoizedState=o:pt||(o=s.type,r=s.pendingProps,u=Rf(mn.current).createElement(o),u[Jt]=s,u[qt]=r,In(u,o,r),Nt(u),s.stateNode=u):s.memoizedState=a0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ir(s),r===null&&pt&&(u=s.stateNode=r0(s.type,s.pendingProps,mn.current),Qn=s,Pi=!0,An=ui(u.firstChild)),u=s.pendingProps.children,r!==null||pt?Cn(r,s,u,o):s.child=lo(s,null,u,o),_u(r,s),s.child;case 5:return r===null&&pt&&((m=u=An)&&(u=CC(u,s.type,s.pendingProps,Pi),u!==null?(s.stateNode=u,Qn=s,An=ui(u.firstChild),Pi=!1,m=!0):m=!1),m||oo(s)),Ir(s),m=s.type,g=s.pendingProps,b=r!==null?r.memoizedProps:null,u=g.children,Ym(m,g)?u=null:b!==null&&Ym(m,b)&&(s.flags|=32),s.memoizedState!==null&&(m=Ud(r,s,H1,null,null,o),Vu._currentValue=m),_u(r,s),Cn(r,s,u,o),s.child;case 6:return r===null&&pt&&((r=o=An)&&(o=IC(o,s.pendingProps,Pi),o!==null?(s.stateNode=o,Qn=s,An=null,r=!0):r=!1),r||oo(s)),null;case 13:return eE(r,s,o);case 4:return dt(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=lo(s,null,u,o):Cn(r,s,u,o),s.child;case 11:return G_(r,s,s.type,s.pendingProps,o);case 7:return Cn(r,s,s.pendingProps,o),s.child;case 8:return Cn(r,s,s.pendingProps.children,o),s.child;case 12:return Cn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ia(s,s.type,u.value),Cn(r,s,u.children,o),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,go(s),m=Ln(m),u=u(m),s.flags|=1,Cn(r,s,u,o),s.child;case 14:return K_(r,s,s.type,s.pendingProps,o);case 15:return Q_(r,s,s.type,s.pendingProps,o);case 19:return nE(r,s,o);case 22:return Y_(r,s,o);case 24:return go(s),u=Ln(fn),r===null?(m=Md(),m===null&&(m=It,g=kd(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:u,cache:m},dm(s),ia(s,fn,m)):(r.lanes&o&&(mm(r,s),wu(s,null,null,o),bu()),m=r.memoizedState,g=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),ia(s,fn,u)):(u=g.cache,ia(s,fn,u),u!==m.cache&&hm(s,[fn],o,!0))),Cn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var cm=Je(null),po=null,ds=null;function ia(r,s,o){nt(cm,s._currentValue),s._currentValue=o}function ms(r){r._currentValue=cm.current,_t(cm)}function fm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function hm(r,s,o,u){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var g=m.dependencies;if(g!==null){var b=m.child;g=g.firstContext;e:for(;g!==null;){var I=g;g=m;for(var j=0;j<s.length;j++)if(I.context===s[j]){g.lanes|=o,I=g.alternate,I!==null&&(I.lanes|=o),fm(g.return,o,r),u||(b=null);break e}g=I.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(i(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),fm(b,o,r),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===r){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function Eu(r,s,o,u){r=null;for(var m=s,g=!1;m!==null;){if(!g){if(m.flags&524288)g=!0;else if(m.flags&262144)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var I=m.type;_r(m.pendingProps.value,b.value)||(r!==null?r.push(I):r=[I])}}else if(m===qn.current){if(b=m.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Vu):r=[Vu])}m=m.return}r!==null&&hm(s,r,o,u),s.flags|=262144}function lf(r){for(r=r.firstContext;r!==null;){if(!_r(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function go(r){po=r,ds=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ln(r){return iE(po,r)}function uf(r,s){return po===null&&go(r),iE(r,s)}function iE(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ds===null){if(r===null)throw Error(i(308));ds=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ds=ds.next=s;return o}var sa=!1;function dm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function aa(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function oa(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,jt&2){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=qc(r),jv(r,null,o),s}return zc(r,u,s,o),qc(r)}function Tu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ei(r,o)}}function pm(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var gm=!1;function bu(){if(gm){var r=sl;if(r!==null)throw r}}function wu(r,s,o,u){gm=!1;var m=r.updateQueue;sa=!1;var g=m.firstBaseUpdate,b=m.lastBaseUpdate,I=m.shared.pending;if(I!==null){m.shared.pending=null;var j=I,Q=j.next;j.next=null,b===null?g=Q:b.next=Q,b=j;var ae=r.alternate;ae!==null&&(ae=ae.updateQueue,I=ae.lastBaseUpdate,I!==b&&(I===null?ae.firstBaseUpdate=Q:I.next=Q,ae.lastBaseUpdate=j))}if(g!==null){var he=m.baseState;b=0,ae=Q=j=null,I=g;do{var ne=I.lane&-536870913,se=ne!==I.lane;if(se?(lt&ne)===ne:(u&ne)===ne){ne!==0&&ne===il&&(gm=!0),ae!==null&&(ae=ae.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var xe=r,Fe=I;ne=s;var $t=o;switch(Fe.tag){case 1:if(xe=Fe.payload,typeof xe=="function"){he=xe.call($t,he,ne);break e}he=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Fe.payload,ne=typeof xe=="function"?xe.call($t,he,ne):xe,ne==null)break e;he=M({},he,ne);break e;case 2:sa=!0}}ne=I.callback,ne!==null&&(r.flags|=64,se&&(r.flags|=8192),se=m.callbacks,se===null?m.callbacks=[ne]:se.push(ne))}else se={lane:ne,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ae===null?(Q=ae=se,j=he):ae=ae.next=se,b|=ne;if(I=I.next,I===null){if(I=m.shared.pending,I===null)break;se=I,I=se.next,se.next=null,m.lastBaseUpdate=se,m.shared.pending=null}}while(!0);ae===null&&(j=he),m.baseState=j,m.firstBaseUpdate=Q,m.lastBaseUpdate=ae,g===null&&(m.shared.lanes=0),ha|=b,r.lanes=b,r.memoizedState=he}}function sE(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function aE(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)sE(o[r],s)}function Ru(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&r)===r){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==m)}}catch(I){Ct(s,s.return,I)}}function la(r,s,o){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var g=m.next;u=g;do{if((u.tag&r)===r){var b=u.inst,I=b.destroy;if(I!==void 0){b.destroy=void 0,m=s;var j=o;try{I()}catch(Q){Ct(m,j,Q)}}}u=u.next}while(u!==g)}}catch(Q){Ct(s,s.return,Q)}}function oE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{aE(s,o)}catch(u){Ct(r,r.return,u)}}}function lE(r,s,o){o.props=mo(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Ct(r,s,u)}}function yo(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var m=u;break;default:m=u}typeof o=="function"?r.refCleanup=o(m):o.current=m}}catch(g){Ct(r,s,g)}}function Er(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){Ct(r,s,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Ct(r,s,m)}else o.current=null}function uE(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){Ct(r,r.return,m)}}function cE(r,s,o){try{var u=r.stateNode;bC(u,r.type,o,s),u[qt]=s}catch(m){Ct(r,r.return,m)}}function fE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function ym(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||fE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function vm(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=wf));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(vm(r,s,o),r=r.sibling;r!==null;)vm(r,s,o),r=r.sibling}function cf(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(cf(r,s,o),r=r.sibling;r!==null;)cf(r,s,o),r=r.sibling}var ps=!1,Ft=!1,_m=!1,hE=typeof WeakSet=="function"?WeakSet:Set,Tn=null,dE=!1;function Z1(r,s){if(r=r.containerInfo,Km=xf,r=xv(r),Td(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,I=-1,j=-1,Q=0,ae=0,he=r,ne=null;t:for(;;){for(var se;he!==o||m!==0&&he.nodeType!==3||(I=b+m),he!==g||u!==0&&he.nodeType!==3||(j=b+u),he.nodeType===3&&(b+=he.nodeValue.length),(se=he.firstChild)!==null;)ne=he,he=se;for(;;){if(he===r)break t;if(ne===o&&++Q===m&&(I=b),ne===g&&++ae===u&&(j=b),(se=he.nextSibling)!==null)break;he=ne,ne=he.parentNode}he=se}o=I===-1||j===-1?null:{start:I,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Qm={focusedElem:r,selectionRange:o},xf=!1,Tn=s;Tn!==null;)if(s=Tn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Tn=r;else for(;Tn!==null;){switch(s=Tn,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&g!==null){r=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var xe=mo(o.type,m,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(xe,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Fe){Ct(o,o.return,Fe)}}break;case 3:if(r&1024){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Zm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Zm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Tn=r;break}Tn=s.return}return xe=dE,dE=!1,xe}function mE(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ys(r,o),u&4&&Ru(5,o);break;case 1:if(ys(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(I){Ct(o,o.return,I)}else{var m=mo(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(m,s,r.__reactInternalSnapshotBeforeUpdate)}catch(I){Ct(o,o.return,I)}}u&64&&oE(o),u&512&&yo(o,o.return);break;case 3:if(ys(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{aE(u,r)}catch(I){Ct(o,o.return,I)}}break;case 26:ys(r,o),u&512&&yo(o,o.return);break;case 27:case 5:ys(r,o),s===null&&u&4&&uE(o),u&512&&yo(o,o.return);break;case 12:ys(r,o);break;case 13:ys(r,o),u&4&&yE(r,o);break;case 22:if(m=o.memoizedState!==null||ps,!m){s=s!==null&&s.memoizedState!==null||Ft;var g=ps,b=Ft;ps=m,(Ft=s)&&!b?ua(r,o,(o.subtreeFlags&8772)!==0):ys(r,o),ps=g,Ft=b}u&512&&(o.memoizedProps.mode==="manual"?yo(o,o.return):Er(o,o.return));break;default:ys(r,o)}}function pE(r){var s=r.alternate;s!==null&&(r.alternate=null,pE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&pr(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var rn=null,Tr=!1;function gs(r,s,o){for(o=o.child;o!==null;)gE(r,s,o),o=o.sibling}function gE(r,s,o){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Qr,o)}catch{}switch(o.tag){case 26:Ft||Er(o,s),gs(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ft||Er(o,s);var u=rn,m=Tr;for(rn=o.stateNode,gs(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);pr(o),rn=u,Tr=m;break;case 5:Ft||Er(o,s);case 6:m=rn;var g=Tr;if(rn=null,gs(r,s,o),rn=m,Tr=g,rn!==null)if(Tr)try{r=rn,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(b){Ct(o,s,b)}else try{rn.removeChild(o.stateNode)}catch(b){Ct(o,s,b)}break;case 18:rn!==null&&(Tr?(s=rn,o=o.stateNode,s.nodeType===8?Wm(s.parentNode,o):s.nodeType===1&&Wm(s,o),qu(s)):Wm(rn,o.stateNode));break;case 4:u=rn,m=Tr,rn=o.stateNode.containerInfo,Tr=!0,gs(r,s,o),rn=u,Tr=m;break;case 0:case 11:case 14:case 15:Ft||la(2,o,s),Ft||la(4,o,s),gs(r,s,o);break;case 1:Ft||(Er(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&lE(o,s,u)),gs(r,s,o);break;case 21:gs(r,s,o);break;case 22:Ft||Er(o,s),Ft=(u=Ft)||o.memoizedState!==null,gs(r,s,o),Ft=u;break;default:gs(r,s,o)}}function yE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{qu(r)}catch(o){Ct(s,s.return,o)}}function J1(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new hE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new hE),s;default:throw Error(i(435,r.tag))}}function Em(r,s){var o=J1(r);s.forEach(function(u){var m=hC.bind(null,r,u);o.has(u)||(o.add(u),u.then(m,m))})}function qr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],g=r,b=s,I=b;e:for(;I!==null;){switch(I.tag){case 27:case 5:rn=I.stateNode,Tr=!1;break e;case 3:rn=I.stateNode.containerInfo,Tr=!0;break e;case 4:rn=I.stateNode.containerInfo,Tr=!0;break e}I=I.return}if(rn===null)throw Error(i(160));gE(g,b,m),rn=null,Tr=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)vE(s,r),s=s.sibling}var li=null;function vE(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:qr(s,r),Fr(r),u&4&&(la(3,r,r.return),Ru(3,r),la(5,r,r.return));break;case 1:qr(s,r),Fr(r),u&512&&(Ft||o===null||Er(o,o.return)),u&64&&ps&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=li;if(qr(s,r),Fr(r),u&512&&(Ft||o===null||Er(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Wr]||g[Jt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(u),m.head.insertBefore(g,m.querySelector("head > title"))),In(g,u,o),g[Jt]=r,Nt(g),u=g;break e;case"link":var b=u0("link","href",m).get(u+(o.href||""));if(b){for(var I=0;I<b.length;I++)if(g=b[I],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(I,1);break t}}g=m.createElement(u),In(g,u,o),m.head.appendChild(g);break;case"meta":if(b=u0("meta","content",m).get(u+(o.content||""))){for(I=0;I<b.length;I++)if(g=b[I],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(I,1);break t}}g=m.createElement(u),In(g,u,o),m.head.appendChild(g);break;default:throw Error(i(468,u))}g[Jt]=r,Nt(g),u=g}r.stateNode=u}else c0(m,r.type,r.stateNode);else r.stateNode=l0(m,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?c0(m,r.type,r.stateNode):l0(m,u,r.memoizedProps)):u===null&&r.stateNode!==null&&cE(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){m=r.stateNode,g=r.memoizedProps;try{for(var j=m.firstChild;j;){var Q=j.nextSibling,ae=j.nodeName;j[Wr]||ae==="HEAD"||ae==="BODY"||ae==="SCRIPT"||ae==="STYLE"||ae==="LINK"&&j.rel.toLowerCase()==="stylesheet"||m.removeChild(j),j=Q}for(var he=r.type,ne=m.attributes;ne.length;)m.removeAttributeNode(ne[0]);In(m,he,g),m[Jt]=r,m[qt]=g}catch(xe){Ct(r,r.return,xe)}}case 5:if(qr(s,r),Fr(r),u&512&&(Ft||o===null||Er(o,o.return)),r.flags&32){m=r.stateNode;try{rr(m,"")}catch(xe){Ct(r,r.return,xe)}}u&4&&r.stateNode!=null&&(m=r.memoizedProps,cE(r,m,o!==null?o.memoizedProps:m)),u&1024&&(_m=!0);break;case 6:if(qr(s,r),Fr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(xe){Ct(r,r.return,xe)}}break;case 3:if(Cf=null,m=li,li=Sf(s.containerInfo),qr(s,r),li=m,Fr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{qu(s.containerInfo)}catch(xe){Ct(r,r.return,xe)}_m&&(_m=!1,_E(r));break;case 4:u=li,li=Sf(r.stateNode.containerInfo),qr(s,r),Fr(r),li=u;break;case 12:qr(s,r),Fr(r);break;case 13:qr(s,r),Fr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Om=Rn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Em(r,u)));break;case 22:if(u&512&&(Ft||o===null||Er(o,o.return)),j=r.memoizedState!==null,Q=o!==null&&o.memoizedState!==null,ae=ps,he=Ft,ps=ae||j,Ft=he||Q,qr(s,r),Ft=he,ps=ae,Fr(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=j?s._visibility&-2:s._visibility|1,j&&(s=ps||Ft,o===null||Q||s||ul(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){Q=o=s;try{if(m=Q.stateNode,j)g=m.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=Q.stateNode,I=Q.memoizedProps.style;var se=I!=null&&I.hasOwnProperty("display")?I.display:null;b.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(xe){Ct(Q,Q.return,xe)}}}else if(s.tag===6){if(o===null){Q=s;try{Q.stateNode.nodeValue=j?"":Q.memoizedProps}catch(xe){Ct(Q,Q.return,xe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Em(r,o))));break;case 19:qr(s,r),Fr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Em(r,u)));break;case 21:break;default:qr(s,r),Fr(r)}}function Fr(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(fE(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var m=u.stateNode,g=ym(r);cf(r,g,m);break;case 5:var b=u.stateNode;u.flags&32&&(rr(b,""),u.flags&=-33);var I=ym(r);cf(r,I,b);break;case 3:case 4:var j=u.stateNode.containerInfo,Q=ym(r);vm(r,Q,j);break;default:throw Error(i(161))}}}catch(ae){Ct(r,r.return,ae)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function _E(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;_E(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ys(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)mE(r,s.alternate,s),s=s.sibling}function ul(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:la(4,s,s.return),ul(s);break;case 1:Er(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&lE(s,s.return,o),ul(s);break;case 26:case 27:case 5:Er(s,s.return),ul(s);break;case 22:Er(s,s.return),s.memoizedState===null&&ul(s);break;default:ul(s)}r=r.sibling}}function ua(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=r,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:ua(m,g,o),Ru(4,g);break;case 1:if(ua(m,g,o),u=g,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){Ct(u,u.return,Q)}if(u=g,m=u.updateQueue,m!==null){var I=u.stateNode;try{var j=m.shared.hiddenCallbacks;if(j!==null)for(m.shared.hiddenCallbacks=null,m=0;m<j.length;m++)sE(j[m],I)}catch(Q){Ct(u,u.return,Q)}}o&&b&64&&oE(g),yo(g,g.return);break;case 26:case 27:case 5:ua(m,g,o),o&&u===null&&b&4&&uE(g),yo(g,g.return);break;case 12:ua(m,g,o);break;case 13:ua(m,g,o),o&&b&4&&yE(m,g);break;case 22:g.memoizedState===null&&ua(m,g,o),yo(g,g.return);break;default:ua(m,g,o)}s=s.sibling}}function Tm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&mu(o))}function bm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&mu(r))}function ca(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)EE(r,s,o,u),s=s.sibling}function EE(r,s,o,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:ca(r,s,o,u),m&2048&&Ru(9,s);break;case 3:ca(r,s,o,u),m&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&mu(r)));break;case 12:if(m&2048){ca(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,b=g.id,I=g.onPostCommit;typeof I=="function"&&I(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){Ct(s,s.return,j)}}else ca(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?ca(r,s,o,u):Su(r,s):g._visibility&4?ca(r,s,o,u):(g._visibility|=4,cl(r,s,o,u,(s.subtreeFlags&10256)!==0)),m&2048&&Tm(s.alternate,s);break;case 24:ca(r,s,o,u),m&2048&&bm(s.alternate,s);break;default:ca(r,s,o,u)}}function cl(r,s,o,u,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,b=s,I=o,j=u,Q=b.flags;switch(b.tag){case 0:case 11:case 15:cl(g,b,I,j,m),Ru(8,b);break;case 23:break;case 22:var ae=b.stateNode;b.memoizedState!==null?ae._visibility&4?cl(g,b,I,j,m):Su(g,b):(ae._visibility|=4,cl(g,b,I,j,m)),m&&Q&2048&&Tm(b.alternate,b);break;case 24:cl(g,b,I,j,m),m&&Q&2048&&bm(b.alternate,b);break;default:cl(g,b,I,j,m)}s=s.sibling}}function Su(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,m=u.flags;switch(u.tag){case 22:Su(o,u),m&2048&&Tm(u.alternate,u);break;case 24:Su(o,u),m&2048&&bm(u.alternate,u);break;default:Su(o,u)}s=s.sibling}}var Au=8192;function fl(r){if(r.subtreeFlags&Au)for(r=r.child;r!==null;)TE(r),r=r.sibling}function TE(r){switch(r.tag){case 26:fl(r),r.flags&Au&&r.memoizedState!==null&&zC(li,r.memoizedState,r.memoizedProps);break;case 5:fl(r);break;case 3:case 4:var s=li;li=Sf(r.stateNode.containerInfo),fl(r),li=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Au,Au=16777216,fl(r),Au=s):fl(r));break;default:fl(r)}}function bE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Cu(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Tn=u,RE(u,r)}bE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wE(r),r=r.sibling}function wE(r){switch(r.tag){case 0:case 11:case 15:Cu(r),r.flags&2048&&la(9,r,r.return);break;case 3:Cu(r);break;case 12:Cu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,ff(r)):Cu(r);break;default:Cu(r)}}function ff(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Tn=u,RE(u,r)}bE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:la(8,s,s.return),ff(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,ff(s));break;default:ff(s)}r=r.sibling}}function RE(r,s){for(;Tn!==null;){var o=Tn;switch(o.tag){case 0:case 11:case 15:la(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:mu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Tn=u;else e:for(o=r;Tn!==null;){u=Tn;var m=u.sibling,g=u.return;if(pE(u),u===o){Tn=null;break e}if(m!==null){m.return=g,Tn=m;break e}Tn=g}}}function eC(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(r,s,o,u){return new eC(r,s,o,u)}function wm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function fa(r,s){var o=r.alternate;return o===null?(o=Hr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function SE(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function hf(r,s,o,u,m,g){var b=0;if(u=r,typeof r=="function")wm(r)&&(b=1);else if(typeof r=="string")b=jC(r,o,Zt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case f:return vo(o.children,m,g,s);case p:b=8,m|=24;break;case y:return r=Hr(12,o,s,m|2),r.elementType=y,r.lanes=g,r;case q:return r=Hr(13,o,s,m),r.elementType=q,r.lanes=g,r;case L:return r=Hr(19,o,s,m),r.elementType=L,r.lanes=g,r;case K:return AE(o,m,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:case A:b=10;break e;case E:b=9;break e;case D:b=11;break e;case Y:b=14;break e;case $:b=16,u=null;break e}b=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Hr(b,o,s,m),s.elementType=r,s.type=u,s.lanes=g,s}function vo(r,s,o,u){return r=Hr(7,r,u,s),r.lanes=o,r}function AE(r,s,o,u){r=Hr(22,r,u,s),r.elementType=K,r.lanes=o;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=m._current;if(g===null)throw Error(i(456));if(!(m._pendingVisibility&2)){var b=Js(g,2);b!==null&&(m._pendingVisibility|=2,Yn(b,g,2))}},attach:function(){var g=m._current;if(g===null)throw Error(i(456));if(m._pendingVisibility&2){var b=Js(g,2);b!==null&&(m._pendingVisibility&=-3,Yn(b,g,2))}}};return r.stateNode=m,r}function Rm(r,s,o){return r=Hr(6,r,null,s),r.lanes=o,r}function Sm(r,s,o){return s=Hr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function vs(r){r.flags|=4}function CE(r,s){if(s.type!=="stylesheet"||s.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!f0(s)){if(s=zr.current,s!==null&&((lt&4194176)===lt?Mi!==null:(lt&62914560)!==lt&&!(lt&536870912)||s!==Mi))throw fu=xd,Hv;r.flags|=8192}}function df(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?yi():536870912,r.lanes|=s,dl|=s)}function Iu(r,s){if(!pt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Vt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&31457280,u|=m.flags&31457280,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function tC(r,s,o){var u=s.pendingProps;switch(Id(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(s),null;case 1:return Vt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ms(fn),kn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(ou(s)?vs(s):r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,oi!==null&&(km(oi),oi=null))),Vt(s),null;case 26:return o=s.memoizedState,r===null?(vs(s),o!==null?(Vt(s),CE(s,o)):(Vt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(vs(s),Vt(s),CE(s,o)):(Vt(s),s.flags&=-16777217):(r.memoizedProps!==u&&vs(s),Vt(s),s.flags&=-16777217),null;case 27:Ji(s),o=mn.current;var m=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&vs(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Vt(s),null}r=Zt.current,ou(s)?qv(s):(r=r0(m,u,o),s.stateNode=r,vs(s))}return Vt(s),null;case 5:if(Ji(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&vs(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Vt(s),null}if(r=Zt.current,ou(s))qv(s);else{switch(m=Rf(mn.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?m.createElement(o,{is:u.is}):m.createElement(o)}}r[Jt]=s,r[qt]=u;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=r;e:switch(In(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&vs(s)}}return Vt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&vs(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=mn.current,ou(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,m=Qn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}r[Jt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||WE(r.nodeValue,o)),r||oo(s)}else r=Rf(r).createTextNode(u),r[Jt]=s,s.stateNode=r}return Vt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=ou(s),u!==null&&u.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Jt]=s}else lu(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Vt(s),m=!1}else oi!==null&&(km(oi),oi=null),m=!0;if(!m)return s.flags&256?(cs(s),s):(cs(s),null)}if(cs(s),s.flags&128)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==m&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),df(s,s.updateQueue),Vt(s),null;case 4:return kn(),r===null&&Hm(s.stateNode.containerInfo),Vt(s),null;case 10:return ms(s.type),Vt(s),null;case 19:if(_t(cn),m=s.memoizedState,m===null)return Vt(s),null;if(u=(s.flags&128)!==0,g=m.rendering,g===null)if(u)Iu(m,!1);else{if(Ht!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(g=Yc(r),g!==null){for(s.flags|=128,Iu(m,!1),r=g.updateQueue,s.updateQueue=r,df(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)SE(o,r),o=o.sibling;return nt(cn,cn.current&1|2),s.child}r=r.sibling}m.tail!==null&&Rn()>mf&&(s.flags|=128,u=!0,Iu(m,!1),s.lanes=4194304)}else{if(!u)if(r=Yc(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,df(s,r),Iu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!pt)return Vt(s),null}else 2*Rn()-m.renderingStartTime>mf&&o!==536870912&&(s.flags|=128,u=!0,Iu(m,!1),s.lanes=4194304);m.isBackwards?(g.sibling=s.child,s.child=g):(r=m.last,r!==null?r.sibling=g:s.child=g,m.last=g)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Rn(),s.sibling=null,r=cn.current,nt(cn,u?r&1|2:r&1),s):(Vt(s),null);case 22:case 23:return cs(s),Dd(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?o&536870912&&!(s.flags&128)&&(Vt(s),s.subtreeFlags&6&&(s.flags|=8192)):Vt(s),o=s.updateQueue,o!==null&&df(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&_t(uo),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ms(fn),Vt(s),null;case 25:return null}throw Error(i(156,s.tag))}function nC(r,s){switch(Id(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ms(fn),kn(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Ji(s),null;case 13:if(cs(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));lu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return _t(cn),null;case 4:return kn(),null;case 10:return ms(s.type),null;case 22:case 23:return cs(s),Dd(),r!==null&&_t(uo),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ms(fn),null;case 25:return null;default:return null}}function IE(r,s){switch(Id(s),s.tag){case 3:ms(fn),kn();break;case 26:case 27:case 5:Ji(s);break;case 4:kn();break;case 13:cs(s);break;case 19:_t(cn);break;case 10:ms(s.type);break;case 22:case 23:cs(s),Dd(),r!==null&&_t(uo);break;case 24:ms(fn)}}var rC={getCacheForType:function(r){var s=Ln(fn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},iC=typeof WeakMap=="function"?WeakMap:Map,jt=0,It=null,Ze=null,lt=0,Ot=0,br=null,_s=!1,hl=!1,Am=!1,Es=0,Ht=0,ha=0,_o=0,Cm=0,$r=0,dl=0,Ou=null,Ui=null,Im=!1,Om=0,mf=1/0,pf=null,da=null,gf=!1,Eo=null,xu=0,xm=0,Nm=null,Nu=0,Dm=null;function wr(){if(jt&2&&lt!==0)return lt&-lt;if(O.T!==null){var r=il;return r!==0?r:Bm()}return Qt()}function OE(){$r===0&&($r=!(lt&536870912)||pt?Xa():536870912);var r=zr.current;return r!==null&&(r.flags|=32),$r}function Yn(r,s,o){(r===It&&Ot===2||r.cancelPendingCommit!==null)&&(ml(r,0),Ts(r,lt,$r,!1)),xt(r,o),(!(jt&2)||r!==It)&&(r===It&&(!(jt&2)&&(_o|=o),Ht===4&&Ts(r,lt,$r,!1)),Vi(r))}function xE(r,s,o){if(jt&6)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||gi(r,s),m=u?oC(r,s):Lm(r,s,!0),g=u;do{if(m===0){hl&&!u&&Ts(r,s,0,!1);break}else if(m===6)Ts(r,s,0,!_s);else{if(o=r.current.alternate,g&&!sC(o)){m=Lm(r,s,!1),g=!1;continue}if(m===2){if(g=s,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var I=r;m=Ou;var j=I.current.memoizedState.isDehydrated;if(j&&(ml(I,b).flags|=256),b=Lm(I,b,!1),b!==2){if(Am&&!j){I.errorRecoveryDisabledLanes|=g,_o|=g,m=4;break e}g=Ui,Ui=m,g!==null&&km(g)}m=b}if(g=!1,m!==2)continue}}if(m===1){ml(r,0),Ts(r,s,0,!0);break}e:{switch(u=r,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){Ts(u,s,$r,!_s);break e}break;case 2:Ui=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=Om+300-Rn(),10<g)){if(Ts(u,s,$r,!_s),Hn(u,0)!==0)break e;u.timeoutHandle=e0(NE.bind(null,u,o,Ui,pf,Im,s,$r,_o,dl,_s,2,-0,0),g);break e}NE(u,o,Ui,pf,Im,s,$r,_o,dl,_s,0,-0,0)}}break}while(!0);Vi(r)}function km(r){Ui===null?Ui=r:Ui.push.apply(Ui,r)}function NE(r,s,o,u,m,g,b,I,j,Q,ae,he,ne){var se=s.subtreeFlags;if((se&8192||(se&16785408)===16785408)&&(Uu={stylesheets:null,count:0,unsuspend:BC},TE(s),s=qC(),s!==null)){r.cancelPendingCommit=s(VE.bind(null,r,o,u,m,b,I,j,1,he,ne)),Ts(r,g,b,!Q);return}VE(r,o,u,m,b,I,j,ae,he,ne)}function sC(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],g=m.getSnapshot;m=m.value;try{if(!_r(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ts(r,s,o,u){s&=~Cm,s&=~_o,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var m=s;0<m;){var g=31-gn(m),b=1<<g;u[g]=-1,m&=~b}o!==0&&_i(r,o,s)}function yf(){return jt&6?!0:(Du(0),!1)}function Pm(){if(Ze!==null){if(Ot===0)var r=Ze.return;else r=Ze,ds=po=null,Bd(r),nl=null,hu=0,r=Ze;for(;r!==null;)IE(r.alternate,r),r=r.return;Ze=null}}function ml(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,RC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Pm(),It=r,Ze=o=fa(r.current,null),lt=s,Ot=0,br=null,_s=!1,hl=gi(r,s),Am=!1,dl=$r=Cm=_o=ha=Ht=0,Ui=Ou=null,Im=!1,s&8&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var m=31-gn(u),g=1<<m;s|=r[m],u&=~g}return Es=s,Bc(),o}function DE(r,s){Ye=null,O.H=Li,s===cu?(s=Kv(),Ot=3):s===Hv?(s=Kv(),Ot=4):Ot=s===$_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,br=s,Ze===null&&(Ht=1,of(r,Vr(s,r.current)))}function kE(){var r=O.H;return O.H=Li,r===null?Li:r}function PE(){var r=O.A;return O.A=rC,r}function Mm(){Ht=4,_s||(lt&4194176)!==lt&&zr.current!==null||(hl=!0),!(ha&134217727)&&!(_o&134217727)||It===null||Ts(It,lt,$r,!1)}function Lm(r,s,o){var u=jt;jt|=2;var m=kE(),g=PE();(It!==r||lt!==s)&&(pf=null,ml(r,s)),s=!1;var b=Ht;e:do try{if(Ot!==0&&Ze!==null){var I=Ze,j=br;switch(Ot){case 8:Pm(),b=6;break e;case 3:case 2:case 6:zr.current===null&&(s=!0);var Q=Ot;if(Ot=0,br=null,pl(r,I,j,Q),o&&hl){b=0;break e}break;default:Q=Ot,Ot=0,br=null,pl(r,I,j,Q)}}aC(),b=Ht;break}catch(ae){DE(r,ae)}while(!0);return s&&r.shellSuspendCounter++,ds=po=null,jt=u,O.H=m,O.A=g,Ze===null&&(It=null,lt=0,Bc()),b}function aC(){for(;Ze!==null;)ME(Ze)}function oC(r,s){var o=jt;jt|=2;var u=kE(),m=PE();It!==r||lt!==s?(pf=null,mf=Rn()+500,ml(r,s)):hl=gi(r,s);e:do try{if(Ot!==0&&Ze!==null){s=Ze;var g=br;t:switch(Ot){case 1:Ot=0,br=null,pl(r,s,g,1);break;case 2:if($v(g)){Ot=0,br=null,LE(s);break}s=function(){Ot===2&&It===r&&(Ot=7),Vi(r)},g.then(s,s);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:$v(g)?(Ot=0,br=null,LE(s)):(Ot=0,br=null,pl(r,s,g,7));break;case 5:var b=null;switch(Ze.tag){case 26:b=Ze.memoizedState;case 5:case 27:var I=Ze;if(!b||f0(b)){Ot=0,br=null;var j=I.sibling;if(j!==null)Ze=j;else{var Q=I.return;Q!==null?(Ze=Q,vf(Q)):Ze=null}break t}}Ot=0,br=null,pl(r,s,g,5);break;case 6:Ot=0,br=null,pl(r,s,g,6);break;case 8:Pm(),Ht=6;break e;default:throw Error(i(462))}}lC();break}catch(ae){DE(r,ae)}while(!0);return ds=po=null,O.H=u,O.A=m,jt=o,Ze!==null?0:(It=null,lt=0,Bc(),Ht)}function lC(){for(;Ze!==null&&!eu();)ME(Ze)}function ME(r){var s=rE(r.alternate,r,Es);r.memoizedProps=r.pendingProps,s===null?vf(r):Ze=s}function LE(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=W_(o,s,s.pendingProps,s.type,void 0,lt);break;case 11:s=W_(o,s,s.pendingProps,s.type.render,s.ref,lt);break;case 5:Bd(s);default:IE(o,s),s=Ze=SE(s,Es),s=rE(o,s,Es)}r.memoizedProps=r.pendingProps,s===null?vf(r):Ze=s}function pl(r,s,o,u){ds=po=null,Bd(s),nl=null,hu=0;var m=s.return;try{if(X1(r,m,s,o,lt)){Ht=1,of(r,Vr(o,r.current)),Ze=null;return}}catch(g){if(m!==null)throw Ze=m,g;Ht=1,of(r,Vr(o,r.current)),Ze=null;return}s.flags&32768?(pt||u===1?r=!0:hl||lt&536870912?r=!1:(_s=r=!0,(u===2||u===3||u===6)&&(u=zr.current,u!==null&&u.tag===13&&(u.flags|=16384))),UE(s,r)):vf(s)}function vf(r){var s=r;do{if(s.flags&32768){UE(s,_s);return}r=s.return;var o=tC(s.alternate,s,Es);if(o!==null){Ze=o;return}if(s=s.sibling,s!==null){Ze=s;return}Ze=s=r}while(s!==null);Ht===0&&(Ht=5)}function UE(r,s){do{var o=nC(r.alternate,r);if(o!==null){o.flags&=32767,Ze=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ze=r;return}Ze=r=o}while(r!==null);Ht=6,Ze=null}function VE(r,s,o,u,m,g,b,I,j,Q){var ae=O.T,he=ve.p;try{ve.p=2,O.T=null,uC(r,s,o,u,he,m,g,b,I,j,Q)}finally{O.T=ae,ve.p=he}}function uC(r,s,o,u,m,g,b,I){do gl();while(Eo!==null);if(jt&6)throw Error(i(327));var j=r.finishedWork;if(u=r.finishedLanes,j===null)return null;if(r.finishedWork=null,r.finishedLanes=0,j===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var Q=j.lanes|j.childLanes;if(Q|=Sd,Ho(r,u,Q,g,b,I),r===It&&(Ze=It=null,lt=0),!(j.subtreeFlags&10256)&&!(j.flags&10256)||gf||(gf=!0,xm=Q,Nm=o,dC(Or,function(){return gl(),null})),o=(j.flags&15990)!==0,j.subtreeFlags&15990||o?(o=O.T,O.T=null,g=ve.p,ve.p=2,b=jt,jt|=4,Z1(r,j),vE(j,r),k1(Qm,r.containerInfo),xf=!!Km,Qm=Km=null,r.current=j,mE(r,j.alternate,j),Ha(),jt=b,ve.p=g,O.T=o):r.current=j,gf?(gf=!1,Eo=r,xu=u):jE(r,Q),Q=r.pendingLanes,Q===0&&(da=null),Qa(j.stateNode),Vi(r),s!==null)for(m=r.onRecoverableError,j=0;j<s.length;j++)Q=s[j],m(Q.value,{componentStack:Q.stack});return xu&3&&gl(),Q=r.pendingLanes,u&4194218&&Q&42?r===Dm?Nu++:(Nu=0,Dm=r):Nu=0,Du(0),null}function jE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,mu(s)))}function gl(){if(Eo!==null){var r=Eo,s=xm;xm=0;var o=$o(xu),u=O.T,m=ve.p;try{if(ve.p=32>o?32:o,O.T=null,Eo===null)var g=!1;else{o=Nm,Nm=null;var b=Eo,I=xu;if(Eo=null,xu=0,jt&6)throw Error(i(331));var j=jt;if(jt|=4,wE(b.current),EE(b,b.current,I,o),jt=j,Du(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Qr,b)}catch{}g=!0}return g}finally{ve.p=m,O.T=u,jE(r,s)}}return!1}function BE(r,s,o){s=Vr(o,s),s=em(r.stateNode,s,2),r=oa(r,s,2),r!==null&&(xt(r,2),Vi(r))}function Ct(r,s,o){if(r.tag===3)BE(r,r,o);else for(;s!==null;){if(s.tag===3){BE(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(da===null||!da.has(u))){r=Vr(o,r),o=F_(2),u=oa(s,o,2),u!==null&&(H_(o,u,s,r),xt(u,2),Vi(u));break}}s=s.return}}function Um(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new iC;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(o)||(Am=!0,m.add(o),r=cC.bind(null,r,s,o),s.then(r,r))}function cC(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,It===r&&(lt&o)===o&&(Ht===4||Ht===3&&(lt&62914560)===lt&&300>Rn()-Om?!(jt&2)&&ml(r,0):Cm|=o,dl===lt&&(dl=0)),Vi(r)}function zE(r,s){s===0&&(s=yi()),r=Js(r,s),r!==null&&(xt(r,s),Vi(r))}function fC(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),zE(r,o)}function hC(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),zE(r,o)}function dC(r,s){return es(r,s)}var _f=null,yl=null,Vm=!1,Ef=!1,jm=!1,To=0;function Vi(r){r!==yl&&r.next===null&&(yl===null?_f=yl=r:yl=yl.next=r),Ef=!0,Vm||(Vm=!0,pC(mC))}function Du(r,s){if(!jm&&Ef){jm=!0;do for(var o=!1,u=_f;u!==null;){if(r!==0){var m=u.pendingLanes;if(m===0)var g=0;else{var b=u.suspendedLanes,I=u.pingedLanes;g=(1<<31-gn(42|r)+1)-1,g&=m&~(b&~I),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,HE(u,g))}else g=lt,g=Hn(u,u===It?g:0),!(g&3)||gi(u,g)||(o=!0,HE(u,g));u=u.next}while(o);jm=!1}}function mC(){Ef=Vm=!1;var r=0;To!==0&&(wC()&&(r=To),To=0);for(var s=Rn(),o=null,u=_f;u!==null;){var m=u.next,g=qE(u,s);g===0?(u.next=null,o===null?_f=m:o.next=m,m===null&&(yl=o)):(o=u,(r!==0||g&3)&&(Ef=!0)),u=m}Du(r)}function qE(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,m=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-gn(g),I=1<<b,j=m[b];j===-1?(!(I&o)||I&u)&&(m[b]=Hs(I,s)):j<=s&&(r.expiredLanes|=I),g&=~I}if(s=It,o=lt,o=Hn(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&Ot===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Fs(u),r.callbackNode=null,r.callbackPriority=0;if(!(o&3)||gi(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Fs(u),$o(o)){case 2:case 8:o=Ie;break;case 32:o=Or;break;case 268435456:o=Ga;break;default:o=Or}return u=FE.bind(null,r),o=es(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Fs(u),r.callbackPriority=2,r.callbackNode=null,2}function FE(r,s){var o=r.callbackNode;if(gl()&&r.callbackNode!==o)return null;var u=lt;return u=Hn(r,r===It?u:0),u===0?null:(xE(r,u,s),qE(r,Rn()),r.callbackNode!=null&&r.callbackNode===o?FE.bind(null,r):null)}function HE(r,s){if(gl())return null;xE(r,s,!0)}function pC(r){SC(function(){jt&6?es(te,r):r()})}function Bm(){return To===0&&(To=Xa()),To}function $E(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Pr(""+r)}function GE(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function gC(r,s,o,u,m){if(s==="submit"&&o&&o.stateNode===m){var g=$E((m[qt]||null).action),b=u.submitter;b&&(s=(s=b[qt]||null)?$E(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var I=new ii("action","action",null,u,m);r.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(To!==0){var j=b?GE(m,b):new FormData(m);Yd(o,{pending:!0,data:j,method:m.method,action:g},null,j)}}else typeof g=="function"&&(I.preventDefault(),j=b?GE(m,b):new FormData(m),Yd(o,{pending:!0,data:j,method:m.method,action:g},g,j))},currentTarget:m}]})}}for(var zm=0;zm<Vv.length;zm++){var qm=Vv[zm],yC=qm.toLowerCase(),vC=qm[0].toUpperCase()+qm.slice(1);ai(yC,"on"+vC)}ai(kv,"onAnimationEnd"),ai(Pv,"onAnimationIteration"),ai(Mv,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(M1,"onTransitionRun"),ai(L1,"onTransitionStart"),ai(U1,"onTransitionCancel"),ai(Lv,"onTransitionEnd"),yn("onMouseEnter",["mouseout","mouseover"]),yn("onMouseLeave",["mouseout","mouseover"]),yn("onPointerEnter",["pointerout","pointerover"]),yn("onPointerLeave",["pointerout","pointerover"]),Dt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_C=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ku));function KE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],m=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var I=u[b],j=I.instance,Q=I.currentTarget;if(I=I.listener,j!==g&&m.isPropagationStopped())break e;g=I,m.currentTarget=Q;try{g(m)}catch(ae){af(ae)}m.currentTarget=null,g=j}else for(b=0;b<u.length;b++){if(I=u[b],j=I.instance,Q=I.currentTarget,I=I.listener,j!==g&&m.isPropagationStopped())break e;g=I,m.currentTarget=Q;try{g(m)}catch(ae){af(ae)}m.currentTarget=null,g=j}}}}function it(r,s){var o=s[Xr];o===void 0&&(o=s[Xr]=new Set);var u=r+"__bubble";o.has(u)||(QE(s,r,2,!1),o.add(u))}function Fm(r,s,o){var u=0;s&&(u|=4),QE(o,r,u,s)}var Tf="_reactListening"+Math.random().toString(36).slice(2);function Hm(r){if(!r[Tf]){r[Tf]=!0,Za.forEach(function(o){o!=="selectionchange"&&(_C.has(o)||Fm(o,!1,r),Fm(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Tf]||(s[Tf]=!0,Fm("selectionchange",!1,s))}}function QE(r,s,o,u){switch(y0(s)){case 2:var m=$C;break;case 8:m=GC;break;default:m=rp}o=m.bind(null,s,o,r),m=void 0,!sr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?r.addEventListener(s,o,{capture:!0,passive:m}):r.addEventListener(s,o,!0):m!==void 0?r.addEventListener(s,o,{passive:m}):r.addEventListener(s,o,!1)}function $m(r,s,o,u,m){var g=u;if(!(s&1)&&!(s&2)&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var I=u.stateNode.containerInfo;if(I===m||I.nodeType===8&&I.parentNode===m)break;if(b===4)for(b=u.return;b!==null;){var j=b.tag;if((j===3||j===4)&&(j=b.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;b=b.return}for(;I!==null;){if(b=Pn(I),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){u=g=b;continue e}I=I.parentNode}}u=u.return}Xs(function(){var Q=g,ae=Ci(o),he=[];e:{var ne=Uv.get(r);if(ne!==void 0){var se=ii,xe=r;switch(r){case"keypress":if(yr(o)===0)break e;case"keydown":case"keyup":se=Be;break;case"focusin":xe="focus",se=N;break;case"focusout":xe="blur",se=N;break;case"beforeblur":case"afterblur":se=N;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=w;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Ut;break;case kv:case Pv:case Mv:se=z;break;case Lv:se=on;break;case"scroll":case"scrollend":se=Yo;break;case"wheel":se=ur;break;case"copy":case"cut":case"paste":se=Z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=At;break;case"toggle":case"beforetoggle":se=no}var Fe=(s&4)!==0,$t=!Fe&&(r==="scroll"||r==="scrollend"),W=Fe?ne!==null?ne+"Capture":null:ne;Fe=[];for(var G=Q,ee;G!==null;){var oe=G;if(ee=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||ee===null||W===null||(oe=Ii(G,W),oe!=null&&Fe.push(Pu(G,oe,ee))),$t)break;G=G.return}0<Fe.length&&(ne=new se(ne,xe,null,o,ae),he.push({event:ne,listeners:Fe}))}}if(!(s&7)){e:{if(ne=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",ne&&o!==Gn&&(xe=o.relatedTarget||o.fromElement)&&(Pn(xe)||xe[Yr]))break e;if((se||ne)&&(ne=ae.window===ae?ae:(ne=ae.ownerDocument)?ne.defaultView||ne.parentWindow:window,se?(xe=o.relatedTarget||o.toElement,se=Q,xe=xe?Pn(xe):null,xe!==null&&($t=ge(xe),Fe=xe.tag,xe!==$t||Fe!==5&&Fe!==27&&Fe!==6)&&(xe=null)):(se=null,xe=Q),se!==xe)){if(Fe=Kn,oe="onMouseLeave",W="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Fe=At,oe="onPointerLeave",W="onPointerEnter",G="pointer"),$t=se==null?ne:wi(se),ee=xe==null?ne:wi(xe),ne=new Fe(oe,G+"leave",se,o,ae),ne.target=$t,ne.relatedTarget=ee,oe=null,Pn(ae)===Q&&(Fe=new Fe(W,G+"enter",xe,o,ae),Fe.target=ee,Fe.relatedTarget=$t,oe=Fe),$t=oe,se&&xe)t:{for(Fe=se,W=xe,G=0,ee=Fe;ee;ee=vl(ee))G++;for(ee=0,oe=W;oe;oe=vl(oe))ee++;for(;0<G-ee;)Fe=vl(Fe),G--;for(;0<ee-G;)W=vl(W),ee--;for(;G--;){if(Fe===W||W!==null&&Fe===W.alternate)break t;Fe=vl(Fe),W=vl(W)}Fe=null}else Fe=null;se!==null&&YE(he,ne,se,Fe,!1),xe!==null&&$t!==null&&YE(he,$t,xe,Fe,!0)}}e:{if(ne=Q?wi(Q):window,se=ne.nodeName&&ne.nodeName.toLowerCase(),se==="select"||se==="input"&&ne.type==="file")var Ae=bv;else if(un(ne))if(wv)Ae=N1;else{Ae=O1;var Xe=I1}else se=ne.nodeName,!se||se.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?Q&&Ys(Q.elementType)&&(Ae=bv):Ae=x1;if(Ae&&(Ae=Ae(r,Q))){os(he,Ae,o,ae);break e}Xe&&Xe(r,ne,Q),r==="focusout"&&Q&&ne.type==="number"&&Q.memoizedProps.value!=null&&Ks(ne,"number",ne.value)}switch(Xe=Q?wi(Q):window,r){case"focusin":(un(Xe)||Xe.contentEditable==="true")&&(Xo=Xe,bd=Q,au=null);break;case"focusout":au=bd=Xo=null;break;case"mousedown":wd=!0;break;case"contextmenu":case"mouseup":case"dragend":wd=!1,Nv(he,o,ae);break;case"selectionchange":if(P1)break;case"keydown":case"keyup":Nv(he,o,ae)}var ke;if(Di)e:{switch(r){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else at?re(r,o)&&(Le="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(T&&o.locale!=="ko"&&(at||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&at&&(ke=xi()):(ar=ae,ri="value"in ar?ar.value:ar.textContent,at=!0)),Xe=bf(Q,Le),0<Xe.length&&(Le=new Ce(Le,r,null,o,ae),he.push({event:Le,listeners:Xe}),ke?Le.data=ke:(ke=_e(o),ke!==null&&(Le.data=ke)))),(ke=v?ln(r,o):ot(r,o))&&(Le=bf(Q,"onBeforeInput"),0<Le.length&&(Xe=new Ce("onBeforeInput","beforeinput",null,o,ae),he.push({event:Xe,listeners:Le}),Xe.data=ke)),gC(he,r,Q,o,ae)}KE(he,s)})}function Pu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function bf(r,s){for(var o=s+"Capture",u=[];r!==null;){var m=r,g=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ii(r,o),m!=null&&u.unshift(Pu(r,m,g)),m=Ii(r,s),m!=null&&u.push(Pu(r,m,g))),r=r.return}return u}function vl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function YE(r,s,o,u,m){for(var g=s._reactName,b=[];o!==null&&o!==u;){var I=o,j=I.alternate,Q=I.stateNode;if(I=I.tag,j!==null&&j===u)break;I!==5&&I!==26&&I!==27||Q===null||(j=Q,m?(Q=Ii(o,g),Q!=null&&b.unshift(Pu(o,Q,j))):m||(Q=Ii(o,g),Q!=null&&b.push(Pu(o,Q,j)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var EC=/\r\n?/g,TC=/\u0000|\uFFFD/g;function XE(r){return(typeof r=="string"?r:""+r).replace(EC,`
`).replace(TC,"")}function WE(r,s){return s=XE(s),XE(r)===s}function wf(){}function wt(r,s,o,u,m,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||rr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&rr(r,""+u);break;case"className":gr(r,"class",u);break;case"tabIndex":gr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":gr(r,o,u);break;case"style":ss(r,u,g);break;case"data":if(s!=="object"){gr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Pr(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&wt(r,s,"name",m.name,m,null),wt(r,s,"formEncType",m.formEncType,m,null),wt(r,s,"formMethod",m.formMethod,m,null),wt(r,s,"formTarget",m.formTarget,m,null)):(wt(r,s,"encType",m.encType,m,null),wt(r,s,"method",m.method,m,null),wt(r,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Pr(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=wf);break;case"onScroll":u!=null&&it("scroll",r);break;case"onScrollEnd":u!=null&&it("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Pr(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":it("beforetoggle",r),it("toggle",r),Si(r,"popover",u);break;case"xlinkActuate":$n(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":$n(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":$n(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":$n(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":$n(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":$n(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":$n(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":$n(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":$n(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Si(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ru.get(o)||o,Si(r,o,u))}}function Gm(r,s,o,u,m,g){switch(o){case"style":ss(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?rr(r,u):(typeof u=="number"||typeof u=="bigint")&&rr(r,""+u);break;case"onScroll":u!=null&&it("scroll",r);break;case"onScrollEnd":u!=null&&it("scrollend",r);break;case"onClick":u!=null&&(r.onclick=wf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jr.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=r[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,m),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,m);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Si(r,o,u)}}}function In(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",r),it("load",r);var u=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:wt(r,s,g,b,o,null)}}m&&wt(r,s,"srcSet",o.srcSet,o,null),u&&wt(r,s,"src",o.src,o,null);return;case"input":it("invalid",r);var I=g=b=m=null,j=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var ae=o[u];if(ae!=null)switch(u){case"name":m=ae;break;case"type":b=ae;break;case"checked":j=ae;break;case"defaultChecked":Q=ae;break;case"value":g=ae;break;case"defaultValue":I=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,s));break;default:wt(r,s,u,ae,o,null)}}Gs(r,g,I,j,Q,b,m,!1),ns(r);return;case"select":it("invalid",r),u=b=g=null;for(m in o)if(o.hasOwnProperty(m)&&(I=o[m],I!=null))switch(m){case"value":g=I;break;case"defaultValue":b=I;break;case"multiple":u=I;default:wt(r,s,m,I,o,null)}s=g,o=b,r.multiple=!!u,s!=null?ft(r,!!u,s,!1):o!=null&&ft(r,!!u,o,!0);return;case"textarea":it("invalid",r),g=m=u=null;for(b in o)if(o.hasOwnProperty(b)&&(I=o[b],I!=null))switch(b){case"value":u=I;break;case"defaultValue":m=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:wt(r,s,b,I,o,null)}Ai(r,u,m,g),ns(r);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:wt(r,s,j,u,o,null)}return;case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":it("load",r);break;case"video":case"audio":for(u=0;u<ku.length;u++)it(ku[u],r);break;case"image":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"embed":case"source":case"link":it("error",r),it("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:wt(r,s,Q,u,o,null)}return;default:if(Ys(s)){for(ae in o)o.hasOwnProperty(ae)&&(u=o[ae],u!==void 0&&Gm(r,s,ae,u,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(u=o[I],u!=null&&wt(r,s,I,u,o,null))}function bC(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,b=null,I=null,j=null,Q=null,ae=null;for(se in o){var he=o[se];if(o.hasOwnProperty(se)&&he!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":j=he;default:u.hasOwnProperty(se)||wt(r,s,se,null,u,he)}}for(var ne in u){var se=u[ne];if(he=o[ne],u.hasOwnProperty(ne)&&(se!=null||he!=null))switch(ne){case"type":g=se;break;case"name":m=se;break;case"checked":Q=se;break;case"defaultChecked":ae=se;break;case"value":b=se;break;case"defaultValue":I=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,s));break;default:se!==he&&wt(r,s,ne,se,u,he)}}ei(r,b,I,j,Q,ae,g,m);return;case"select":se=b=I=ne=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":se=j;default:u.hasOwnProperty(g)||wt(r,s,g,null,u,j)}for(m in u)if(g=u[m],j=o[m],u.hasOwnProperty(m)&&(g!=null||j!=null))switch(m){case"value":ne=g;break;case"defaultValue":I=g;break;case"multiple":b=g;default:g!==j&&wt(r,s,m,g,u,j)}s=I,o=b,u=se,ne!=null?ft(r,!!o,ne,!1):!!u!=!!o&&(s!=null?ft(r,!!o,s,!0):ft(r,!!o,o?[]:"",!1));return;case"textarea":se=ne=null;for(I in o)if(m=o[I],o.hasOwnProperty(I)&&m!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:wt(r,s,I,null,u,m)}for(b in u)if(m=u[b],g=o[b],u.hasOwnProperty(b)&&(m!=null||g!=null))switch(b){case"value":ne=m;break;case"defaultValue":se=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&wt(r,s,b,m,u,g)}is(r,ne,se);return;case"option":for(var xe in o)if(ne=o[xe],o.hasOwnProperty(xe)&&ne!=null&&!u.hasOwnProperty(xe))switch(xe){case"selected":r.selected=!1;break;default:wt(r,s,xe,null,u,ne)}for(j in u)if(ne=u[j],se=o[j],u.hasOwnProperty(j)&&ne!==se&&(ne!=null||se!=null))switch(j){case"selected":r.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:wt(r,s,j,ne,u,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in o)ne=o[Fe],o.hasOwnProperty(Fe)&&ne!=null&&!u.hasOwnProperty(Fe)&&wt(r,s,Fe,null,u,ne);for(Q in u)if(ne=u[Q],se=o[Q],u.hasOwnProperty(Q)&&ne!==se&&(ne!=null||se!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:wt(r,s,Q,ne,u,se)}return;default:if(Ys(s)){for(var $t in o)ne=o[$t],o.hasOwnProperty($t)&&ne!==void 0&&!u.hasOwnProperty($t)&&Gm(r,s,$t,void 0,u,ne);for(ae in u)ne=u[ae],se=o[ae],!u.hasOwnProperty(ae)||ne===se||ne===void 0&&se===void 0||Gm(r,s,ae,ne,u,se);return}}for(var W in o)ne=o[W],o.hasOwnProperty(W)&&ne!=null&&!u.hasOwnProperty(W)&&wt(r,s,W,null,u,ne);for(he in u)ne=u[he],se=o[he],!u.hasOwnProperty(he)||ne===se||ne==null&&se==null||wt(r,s,he,ne,u,se)}var Km=null,Qm=null;function Rf(r){return r.nodeType===9?r:r.ownerDocument}function ZE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Ym(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xm=null;function wC(){var r=window.event;return r&&r.type==="popstate"?r===Xm?!1:(Xm=r,!0):(Xm=null,!1)}var e0=typeof setTimeout=="function"?setTimeout:void 0,RC=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,SC=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(r){return t0.resolve(null).then(r).catch(AC)}:e0;function AC(r){setTimeout(function(){throw r})}function Wm(r,s){var o=s,u=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(u===0){r.removeChild(m),qu(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=m}while(o);qu(s)}function Zm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Zm(o),pr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function CC(r,s,o,u){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Wr])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==m.rel||r.getAttribute("href")!==(m.href==null?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=ui(r.nextSibling),r===null)break}return null}function IC(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ui(r.nextSibling),r===null))return null;return r}function ui(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function n0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function r0(r,s,o){switch(s=Rf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var Gr=new Map,i0=new Set;function Sf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var bs=ve.d;ve.d={f:OC,r:xC,D:NC,C:DC,L:kC,m:PC,X:LC,S:MC,M:UC};function OC(){var r=bs.f(),s=yf();return r||s}function xC(r){var s=Zr(r);s!==null&&s.tag===5&&s.type==="form"?N_(s):bs.r(r)}var _l=typeof document>"u"?null:document;function s0(r,s,o){var u=_l;if(u&&typeof s=="string"&&s){var m=yt(s);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),i0.has(m)||(i0.add(m),r={rel:r,crossOrigin:o,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),In(s,"link",r),Nt(s),u.head.appendChild(s)))}}function NC(r){bs.D(r),s0("dns-prefetch",r,null)}function DC(r,s){bs.C(r,s),s0("preconnect",r,s)}function kC(r,s,o){bs.L(r,s,o);var u=_l;if(u&&r&&s){var m='link[rel="preload"][as="'+yt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+yt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+yt(o.imageSizes)+'"]')):m+='[href="'+yt(r)+'"]';var g=m;switch(s){case"style":g=El(r);break;case"script":g=Tl(r)}Gr.has(g)||(r=M({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Gr.set(g,r),u.querySelector(m)!==null||s==="style"&&u.querySelector(Mu(g))||s==="script"&&u.querySelector(Lu(g))||(s=u.createElement("link"),In(s,"link",r),Nt(s),u.head.appendChild(s)))}}function PC(r,s){bs.m(r,s);var o=_l;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+yt(u)+'"][href="'+yt(r)+'"]',g=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Tl(r)}if(!Gr.has(g)&&(r=M({rel:"modulepreload",href:r},s),Gr.set(g,r),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Lu(g)))return}u=o.createElement("link"),In(u,"link",r),Nt(u),o.head.appendChild(u)}}}function MC(r,s,o){bs.S(r,s,o);var u=_l;if(u&&r){var m=Dr(u).hoistableStyles,g=El(r);s=s||"default";var b=m.get(g);if(!b){var I={loading:0,preload:null};if(b=u.querySelector(Mu(g)))I.loading=5;else{r=M({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Gr.get(g))&&Jm(r,o);var j=b=u.createElement("link");Nt(j),In(j,"link",r),j._p=new Promise(function(Q,ae){j.onload=Q,j.onerror=ae}),j.addEventListener("load",function(){I.loading|=1}),j.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Af(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:I},m.set(g,b)}}}function LC(r,s){bs.X(r,s);var o=_l;if(o&&r){var u=Dr(o).hoistableScripts,m=Tl(r),g=u.get(m);g||(g=o.querySelector(Lu(m)),g||(r=M({src:r,async:!0},s),(s=Gr.get(m))&&ep(r,s),g=o.createElement("script"),Nt(g),In(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function UC(r,s){bs.M(r,s);var o=_l;if(o&&r){var u=Dr(o).hoistableScripts,m=Tl(r),g=u.get(m);g||(g=o.querySelector(Lu(m)),g||(r=M({src:r,async:!0,type:"module"},s),(s=Gr.get(m))&&ep(r,s),g=o.createElement("script"),Nt(g),In(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(m,g))}}function a0(r,s,o,u){var m=(m=mn.current)?Sf(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=El(o.href),o=Dr(m).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=El(o.href);var g=Dr(m).hoistableStyles,b=g.get(r);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=m.querySelector(Mu(r)))&&!g._p&&(b.instance=g,b.state.loading=5),Gr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Gr.set(r,o),g||VC(m,r,o,b.state))),s&&u===null)throw Error(i(528,""));return b}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Tl(o),o=Dr(m).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function El(r){return'href="'+yt(r)+'"'}function Mu(r){return'link[rel="stylesheet"]['+r+"]"}function o0(r){return M({},r,{"data-precedence":r.precedence,precedence:null})}function VC(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),In(s,"link",o),Nt(s),r.head.appendChild(s))}function Tl(r){return'[src="'+yt(r)+'"]'}function Lu(r){return"script[async]"+r}function l0(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+yt(o.href)+'"]');if(u)return s.instance=u,Nt(u),u;var m=M({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Nt(u),In(u,"style",m),Af(u,o.precedence,r),s.instance=u;case"stylesheet":m=El(o.href);var g=r.querySelector(Mu(m));if(g)return s.state.loading|=4,s.instance=g,Nt(g),g;u=o0(o),(m=Gr.get(m))&&Jm(u,m),g=(r.ownerDocument||r).createElement("link"),Nt(g);var b=g;return b._p=new Promise(function(I,j){b.onload=I,b.onerror=j}),In(g,"link",u),s.state.loading|=4,Af(g,o.precedence,r),s.instance=g;case"script":return g=Tl(o.src),(m=r.querySelector(Lu(g)))?(s.instance=m,Nt(m),m):(u=o,(m=Gr.get(g))&&(u=M({},o),ep(u,m)),r=r.ownerDocument||r,m=r.createElement("script"),Nt(m),In(m,"link",u),r.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(u=s.instance,s.state.loading|=4,Af(u,o.precedence,r));return s.instance}function Af(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,g=m,b=0;b<u.length;b++){var I=u[b];if(I.dataset.precedence===s)g=I;else if(g!==m)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Jm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function ep(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Cf=null;function u0(r,s,o){if(Cf===null){var u=new Map,m=Cf=new Map;m.set(o,u)}else m=Cf,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var g=o[m];if(!(g[Wr]||g[Jt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=r+b;var I=u.get(b);I?I.push(g):u.set(b,[g])}}return u}function c0(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function jC(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function f0(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var Uu=null;function BC(){}function zC(r,s,o){if(Uu===null)throw Error(i(475));var u=Uu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var m=El(o.href),g=r.querySelector(Mu(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=If.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,Nt(g);return}g=r.ownerDocument||r,o=o0(o),(m=Gr.get(m))&&Jm(o,m),g=g.createElement("link"),Nt(g);var b=g;b._p=new Promise(function(I,j){b.onload=I,b.onerror=j}),In(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&!(s.state.loading&3)&&(u.count++,s=If.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function qC(){if(Uu===null)throw Error(i(475));var r=Uu;return r.stylesheets&&r.count===0&&tp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&tp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function If(){if(this.count--,this.count===0){if(this.stylesheets)tp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Of=null;function tp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Of=new Map,s.forEach(FC,r),Of=null,If.call(r))}function FC(r,s){if(!(s.state.loading&4)){var o=Of.get(r);if(o)var u=o.get(null);else{o=new Map,Of.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var b=m[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}m=s.instance,b=m.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,m),o.set(b,m),this.count++,u=If.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),g?g.parentNode.insertBefore(m,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),s.state.loading|=4}}var Vu={$$typeof:A,Provider:null,Consumer:null,_currentValue:Me,_currentValue2:Me,_threadCount:0};function HC(r,s,o,u,m,g,b,I){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function h0(r,s,o,u,m,g,b,I,j,Q,ae,he){return r=new HC(r,s,o,b,I,j,Q,he),s=1,g===!0&&(s|=24),g=Hr(3,null,null,s),r.current=g,g.stateNode=r,s=kd(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},dm(g),r}function d0(r){return r?(r=Jo,r):Jo}function m0(r,s,o,u,m,g){m=d0(m),u.context===null?u.context=m:u.pendingContext=m,u=aa(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=oa(r,u,s),o!==null&&(Yn(o,r,s),Tu(o,r,s))}function p0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function np(r,s){p0(r,s),(r=r.alternate)&&p0(r,s)}function g0(r){if(r.tag===13){var s=Js(r,67108864);s!==null&&Yn(s,r,67108864),np(r,67108864)}}var xf=!0;function $C(r,s,o,u){var m=O.T;O.T=null;var g=ve.p;try{ve.p=2,rp(r,s,o,u)}finally{ve.p=g,O.T=m}}function GC(r,s,o,u){var m=O.T;O.T=null;var g=ve.p;try{ve.p=8,rp(r,s,o,u)}finally{ve.p=g,O.T=m}}function rp(r,s,o,u){if(xf){var m=ip(u);if(m===null)$m(r,s,u,Nf,o),v0(r,u);else if(QC(m,r,s,o,u))u.stopPropagation();else if(v0(r,u),s&4&&-1<KC.indexOf(r)){for(;m!==null;){var g=Zr(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=nr(g.pendingLanes);if(b!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;b;){var j=1<<31-gn(b);I.entanglements[1]|=j,b&=~j}Vi(g),!(jt&6)&&(mf=Rn()+500,Du(0))}}break;case 13:I=Js(g,2),I!==null&&Yn(I,g,2),yf(),np(g,2)}if(g=ip(u),g===null&&$m(r,s,u,Nf,o),g===m)break;m=g}m!==null&&u.stopPropagation()}else $m(r,s,u,null,o)}}function ip(r){return r=Ci(r),sp(r)}var Nf=null;function sp(r){if(Nf=null,r=Pn(r),r!==null){var s=ge(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=Ge(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Nf=r,null}function y0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qo()){case te:return 2;case Ie:return 8;case Or:case $a:return 32;case Ga:return 268435456;default:return 32}default:return 32}}var ap=!1,ma=null,pa=null,ga=null,ju=new Map,Bu=new Map,ya=[],KC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v0(r,s){switch(r){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":ju.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bu.delete(s.pointerId)}}function zu(r,s,o,u,m,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Zr(s),s!==null&&g0(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function QC(r,s,o,u,m){switch(s){case"focusin":return ma=zu(ma,r,s,o,u,m),!0;case"dragenter":return pa=zu(pa,r,s,o,u,m),!0;case"mouseover":return ga=zu(ga,r,s,o,u,m),!0;case"pointerover":var g=m.pointerId;return ju.set(g,zu(ju.get(g)||null,r,s,o,u,m)),!0;case"gotpointercapture":return g=m.pointerId,Bu.set(g,zu(Bu.get(g)||null,r,s,o,u,m)),!0}return!1}function _0(r){var s=Pn(r.target);if(s!==null){var o=ge(s);if(o!==null){if(s=o.tag,s===13){if(s=Ge(o),s!==null){r.blockedOn=s,Ti(r.priority,function(){if(o.tag===13){var u=wr(),m=Js(o,u);m!==null&&Yn(m,o,u),np(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Df(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=ip(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Gn=u,o.target.dispatchEvent(u),Gn=null}else return s=Zr(o),s!==null&&g0(s),r.blockedOn=o,!1;s.shift()}return!0}function E0(r,s,o){Df(r)&&o.delete(s)}function YC(){ap=!1,ma!==null&&Df(ma)&&(ma=null),pa!==null&&Df(pa)&&(pa=null),ga!==null&&Df(ga)&&(ga=null),ju.forEach(E0),Bu.forEach(E0)}function kf(r,s){r.blockedOn===s&&(r.blockedOn=null,ap||(ap=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YC)))}var Pf=null;function T0(r){Pf!==r&&(Pf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Pf===r&&(Pf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],m=r[s+2];if(typeof u!="function"){if(sp(u||o)===null)continue;break}var g=Zr(o);g!==null&&(r.splice(s,3),s-=3,Yd(g,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function qu(r){function s(j){return kf(j,r)}ma!==null&&kf(ma,r),pa!==null&&kf(pa,r),ga!==null&&kf(ga,r),ju.forEach(s),Bu.forEach(s);for(var o=0;o<ya.length;o++){var u=ya[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ya.length&&(o=ya[0],o.blockedOn===null);)_0(o),o.blockedOn===null&&ya.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],g=o[u+1],b=m[qt]||null;if(typeof g=="function")b||T0(o);else if(b){var I=null;if(g&&g.hasAttribute("formAction")){if(m=g,b=g[qt]||null)I=b.formAction;else if(sp(m)!==null)continue}else I=b.action;typeof I=="function"?o[u+1]=I:(o.splice(u,3),u-=3),T0(o)}}}function op(r){this._internalRoot=r}Mf.prototype.render=op.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=wr();m0(o,u,r,s,null,null)},Mf.prototype.unmount=op.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&gl(),m0(r.current,2,null,r,null,null),yf(),s[Yr]=null}};function Mf(r){this._internalRoot=r}Mf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Qt();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ya.length&&s!==0&&s<ya[o].priority;o++);ya.splice(o,0,r),o===0&&_0(r)}};var b0=e.version;if(b0!=="19.0.0")throw Error(i(527,b0,"19.0.0"));ve.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=fe(s),r=r!==null?Se(r):null,r=r===null?null:r.stateNode,r};var XC={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:O,findFiberByHostInstance:Pn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lf.isDisabled&&Lf.supportsFiber)try{Qr=Lf.inject(XC),pn=Lf}catch{}}return Hu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",m=j_,g=B_,b=z_,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=h0(r,1,!1,null,null,o,u,m,g,b,I,null),r[Yr]=s.current,Hm(r.nodeType===8?r.parentNode:r),new op(s)},Hu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,m="",g=j_,b=B_,I=z_,j=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),s=h0(r,1,!0,s,o??null,u,m,g,b,I,j,Q),s.context=d0(null),o=s.current,u=wr(),m=aa(u),m.callback=null,oa(o,m,u),s.current.lanes=u,xt(s,u),Vi(s),r[Yr]=s.current,Hm(r),new Mf(s)},Hu.version="19.0.0",Hu}var D0;function oI(){if(D0)return cp.exports;D0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cp.exports=aI(),cp.exports}var lI=oI(),$u={},k0;function uI(){if(k0)return $u;k0=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.parse=c,$u.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,A){const D=new l,q=E.length;if(q<2)return D;const L=(A==null?void 0:A.decode)||y;let Y=0;do{const $=E.indexOf("=",Y);if($===-1)break;const K=E.indexOf(";",Y),ie=K===-1?q:K;if($>ie){Y=E.lastIndexOf(";",$-1)+1;continue}const le=h(E,Y,$),me=f(E,$,le),V=E.slice(le,me);if(D[V]===void 0){let C=h(E,$+1,ie),O=f(E,ie,C);const M=L(E.slice(C,O));D[V]=M}Y=ie+1}while(Y<q);return D}function h(E,A,D){do{const q=E.charCodeAt(A);if(q!==32&&q!==9)return A}while(++A<D);return D}function f(E,A,D){for(;A>D;){const q=E.charCodeAt(--A);if(q!==32&&q!==9)return A+1}return D}function p(E,A,D){const q=(D==null?void 0:D.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const L=q(A);if(!e.test(L))throw new TypeError(`argument val is invalid: ${A}`);let Y=E+"="+L;if(!D)return Y;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);Y+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);Y+="; Domain="+D.domain}if(D.path){if(!i.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);Y+="; Path="+D.path}if(D.expires){if(!_(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);Y+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(Y+="; HttpOnly"),D.secure&&(Y+="; Secure"),D.partitioned&&(Y+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return Y}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return $u}uI();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var P0="popstate";function cI(n={}){function e(i,a){let{pathname:l,search:c,hash:h}=i.location;return pg("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:lc(a)}return hI(e,t,null,n)}function Bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ki(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fI(){return Math.random().toString(36).substring(2,10)}function M0(n,e){return{usr:n.state,key:n.key,idx:e}}function pg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Fl(e):e,state:t,key:e&&e.key||i||fI()}}function lc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Fl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function hI(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h="POP",f=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){h="POP";let L=y(),Y=L==null?null:L-p;p=L,f&&f({action:h,location:q.location,delta:Y})}function E(L,Y){h="PUSH";let $=pg(q.location,L,Y);p=y()+1;let K=M0($,p),ie=q.createHref($);try{c.pushState(K,"",ie)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;a.location.assign(ie)}l&&f&&f({action:h,location:q.location,delta:1})}function A(L,Y){h="REPLACE";let $=pg(q.location,L,Y);p=y();let K=M0($,p),ie=q.createHref($);c.replaceState(K,"",ie),l&&f&&f({action:h,location:q.location,delta:0})}function D(L){let Y=a.location.origin!=="null"?a.location.origin:a.location.href,$=typeof L=="string"?L:lc(L);return $=$.replace(/ $/,"%20"),Bt(Y,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,Y)}let q={get action(){return h},get location(){return n(a,c)},listen(L){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(P0,_),f=L,()=>{a.removeEventListener(P0,_),f=null}},createHref(L){return e(a,L)},createURL:D,encodeLocation(L){let Y=D(L);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:E,replace:A,go(L){return c.go(L)}};return q}function vw(n,e,t="/"){return dI(n,e,t,!1)}function dI(n,e,t,i){let a=typeof e=="string"?Fl(e):e,l=Da(a.pathname||"/",t);if(l==null)return null;let c=_w(n);mI(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let p=SI(l);h=wI(c[f],p,i)}return h}function _w(n,e=[],t=[],i=""){let a=(l,c,h)=>{let f={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(Bt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let p=Os([i,f.relativePath]),y=t.concat(f);l.children&&l.children.length>0&&(Bt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),_w(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:TI(p,l.index),routesMeta:y})};return n.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,c);else for(let f of Ew(l.path))a(l,c,f)}),e}function Ew(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=Ew(i.join("/")),h=[];return h.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function mI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:bI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var pI=/^:[\w-]+$/,gI=3,yI=2,vI=1,_I=10,EI=-2,L0=n=>n==="*";function TI(n,e){let t=n.split("/"),i=t.length;return t.some(L0)&&(i+=EI),e&&(i+=yI),t.filter(a=>!L0(a)).reduce((a,l)=>a+(pI.test(l)?gI:l===""?vI:_I),i)}function bI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function wI(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],p=h===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=uh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),E=f.route;if(!_&&p&&t&&!i[i.length-1].route.index&&(_=uh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Os([l,_.pathname]),pathnameBase:OI(Os([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=Os([l,_.pathnameBase]))}return c}function uh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=RI(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let D=h[E]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const A=h[E];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function RI(n,e=!1,t=!0){Ki(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function SI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ki(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Da(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function AI(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Fl(n):n;return{pathname:t?t.startsWith("/")?t:CI(t,e):e,search:xI(i),hash:NI(a)}}function CI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function mp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function II(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Tw(n){let e=II(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function bw(n,e,t,i=!1){let a;typeof n=="string"?a=Fl(n):(a={...n},Bt(!a.pathname||!a.pathname.includes("?"),mp("?","pathname","search",a)),Bt(!a.pathname||!a.pathname.includes("#"),mp("#","pathname","hash",a)),Bt(!a.search||!a.search.includes("#"),mp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=t;else{let _=e.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=AI(a,h),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var Os=n=>n.join("/").replace(/\/\/+/g,"/"),OI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,NI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function DI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ww=["POST","PUT","PATCH","DELETE"];new Set(ww);var kI=["GET",...ww];new Set(kI);var Hl=S.createContext(null);Hl.displayName="DataRouter";var Uh=S.createContext(null);Uh.displayName="DataRouterState";var Rw=S.createContext({isTransitioning:!1});Rw.displayName="ViewTransition";var PI=S.createContext(new Map);PI.displayName="Fetchers";var MI=S.createContext(null);MI.displayName="Await";var Xi=S.createContext(null);Xi.displayName="Navigation";var Ec=S.createContext(null);Ec.displayName="Location";var Wi=S.createContext({outlet:null,matches:[],isDataRoute:!1});Wi.displayName="Route";var Jg=S.createContext(null);Jg.displayName="RouteError";function LI(n,{relative:e}={}){Bt(Tc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=S.useContext(Xi),{hash:a,pathname:l,search:c}=bc(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:Os([t,l])),i.createHref({pathname:h,search:c,hash:a})}function Tc(){return S.useContext(Ec)!=null}function Lo(){return Bt(Tc(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Ec).location}var Sw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Aw(n){S.useContext(Xi).static||S.useLayoutEffect(n)}function Kr(){let{isDataRoute:n}=S.useContext(Wi);return n?YI():UI()}function UI(){Bt(Tc(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(Hl),{basename:e,navigator:t}=S.useContext(Xi),{matches:i}=S.useContext(Wi),{pathname:a}=Lo(),l=JSON.stringify(Tw(i)),c=S.useRef(!1);return Aw(()=>{c.current=!0}),S.useCallback((f,p={})=>{if(Ki(c.current,Sw),!c.current)return;if(typeof f=="number"){t.go(f);return}let y=bw(f,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Os([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,l,a,n])}S.createContext(null);function ey(){let{matches:n}=S.useContext(Wi),e=n[n.length-1];return e?e.params:{}}function bc(n,{relative:e}={}){let{matches:t}=S.useContext(Wi),{pathname:i}=Lo(),a=JSON.stringify(Tw(t));return S.useMemo(()=>bw(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function VI(n,e){return Cw(n,e)}function Cw(n,e,t,i){var $;Bt(Tc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=S.useContext(Xi),{matches:c}=S.useContext(Wi),h=c[c.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let K=_&&_.path||"";Iw(p,!_||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let E=Lo(),A;if(e){let K=typeof e=="string"?Fl(e):e;Bt(y==="/"||(($=K.pathname)==null?void 0:$.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${K.pathname}" was given in the \`location\` prop.`),A=K}else A=E;let D=A.pathname||"/",q=D;if(y!=="/"){let K=y.replace(/^\//,"").split("/");q="/"+D.replace(/^\//,"").split("/").slice(K.length).join("/")}let L=!l&&t&&t.matches&&t.matches.length>0?t.matches:vw(n,{pathname:q});Ki(_||L!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Ki(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=FI(L&&L.map(K=>Object.assign({},K,{params:Object.assign({},f,K.params),pathname:Os([y,a.encodeLocation?a.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?y:Os([y,a.encodeLocation?a.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),c,t,i);return e&&Y?S.createElement(Ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},Y):Y}function jI(){let n=QI(),e=DI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:a},t):null,c)}var BI=S.createElement(jI,null),zI=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?S.createElement(Wi.Provider,{value:this.props.routeContext},S.createElement(Jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qI({routeContext:n,match:e,children:t}){let i=S.useContext(Hl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Wi.Provider,{value:n},t)}function FI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let f=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Bt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,h=-1;if(t)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:y,errors:_}=t,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,p,y)=>{let _,E=!1,A=null,D=null;t&&(_=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||BI,c&&(h<0&&y===0?(Iw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,D=null):h===y&&(E=!0,D=p.route.hydrateFallbackElement||null)));let q=e.concat(a.slice(0,y+1)),L=()=>{let Y;return _?Y=A:E?Y=D:p.route.Component?Y=S.createElement(p.route.Component,null):p.route.element?Y=p.route.element:Y=f,S.createElement(qI,{match:p,routeContext:{outlet:f,matches:q,isDataRoute:t!=null},children:Y})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?S.createElement(zI,{location:t.location,revalidation:t.revalidation,component:A,error:_,children:L(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):L()},null)}function ty(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HI(n){let e=S.useContext(Hl);return Bt(e,ty(n)),e}function $I(n){let e=S.useContext(Uh);return Bt(e,ty(n)),e}function GI(n){let e=S.useContext(Wi);return Bt(e,ty(n)),e}function ny(n){let e=GI(n),t=e.matches[e.matches.length-1];return Bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function KI(){return ny("useRouteId")}function QI(){var i;let n=S.useContext(Jg),e=$I("useRouteError"),t=ny("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function YI(){let{router:n}=HI("useNavigate"),e=ny("useNavigate"),t=S.useRef(!1);return Aw(()=>{t.current=!0}),S.useCallback(async(a,l={})=>{Ki(t.current,Sw),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var U0={};function Iw(n,e,t){!e&&!U0[n]&&(U0[n]=!0,Ki(!1,t))}S.memo(XI);function XI({routes:n,future:e,state:t}){return Cw(n,void 0,t,e)}function Rr(n){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){Bt(!Tc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=S.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Fl(t));let{pathname:f="/",search:p="",hash:y="",state:_=null,key:E="default"}=t,A=S.useMemo(()=>{let D=Da(f,c);return D==null?null:{location:{pathname:D,search:p,hash:y,state:_,key:E},navigationType:i}},[c,f,p,y,_,E,i]);return Ki(A!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:S.createElement(Xi.Provider,{value:h},S.createElement(Ec.Provider,{children:e,value:A}))}function ZI({children:n,location:e}){return VI(gg(n),e)}function gg(n,e=[]){let t=[];return S.Children.forEach(n,(i,a)=>{if(!S.isValidElement(i))return;let l=[...e,a];if(i.type===S.Fragment){t.push.apply(t,gg(i.props.children,l));return}Bt(i.type===Rr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=gg(i.props.children,l)),t.push(c)}),t}var Wf="get",Zf="application/x-www-form-urlencoded";function Vh(n){return n!=null&&typeof n.tagName=="string"}function JI(n){return Vh(n)&&n.tagName.toLowerCase()==="button"}function eO(n){return Vh(n)&&n.tagName.toLowerCase()==="form"}function tO(n){return Vh(n)&&n.tagName.toLowerCase()==="input"}function nO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rO(n,e){return n.button===0&&(!e||e==="_self")&&!nO(n)}var Uf=null;function iO(){if(Uf===null)try{new FormData(document.createElement("form"),0),Uf=!1}catch{Uf=!0}return Uf}var sO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pp(n){return n!=null&&!sO.has(n)?(Ki(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zf}"`),null):n}function aO(n,e){let t,i,a,l,c;if(eO(n)){let h=n.getAttribute("action");i=h?Da(h,e):null,t=n.getAttribute("method")||Wf,a=pp(n.getAttribute("enctype"))||Zf,l=new FormData(n)}else if(JI(n)||tO(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Da(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Wf,a=pp(n.getAttribute("formenctype"))||pp(h.getAttribute("enctype"))||Zf,l=new FormData(h,n),!iO()){let{name:p,type:y,value:_}=n;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(Vh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Wf,i=null,a=Zf,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function ry(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function oO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function uO(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await oO(l,t);return c.links?c.links():[]}return[]}));return dO(i.flat(1).filter(lO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function V0(n,e,t,i,a,l){let c=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var y;return t[p].pathname!==f.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,p)=>c(f,p)||h(f,p)):l==="data"?e.filter((f,p)=>{var _;let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function cO(n,e){return fO(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let a=[i.module];return i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function fO(n){return[...new Set(n)]}function hO(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function dO(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(hO(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function mO(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function pO(){let n=S.useContext(Hl);return ry(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function gO(){let n=S.useContext(Uh);return ry(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var iy=S.createContext(void 0);iy.displayName="FrameworkContext";function Ow(){let n=S.useContext(iy);return ry(n,"You must render this element inside a <HydratedRouter> element"),n}function yO(n,e){let t=S.useContext(iy),[i,a]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=S.useRef(null);S.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let q=Y=>{Y.forEach($=>{c($.isIntersecting)})},L=new IntersectionObserver(q,{threshold:.5});return E.current&&L.observe(E.current),()=>{L.disconnect()}}},[n]),S.useEffect(()=>{if(i){let q=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(q)}}},[i]);let A=()=>{a(!0)},D=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:Gu(h,A),onBlur:Gu(f,D),onMouseEnter:Gu(p,A),onMouseLeave:Gu(y,D),onTouchStart:Gu(_,A)}]:[!1,E,{}]}function Gu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function vO({page:n,...e}){let{router:t}=pO(),i=S.useMemo(()=>vw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?S.createElement(EO,{page:n,matches:i,...e}):null}function _O(n){let{manifest:e,routeModules:t}=Ow(),[i,a]=S.useState([]);return S.useEffect(()=>{let l=!1;return uO(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function EO({page:n,matches:e,...t}){let i=Lo(),{manifest:a,routeModules:l}=Ow(),{loaderData:c,matches:h}=gO(),f=S.useMemo(()=>V0(n,e,h,a,i,"data"),[n,e,h,a,i]),p=S.useMemo(()=>V0(n,e,h,a,i,"assets"),[n,e,h,a,i]),y=S.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,D=!1;if(e.forEach(L=>{var $;let Y=a.routes[L.route.id];!Y||!Y.hasLoader||(!f.some(K=>K.route.id===L.route.id)&&L.route.id in c&&(($=l[L.route.id])!=null&&$.shouldRevalidate)||Y.hasClientLoader?D=!0:A.add(L.route.id))}),A.size===0)return[];let q=mO(n);return D&&A.size>0&&q.searchParams.set("_routes",e.filter(L=>A.has(L.route.id)).map(L=>L.route.id).join(",")),[q.pathname+q.search]},[c,i,a,f,e,n,l]),_=S.useMemo(()=>cO(p,a),[p,a]),E=_O(p);return S.createElement(S.Fragment,null,y.map(A=>S.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),_.map(A=>S.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),E.map(({key:A,link:D})=>S.createElement("link",{key:A,...D})))}function TO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var xw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xw&&(window.__reactRouterVersion="7.1.5")}catch{}function bO({basename:n,children:e,window:t}){let i=S.useRef();i.current==null&&(i.current=cI({window:t,v5Compat:!0}));let a=i.current,[l,c]=S.useState({action:a.action,location:a.location}),h=S.useCallback(f=>{S.startTransition(()=>c(f))},[c]);return S.useLayoutEffect(()=>a.listen(h),[a,h]),S.createElement(WI,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var Nw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ws=S.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:h,target:f,to:p,preventScrollReset:y,viewTransition:_,...E},A){let{basename:D}=S.useContext(Xi),q=typeof p=="string"&&Nw.test(p),L,Y=!1;if(typeof p=="string"&&q&&(L=p,xw))try{let O=new URL(window.location.href),M=p.startsWith("//")?new URL(O.protocol+p):new URL(p),B=Da(M.pathname,D);M.origin===O.origin&&B!=null?p=B+M.search+M.hash:Y=!0}catch{Ki(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=LI(p,{relative:a}),[K,ie,le]=yO(i,E),me=AO(p,{replace:c,state:h,target:f,preventScrollReset:y,relative:a,viewTransition:_});function V(O){e&&e(O),O.defaultPrevented||me(O)}let C=S.createElement("a",{...E,...le,href:L||$,onClick:Y||l?e:V,ref:TO(A,ie),target:f,"data-discover":!q&&t==="render"?"true":void 0});return K&&!q?S.createElement(S.Fragment,null,C,S.createElement(vO,{page:$})):C});ws.displayName="Link";var wO=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:h,children:f,...p},y){let _=bc(c,{relative:p.relative}),E=Lo(),A=S.useContext(Uh),{navigator:D,basename:q}=S.useContext(Xi),L=A!=null&&NO(_)&&h===!0,Y=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,$=E.pathname,K=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||($=$.toLowerCase(),K=K?K.toLowerCase():null,Y=Y.toLowerCase()),K&&q&&(K=Da(K,q)||K);const ie=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let le=$===Y||!a&&$.startsWith(Y)&&$.charAt(ie)==="/",me=K!=null&&(K===Y||!a&&K.startsWith(Y)&&K.charAt(Y.length)==="/"),V={isActive:le,isPending:me,isTransitioning:L},C=le?e:void 0,O;typeof i=="function"?O=i(V):O=[i,le?"active":null,me?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(V):l;return S.createElement(ws,{...p,"aria-current":C,className:O,ref:y,style:M,to:c,viewTransition:h},typeof f=="function"?f(V):f)});wO.displayName="NavLink";var RO=S.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Wf,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:_,...E},A)=>{let D=OO(),q=xO(h,{relative:p}),L=c.toLowerCase()==="get"?"get":"post",Y=typeof h=="string"&&Nw.test(h),$=K=>{if(f&&f(K),K.defaultPrevented)return;K.preventDefault();let ie=K.nativeEvent.submitter,le=(ie==null?void 0:ie.getAttribute("formmethod"))||c;D(ie||K.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return S.createElement("form",{ref:A,method:L,action:q,onSubmit:i?f:$,...E,"data-discover":!Y&&n==="render"?"true":void 0})});RO.displayName="Form";function SO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dw(n){let e=S.useContext(Hl);return Bt(e,SO(n)),e}function AO(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let h=Kr(),f=Lo(),p=bc(n,{relative:l});return S.useCallback(y=>{if(rO(y,e)){y.preventDefault();let _=t!==void 0?t:lc(f)===lc(p);h(n,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[f,h,p,t,i,e,n,a,l,c])}var CO=0,IO=()=>`__${String(++CO)}__`;function OO(){let{router:n}=Dw("useSubmit"),{basename:e}=S.useContext(Xi),t=KI();return S.useCallback(async(i,a={})=>{let{action:l,method:c,encType:h,formData:f,body:p}=aO(i,e);if(a.navigate===!1){let y=a.fetcherKey||IO();await n.fetch(y,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function xO(n,{relative:e}={}){let{basename:t}=S.useContext(Xi),i=S.useContext(Wi);Bt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...bc(n||".",{relative:e})},c=Lo();if(n==null){l.search=c.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Os([t,l.pathname])),lc(l)}function NO(n,e={}){let t=S.useContext(Rw);Bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Dw("useViewTransitionState"),a=bc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Da(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Da(t.nextLocation.pathname,i)||t.nextLocation.pathname;return uh(a.pathname,c)!=null||uh(a.pathname,l)!=null}new TextEncoder;var DO=yw();const Ol=Lh(DO);var gp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var j0;function kO(){return j0||(j0=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var l="",c=0;c<arguments.length;c++){var h=arguments[c];h&&(l=a(l,i(h)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var h in l)e.call(l,h)&&l[h]&&(c=a(c,h));return c}function a(l,c){return c?l?l+" "+c:l+c:l}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(gp)),gp.exports}var PO=kO();const Ue=Lh(PO),MO=["xxl","xl","lg","md","sm","xs"],LO="xs",jh=S.createContext({prefixes:{},breakpoints:MO,minBreakpoint:LO}),{Consumer:Nj,Provider:Dj}=jh;function He(n,e){const{prefixes:t}=S.useContext(jh);return n||t[e]||e}function UO(){const{breakpoints:n}=S.useContext(jh);return n}function VO(){const{minBreakpoint:n}=S.useContext(jh);return n}const sy=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=He(e,"card-group"),P.jsx(t,{ref:a,className:Ue(n,e),...i})));sy.displayName="CardGroup";var B0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},jO=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],h=n[t++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Pw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,p=f?n[a+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let E=(h&15)<<2|p>>6,A=p&63;f||(A=64,c||(E=64)),i.push(t[y],t[_],t[E],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):jO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||h==null||p==null||_==null)throw new BO;const E=l<<2|h>>4;if(i.push(E),p!==64){const A=h<<4&240|p>>2;if(i.push(A),_!==64){const D=p<<6&192|_;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class BO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zO=function(n){const e=kw(n);return Pw.encodeByteArray(e,!0)},ch=function(n){return zO(n).replace(/\./g,"")},Mw=function(n){try{return Pw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=()=>qO().__FIREBASE_DEFAULTS__,HO=()=>{if(typeof process>"u"||typeof B0>"u")return;const n=B0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$O=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Mw(n[1]);return e&&JSON.parse(e)},Bh=()=>{try{return FO()||HO()||$O()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Lw=n=>{var e,t;return(t=(e=Bh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Uw=n=>{const e=Lw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Vw=()=>{var n;return(n=Bh())===null||n===void 0?void 0:n.config},jw=n=>{var e;return(e=Bh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ch(JSON.stringify(t)),ch(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function QO(){var n;const e=(n=Bh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function WO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZO(){const n=zn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function JO(){return!QO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ex(){try{return typeof indexedDB=="object"}catch{return!1}}function tx(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="FirebaseError";class Zi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=nx,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wc.prototype.create)}}class wc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?rx(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Zi(a,h,i)}}function rx(n,e){return n.replace(ix,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const ix=/\{\$([^}]+)}/g;function sx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function fh(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(z0(l)&&z0(c)){if(!fh(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function z0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Yu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Xu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ax(n,e){const t=new ox(n,e);return t.subscribe.bind(t)}class ox{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");lx(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=yp),a.error===void 0&&(a.error=yp),a.complete===void 0&&(a.complete=yp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(n){return n&&n._delegate?n._delegate:n}class ka{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new GO;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fx(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:cx(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cx(n){return n===Ro?void 0:n}function fx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ux(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(et||(et={}));const dx={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},mx=et.INFO,px={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},gx=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=px[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ay{constructor(e){this.name=e,this._logLevel=mx,this._logHandler=gx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const yx=(n,e)=>e.some(t=>n instanceof t);let q0,F0;function vx(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _x(){return F0||(F0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zw=new WeakMap,yg=new WeakMap,qw=new WeakMap,vp=new WeakMap,oy=new WeakMap;function Ex(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ia(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&zw.set(t,n)}).catch(()=>{}),oy.set(e,n),e}function Tx(n){if(yg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});yg.set(n,e)}let vg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return yg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||qw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ia(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bx(n){vg=n(vg)}function wx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(_p(this),e,...t);return qw.set(i,e.sort?e.sort():[e]),Ia(i)}:_x().includes(n)?function(...e){return n.apply(_p(this),e),Ia(zw.get(this))}:function(...e){return Ia(n.apply(_p(this),e))}}function Rx(n){return typeof n=="function"?wx(n):(n instanceof IDBTransaction&&Tx(n),yx(n,vx())?new Proxy(n,vg):n)}function Ia(n){if(n instanceof IDBRequest)return Ex(n);if(vp.has(n))return vp.get(n);const e=Rx(n);return e!==n&&(vp.set(n,e),oy.set(e,n)),e}const _p=n=>oy.get(n);function Sx(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),h=Ia(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Ia(c.result),f.oldVersion,f.newVersion,Ia(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const Ax=["get","getKey","getAll","getAllKeys","count"],Cx=["put","add","delete","clear"],Ep=new Map;function H0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ep.get(e))return Ep.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=Cx.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||Ax.includes(t)))return;const l=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),a&&f.done]))[0]};return Ep.set(e,l),l}bx(n=>({...n,get:(e,t,i)=>H0(e,t)||n.get(e,t,i),has:(e,t)=>!!H0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Ox(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Ox(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _g="@firebase/app",$0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new ay("@firebase/app"),xx="@firebase/app-compat",Nx="@firebase/analytics-compat",Dx="@firebase/analytics",kx="@firebase/app-check-compat",Px="@firebase/app-check",Mx="@firebase/auth",Lx="@firebase/auth-compat",Ux="@firebase/database",Vx="@firebase/data-connect",jx="@firebase/database-compat",Bx="@firebase/functions",zx="@firebase/functions-compat",qx="@firebase/installations",Fx="@firebase/installations-compat",Hx="@firebase/messaging",$x="@firebase/messaging-compat",Gx="@firebase/performance",Kx="@firebase/performance-compat",Qx="@firebase/remote-config",Yx="@firebase/remote-config-compat",Xx="@firebase/storage",Wx="@firebase/storage-compat",Zx="@firebase/firestore",Jx="@firebase/vertexai",eN="@firebase/firestore-compat",tN="firebase",nN="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="[DEFAULT]",rN={[_g]:"fire-core",[xx]:"fire-core-compat",[Dx]:"fire-analytics",[Nx]:"fire-analytics-compat",[Px]:"fire-app-check",[kx]:"fire-app-check-compat",[Mx]:"fire-auth",[Lx]:"fire-auth-compat",[Ux]:"fire-rtdb",[Vx]:"fire-data-connect",[jx]:"fire-rtdb-compat",[Bx]:"fire-fn",[zx]:"fire-fn-compat",[qx]:"fire-iid",[Fx]:"fire-iid-compat",[Hx]:"fire-fcm",[$x]:"fire-fcm-compat",[Gx]:"fire-perf",[Kx]:"fire-perf-compat",[Qx]:"fire-rc",[Yx]:"fire-rc-compat",[Xx]:"fire-gcs",[Wx]:"fire-gcs-compat",[Zx]:"fire-fst",[eN]:"fire-fst-compat",[Jx]:"fire-vertex","fire-js":"fire-js",[tN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,iN=new Map,Tg=new Map;function G0(n,e){try{n.container.addComponent(e)}catch(t){Ps.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Oo(n){const e=n.name;if(Tg.has(e))return Ps.debug(`There were multiple attempts to register component ${e}.`),!1;Tg.set(e,n);for(const t of hh.values())G0(t,n);for(const t of iN.values())G0(t,n);return!0}function zh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Sr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oa=new wc("app","Firebase",sN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=nN;function Fw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Eg,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Oa.create("bad-app-name",{appName:String(a)});if(t||(t=Vw()),!t)throw Oa.create("no-options");const l=hh.get(a);if(l){if(fh(t,l.options)&&fh(i,l.config))return l;throw Oa.create("duplicate-app",{appName:a})}const c=new hx(a);for(const f of Tg.values())c.addComponent(f);const h=new aN(t,i,c);return hh.set(a,h),h}function ly(n=Eg){const e=hh.get(n);if(!e&&n===Eg&&Vw())return Fw();if(!e)throw Oa.create("no-app",{appName:n});return e}function qi(n,e,t){var i;let a=(i=rN[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ps.warn(h.join(" "));return}Oo(new ka(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="firebase-heartbeat-database",lN=1,uc="firebase-heartbeat-store";let Tp=null;function Hw(){return Tp||(Tp=Sx(oN,lN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(uc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Oa.create("idb-open",{originalErrorMessage:n.message})})),Tp}async function uN(n){try{const t=(await Hw()).transaction(uc),i=await t.objectStore(uc).get($w(n));return await t.done,i}catch(e){if(e instanceof Zi)Ps.warn(e.message);else{const t=Oa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ps.warn(t.message)}}}async function K0(n,e){try{const i=(await Hw()).transaction(uc,"readwrite");await i.objectStore(uc).put(e,$w(n)),await i.done}catch(t){if(t instanceof Zi)Ps.warn(t.message);else{const i=Oa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ps.warn(i.message)}}}function $w(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=1024,fN=30;class hN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Q0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>fN){const c=pN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ps.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Q0(),{heartbeatsToSend:i,unsentEntries:a}=dN(this._heartbeatsCache.heartbeats),l=ch(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ps.warn(t),""}}}function Q0(){return new Date().toISOString().substring(0,10)}function dN(n,e=cN){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Y0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Y0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class mN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ex()?tx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await uN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return K0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return K0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Y0(n){return ch(JSON.stringify({version:2,heartbeats:n})).length}function pN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(n){Oo(new ka("platform-logger",e=>new Ix(e),"PRIVATE")),Oo(new ka("heartbeat",e=>new hN(e),"PRIVATE")),qi(_g,$0,n),qi(_g,$0,"esm2017"),qi("fire-js","")}gN("");var yN="firebase",vN="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi(yN,vN,"app");function uy(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function Gw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _N=Gw,Kw=new wc("auth","Firebase",Gw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new ay("@firebase/auth");function EN(n,...e){dh.logLevel<=et.WARN&&dh.warn(`Auth (${Uo}): ${n}`,...e)}function Jf(n,...e){dh.logLevel<=et.ERROR&&dh.error(`Auth (${Uo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(n,...e){throw cy(n,...e)}function Fi(n,...e){return cy(n,...e)}function Qw(n,e,t){const i=Object.assign(Object.assign({},_N()),{[e]:t});return new wc("auth","Firebase",i).create(e,{appName:n.name})}function xs(n){return Qw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Kw.create(n,...e)}function Ve(n,e,...t){if(!n)throw cy(e,...t)}function As(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Jf(e),new Error(e)}function Ms(n,e){n||As(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function TN(){return X0()==="http:"||X0()==="https:"}function X0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TN()||XO()||"connection"in navigator)?navigator.onLine:!0}function wN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ms(t>e,"Short delay should be less than long delay!"),this.isMobile=KO()||WO()}get(){return bN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(n,e){Ms(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new Sc(3e4,6e4);function Ba(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function za(n,e,t,i,a={}){return Xw(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Rc(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},l);return YO()||(p.referrerPolicy="no-referrer"),Yw.fetch()(Ww(n,n.config.apiHost,t,h),p)})}async function Xw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},RN),e);try{const a=new CN(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Vf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vf(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Vf(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Vf(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Qw(n,y,p);hi(n,y)}}catch(a){if(a instanceof Zi)throw a;hi(n,"network-request-failed",{message:String(a)})}}async function Ac(n,e,t,i,a={}){const l=await za(n,e,t,i,a);return"mfaPendingCredential"in l&&hi(n,"multi-factor-auth-required",{_serverResponse:l}),l}function Ww(n,e,t,i){const a=`${e}${t}?${i}`;return n.config.emulator?fy(n.config,a):`${n.config.apiScheme}://${a}`}function AN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Fi(this.auth,"network-request-failed")),SN.get())})}}function Vf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Fi(n,e,i);return a.customData._tokenResponse=t,a}function W0(n){return n!==void 0&&n.enterprise!==void 0}class IN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return AN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ON(n,e){return za(n,"GET","/v2/recaptchaConfig",Ba(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(n,e){return za(n,"POST","/v1/accounts:delete",e)}async function Zw(n,e){return za(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NN(n,e=!1){const t=Wt(n),i=await t.getIdToken(e),a=hy(i);Ve(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:nc(bp(a.auth_time)),issuedAtTime:nc(bp(a.iat)),expirationTime:nc(bp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function bp(n){return Number(n)*1e3}function hy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Jf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Mw(t);return a?JSON.parse(a):(Jf("Failed to decode base64 JWT payload"),null)}catch(a){return Jf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Z0(n){const e=hy(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Zi&&DN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function DN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nc(this.lastLoginAt),this.creationTime=nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(n){var e;const t=n.auth,i=await n.getIdToken(),a=await cc(n,Zw(t,{idToken:i}));Ve(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Jw(l.providerUserInfo):[],h=MN(n.providerData,c),f=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(h!=null&&h.length),y=f?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new wg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function PN(n){const e=Wt(n);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MN(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Jw(n){return n.map(e=>{var{providerId:t}=e,i=uy(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(n,e){const t=await Xw(n,{},async()=>{const i=Rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=Ww(n,a,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Yw.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function UN(n,e){return za(n,"POST","/v2/accounts:revokeToken",Ba(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=Z0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await LN(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Nl;return i&&(Ve(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ve(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ve(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Cs{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=uy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new wg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await cc(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return NN(this,e)}reload(){return PN(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await mh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sr(this.auth.app))return Promise.reject(xs(this.auth));const e=await this.getIdToken();return await cc(this,xN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,h,f,p,y;const _=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(a=t.email)!==null&&a!==void 0?a:void 0,A=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,D=(c=t.photoURL)!==null&&c!==void 0?c:void 0,q=(h=t.tenantId)!==null&&h!==void 0?h:void 0,L=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,Y=(p=t.createdAt)!==null&&p!==void 0?p:void 0,$=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:K,emailVerified:ie,isAnonymous:le,providerData:me,stsTokenManager:V}=t;Ve(K&&V,e,"internal-error");const C=Nl.fromJSON(this.name,V);Ve(typeof K=="string",e,"internal-error"),_a(_,e.name),_a(E,e.name),Ve(typeof ie=="boolean",e,"internal-error"),Ve(typeof le=="boolean",e,"internal-error"),_a(A,e.name),_a(D,e.name),_a(q,e.name),_a(L,e.name),_a(Y,e.name),_a($,e.name);const O=new Cs({uid:K,auth:e,email:E,emailVerified:ie,displayName:_,isAnonymous:le,photoURL:D,phoneNumber:A,tenantId:q,stsTokenManager:C,createdAt:Y,lastLoginAt:$});return me&&Array.isArray(me)&&(O.providerData=me.map(M=>Object.assign({},M))),L&&(O._redirectEventId=L),O}static async _fromIdTokenResponse(e,t,i=!1){const a=new Nl;a.updateFromServerResponse(t);const l=new Cs({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await mh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Jw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new Nl;h.updateFromIdToken(i);const f=new Cs({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new wg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;function Is(n){Ms(n instanceof Function,"Expected a class definition");let e=J0.get(n);return e?(Ms(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,J0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}eR.type="NONE";const eT=eR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(n,e,t){return`firebase:${n}:${e}:${t}`}class Dl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=eh(this.userKey,a.apiKey,l),this.fullPersistenceKey=eh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Dl(Is(eT),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Is(eT);const c=eh(i,e.config.apiKey,e.name);let h=null;for(const p of t)try{const y=await p._get(c);if(y){const _=Cs._fromJSON(e,y);p!==l&&(h=_),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Dl(l,e,i):(l=f[0],h&&await l._set(c,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Dl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aR(e))return"Blackberry";if(oR(e))return"Webos";if(nR(e))return"Safari";if((e.includes("chrome/")||rR(e))&&!e.includes("edge/"))return"Chrome";if(sR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function tR(n=zn()){return/firefox\//i.test(n)}function nR(n=zn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rR(n=zn()){return/crios\//i.test(n)}function iR(n=zn()){return/iemobile/i.test(n)}function sR(n=zn()){return/android/i.test(n)}function aR(n=zn()){return/blackberry/i.test(n)}function oR(n=zn()){return/webos/i.test(n)}function dy(n=zn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function VN(n=zn()){var e;return dy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jN(){return ZO()&&document.documentMode===10}function lR(n=zn()){return dy(n)||sR(n)||oR(n)||aR(n)||/windows phone/i.test(n)||iR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(n,e=[]){let t;switch(n){case"Browser":t=tT(zn());break;case"Worker":t=`${tT(zn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Uo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,h)=>{try{const f=e(l);c(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(n,e={}){return za(n,"GET","/v2/passwordPolicy",Ba(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=6;class FN{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:qN,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nT(this),this.idTokenSubscription=new nT(this),this.beforeStateQueue=new BN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Is(t)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await Dl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Zw(this,{idToken:e}),i=await Cs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(a=f.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sr(this.app))return Promise.reject(xs(this));const t=e?Wt(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sr(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sr(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zN(this),t=new FN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await UN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Is(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await Dl.create(this,[Is(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,a);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&EN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Vo(n){return Wt(n)}class nT{constructor(e){this.auth=e,this.observer=null,this.addObserver=ax(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $N(n){qh=n}function cR(n){return qh.loadJS(n)}function GN(){return qh.recaptchaEnterpriseScript}function KN(){return qh.gapiScript}function QN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class YN{constructor(){this.enterprise=new XN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class XN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const WN="recaptcha-enterprise",fR="NO_RECAPTCHA";class ZN{constructor(e){this.type=WN,this.auth=Vo(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{ON(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new IN(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(f=>{h(f)})})}function a(l,c,h){const f=window.grecaptcha;W0(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(fR)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(h=>{if(!t&&W0(window.grecaptcha))a(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=GN();f.length!==0&&(f+=h),cR(f).then(()=>{a(h,l,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function rT(n,e,t,i=!1,a=!1){const l=new ZN(n);let c;if(a)c=fR;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Rg(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await rT(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await rT(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(n,e){const t=zh(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(fh(l,e??{}))return a;hi(a,"already-initialized")}return t.initialize({options:e})}function eD(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Is);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function tD(n,e,t){const i=Vo(n);Ve(i._canInitEmulator,i,"emulator-config-failed"),Ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=hR(e),{host:c,port:h}=nD(e),f=h===null?"":`:${h}`;i.config.emulator={url:`${l}//${c}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),rD()}function hR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function nD(n){const e=hR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:iT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:iT(c)}}}function iT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function rD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,t){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}async function iD(n,e){return za(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(n,e){return Ac(n,"POST","/v1/accounts:signInWithPassword",Ba(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(n,e){return Ac(n,"POST","/v1/accounts:signInWithEmailLink",Ba(n,e))}async function oD(n,e){return Ac(n,"POST","/v1/accounts:signInWithEmailLink",Ba(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends my{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new fc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new fc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(e,t,"signInWithPassword",sD);case"emailLink":return aD(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(e,i,"signUpPassword",iD);case"emailLink":return oD(e,{idToken:t,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(n,e){return Ac(n,"POST","/v1/accounts:signInWithIdp",Ba(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="http://localhost";class xo extends my{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=uy(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new xo(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return kl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,kl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,kl(e,t)}buildRequest(){const e={requestUri:lD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cD(n){const e=Yu(Xu(n)).link,t=e?Yu(Xu(e)).deep_link_id:null,i=Yu(Xu(n)).deep_link_id;return(i?Yu(Xu(i)).link:null)||i||t||e||n}class py{constructor(e){var t,i,a,l,c,h;const f=Yu(Xu(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(i=f.oobCode)!==null&&i!==void 0?i:null,_=uD((a=f.mode)!==null&&a!==void 0?a:null);Ve(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=f.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=f.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=cD(e);try{return new py(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.providerId=$l.PROVIDER_ID}static credential(e,t){return fc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=py.parseLink(t);return Ve(i,"argument-error"),fc._fromEmailAndCode(e,i.code,i.tenantId)}}$l.PROVIDER_ID="password";$l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends dR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends Cc{constructor(){super("facebook.com")}static credential(e){return xo._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ba.credential(e.oauthAccessToken)}catch{return null}}}ba.FACEBOOK_SIGN_IN_METHOD="facebook.com";ba.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xo._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return wa.credential(t,i)}catch{return null}}}wa.GOOGLE_SIGN_IN_METHOD="google.com";wa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Cc{constructor(){super("github.com")}static credential(e){return xo._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.GITHUB_SIGN_IN_METHOD="github.com";Ra.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Cc{constructor(){super("twitter.com")}static credential(e,t){return xo._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Sa.credential(t,i)}catch{return null}}}Sa.TWITTER_SIGN_IN_METHOD="twitter.com";Sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(n,e){return Ac(n,"POST","/v1/accounts:signUp",Ba(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Cs._fromIdTokenResponse(e,i,a),c=sT(i);return new No({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=sT(i);return new No({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function sT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends Zi{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new ph(e,t,i,a)}}function mR(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(n,l,e,i):l})}async function hD(n,e,t=!1){const i=await cc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return No._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(n,e,t=!1){const{auth:i}=n;if(Sr(i.app))return Promise.reject(xs(i));const a="reauthenticate";try{const l=await cc(n,mR(i,a,e,n),t);Ve(l.idToken,i,"internal-error");const c=hy(l.idToken);Ve(c,i,"internal-error");const{sub:h}=c;return Ve(n.uid===h,i,"user-mismatch"),No._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&hi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(n,e,t=!1){if(Sr(n.app))return Promise.reject(xs(n));const i="signIn",a=await mR(n,i,e),l=await No._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function mD(n,e){return pR(Vo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(n){const e=Vo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pD(n,e,t){if(Sr(n.app))return Promise.reject(xs(n));const i=Vo(n),c=await Rg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fD).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&gR(n),f}),h=await No._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function gD(n,e,t){return Sr(n.app)?Promise.reject(xs(n)):mD(Wt(n),$l.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&gR(n),i})}function yD(n,e,t,i){return Wt(n).onIdTokenChanged(e,t,i)}function vD(n,e,t){return Wt(n).beforeAuthStateChanged(e,t)}function _D(n,e,t,i){return Wt(n).onAuthStateChanged(e,t,i)}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=1e3,TD=10;class vR extends yR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);jN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,TD):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},ED)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}vR.type="LOCAL";const bD=vR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R extends yR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_R.type="SESSION";const ER=_R;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Fh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async p=>p(t.origin,l)),f=await wD(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,f)=>{const p=gy("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(y),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function SD(n){Hi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function AD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function ID(){return TR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="firebaseLocalStorageDb",OD=1,yh="firebaseLocalStorage",wR="fbase_key";class Ic{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hh(n,e){return n.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function xD(){const n=indexedDB.deleteDatabase(bR);return new Ic(n).toPromise()}function Sg(){const n=indexedDB.open(bR,OD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(yh,{keyPath:wR})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(yh)?e(i):(i.close(),await xD(),e(await Sg()))})})}async function aT(n,e,t){const i=Hh(n,!0).put({[wR]:e,value:t});return new Ic(i).toPromise()}async function ND(n,e){const t=Hh(n,!1).get(e),i=await new Ic(t).toPromise();return i===void 0?null:i.value}function oT(n,e){const t=Hh(n,!0).delete(e);return new Ic(t).toPromise()}const DD=800,kD=3;class RR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>kD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(ID()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await AD(),!this.activeServiceWorker)return;this.sender=new RD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sg();return await aT(e,gh,"1"),await oT(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>aT(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>ND(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>oT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Hh(a,!1).getAll();return new Ic(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RR.type="LOCAL";const PD=RR;new Sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(n,e){return e?Is(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy extends my{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return kl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LD(n){return pR(n.auth,new yy(n),n.bypassAuthState)}function UD(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),dD(t,new yy(n),n.bypassAuthState)}async function VD(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),hD(t,new yy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LD;case"linkViaPopup":case"linkViaRedirect":return VD;case"reauthViaPopup":case"reauthViaRedirect":return UD;default:hi(this.auth,"internal-error")}}resolve(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=new Sc(2e3,1e4);class xl extends SR{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,xl.currentPopupAction&&xl.currentPopupAction.cancel(),xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const e=gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jD.get())};e()}}xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="pendingRedirect",th=new Map;class zD extends SR{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const i=await qD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qD(n,e){const t=$D(e),i=HD(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function FD(n,e){th.set(n._key(),e)}function HD(n){return Is(n._redirectPersistence)}function $D(n){return eh(BD,n.config.apiKey,n.name)}async function GD(n,e,t=!1){if(Sr(n.app))return Promise.reject(xs(n));const i=Vo(n),a=MD(i,e),c=await new zD(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=10*60*1e3;class QD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!AR(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Fi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KD&&this.cachedEventUids.clear(),this.cachedEventUids.has(lT(e))}saveEventToCache(e){this.cachedEventUids.add(lT(e)),this.lastProcessedEventTime=Date.now()}}function lT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function AR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(n,e={}){return za(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZD=/^https?/;async function JD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await XD(n);for(const t of e)try{if(ek(t))return}catch{}hi(n,"unauthorized-domain")}function ek(n){const e=bg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!ZD.test(t))return!1;if(WD.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new Sc(3e4,6e4);function uT(){const n=Hi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nk(n){return new Promise((e,t)=>{var i,a,l;function c(){uT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uT(),t(Fi(n,"network-request-failed"))},timeout:tk.get()})}if(!((a=(i=Hi().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Hi().gapi)===null||l===void 0)&&l.load)c();else{const h=QN("iframefcb");return Hi()[h]=()=>{gapi.load?c():t(Fi(n,"network-request-failed"))},cR(`${KN()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw nh=null,e})}let nh=null;function rk(n){return nh=nh||nk(n),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=new Sc(5e3,15e3),sk="__/auth/iframe",ak="emulator/auth/iframe",ok={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uk(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?fy(e,ak):`https://${n.config.authDomain}/${sk}`,i={apiKey:e.apiKey,appName:n.name,v:Uo},a=lk.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Rc(i).slice(1)}`}async function ck(n){const e=await rk(n),t=Hi().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:uk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ok,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Fi(n,"network-request-failed"),h=Hi().setTimeout(()=>{l(c)},ik.get());function f(){Hi().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hk=500,dk=600,mk="_blank",pk="http://localhost";class cT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gk(n,e,t,i=hk,a=dk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},fk),{width:i.toString(),height:a.toString(),top:l,left:c}),p=zn().toLowerCase();t&&(h=rR(p)?mk:t),tR(p)&&(e=e||pk,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[A,D])=>`${E}${A}=${D},`,"");if(VN(p)&&h!=="_self")return yk(e||"",h),new cT(null);const _=window.open(e||"",h,y);Ve(_,n,"popup-blocked");try{_.focus()}catch{}return new cT(_)}function yk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="__/auth/handler",_k="emulator/auth/handler",Ek=encodeURIComponent("fac");async function fT(n,e,t,i,a,l){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Uo,eventId:a};if(e instanceof dR){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",sx(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Cc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),p=f?`#${Ek}=${encodeURIComponent(f)}`:"";return`${Tk(n)}?${Rc(h).slice(1)}${p}`}function Tk({config:n}){return n.emulator?fy(n,_k):`https://${n.authDomain}/${vk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="webStorageSupport";class bk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ER,this._completeRedirectFn=GD,this._overrideRedirectResult=FD}async _openPopup(e,t,i,a){var l;Ms((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await fT(e,t,i,bg(),a);return gk(e,c,gy())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await fT(e,t,i,bg(),a);return SD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Ms(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await ck(e),i=new QD(e);return t.register("authEvent",a=>(Ve(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wp,{type:wp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[wp];c!==void 0&&t(!!c),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=JD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lR()||nR()||dy()}}const wk=bk;var hT="@firebase/auth",dT="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ak(n){Oo(new ka("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uR(n)},p=new HN(i,a,l,f);return eD(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Oo(new ka("auth-internal",e=>{const t=Vo(e.getProvider("auth").getImmediate());return(i=>new Rk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),qi(hT,dT,Sk(n)),qi(hT,dT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=5*60,Ik=jw("authIdTokenMaxAge")||Ck;let mT=null;const Ok=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Ik)return;const a=t==null?void 0:t.token;mT!==a&&(mT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function xk(n=ly()){const e=zh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=JN(n,{popupRedirectResolver:wk,persistence:[PD,bD,ER]}),i=jw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=Ok(l.toString());vD(t,c,()=>c(t.currentUser)),yD(t,h=>c(h))}}const a=Lw("auth");return a&&tD(t,`http://${a}`),t}function Nk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}$N({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Fi("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",Nk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ak("Browser");var pT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xa,CR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,C){function O(){}O.prototype=C.prototype,V.D=C.prototype,V.prototype=new O,V.prototype.constructor=V,V.C=function(M,B,H){for(var U=Array(arguments.length-2),We=2;We<arguments.length;We++)U[We-2]=arguments[We];return C.prototype[B].apply(M,U)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,C,O){O||(O=0);var M=Array(16);if(typeof C=="string")for(var B=0;16>B;++B)M[B]=C.charCodeAt(O++)|C.charCodeAt(O++)<<8|C.charCodeAt(O++)<<16|C.charCodeAt(O++)<<24;else for(B=0;16>B;++B)M[B]=C[O++]|C[O++]<<8|C[O++]<<16|C[O++]<<24;C=V.g[0],O=V.g[1],B=V.g[2];var H=V.g[3],U=C+(H^O&(B^H))+M[0]+3614090360&4294967295;C=O+(U<<7&4294967295|U>>>25),U=H+(B^C&(O^B))+M[1]+3905402710&4294967295,H=C+(U<<12&4294967295|U>>>20),U=B+(O^H&(C^O))+M[2]+606105819&4294967295,B=H+(U<<17&4294967295|U>>>15),U=O+(C^B&(H^C))+M[3]+3250441966&4294967295,O=B+(U<<22&4294967295|U>>>10),U=C+(H^O&(B^H))+M[4]+4118548399&4294967295,C=O+(U<<7&4294967295|U>>>25),U=H+(B^C&(O^B))+M[5]+1200080426&4294967295,H=C+(U<<12&4294967295|U>>>20),U=B+(O^H&(C^O))+M[6]+2821735955&4294967295,B=H+(U<<17&4294967295|U>>>15),U=O+(C^B&(H^C))+M[7]+4249261313&4294967295,O=B+(U<<22&4294967295|U>>>10),U=C+(H^O&(B^H))+M[8]+1770035416&4294967295,C=O+(U<<7&4294967295|U>>>25),U=H+(B^C&(O^B))+M[9]+2336552879&4294967295,H=C+(U<<12&4294967295|U>>>20),U=B+(O^H&(C^O))+M[10]+4294925233&4294967295,B=H+(U<<17&4294967295|U>>>15),U=O+(C^B&(H^C))+M[11]+2304563134&4294967295,O=B+(U<<22&4294967295|U>>>10),U=C+(H^O&(B^H))+M[12]+1804603682&4294967295,C=O+(U<<7&4294967295|U>>>25),U=H+(B^C&(O^B))+M[13]+4254626195&4294967295,H=C+(U<<12&4294967295|U>>>20),U=B+(O^H&(C^O))+M[14]+2792965006&4294967295,B=H+(U<<17&4294967295|U>>>15),U=O+(C^B&(H^C))+M[15]+1236535329&4294967295,O=B+(U<<22&4294967295|U>>>10),U=C+(B^H&(O^B))+M[1]+4129170786&4294967295,C=O+(U<<5&4294967295|U>>>27),U=H+(O^B&(C^O))+M[6]+3225465664&4294967295,H=C+(U<<9&4294967295|U>>>23),U=B+(C^O&(H^C))+M[11]+643717713&4294967295,B=H+(U<<14&4294967295|U>>>18),U=O+(H^C&(B^H))+M[0]+3921069994&4294967295,O=B+(U<<20&4294967295|U>>>12),U=C+(B^H&(O^B))+M[5]+3593408605&4294967295,C=O+(U<<5&4294967295|U>>>27),U=H+(O^B&(C^O))+M[10]+38016083&4294967295,H=C+(U<<9&4294967295|U>>>23),U=B+(C^O&(H^C))+M[15]+3634488961&4294967295,B=H+(U<<14&4294967295|U>>>18),U=O+(H^C&(B^H))+M[4]+3889429448&4294967295,O=B+(U<<20&4294967295|U>>>12),U=C+(B^H&(O^B))+M[9]+568446438&4294967295,C=O+(U<<5&4294967295|U>>>27),U=H+(O^B&(C^O))+M[14]+3275163606&4294967295,H=C+(U<<9&4294967295|U>>>23),U=B+(C^O&(H^C))+M[3]+4107603335&4294967295,B=H+(U<<14&4294967295|U>>>18),U=O+(H^C&(B^H))+M[8]+1163531501&4294967295,O=B+(U<<20&4294967295|U>>>12),U=C+(B^H&(O^B))+M[13]+2850285829&4294967295,C=O+(U<<5&4294967295|U>>>27),U=H+(O^B&(C^O))+M[2]+4243563512&4294967295,H=C+(U<<9&4294967295|U>>>23),U=B+(C^O&(H^C))+M[7]+1735328473&4294967295,B=H+(U<<14&4294967295|U>>>18),U=O+(H^C&(B^H))+M[12]+2368359562&4294967295,O=B+(U<<20&4294967295|U>>>12),U=C+(O^B^H)+M[5]+4294588738&4294967295,C=O+(U<<4&4294967295|U>>>28),U=H+(C^O^B)+M[8]+2272392833&4294967295,H=C+(U<<11&4294967295|U>>>21),U=B+(H^C^O)+M[11]+1839030562&4294967295,B=H+(U<<16&4294967295|U>>>16),U=O+(B^H^C)+M[14]+4259657740&4294967295,O=B+(U<<23&4294967295|U>>>9),U=C+(O^B^H)+M[1]+2763975236&4294967295,C=O+(U<<4&4294967295|U>>>28),U=H+(C^O^B)+M[4]+1272893353&4294967295,H=C+(U<<11&4294967295|U>>>21),U=B+(H^C^O)+M[7]+4139469664&4294967295,B=H+(U<<16&4294967295|U>>>16),U=O+(B^H^C)+M[10]+3200236656&4294967295,O=B+(U<<23&4294967295|U>>>9),U=C+(O^B^H)+M[13]+681279174&4294967295,C=O+(U<<4&4294967295|U>>>28),U=H+(C^O^B)+M[0]+3936430074&4294967295,H=C+(U<<11&4294967295|U>>>21),U=B+(H^C^O)+M[3]+3572445317&4294967295,B=H+(U<<16&4294967295|U>>>16),U=O+(B^H^C)+M[6]+76029189&4294967295,O=B+(U<<23&4294967295|U>>>9),U=C+(O^B^H)+M[9]+3654602809&4294967295,C=O+(U<<4&4294967295|U>>>28),U=H+(C^O^B)+M[12]+3873151461&4294967295,H=C+(U<<11&4294967295|U>>>21),U=B+(H^C^O)+M[15]+530742520&4294967295,B=H+(U<<16&4294967295|U>>>16),U=O+(B^H^C)+M[2]+3299628645&4294967295,O=B+(U<<23&4294967295|U>>>9),U=C+(B^(O|~H))+M[0]+4096336452&4294967295,C=O+(U<<6&4294967295|U>>>26),U=H+(O^(C|~B))+M[7]+1126891415&4294967295,H=C+(U<<10&4294967295|U>>>22),U=B+(C^(H|~O))+M[14]+2878612391&4294967295,B=H+(U<<15&4294967295|U>>>17),U=O+(H^(B|~C))+M[5]+4237533241&4294967295,O=B+(U<<21&4294967295|U>>>11),U=C+(B^(O|~H))+M[12]+1700485571&4294967295,C=O+(U<<6&4294967295|U>>>26),U=H+(O^(C|~B))+M[3]+2399980690&4294967295,H=C+(U<<10&4294967295|U>>>22),U=B+(C^(H|~O))+M[10]+4293915773&4294967295,B=H+(U<<15&4294967295|U>>>17),U=O+(H^(B|~C))+M[1]+2240044497&4294967295,O=B+(U<<21&4294967295|U>>>11),U=C+(B^(O|~H))+M[8]+1873313359&4294967295,C=O+(U<<6&4294967295|U>>>26),U=H+(O^(C|~B))+M[15]+4264355552&4294967295,H=C+(U<<10&4294967295|U>>>22),U=B+(C^(H|~O))+M[6]+2734768916&4294967295,B=H+(U<<15&4294967295|U>>>17),U=O+(H^(B|~C))+M[13]+1309151649&4294967295,O=B+(U<<21&4294967295|U>>>11),U=C+(B^(O|~H))+M[4]+4149444226&4294967295,C=O+(U<<6&4294967295|U>>>26),U=H+(O^(C|~B))+M[11]+3174756917&4294967295,H=C+(U<<10&4294967295|U>>>22),U=B+(C^(H|~O))+M[2]+718787259&4294967295,B=H+(U<<15&4294967295|U>>>17),U=O+(H^(B|~C))+M[9]+3951481745&4294967295,V.g[0]=V.g[0]+C&4294967295,V.g[1]=V.g[1]+(B+(U<<21&4294967295|U>>>11))&4294967295,V.g[2]=V.g[2]+B&4294967295,V.g[3]=V.g[3]+H&4294967295}i.prototype.u=function(V,C){C===void 0&&(C=V.length);for(var O=C-this.blockSize,M=this.B,B=this.h,H=0;H<C;){if(B==0)for(;H<=O;)a(this,V,H),H+=this.blockSize;if(typeof V=="string"){for(;H<C;)if(M[B++]=V.charCodeAt(H++),B==this.blockSize){a(this,M),B=0;break}}else for(;H<C;)if(M[B++]=V[H++],B==this.blockSize){a(this,M),B=0;break}}this.h=B,this.o+=C},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var C=1;C<V.length-8;++C)V[C]=0;var O=8*this.o;for(C=V.length-8;C<V.length;++C)V[C]=O&255,O/=256;for(this.u(V),V=Array(16),C=O=0;4>C;++C)for(var M=0;32>M;M+=8)V[O++]=this.g[C]>>>M&255;return V};function l(V,C){var O=h;return Object.prototype.hasOwnProperty.call(O,V)?O[V]:O[V]=C(V)}function c(V,C){this.h=C;for(var O=[],M=!0,B=V.length-1;0<=B;B--){var H=V[B]|0;M&&H==C||(O[B]=H,M=!1)}this.g=O}var h={};function f(V){return-128<=V&&128>V?l(V,function(C){return new c([C|0],0>C?-1:0)}):new c([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return L(p(-V));for(var C=[],O=1,M=0;V>=O;M++)C[M]=V/O|0,O*=4294967296;return new c(C,0)}function y(V,C){if(V.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(V.charAt(0)=="-")return L(y(V.substring(1),C));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=p(Math.pow(C,8)),M=_,B=0;B<V.length;B+=8){var H=Math.min(8,V.length-B),U=parseInt(V.substring(B,B+H),C);8>H?(H=p(Math.pow(C,H)),M=M.j(H).add(p(U))):(M=M.j(O),M=M.add(p(U)))}return M}var _=f(0),E=f(1),A=f(16777216);n=c.prototype,n.m=function(){if(q(this))return-L(this).m();for(var V=0,C=1,O=0;O<this.g.length;O++){var M=this.i(O);V+=(0<=M?M:4294967296+M)*C,C*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(D(this))return"0";if(q(this))return"-"+L(this).toString(V);for(var C=p(Math.pow(V,6)),O=this,M="";;){var B=ie(O,C).g;O=Y(O,B.j(C));var H=((0<O.g.length?O.g[0]:O.h)>>>0).toString(V);if(O=B,D(O))return H+M;for(;6>H.length;)H="0"+H;M=H+M}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function D(V){if(V.h!=0)return!1;for(var C=0;C<V.g.length;C++)if(V.g[C]!=0)return!1;return!0}function q(V){return V.h==-1}n.l=function(V){return V=Y(this,V),q(V)?-1:D(V)?0:1};function L(V){for(var C=V.g.length,O=[],M=0;M<C;M++)O[M]=~V.g[M];return new c(O,~V.h).add(E)}n.abs=function(){return q(this)?L(this):this},n.add=function(V){for(var C=Math.max(this.g.length,V.g.length),O=[],M=0,B=0;B<=C;B++){var H=M+(this.i(B)&65535)+(V.i(B)&65535),U=(H>>>16)+(this.i(B)>>>16)+(V.i(B)>>>16);M=U>>>16,H&=65535,U&=65535,O[B]=U<<16|H}return new c(O,O[O.length-1]&-2147483648?-1:0)};function Y(V,C){return V.add(L(C))}n.j=function(V){if(D(this)||D(V))return _;if(q(this))return q(V)?L(this).j(L(V)):L(L(this).j(V));if(q(V))return L(this.j(L(V)));if(0>this.l(A)&&0>V.l(A))return p(this.m()*V.m());for(var C=this.g.length+V.g.length,O=[],M=0;M<2*C;M++)O[M]=0;for(M=0;M<this.g.length;M++)for(var B=0;B<V.g.length;B++){var H=this.i(M)>>>16,U=this.i(M)&65535,We=V.i(B)>>>16,Ke=V.i(B)&65535;O[2*M+2*B]+=U*Ke,$(O,2*M+2*B),O[2*M+2*B+1]+=H*Ke,$(O,2*M+2*B+1),O[2*M+2*B+1]+=U*We,$(O,2*M+2*B+1),O[2*M+2*B+2]+=H*We,$(O,2*M+2*B+2)}for(M=0;M<C;M++)O[M]=O[2*M+1]<<16|O[2*M];for(M=C;M<2*C;M++)O[M]=0;return new c(O,0)};function $(V,C){for(;(V[C]&65535)!=V[C];)V[C+1]+=V[C]>>>16,V[C]&=65535,C++}function K(V,C){this.g=V,this.h=C}function ie(V,C){if(D(C))throw Error("division by zero");if(D(V))return new K(_,_);if(q(V))return C=ie(L(V),C),new K(L(C.g),L(C.h));if(q(C))return C=ie(V,L(C)),new K(L(C.g),C.h);if(30<V.g.length){if(q(V)||q(C))throw Error("slowDivide_ only works with positive integers.");for(var O=E,M=C;0>=M.l(V);)O=le(O),M=le(M);var B=me(O,1),H=me(M,1);for(M=me(M,2),O=me(O,2);!D(M);){var U=H.add(M);0>=U.l(V)&&(B=B.add(O),H=U),M=me(M,1),O=me(O,1)}return C=Y(V,B.j(C)),new K(B,C)}for(B=_;0<=V.l(C);){for(O=Math.max(1,Math.floor(V.m()/C.m())),M=Math.ceil(Math.log(O)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),H=p(O),U=H.j(C);q(U)||0<U.l(V);)O-=M,H=p(O),U=H.j(C);D(H)&&(H=E),B=B.add(H),V=Y(V,U)}return new K(B,V)}n.A=function(V){return ie(this,V).h},n.and=function(V){for(var C=Math.max(this.g.length,V.g.length),O=[],M=0;M<C;M++)O[M]=this.i(M)&V.i(M);return new c(O,this.h&V.h)},n.or=function(V){for(var C=Math.max(this.g.length,V.g.length),O=[],M=0;M<C;M++)O[M]=this.i(M)|V.i(M);return new c(O,this.h|V.h)},n.xor=function(V){for(var C=Math.max(this.g.length,V.g.length),O=[],M=0;M<C;M++)O[M]=this.i(M)^V.i(M);return new c(O,this.h^V.h)};function le(V){for(var C=V.g.length+1,O=[],M=0;M<C;M++)O[M]=V.i(M)<<1|V.i(M-1)>>>31;return new c(O,V.h)}function me(V,C){var O=C>>5;C%=32;for(var M=V.g.length-O,B=[],H=0;H<M;H++)B[H]=0<C?V.i(H+O)>>>C|V.i(H+O+1)<<32-C:V.i(H+O);return new c(B,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,CR=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,xa=c}).apply(typeof pT<"u"?pT:typeof self<"u"?self:typeof window<"u"?window:{});var jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IR,Wu,OR,rh,Ag,xR,NR,DR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,T){return d==Array.prototype||d==Object.prototype||(d[v]=T.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof jf=="object"&&jf];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function a(d,v){if(v)e:{var T=i;d=d.split(".");for(var x=0;x<d.length-1;x++){var J=d[x];if(!(J in T))break e;T=T[J]}d=d[d.length-1],x=T[d],v=v(x),v!=x&&v!=null&&e(T,d,{configurable:!0,writable:!0,value:v})}}function l(d,v){d instanceof String&&(d+="");var T=0,x=!1,J={next:function(){if(!x&&T<d.length){var re=T++;return{value:v(re,d[re]),done:!1}}return x=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}a("Array.prototype.values",function(d){return d||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,T){return d.call.apply(d.bind,arguments)}function _(d,v,T){if(!d)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,x),d.apply(v,J)}}return function(){return d.apply(v,arguments)}}function E(d,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function A(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),d.apply(this,x)}}function D(d,v){function T(){}T.prototype=v.prototype,d.aa=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(x,J,re){for(var _e=Array(arguments.length-2),at=2;at<arguments.length;at++)_e[at-2]=arguments[at];return v.prototype[J].apply(x,_e)}}function q(d){const v=d.length;if(0<v){const T=Array(v);for(let x=0;x<v;x++)T[x]=d[x];return T}return[]}function L(d,v){for(let T=1;T<arguments.length;T++){const x=arguments[T];if(f(x)){const J=d.length||0,re=x.length||0;d.length=J+re;for(let _e=0;_e<re;_e++)d[J+_e]=x[_e]}else d.push(x)}}class Y{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function $(d){return/^[\s\xa0]*$/.test(d)}function K(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function ie(d){return ie[" "](d),d}ie[" "]=function(){};var le=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function me(d,v,T){for(const x in d)v.call(T,d[x],x,d)}function V(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function C(d){const v={};for(const T in d)v[T]=d[T];return v}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(d,v){let T,x;for(let J=1;J<arguments.length;J++){x=arguments[J];for(T in x)d[T]=x[T];for(let re=0;re<O.length;re++)T=O[re],Object.prototype.hasOwnProperty.call(x,T)&&(d[T]=x[T])}}function B(d){var v=1;d=d.split(":");const T=[];for(;0<v&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function H(d){h.setTimeout(()=>{throw d},0)}function U(){var d=Ge;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class We{constructor(){this.h=this.g=null}add(v,T){const x=Ke.get();x.set(v,T),this.h?this.h.next=x:this.g=x,this.h=x}}var Ke=new Y(()=>new pe,d=>d.reset());class pe{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,ge=!1,Ge=new We,F=()=>{const d=h.Promise.resolve(void 0);Re=()=>{d.then(fe)}};var fe=()=>{for(var d;d=U();){try{d.h.call(d.g)}catch(T){H(T)}var v=Ke;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ge=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};h.addEventListener("test",T,v),h.removeEventListener("test",T,v)}catch{}return d}();function Me(d,v){if(Te.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,x=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(le){e:{try{ie(v.nodeName);var J=!0;break e}catch{}J=!1}J||(v=null)}}else T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement);this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ze[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Me.aa.h.call(this)}}D(Me,Te);var ze={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function _t(d,v,T,x,J){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!x,this.ha=J,this.key=++Je,this.da=this.fa=!1}function nt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Zt(d){this.src=d,this.g={},this.h=0}Zt.prototype.add=function(d,v,T,x,J){var re=d.toString();d=this.g[re],d||(d=this.g[re]=[],this.h++);var _e=mn(d,v,x,J);return-1<_e?(v=d[_e],T||(v.fa=!1)):(v=new _t(v,this.src,re,!!x,J),v.fa=T,d.push(v)),v};function tr(d,v){var T=v.type;if(T in d.g){var x=d.g[T],J=Array.prototype.indexOf.call(x,v,void 0),re;(re=0<=J)&&Array.prototype.splice.call(x,J,1),re&&(nt(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function mn(d,v,T,x){for(var J=0;J<d.length;++J){var re=d[J];if(!re.da&&re.listener==v&&re.capture==!!T&&re.ha==x)return J}return-1}var qn="closure_lm_"+(1e6*Math.random()|0),dt={};function kn(d,v,T,x,J){if(Array.isArray(v)){for(var re=0;re<v.length;re++)kn(d,v[re],T,x,J);return null}return T=qo(T),d&&d[Lt]?d.K(v,T,p(x)?!!x.capture:!1,J):Ir(d,v,T,!1,x,J)}function Ir(d,v,T,x,J,re){if(!v)throw Error("Invalid event type");var _e=p(J)?!!J.capture:!!J,at=Ha(d);if(at||(d[qn]=at=new Zt(d)),T=at.add(v,T,x,_e,re),T.proxy)return T;if(x=Ji(),T.proxy=x,x.src=d,x.listener=T,d.addEventListener)ve||(J=_e),J===void 0&&(J=!1),d.addEventListener(v.toString(),x,J);else if(d.attachEvent)d.attachEvent(Fs(v.toString()),x);else if(d.addListener&&d.removeListener)d.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ji(){function d(T){return v.call(d.src,d.listener,T)}const v=eu;return d}function qs(d,v,T,x,J){if(Array.isArray(v))for(var re=0;re<v.length;re++)qs(d,v[re],T,x,J);else x=p(x)?!!x.capture:!!x,T=qo(T),d&&d[Lt]?(d=d.i,v=String(v).toString(),v in d.g&&(re=d.g[v],T=mn(re,T,x,J),-1<T&&(nt(re[T]),Array.prototype.splice.call(re,T,1),re.length==0&&(delete d.g[v],d.h--)))):d&&(d=Ha(d))&&(v=d.g[v.toString()],d=-1,v&&(d=mn(v,T,x,J)),(T=-1<d?v[d]:null)&&es(T))}function es(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Lt])tr(v.i,d);else{var T=d.type,x=d.proxy;v.removeEventListener?v.removeEventListener(T,x,d.capture):v.detachEvent?v.detachEvent(Fs(T),x):v.addListener&&v.removeListener&&v.removeListener(x),(T=Ha(v))?(tr(T,d),T.h==0&&(T.src=null,v[qn]=null)):nt(d)}}}function Fs(d){return d in dt?dt[d]:dt[d]="on"+d}function eu(d,v){if(d.da)d=!0;else{v=new Me(v,this);var T=d.listener,x=d.ha||d.src;d.fa&&es(d),d=T.call(x,v)}return d}function Ha(d){return d=d[qn],d instanceof Zt?d:null}var Rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function qo(d){return typeof d=="function"?d:(d[Rn]||(d[Rn]=function(v){return d.handleEvent(v)}),d[Rn])}function te(){Se.call(this),this.i=new Zt(this),this.M=this,this.F=null}D(te,Se),te.prototype[Lt]=!0,te.prototype.removeEventListener=function(d,v,T,x){qs(this,d,v,T,x)};function Ie(d,v){var T,x=d.F;if(x)for(T=[];x;x=x.F)T.push(x);if(d=d.M,x=v.type||v,typeof v=="string")v=new Te(v,d);else if(v instanceof Te)v.target=v.target||d;else{var J=v;v=new Te(x,d),M(v,J)}if(J=!0,T)for(var re=T.length-1;0<=re;re--){var _e=v.g=T[re];J=Or(_e,x,!0,v)&&J}if(_e=v.g=d,J=Or(_e,x,!0,v)&&J,J=Or(_e,x,!1,v)&&J,T)for(re=0;re<T.length;re++)_e=v.g=T[re],J=Or(_e,x,!1,v)&&J}te.prototype.N=function(){if(te.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var T=d.g[v],x=0;x<T.length;x++)nt(T[x]);delete d.g[v],d.h--}}this.F=null},te.prototype.K=function(d,v,T,x){return this.i.add(String(d),v,!1,T,x)},te.prototype.L=function(d,v,T,x){return this.i.add(String(d),v,!0,T,x)};function Or(d,v,T,x){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var J=!0,re=0;re<v.length;++re){var _e=v[re];if(_e&&!_e.da&&_e.capture==T){var at=_e.listener,ln=_e.ha||_e.src;_e.fa&&tr(d.i,_e),J=at.call(ln,x)!==!1&&J}}return J&&!x.defaultPrevented}function $a(d,v,T){if(typeof d=="function")T&&(d=E(d,T));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(d,v||0)}function Ga(d){d.g=$a(()=>{d.g=null,d.i&&(d.i=!1,Ga(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Ka extends Se{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ga(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(d){Se.call(this),this.h=d,this.g={}}D(mi,Se);var Qr=[];function pn(d){me(d.g,function(v,T){this.g.hasOwnProperty(T)&&es(v)},d),d.g={}}mi.prototype.N=function(){mi.aa.N.call(this),pn(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qa=h.JSON.stringify,Fn=h.JSON.parse,gn=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function ts(){}ts.prototype.h=null;function Ya(d){return d.h||(d.h=d.i())}function Fo(){}var mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){Te.call(this,"d")}D(pi,Te);function nr(){Te.call(this,"c")}D(nr,Te);var Hn={},gi=null;function Hs(){return gi=gi||new te}Hn.La="serverreachability";function Xa(d){Te.call(this,Hn.La,d)}D(Xa,Te);function yi(d){const v=Hs();Ie(v,new Xa(v))}Hn.STAT_EVENT="statevent";function vi(d,v){Te.call(this,Hn.STAT_EVENT,d),this.stat=v}D(vi,Te);function xt(d){const v=Hs();Ie(v,new vi(v,d))}Hn.Ma="timingevent";function Ho(d,v){Te.call(this,Hn.Ma,d),this.size=v}D(Ho,Te);function _i(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function $o(d,v,T,x,J,re){d.info(function(){if(d.g)if(re)for(var _e="",at=re.split("&"),ln=0;ln<at.length;ln++){var ot=at[ln].split("=");if(1<ot.length){var _n=ot[0];ot=ot[1];var un=_n.split("_");_e=2<=un.length&&un[1]=="type"?_e+(_n+"="+ot+"&"):_e+(_n+"=redacted&")}}else _e=null;else _e=re;return"XMLHTTP REQ ("+x+") [attempt "+J+"]: "+v+`
`+T+`
`+_e})}function Qt(d,v,T,x,J,re,_e){d.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+J+"]: "+v+`
`+T+`
`+re+" "+_e})}function Ti(d,v,T,x){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Jt(d,T)+(x?" "+x:"")})}function xr(d,v){d.info(function(){return"TIMEOUT: "+v})}Ei.prototype.info=function(){};function Jt(d,v){if(!d.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var x=T[d];if(!(2>x.length)){var J=x[1];if(Array.isArray(J)&&!(1>J.length)){var re=J[0];if(re!="noop"&&re!="stop"&&re!="close")for(var _e=1;_e<J.length;_e++)J[_e]=""}}}}return Qa(T)}catch{return v}}var qt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xr;function bi(){}D(bi,ts),bi.prototype.g=function(){return new XMLHttpRequest},bi.prototype.i=function(){return{}},Xr=new bi;function Nr(d,v,T,x){this.j=d,this.i=v,this.l=T,this.R=x||1,this.U=new mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wa}function Wa(){this.i=null,this.g="",this.h=!1}var Wr={},pr={};function Pn(d,v,T){d.L=1,d.v=is(yt(v)),d.m=T,d.P=!0,Zr(d,null)}function Zr(d,v){d.F=Date.now(),Nt(d),d.A=yt(d.v);var T=d.A,x=d.R;Array.isArray(x)||(x=[String(x)]),ti(T.i,"t",x),d.C=0,T=d.j.J,d.h=new Wa,d.g=on(d.j,T?v:null,!d.m),0<d.O&&(d.M=new Ka(E(d.Y,d,d.g),d.O)),v=d.U,T=d.g,x=d.ca;var J="readystatechange";Array.isArray(J)||(J&&(Qr[0]=J.toString()),J=Qr);for(var re=0;re<J.length;re++){var _e=kn(T,J[re],x||v.handleEvent,!1,v.h||v);if(!_e)break;v.g[_e.key]=_e}v=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),yi(),$o(d.i,d.u,d.A,d.l,d.R,d.m)}Nr.prototype.ca=function(d){d=d.target;const v=this.M;v&&Kn(d)==3?v.j():this.Y(d)},Nr.prototype.Y=function(d){try{if(d==this.g)e:{const un=Kn(this.g);var v=this.g.Ba();const os=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||kt(this.g)))){this.J||un!=4||v==7||(v==8||0>=os?yi(3):yi(2)),Jr(this);var T=this.g.Z();this.X=T;t:if(wi(this)){var x=kt(this.g);d="";var J=x.length,re=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Dt(this);var _e="";break t}this.h.i=new h.TextDecoder}for(v=0;v<J;v++)this.h.h=!0,d+=this.h.i.decode(x[v],{stream:!(re&&v==J-1)});x.length=0,this.h.g+=d,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=T==200,Qt(this.i,this.u,this.A,this.l,this.R,un,T),this.o){if(this.T&&!this.K){t:{if(this.g){var at,ln=this.g;if((at=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(at)){var ot=at;break t}}ot=null}if(T=ot)Ti(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mn(this,T);else{this.o=!1,this.s=3,xt(12),yn(this),Dt(this);break e}}if(this.P){T=!0;let Sn;for(;!this.J&&this.C<_e.length;)if(Sn=Dr(this,_e),Sn==pr){un==4&&(this.s=4,xt(14),T=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==Wr){this.s=4,xt(15),Ti(this.i,this.l,_e,"[Invalid Chunk]"),T=!1;break}else Ti(this.i,this.l,Sn,null),Mn(this,Sn);if(wi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||_e.length!=0||this.h.h||(this.s=1,xt(16),T=!1),this.o=this.o&&T,!T)Ti(this.i,this.l,_e,"[Invalid Chunked Response]"),yn(this),Dt(this);else if(0<_e.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),St(_n),_n.M=!0,xt(11))}}else Ti(this.i,this.l,_e,null),Mn(this,_e);un==4&&yn(this),this.o&&!this.J&&(un==4?De(this.j,this):(this.o=!1,Nt(this)))}else w(this.g),T==400&&0<_e.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),yn(this),Dt(this)}}}catch{}finally{}};function wi(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Dr(d,v){var T=d.C,x=v.indexOf(`
`,T);return x==-1?pr:(T=Number(v.substring(T,x)),isNaN(T)?Wr:(x+=1,x+T>v.length?pr:(v=v.slice(x,x+T),d.C=x+T,v)))}Nr.prototype.cancel=function(){this.J=!0,yn(this)};function Nt(d){d.S=Date.now()+d.I,Za(d,d.I)}function Za(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=_i(E(d.ba,d),v)}function Jr(d){d.B&&(h.clearTimeout(d.B),d.B=null)}Nr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(xr(this.i,this.A),this.L!=2&&(yi(),xt(17)),yn(this),this.s=2,Dt(this)):Za(this,this.S-d)};function Dt(d){d.j.G==0||d.J||De(d.j,d)}function yn(d){Jr(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,pn(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Mn(d,v){try{var T=d.j;if(T.G!=0&&(T.g==d||Si(T.h,d))){if(!d.K&&Si(T.h,d)&&T.G==3){try{var x=T.Da.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var J=x;if(J[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)Be(T),z(T);else break e;mt(T),xt(18)}}else T.za=J[1],0<T.za-T.T&&37500>J[2]&&T.F&&T.v==0&&!T.C&&(T.C=_i(E(T.Za,T),6e3));if(1>=Go(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Tt(T,11)}else if((d.K||T.g==d)&&Be(T),!$(v))for(J=T.Da.g.parse(v),v=0;v<J.length;v++){let ot=J[v];if(T.T=ot[0],ot=ot[1],T.G==2)if(ot[0]=="c"){T.K=ot[1],T.ia=ot[2];const _n=ot[3];_n!=null&&(T.la=_n,T.j.info("VER="+T.la));const un=ot[4];un!=null&&(T.Aa=un,T.j.info("SVER="+T.Aa));const os=ot[5];os!=null&&typeof os=="number"&&0<os&&(x=1.5*os,T.L=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const Sn=d.g;if(Sn){const ki=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ki){var re=x.h;re.g||ki.indexOf("spdy")==-1&&ki.indexOf("quic")==-1&&ki.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(gr(re,re.h),re.h=null))}if(x.D){const iu=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;iu&&(x.ya=iu,ft(x.I,x.D,iu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),x=T;var _e=d;if(x.qa=lr(x,x.J?x.ia:null,x.W),_e.K){$n(x.h,_e);var at=_e,ln=x.L;ln&&(at.I=ln),at.B&&(Jr(at),Nt(at)),x.g=_e}else Oe(x);0<T.i.length&&Z(T)}else ot[0]!="stop"&&ot[0]!="close"||Tt(T,7);else T.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Tt(T,7):k(T):ot[0]!="noop"&&T.l&&T.l.ta(ot),T.v=0)}}yi(4)}catch{}}var Ri=class{constructor(d,v){this.g=d,this.map=v}};function $s(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ja(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Go(d){return d.h?1:d.g?d.g.size:0}function Si(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function gr(d,v){d.g?d.g.add(v):d.h=v}function $n(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}$s.prototype.cancel=function(){if(this.i=vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function vn(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.D);return v}return q(d.i)}function Ko(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],T=d.length,x=0;x<T;x++)v.push(d[x]);return v}v=[],T=0;for(x in d)v[T++]=d[x];return v}function tu(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var T=0;T<d;T++)v.push(T);return v}v=[],T=0;for(const x in d)v[T++]=x;return v}}}function ns(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var T=tu(d),x=Ko(d),J=x.length,re=0;re<J;re++)v.call(void 0,x[re],T&&T[re],d)}var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rs(d,v){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var x=d[T].indexOf("="),J=null;if(0<=x){var re=d[T].substring(0,x);J=d[T].substring(x+1)}else re=d[T];v(re,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function kr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof kr){this.h=d.h,ei(this,d.j),this.o=d.o,this.g=d.g,Gs(this,d.s),this.l=d.l;var v=d.i,T=new Pr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Ks(this,T),this.m=d.m}else d&&(v=String(d).match(eo))?(this.h=!1,ei(this,v[1]||"",!0),this.o=Ai(v[2]||""),this.g=Ai(v[3]||"",!0),Gs(this,v[4]),this.l=Ai(v[5]||"",!0),Ks(this,v[6]||"",!0),this.m=Ai(v[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}kr.prototype.toString=function(){var d=[],v=this.j;v&&d.push(rr(v,Qs,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(rr(v,Qs,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(rr(T,T.charAt(0)=="/"?Ys:ss,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",rr(T,Qo)),d.join("")};function yt(d){return new kr(d)}function ei(d,v,T){d.j=T?Ai(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Gs(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Ks(d,v,T){v instanceof Pr?(d.i=v,to(d.i,d.h)):(T||(v=rr(v,ru)),d.i=new Pr(v,d.h))}function ft(d,v,T){d.i.set(v,T)}function is(d){return ft(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ai(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function rr(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,nu),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function nu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Qs=/[#\/\?@]/g,ss=/[#\?:]/g,Ys=/[#\?]/g,ru=/[#\?@]/g,Qo=/#/g;function Pr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Gn(d){d.g||(d.g=new Map,d.h=0,d.i&&rs(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=Pr.prototype,n.add=function(d,v){Gn(this),this.i=null,d=ni(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function Ci(d,v){Gn(d),v=ni(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function ir(d,v){return Gn(d),v=ni(d,v),d.g.has(v)}n.forEach=function(d,v){Gn(this),this.g.forEach(function(T,x){T.forEach(function(J){d.call(v,J,x,this)},this)},this)},n.na=function(){Gn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let x=0;x<v.length;x++){const J=d[x];for(let re=0;re<J.length;re++)T.push(v[x])}return T},n.V=function(d){Gn(this);let v=[];if(typeof d=="string")ir(this,d)&&(v=v.concat(this.g.get(ni(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)v=v.concat(d[T])}return v},n.set=function(d,v){return Gn(this),this.i=null,d=ni(this,d),ir(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function ti(d,v,T){Ci(d,v),0<T.length&&(d.i=null,d.g.set(ni(d,v),q(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var x=v[T];const re=encodeURIComponent(String(x)),_e=this.V(x);for(x=0;x<_e.length;x++){var J=re;_e[x]!==""&&(J+="="+encodeURIComponent(String(_e[x]))),d.push(J)}}return this.i=d.join("&")};function ni(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function to(d,v){v&&!d.j&&(Gn(d),d.i=null,d.g.forEach(function(T,x){var J=x.toLowerCase();x!=J&&(Ci(this,x),ti(this,J,T))},d)),d.j=v}function Xs(d,v){const T=new Ei;if(h.Image){const x=new Image;x.onload=A(sr,T,"TestLoadImage: loaded",!0,v,x),x.onerror=A(sr,T,"TestLoadImage: error",!1,v,x),x.onabort=A(sr,T,"TestLoadImage: abort",!1,v,x),x.ontimeout=A(sr,T,"TestLoadImage: timeout",!1,v,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=d}else v(!1)}function Ii(d,v){const T=new Ei,x=new AbortController,J=setTimeout(()=>{x.abort(),sr(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:x.signal}).then(re=>{clearTimeout(J),re.ok?sr(T,"TestPingServer: ok",!0,v):sr(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(J),sr(T,"TestPingServer: error",!1,v)})}function sr(d,v,T,x,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),x(T)}catch{}}function Oi(){this.g=new gn}function ar(d,v,T){const x=T||"";try{ns(d,function(J,re){let _e=J;p(J)&&(_e=Qa(J)),v.push(x+re+"="+encodeURIComponent(_e))})}catch(J){throw v.push(x+"type="+encodeURIComponent("_badmap")),J}}function ri(d){this.l=d.Ub||null,this.j=d.eb||!1}D(ri,ts),ri.prototype.g=function(){return new Mr(this.l,this.j)},ri.prototype.i=function(d){return function(){return d}}({});function Mr(d,v){te.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Mr,te),n=Mr.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Lr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xi(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function xi(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?yr(this):Lr(this),this.readyState==3&&xi(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,yr(this))},n.Qa=function(d){this.g&&(this.response=d,yr(this))},n.ga=function(){this.g&&yr(this)};function yr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Lr(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function Lr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ni(d){let v="";return me(d,function(T,x){v+=x,v+=":",v+=T,v+=`\r
`}),v}function Et(d,v,T){e:{for(x in T){var x=!1;break e}x=!0}x||(T=Ni(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):ft(d,v,T))}function rt(d){te.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(rt,te);var ii=/^https?$/i,si=["POST","PUT"];n=rt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xr.g(),this.v=this.o?Ya(this.o):Ya(Xr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(re){Yo(this,re);return}if(d=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var J in x)T.set(J,x[J]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const re of x.keys())T.set(re,x.get(re));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(re=>re.toLowerCase()=="content-type"),J=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(si,v,void 0))||x||J||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,_e]of T)this.g.setRequestHeader(re,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{as(this),this.u=!0,this.g.send(d),this.u=!1}catch(re){Yo(this,re)}};function Yo(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Ws(d),or(d)}function Ws(d){d.A||(d.A=!0,Ie(d,"complete"),Ie(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ie(this,"complete"),Ie(this,"abort"),or(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),or(this,!0)),rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Zs(this):this.bb())},n.bb=function(){Zs(this)};function Zs(d){if(d.h&&typeof c<"u"&&(!d.v[1]||Kn(d)!=4||d.Z()!=2)){if(d.u&&Kn(d)==4)$a(d.Ea,0,d);else if(Ie(d,"readystatechange"),Kn(d)==4){d.h=!1;try{const _e=d.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var x;if(x=_e===0){var J=String(d.D).match(eo)[1]||null;!J&&h.self&&h.self.location&&(J=h.self.location.protocol.slice(0,-1)),x=!ii.test(J?J.toLowerCase():"")}T=x}if(T)Ie(d,"complete"),Ie(d,"success");else{d.m=6;try{var re=2<Kn(d)?d.g.statusText:""}catch{re=""}d.l=re+" ["+d.Z()+"]",Ws(d)}}finally{or(d)}}}}function or(d,v){if(d.g){as(d);const T=d.g,x=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ie(d,"ready");try{T.onreadystatechange=x}catch{}}}function as(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Kn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Fn(v)}};function kt(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function w(d){const v={};d=(d.g&&2<=Kn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<d.length;x++){if($(d[x]))continue;var T=B(d[x]);const J=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const re=v[J]||[];v[J]=re,re.push(T)}V(v,function(x){return x.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function R(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function N(d){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=R("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=R("baseRetryDelayMs",5e3,d),this.cb=R("retryDelaySeedMs",1e4,d),this.Wa=R("forwardChannelMaxRetries",2,d),this.wa=R("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new $s(d&&d.concurrentRequestLimit),this.Da=new Oi,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=N.prototype,n.la=8,n.G=1,n.connect=function(d,v,T,x){xt(0),this.W=d,this.H=v||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.I=lr(this,null,this.W),Z(this)};function k(d){if(X(d),d.G==3){var v=d.U++,T=yt(d.I);if(ft(T,"SID",d.K),ft(T,"RID",v),ft(T,"TYPE","terminate"),ye(d,T),v=new Nr(d,d.j,v),v.L=2,v.v=is(yt(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=v.v,T=!0),T||(v.g=on(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Nt(v)}Ut(d)}function z(d){d.g&&(St(d),d.g.cancel(),d.g=null)}function X(d){z(d),d.u&&(h.clearTimeout(d.u),d.u=null),Be(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Z(d){if(!Ja(d.h)&&!d.s){d.s=!0;var v=d.Ga;Re||F(),ge||(Re(),ge=!0),Ge.add(v,d),d.B=0}}function de(d,v){return Go(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=_i(E(d.Ga,d,v),At(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const J=new Nr(this,this.j,d);let re=this.o;if(this.S&&(re?(re=C(re),M(re,this.S)):re=this.S),this.m!==null||this.O||(J.H=re,re=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Ee(this,J,v),T=yt(this.I),ft(T,"RID",d),ft(T,"CVER",22),this.D&&ft(T,"X-HTTP-Session-Id",this.D),ye(this,T),re&&(this.O?v="headers="+encodeURIComponent(String(Ni(re)))+"&"+v:this.m&&Et(T,this.m,re)),gr(this.h,J),this.Ua&&ft(T,"TYPE","init"),this.P?(ft(T,"$req",v),ft(T,"SID","null"),J.T=!0,Pn(J,T,null)):Pn(J,T,v),this.G=2}}else this.G==3&&(d?Ce(this,d):this.i.length==0||Ja(this.h)||Ce(this))};function Ce(d,v){var T;v?T=v.l:T=d.U++;const x=yt(d.I);ft(x,"SID",d.K),ft(x,"RID",T),ft(x,"AID",d.T),ye(d,x),d.m&&d.o&&Et(x,d.m,d.o),T=new Nr(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Ee(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),gr(d.h,T),Pn(T,x,v)}function ye(d,v){d.H&&me(d.H,function(T,x){ft(v,x,T)}),d.l&&ns({},function(T,x){ft(v,x,T)})}function Ee(d,v,T){T=Math.min(d.i.length,T);var x=d.l?E(d.l.Na,d.l,d):null;e:{var J=d.i;let re=-1;for(;;){const _e=["count="+T];re==-1?0<T?(re=J[0].g,_e.push("ofs="+re)):re=0:_e.push("ofs="+re);let at=!0;for(let ln=0;ln<T;ln++){let ot=J[ln].g;const _n=J[ln].map;if(ot-=re,0>ot)re=Math.max(0,J[ln].g-100),at=!1;else try{ar(_n,_e,"req"+ot+"_")}catch{x&&x(_n)}}if(at){x=_e.join("&");break e}}}return d=d.i.splice(0,T),v.D=d,x}function Oe(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;Re||F(),ge||(Re(),ge=!0),Ge.add(v,d),d.v=0}}function mt(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=_i(E(d.Fa,d),At(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Ne(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=_i(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xt(10),z(this),Ne(this))};function St(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Ne(d){d.g=new Nr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=yt(d.qa);ft(v,"RID","rpc"),ft(v,"SID",d.K),ft(v,"AID",d.T),ft(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&ft(v,"TO",d.ja),ft(v,"TYPE","xmlhttp"),ye(d,v),d.m&&d.o&&Et(v,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=is(yt(v)),T.m=null,T.P=!0,Zr(T,d)}n.Za=function(){this.C!=null&&(this.C=null,z(this),mt(this),xt(19))};function Be(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function De(d,v){var T=null;if(d.g==v){Be(d),St(d),d.g=null;var x=2}else if(Si(d.h,v))T=v.D,$n(d.h,v),x=1;else return;if(d.G!=0){if(v.o)if(x==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var J=d.B;x=Hs(),Ie(x,new Ho(x,T)),Z(d)}else Oe(d);else if(J=v.s,J==3||J==0&&0<v.X||!(x==1&&de(d,v)||x==2&&mt(d)))switch(T&&0<T.length&&(v=d.h,v.i=v.i.concat(T)),J){case 1:Tt(d,5);break;case 4:Tt(d,10);break;case 3:Tt(d,6);break;default:Tt(d,2)}}}function At(d,v){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*v}function Tt(d,v){if(d.j.info("Error code "+v),v==2){var T=E(d.fb,d),x=d.Xa;const J=!x;x=new kr(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ei(x,"https"),is(x),J?Xs(x.toString(),T):Ii(x.toString(),T)}else xt(2);d.G=0,d.l&&d.l.sa(v),Ut(d),X(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Ut(d){if(d.G=0,d.ka=[],d.l){const v=vn(d.h);(v.length!=0||d.i.length!=0)&&(L(d.ka,v),L(d.ka,d.i),d.h.i.length=0,q(d.i),d.i.length=0),d.l.ra()}}function lr(d,v,T){var x=T instanceof kr?yt(T):new kr(T);if(x.g!="")v&&(x.g=v+"."+x.g),Gs(x,x.s);else{var J=h.location;x=J.protocol,v=v?v+"."+J.hostname:J.hostname,J=+J.port;var re=new kr(null);x&&ei(re,x),v&&(re.g=v),J&&Gs(re,J),T&&(re.l=T),x=re}return T=d.D,v=d.ya,T&&v&&ft(x,T,v),ft(x,"VER",d.la),ye(d,x),x}function on(d,v,T){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new rt(new ri({eb:T})):new rt(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vr(){}n=vr.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ur(){}ur.prototype.g=function(d,v){return new en(d,v)};function en(d,v){te.call(this),this.g=new N(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!$(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!$(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Di(this)}D(en,te),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){k(this.g)},en.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Qa(d),d=T);v.i.push(new Ri(v.Ya++,d)),v.G==3&&Z(v)},en.prototype.N=function(){this.g.l=null,delete this.j,k(this.g),delete this.g,en.aa.N.call(this)};function no(d){pi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const T in v){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}D(no,pi);function Vc(){nr.call(this),this.status=1}D(Vc,nr);function Di(d){this.g=d}D(Di,vr),Di.prototype.ua=function(){Ie(this.g,"a")},Di.prototype.ta=function(d){Ie(this.g,new no(d))},Di.prototype.sa=function(d){Ie(this.g,new Vc)},Di.prototype.ra=function(){Ie(this.g,"b")},ur.prototype.createWebChannel=ur.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,DR=function(){return new ur},NR=function(){return Hs()},xR=Hn,Ag={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qt.NO_ERROR=0,qt.TIMEOUT=8,qt.HTTP_ERROR=6,rh=qt,Yr.COMPLETE="complete",OR=Yr,Fo.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",te.prototype.listen=te.prototype.K,Wu=Fo,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,IR=rt}).apply(typeof jf<"u"?jf:typeof self<"u"?self:typeof window<"u"?window:{});const gT="@firebase/firestore",yT="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gl="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new ay("@firebase/firestore");function Rl(){return Do.logLevel}function be(n,...e){if(Do.logLevel<=et.DEBUG){const t=e.map(vy);Do.debug(`Firestore (${Gl}): ${n}`,...t)}}function Ls(n,...e){if(Do.logLevel<=et.ERROR){const t=e.map(vy);Do.error(`Firestore (${Gl}): ${n}`,...t)}}function Ml(n,...e){if(Do.logLevel<=et.WARN){const t=e.map(vy);Do.warn(`Firestore (${Gl}): ${n}`,...t)}}function vy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(n="Unexpected state"){const e=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: `+n;throw Ls(e),new Error(e)}function vt(n,e){n||je()}function $e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Zi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jn.UNAUTHENTICATED))}shutdown(){}}class kk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Pk{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){vt(this.o===void 0);let i=this.i;const a=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let l=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ns,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const f=l;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},h=f=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ns)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vt(typeof i.accessToken=="string"),new kR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string"),new jn(e)}}class Mk{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Lk{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Mk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uk{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Sr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){vt(this.o===void 0);const i=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new vT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vt(typeof t.token=="string"),this.R=t.token,new vT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Vk(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function st(n,e){return n<e?-1:n>e?1:0}function Ll(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=-62135596800,ET=1e6;class hn{static now(){return hn.fromMillis(Date.now())}static fromDate(e){return hn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*ET);return new hn(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<_T)throw new we(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ET}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-_T;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new hn(0,0))}static max(){return new qe(new hn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="__name__";class Bi{constructor(e,t,i){t===void 0?t=0:t>e.length&&je(),i===void 0?i=e.length-t:i>e.length-t&&je(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Bi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Bi.isNumericId(e),a=Bi.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Bi.extractNumericId(e).compare(Bi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xa.fromString(e.substring(4,e.length-2))}}class Mt extends Bi{construct(e,t,i){return new Mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new we(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new Mt(t)}static emptyPath(){return new Mt([])}}const jk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Bi{construct(e,t,i){return new Nn(e,t,i)}static isValidIdentifier(e){return jk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TT}static keyField(){return new Nn([TT])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new we(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new we(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new we(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new we(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(t)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Mt.fromString(e))}static fromName(e){return new Pe(Mt.fromString(e).popFirst(5))}static empty(){return new Pe(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function Bk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=qe.fromTimestamp(i===1e9?new hn(t+1,0):new hn(t,i));return new Pa(a,Pe.empty(),e)}function zk(n){return new Pa(n.readTime,n.key,hc)}class Pa{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Pa(qe.min(),Pe.empty(),hc)}static max(){return new Pa(qe.max(),Pe.empty(),hc)}}function qk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:st(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==Fk)throw n;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let a=0,l=0,c=!1;e.forEach(h=>{++a,h.next(()=>{++l,c&&l===a&&t()},f=>i(f))}),c=!0,l===a&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(a=>a?ue.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ue((i,a)=>{const l=e.length,c=new Array(l);let h=0;for(let f=0;f<l;f++){const p=f;t(e[p]).next(y=>{c[p]=y,++h,h===l&&i(c)},y=>a(y))}})}static doWhile(e,t){return new ue((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function $k(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ql(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$h.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=-1;function Gh(n){return n==null}function vh(n){return n===0&&1/n==-1/0}function Gk(n){return typeof n=="number"&&Number.isInteger(n)&&!vh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="";function Kk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bT(e)),e=Qk(n.get(t),e);return bT(e)}function Qk(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case MR:t+="";break;default:t+=l}}return t}function bT(n){return n+MR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function LR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t){this.comparator=e,this.root=t||xn.EMPTY}insert(e,t){return new zt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bf(this.root,e,this.comparator,!0)}}class Bf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??xn.RED,this.left=a??xn.EMPTY,this.right=l??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new xn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return xn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(e,t,i,a,l){return this}insert(e,t,i){return new xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new RT(this.data.getIterator())}getIteratorFrom(e){return new RT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new dn(this.comparator);return t.data=e,t}}class RT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new Ar([])}unionWith(e){let t=new dn(Nn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ar(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ll(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new UR("Invalid base64 string: "+l):l}}(e);return new Dn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new Dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const Yk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ma(n){if(vt(!!n),typeof n=="string"){let e=0;const t=Yk.exec(n);if(vt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Xt(n.seconds),nanos:Xt(n.nanos)}}function Xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function La(n){return typeof n=="string"?Dn.fromBase64String(n):Dn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="server_timestamp",jR="__type__",BR="__previous_value__",zR="__local_write_time__";function Ey(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[jR])===null||t===void 0?void 0:t.stringValue)===VR}function Kh(n){const e=n.mapValue.fields[BR];return Ey(e)?Kh(e):e}function dc(n){const e=Ma(n.mapValue.fields[zR].timestampValue);return new hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t,i,a,l,c,h,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}const _h="(default)";class mc{constructor(e,t){this.projectId=e,this.database=t||_h}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof mc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="__type__",Wk="__max__",zf={mapValue:{}},FR="__vector__",Eh="value";function Ua(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ey(n)?4:Jk(n)?9007199254740991:Zk(n)?10:11:je()}function Qi(n,e){if(n===e)return!0;const t=Ua(n);if(t!==Ua(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dc(n).isEqual(dc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ma(a.timestampValue),h=Ma(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return La(a.bytesValue).isEqual(La(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Xt(a.geoPointValue.latitude)===Xt(l.geoPointValue.latitude)&&Xt(a.geoPointValue.longitude)===Xt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Xt(a.integerValue)===Xt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Xt(a.doubleValue),h=Xt(l.doubleValue);return c===h?vh(c)===vh(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return Ll(n.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(wT(c)!==wT(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Qi(c[f],h[f])))return!1;return!0}(n,e);default:return je()}}function pc(n,e){return(n.values||[]).find(t=>Qi(t,e))!==void 0}function Ul(n,e){if(n===e)return 0;const t=Ua(n),i=Ua(e);if(t!==i)return st(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return st(n.booleanValue,e.booleanValue);case 2:return function(l,c){const h=Xt(l.integerValue||l.doubleValue),f=Xt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return ST(n.timestampValue,e.timestampValue);case 4:return ST(dc(n),dc(e));case 5:return st(n.stringValue,e.stringValue);case 6:return function(l,c){const h=La(l),f=La(c);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const h=l.split("/"),f=c.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=st(h[p],f[p]);if(y!==0)return y}return st(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const h=st(Xt(l.latitude),Xt(c.latitude));return h!==0?h:st(Xt(l.longitude),Xt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return AT(n.arrayValue,e.arrayValue);case 10:return function(l,c){var h,f,p,y;const _=l.fields||{},E=c.fields||{},A=(h=_[Eh])===null||h===void 0?void 0:h.arrayValue,D=(f=E[Eh])===null||f===void 0?void 0:f.arrayValue,q=st(((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0,((y=D==null?void 0:D.values)===null||y===void 0?void 0:y.length)||0);return q!==0?q:AT(A,D)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===zf.mapValue&&c===zf.mapValue)return 0;if(l===zf.mapValue)return 1;if(c===zf.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),p=c.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const E=st(f[_],y[_]);if(E!==0)return E;const A=Ul(h[f[_]],p[y[_]]);if(A!==0)return A}return st(f.length,y.length)}(n.mapValue,e.mapValue);default:throw je()}}function ST(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return st(n,e);const t=Ma(n),i=Ma(e),a=st(t.seconds,i.seconds);return a!==0?a:st(t.nanos,i.nanos)}function AT(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Ul(t[a],i[a]);if(l)return l}return st(t.length,i.length)}function Vl(n){return Cg(n)}function Cg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ma(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return La(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Cg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Cg(t.fields[c])}`;return a+"}"}(n.mapValue):je()}function ih(n){switch(Ua(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(n);return e?16+ih(e):16;case 5:return 2*n.stringValue.length;case 6:return La(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+ih(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return qa(i.fields,(l,c)=>{a+=l.length+ih(c)}),a}(n.mapValue);default:throw je()}}function CT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ig(n){return!!n&&"integerValue"in n}function Ty(n){return!!n&&"arrayValue"in n}function IT(n){return!!n&&"nullValue"in n}function OT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sh(n){return!!n&&"mapValue"in n}function Zk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[qR])===null||t===void 0?void 0:t.stringValue)===FR}function rc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return qa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=rc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Jk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Wk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!sh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rc(t)}setAll(e){let t=Nn.emptyPath(),i={},a=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,a),i={},a=[],t=h.popLast()}c?i[h.lastSegment()]=rc(c):a.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());sh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];sh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){qa(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new hr(rc(this.value))}}function HR(n){const e=[];return qa(n.fields,(t,i)=>{const a=new Nn([t]);if(sh(i)){const l=HR(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,t,i,a,l,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Bn(e,0,qe.min(),qe.min(),qe.min(),hr.empty(),0)}static newFoundDocument(e,t,i,a){return new Bn(e,1,t,qe.min(),i,a,0)}static newNoDocument(e,t){return new Bn(e,2,t,qe.min(),qe.min(),hr.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,qe.min(),qe.min(),hr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t){this.position=e,this.inclusive=t}}function xT(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Pe.comparator(Pe.fromName(c.referenceValue),t.key):i=Ul(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function NT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t="asc"){this.field=e,this.dir=t}}function e2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{}class an extends $R{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new n2(e,t,i):t==="array-contains"?new s2(e,i):t==="in"?new a2(e,i):t==="not-in"?new o2(e,i):t==="array-contains-any"?new l2(e,i):new an(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new r2(e,i):new i2(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ul(t,this.value)):t!==null&&Ua(this.value)===Ua(t)&&this.matchesComparison(Ul(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends $R{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new di(e,t)}matches(e){return GR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function GR(n){return n.op==="and"}function KR(n){return t2(n)&&GR(n)}function t2(n){for(const e of n.filters)if(e instanceof di)return!1;return!0}function Og(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+Vl(n.value);if(KR(n))return n.filters.map(e=>Og(e)).join(",");{const e=n.filters.map(t=>Og(t)).join(",");return`${n.op}(${e})`}}function QR(n,e){return n instanceof an?function(i,a){return a instanceof an&&i.op===a.op&&i.field.isEqual(a.field)&&Qi(i.value,a.value)}(n,e):n instanceof di?function(i,a){return a instanceof di&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,h)=>l&&QR(c,a.filters[h]),!0):!1}(n,e):void je()}function YR(n){return n instanceof an?function(t){return`${t.field.canonicalString()} ${t.op} ${Vl(t.value)}`}(n):n instanceof di?function(t){return t.op.toString()+" {"+t.getFilters().map(YR).join(" ,")+"}"}(n):"Filter"}class n2 extends an{constructor(e,t,i){super(e,t,i),this.key=Pe.fromName(i.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class r2 extends an{constructor(e,t){super(e,"in",t),this.keys=XR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class i2 extends an{constructor(e,t){super(e,"not-in",t),this.keys=XR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function XR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Pe.fromName(i.referenceValue))}class s2 extends an{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ty(t)&&pc(t.arrayValue,this.value)}}class a2 extends an{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pc(this.value.arrayValue,t)}}class o2 extends an{constructor(e,t){super(e,"not-in",t)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!pc(this.value.arrayValue,t)}}class l2 extends an{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ty(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>pc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,t=null,i=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.le=null}}function DT(n,e=null,t=[],i=[],a=null,l=null,c=null){return new u2(n,e,t,i,a,l,c)}function by(n){const e=$e(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Og(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Gh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Vl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Vl(i)).join(",")),e.le=t}return e.le}function wy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!e2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!QR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!NT(n.startAt,e.startAt)&&NT(n.endAt,e.endAt)}function xg(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t=null,i=[],a=[],l=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function c2(n,e,t,i,a,l,c,h){return new Oc(n,e,t,i,a,l,c,h)}function Ry(n){return new Oc(n)}function kT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function WR(n){return n.collectionGroup!==null}function ic(n){const e=$e(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new dn(Nn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new bh(l,i))}),t.has(Nn.keyField().canonicalString())||e.he.push(new bh(Nn.keyField(),i))}return e.he}function $i(n){const e=$e(n);return e.Pe||(e.Pe=f2(e,ic(n))),e.Pe}function f2(n,e){if(n.limitType==="F")return DT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new bh(a.field,l)});const t=n.endAt?new Th(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Th(n.startAt.position,n.startAt.inclusive):null;return DT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Ng(n,e){const t=n.filters.concat([e]);return new Oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wh(n,e,t){return new Oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qh(n,e){return wy($i(n),$i(e))&&n.limitType===e.limitType}function ZR(n){return`${by($i(n))}|lt:${n.limitType}`}function Sl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>YR(a)).join(", ")}]`),Gh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Vl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Vl(a)).join(",")),`Target(${i})`}($i(n))}; limitType=${n.limitType})`}function Yh(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Pe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of ic(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,h,f){const p=xT(c,h,f);return c.inclusive?p<=0:p<0}(i.startAt,ic(i),a)||i.endAt&&!function(c,h,f){const p=xT(c,h,f);return c.inclusive?p>=0:p>0}(i.endAt,ic(i),a))}(n,e)}function h2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JR(n){return(e,t)=>{let i=!1;for(const a of ic(n)){const l=d2(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function d2(n,e,t){const i=n.field.isKeyField()?Pe.comparator(e.key,t.key):function(l,c,h){const f=c.data.field(l),p=h.data.field(l);return f!==null&&p!==null?Ul(f,p):je()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){qa(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return LR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new zt(Pe.comparator);function Us(){return m2}const eS=new zt(Pe.comparator);function Zu(...n){let e=eS;for(const t of n)e=e.insert(t.key,t);return e}function tS(n){let e=eS;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ao(){return sc()}function nS(){return sc()}function sc(){return new jo(n=>n.toString(),(n,e)=>n.isEqual(e))}const p2=new zt(Pe.comparator),g2=new dn(Pe.comparator);function tt(...n){let e=g2;for(const t of n)e=e.add(t);return e}const y2=new dn(st);function v2(){return y2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function rS(n){return{integerValue:""+n}}function _2(n,e){return Gk(e)?rS(e):Sy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function E2(n,e,t){return n instanceof Rh?function(a,l){const c={fields:{[jR]:{stringValue:VR},[zR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ey(l)&&(l=Kh(l)),l&&(c.fields[BR]=l),{mapValue:c}}(t,e):n instanceof gc?sS(n,e):n instanceof yc?aS(n,e):function(a,l){const c=iS(a,l),h=PT(c)+PT(a.Ie);return Ig(c)&&Ig(a.Ie)?rS(h):Sy(a.serializer,h)}(n,e)}function T2(n,e,t){return n instanceof gc?sS(n,e):n instanceof yc?aS(n,e):t}function iS(n,e){return n instanceof Sh?function(i){return Ig(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Rh extends Xh{}class gc extends Xh{constructor(e){super(),this.elements=e}}function sS(n,e){const t=oS(e);for(const i of n.elements)t.some(a=>Qi(a,i))||t.push(i);return{arrayValue:{values:t}}}class yc extends Xh{constructor(e){super(),this.elements=e}}function aS(n,e){let t=oS(e);for(const i of n.elements)t=t.filter(a=>!Qi(a,i));return{arrayValue:{values:t}}}class Sh extends Xh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function PT(n){return Xt(n.integerValue||n.doubleValue)}function oS(n){return Ty(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function b2(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof gc&&a instanceof gc||i instanceof yc&&a instanceof yc?Ll(i.elements,a.elements,Qi):i instanceof Sh&&a instanceof Sh?Qi(i.Ie,a.Ie):i instanceof Rh&&a instanceof Rh}(n.transform,e.transform)}class w2{constructor(e,t){this.version=e,this.transformResults=t}}class fi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Wh{}function lS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ay(n.key,fi.none()):new xc(n.key,n.data,fi.none());{const t=n.data,i=hr.empty();let a=new dn(Nn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Fa(n.key,i,new Ar(a.toArray()),fi.none())}}function R2(n,e,t){n instanceof xc?function(a,l,c){const h=a.value.clone(),f=LT(a.fieldTransforms,l,c.transformResults);h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Fa?function(a,l,c){if(!ah(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=LT(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(uS(a)),f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function ac(n,e,t,i){return n instanceof xc?function(l,c,h,f){if(!ah(l.precondition,c))return h;const p=l.value.clone(),y=UT(l.fieldTransforms,f,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Fa?function(l,c,h,f){if(!ah(l.precondition,c))return h;const p=UT(l.fieldTransforms,f,c),y=c.data;return y.setAll(uS(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(l,c,h){return ah(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function S2(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=iS(i.transform,a||null);l!=null&&(t===null&&(t=hr.empty()),t.set(i.field,l))}return t||null}function MT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Ll(i,a,(l,c)=>b2(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xc extends Wh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Fa extends Wh{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function uS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function LT(n,e,t){const i=new Map;vt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,h=e.data.field(l.field);i.set(l.field,T2(c,h,t[a]))}return i}function UT(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,E2(l,c,e))}return i}class Ay extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class A2 extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&R2(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ac(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ac(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=nS();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(a.key)?null:h;const f=lS(c,h);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(qe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&Ll(this.mutations,e.mutations,(t,i)=>MT(t,i))&&Ll(this.baseMutations,e.baseMutations,(t,i)=>MT(t,i))}}class Cy{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){vt(e.mutations.length===i.length);let a=function(){return p2}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Cy(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,ut;function x2(n){switch(n){case ce.OK:return je();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return je()}}function cS(n){if(n===void 0)return Ls("GRPC error has no .code"),ce.UNKNOWN;switch(n){case sn.OK:return ce.OK;case sn.CANCELLED:return ce.CANCELLED;case sn.UNKNOWN:return ce.UNKNOWN;case sn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case sn.INTERNAL:return ce.INTERNAL;case sn.UNAVAILABLE:return ce.UNAVAILABLE;case sn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case sn.NOT_FOUND:return ce.NOT_FOUND;case sn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case sn.ABORTED:return ce.ABORTED;case sn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case sn.DATA_LOSS:return ce.DATA_LOSS;default:return je()}}(ut=sn||(sn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new xa([4294967295,4294967295],0);function VT(n){const e=N2().encode(n),t=new CR;return t.update(e),new Uint8Array(t.digest())}function jT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new xa([t,i],0),new xa([a,l],0)]}class Iy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ju(`Invalid padding: ${t}`);if(i<0)throw new Ju(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ju(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ju(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=xa.fromNumber(this.Ee)}Ae(e,t,i){let a=e.add(t.multiply(xa.fromNumber(i)));return a.compare(D2)===1&&(a=new xa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=VT(e),[i,a]=jT(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Iy(l,a,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Ee===0)return;const t=VT(e),[i,a]=jT(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Nc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Zh(qe.min(),a,new zt(st),Us(),tt())}}class Nc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Nc(i,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t,i,a){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=a}}class fS{constructor(e,t){this.targetId=e,this.ge=t}}class hS{constructor(e,t,i=Dn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class BT{constructor(){this.pe=0,this.ye=zT(),this.we=Dn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=tt(),t=tt(),i=tt();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:je()}}),new Nc(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=zT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,vt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class k2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Us(),this.$e=qf(),this.Ke=qf(),this.Ue=new zt(st)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,i=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(xg(l))if(i===0){const c=new Pe(l.path);this.ze(t,c,Bn.newNoDocument(c,qe.min()))}else vt(i===1);else{const c=this.et(t);if(c!==i){const h=this.tt(e),f=h?this.nt(h,e,c):1;if(f!==0){this.Ye(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,h;try{c=La(i).toUint8Array()}catch(f){if(f instanceof UR)return Ml("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Iy(c,a,l)}catch(f){return Ml(f instanceof Ju?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ke.it(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const h=this.Xe(c);if(h){if(l.current&&xg(h.target)){const f=new Pe(h.target.path);this._t(f).has(c)||this.ut(c,f)||this.ze(c,f,Bn.newNoDocument(f,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=tt();this.Ke.forEach((l,c)=>{let h=!0;c.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new Zh(e,t,this.Ue,this.Qe,i);return this.Qe=Us(),this.$e=qf(),this.Ke=qf(),this.Ue=new zt(st),a}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new BT,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new dn(st),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new dn(st),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new BT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function qf(){return new zt(Pe.comparator)}function zT(){return new zt(Pe.comparator)}const P2={asc:"ASCENDING",desc:"DESCENDING"},M2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L2={and:"AND",or:"OR"};class U2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Dg(n,e){return n.useProto3Json||Gh(e)?e:{value:e}}function Ah(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function V2(n,e){return Ah(n,e.toTimestamp())}function Gi(n){return vt(!!n),qe.fromTimestamp(function(t){const i=Ma(t);return new hn(i.seconds,i.nanos)}(n))}function Oy(n,e){return kg(n,e).canonicalString()}function kg(n,e){const t=function(a){return new Mt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function mS(n){const e=Mt.fromString(n);return vt(_S(e)),e}function Pg(n,e){return Oy(n.databaseId,e.path)}function Rp(n,e){const t=mS(e);if(t.get(1)!==n.databaseId.projectId)throw new we(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(gS(t))}function pS(n,e){return Oy(n.databaseId,e)}function j2(n){const e=mS(n);return e.length===4?Mt.emptyPath():gS(e)}function Mg(n){return new Mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gS(n){return vt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function qT(n,e,t){return{name:Pg(n,e),fields:t.value.mapValue.fields}}function B2(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:je()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(vt(y===void 0||typeof y=="string"),Dn.fromBase64String(y||"")):(vt(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Dn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const y=p.code===void 0?ce.UNKNOWN:cS(p.code);return new we(y,p.message||"")}(c);t=new hS(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Rp(n,i.document.name),l=Gi(i.document.updateTime),c=i.document.createTime?Gi(i.document.createTime):qe.min(),h=new hr({mapValue:{fields:i.document.fields}}),f=Bn.newFoundDocument(a,l,c,h),p=i.targetIds||[],y=i.removedTargetIds||[];t=new oh(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Rp(n,i.document),l=i.readTime?Gi(i.readTime):qe.min(),c=Bn.newNoDocument(a,l),h=i.removedTargetIds||[];t=new oh([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Rp(n,i.document),l=i.removedTargetIds||[];t=new oh([],l,a,null)}else{if(!("filter"in e))return je();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new O2(a,l),h=i.targetId;t=new fS(h,c)}}return t}function z2(n,e){let t;if(e instanceof xc)t={update:qT(n,e.key,e.value)};else if(e instanceof Ay)t={delete:Pg(n,e.key)};else if(e instanceof Fa)t={update:qT(n,e.key,e.data),updateMask:X2(e.fieldMask)};else{if(!(e instanceof A2))return je();t={verify:Pg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const h=c.transform;if(h instanceof Rh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof gc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof yc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Sh)return{fieldPath:c.field.canonicalString(),increment:h.Ie};throw je()}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:V2(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:je()}(n,e.precondition)),t}function q2(n,e){return n&&n.length>0?(vt(e!==void 0),n.map(t=>function(a,l){let c=a.updateTime?Gi(a.updateTime):Gi(l);return c.isEqual(qe.min())&&(c=Gi(l)),new w2(c,a.transformResults||[])}(t,e))):[]}function F2(n,e){return{documents:[pS(n,e.path)]}}function H2(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=pS(n,a);const l=function(p){if(p.length!==0)return vS(di.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:Al(E.field),direction:K2(E.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Dg(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:a}}function $2(n){let e=j2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){vt(i===1);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(_){const E=yS(_);return E instanceof di&&KR(E)?E.getFilters():[E]}(t.where));let c=[];t.orderBy&&(c=function(_){return _.map(E=>function(D){return new bh(Cl(D.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,Gh(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(_){const E=!!_.before,A=_.values||[];return new Th(A,E)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const E=!_.before,A=_.values||[];return new Th(A,E)}(t.endAt)),c2(e,a,c,l,h,"F",f,p)}function G2(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Cl(t.unaryFilter.field);return an.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Cl(t.unaryFilter.field);return an.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Cl(t.unaryFilter.field);return an.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Cl(t.unaryFilter.field);return an.create(c,"!=",{nullValue:"NULL_VALUE"});default:return je()}}(n):n.fieldFilter!==void 0?function(t){return an.create(Cl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return di.create(t.compositeFilter.filters.map(i=>yS(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return je()}}(t.compositeFilter.op))}(n):je()}function K2(n){return P2[n]}function Q2(n){return M2[n]}function Y2(n){return L2[n]}function Al(n){return{fieldPath:n.canonicalString()}}function Cl(n){return Nn.fromServerFormat(n.fieldPath)}function vS(n){return n instanceof an?function(t){if(t.op==="=="){if(OT(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NAN"}};if(IT(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(OT(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NOT_NAN"}};if(IT(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(t.field),op:Q2(t.op),value:t.value}}}(n):n instanceof di?function(t){const i=t.getFilters().map(a=>vS(a));return i.length===1?i[0]:{compositeFilter:{op:Y2(t.op),filters:i}}}(n):je()}function X2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _S(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,t,i,a,l=qe.min(),c=qe.min(),h=Dn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.Tt=e}}function Z2(n){const e=$2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.Tn=new eP}addToCollectionParentIndex(e,t){return this.Tn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Pa.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Pa.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class eP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new dn(Mt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new dn(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ES=41943040;class fr{static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(ES,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new jl(0)}static Un(){return new jl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="LruGarbageCollector",tP=1048576;function $T([n,e],[t,i]){const a=st(n,t);return a===0?st(e,i):a}class nP{constructor(e){this.Hn=e,this.buffer=new dn($T),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();$T(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){be(HT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ql(t)?be(HT,"Ignoring IndexedDB error during garbage collection: ",t):await Kl(t)}await this.er(3e5)})}}class iP{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ue.resolve($h.ae);const i=new nP(t);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(FT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,a,l,c,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,h=Date.now(),this.removeTargets(e,i,t))).next(_=>(l=_,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(p=Date.now(),Rl()<=et.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function sP(n,e){return new iP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.changes=new jo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&ac(i.mutation,a,Ar.empty(),hn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,tt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=tt()){const a=Ao();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=Zu();return l.forEach((h,f)=>{c=c.insert(h,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Ao();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,tt()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,a){let l=Us();const c=sc(),h=function(){return sc()}();return t.forEach((f,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Fa)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),ac(y.mutation,p,y.mutation.getFieldMask(),hn.now())):c.set(p.key,Ar.empty())}),this.recalculateAndSaveOverlays(e,l).next(f=>(f.forEach((p,y)=>c.set(p,y)),t.forEach((p,y)=>{var _;return h.set(p,new oP(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const i=sc();let a=new zt((c,h)=>c-h),l=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let y=i.get(f)||Ar.empty();y=h.applyToLocalView(p,y),i.set(f,y);const _=(a.get(h.batchId)||tt()).add(f);a=a.insert(h.batchId,_)})}).next(()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,_=nS();y.forEach(E=>{if(!l.has(E)){const A=lS(t.get(E),i.get(E));A!==null&&_.set(E,A),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ue.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ue.resolve(Ao());let h=hc,f=l;return c.next(p=>ue.forEach(p,(y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(y)?ue.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{f=f.insert(y,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,f,p,tt())).next(y=>({batchId:h,changes:tS(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(i=>{let a=Zu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Zu();return this.indexManager.getCollectionParents(e,l).next(h=>ue.forEach(h,f=>{const p=function(_,E){return new Oc(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(y=>{y.forEach((_,E)=>{c=c.insert(_,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((f,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,Bn.newInvalidDocument(y)))});let h=Zu();return c.forEach((f,p)=>{const y=l.get(f);y!==void 0&&ac(y.mutation,p,Ar.empty(),hn.now()),Yh(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ue.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Gi(a.createTime)}}(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:Z2(a.bundledQuery),readTime:Gi(a.readTime)}}(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.overlays=new zt(Pe.comparator),this.Rr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ao();return ue.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.Et(e,t,l)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const a=Ao(),l=t.length+1,c=new Pe(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new zt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=Ao(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Ao(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=a)););return ue.resolve(h)}Et(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new I2(t,i));let l=this.Rr.get(t);l===void 0&&(l=tt(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.sessionToken=Dn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.Vr=new dn(wn.mr),this.gr=new dn(wn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new wn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new wn(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Pe(new Mt([])),i=new wn(t,e),a=new wn(t,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Pe(new Mt([])),i=new wn(t,e),a=new wn(t,e+1);let l=tt();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new wn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class wn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Pe.comparator(e.key,t.key)||st(e.Cr,t.Cr)}static pr(e,t){return st(e.Cr,t.Cr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new dn(wn.mr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new C2(l,t,i,a);this.mutationQueue.push(c);for(const h of a)this.Mr=this.Mr.add(new wn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Nr(i),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?_y:this.Fr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new wn(t,0),a=new wn(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const h=this.Or(c.Cr);l.push(h)}),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new dn(st);return t.forEach(a=>{const l=new wn(a,0),c=new wn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],h=>{i=i.add(h.Cr)})}),ue.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Pe.isDocumentKey(l)||(l=l.child(""));const c=new wn(new Pe(l),0);let h=new dn(st);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(f.Cr)),!0)},c),ue.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){vt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ue.forEach(t.mutations,a=>{const l=new wn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new wn(t,0),a=this.Mr.firstAfterOrEqual(i);return ue.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.kr=e,this.docs=function(){return new zt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let i=Us();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Bn.newInvalidDocument(a))}),ue.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Us();const c=t.path,h=new Pe(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||qk(zk(y),i)<=0||(a.has(y.key)||Yh(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,i,a){je()}qr(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new mP(this)}getSize(e){return ue.resolve(this.size)}}class mP extends aP{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.persistence=e,this.Qr=new jo(t=>by(t),wy),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new xy,this.targetCount=0,this.Ur=jl.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,a)=>t(a)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ue.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new jl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.zn(t),ue.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.Qr.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),ue.waitFor(l).next(()=>a)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new $h(0),this.zr=!1,this.zr=!0,this.jr=new fP,this.referenceDelegate=e(this),this.Hr=new pP(this),this.indexManager=new J2,this.remoteDocumentCache=function(a){return new dP(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new W2(t),this.Yr=new uP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new hP(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){be("MemoryPersistence","Starting transaction:",e);const a=new gP(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return ue.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class gP extends Hk{constructor(e){super(),this.currentSequenceNumber=e}}class Ny{constructor(e){this.persistence=e,this.ti=new xy,this.ni=null}static ri(e){return new Ny(e)}get ii(){if(this.ni)return this.ni;throw je()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ue.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.ii,i=>{const a=Pe.fromPath(i);return this.si(e,a).next(l=>{l||t.removeEntry(a,qe.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ue.or([()=>ue.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Ch{constructor(e,t){this.persistence=e,this.oi=new jo(i=>Kk(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=sP(this,t)}static ri(e,t){return new Ch(e,t)}Zr(){}Xr(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ue.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?ue.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(h=>{h||(i++,l.removeEntry(c,qe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ue.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ih(e.data.value)),t}ar(e,t,i){return ue.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return ue.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=a}static Yi(e,t){let i=tt(),a=tt();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Dy(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return JO()?8:$k(zn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new yP;return this._s(e,t,c).next(h=>{if(l.result=h,this.Xi)return this.us(e,t,c,h.size)})}).next(()=>l.result)}us(e,t,i,a){return i.documentReadCount<this.es?(Rl()<=et.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Sl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ue.resolve()):(Rl()<=et.DEBUG&&be("QueryEngine","Query:",Sl(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(Rl()<=et.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Sl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(t))):ue.resolve())}rs(e,t){if(kT(t))return ue.resolve(null);let i=$i(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=wh(t,null,"F"),i=$i(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=tt(...l);return this.ns.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const p=this.cs(t,h);return this.ls(t,p,c,f.readTime)?this.rs(e,wh(t,null,"F")):this.hs(e,p,t,f)}))})))}ss(e,t,i,a){return kT(t)||a.isEqual(qe.min())?ue.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,a)?ue.resolve(null):(Rl()<=et.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Sl(t)),this.hs(e,c,t,Bk(a,hc)).next(h=>h))})}cs(e,t){let i=new dn(JR(e));return t.forEach((a,l)=>{Yh(e,l)&&(i=i.add(l))}),i}ls(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,i){return Rl()<=et.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Sl(t)),this.ns.getDocumentsMatchingQuery(e,t,Pa.min(),i)}hs(e,t,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="LocalStore",_P=3e8;class EP{constructor(e,t,i,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new zt(st),this.Is=new jo(l=>by(l),wy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function TP(n,e,t,i){return new EP(n,e,t,i)}async function bS(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],h=[];let f=tt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(i,f).next(p=>({Rs:p,removedBatchIds:c,addedBatchIds:h}))})})}function bP(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,f,p,y){const _=p.batch,E=_.keys();let A=ue.resolve();return E.forEach(D=>{A=A.next(()=>y.getEntry(f,D)).next(q=>{const L=p.docVersions.get(D);vt(L!==null),q.version.compareTo(L)<0&&(_.applyToRemoteDocument(q,p),q.isValidDocument()&&(q.setReadTime(p.commitVersion),y.addEntry(q)))})}),A.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=tt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function wS(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function wP(n,e){const t=$e(n),i=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const h=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;h.push(t.Hr.removeMatchingKeys(l,y.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(l,y.addedDocuments,_)));let A=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(Dn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),a=a.insert(_,A),function(q,L,Y){return q.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=_P?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(E,A,y)&&h.push(t.Hr.updateTargetData(l,A))});let f=Us(),p=tt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),h.push(RP(l,c,e.documentUpdates).next(y=>{f=y.Vs,p=y.fs})),!i.isEqual(qe.min())){const y=t.Hr.getLastRemoteSnapshotVersion(l).next(_=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(y)}return ue.waitFor(h).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,f,p)).next(()=>f)}).then(l=>(t.Ts=a,l))}function RP(n,e,t){let i=tt(),a=tt();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Us();return t.forEach((h,f)=>{const p=l.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(qe.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):be(ky,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{Vs:c,fs:a}})}function SP(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=_y),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function AP(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Hr.getTargetData(i,e).next(l=>l?(a=l,ue.resolve(a)):t.Hr.allocateTargetId(i).next(c=>(a=new Ca(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Lg(n,e,t){const i=$e(n),a=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Ql(c))throw c;be(ky,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function GT(n,e,t){const i=$e(n);let a=qe.min(),l=tt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,p,y){const _=$e(f),E=_.Is.get(y);return E!==void 0?ue.resolve(_.Ts.get(E)):_.Hr.getTargetData(p,y)}(i,c,$i(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,h.targetId).next(f=>{l=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?a:qe.min(),t?l:tt())).next(h=>(CP(i,h2(e),h),{documents:h,gs:l})))}function CP(n,e,t){let i=n.Es.get(e)||qe.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class KT{constructor(){this.activeTargetIds=v2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IP{constructor(){this.ho=new KT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new KT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="ConnectivityMonitor";class YT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){be(QT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){be(QT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff=null;function Ug(){return Ff===null?Ff=function(){return 268435456+Math.round(2147483648*Math.random())}():Ff++,"0x"+Ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="RestConnection",xP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===_h?`project_id=${i}`:`project_id=${i}&database_id=${a}`}So(e,t,i,a,l){const c=Ug(),h=this.bo(e,t.toUriEncodedString());be(Sp,`Sending RPC '${e}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,a,l),this.vo(e,h,f,i).then(p=>(be(Sp,`Received RPC '${e}' ${c}: `,p),p),p=>{throw Ml(Sp,`RPC '${e}' ${c} failed with error: `,p,"url: ",h,"request:",i),p})}Co(e,t,i,a,l,c){return this.So(e,t,i,a,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}bo(e,t){const i=xP[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class kP extends NP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,a){const l=Ug();return new Promise((c,h)=>{const f=new IR;f.setWithCredentials(!0),f.listenOnce(OR.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case rh.NO_ERROR:const y=f.getResponseJson();be(Vn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case rh.TIMEOUT:be(Vn,`RPC '${e}' ${l} timed out`),h(new we(ce.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const _=f.getStatus();if(be(Vn,`RPC '${e}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const D=function(L){const Y=L.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(Y)>=0?Y:ce.UNKNOWN}(A.status);h(new we(D,A.message))}else h(new we(ce.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new we(ce.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{be(Vn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(a);be(Vn,`RPC '${e}' ${l} sending request:`,a),f.send(t,"POST",p,i,15)})}Wo(e,t,i){const a=Ug(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=DR(),h=NR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const y=l.join("");be(Vn,`Creating RPC '${e}' stream ${a}: ${y}`,f);const _=c.createWebChannel(y,f);let E=!1,A=!1;const D=new DP({Fo:L=>{A?be(Vn,`Not sending because RPC '${e}' stream ${a} is closed:`,L):(E||(be(Vn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),be(Vn,`RPC '${e}' stream ${a} sending:`,L),_.send(L))},Mo:()=>_.close()}),q=(L,Y,$)=>{L.listen(Y,K=>{try{$(K)}catch(ie){setTimeout(()=>{throw ie},0)}})};return q(_,Wu.EventType.OPEN,()=>{A||(be(Vn,`RPC '${e}' stream ${a} transport opened.`),D.Qo())}),q(_,Wu.EventType.CLOSE,()=>{A||(A=!0,be(Vn,`RPC '${e}' stream ${a} transport closed`),D.Ko())}),q(_,Wu.EventType.ERROR,L=>{A||(A=!0,Ml(Vn,`RPC '${e}' stream ${a} transport errored:`,L),D.Ko(new we(ce.UNAVAILABLE,"The operation could not be completed")))}),q(_,Wu.EventType.MESSAGE,L=>{var Y;if(!A){const $=L.data[0];vt(!!$);const K=$,ie=(K==null?void 0:K.error)||((Y=K[0])===null||Y===void 0?void 0:Y.error);if(ie){be(Vn,`RPC '${e}' stream ${a} received error:`,ie);const le=ie.status;let me=function(O){const M=sn[O];if(M!==void 0)return cS(M)}(le),V=ie.message;me===void 0&&(me=ce.INTERNAL,V="Unknown error status: "+le+" with message "+ie.message),A=!0,D.Ko(new we(me,V)),_.close()}else be(Vn,`RPC '${e}' stream ${a} received:`,$),D.Uo($)}}),q(h,xR.STAT_EVENT,L=>{L.stat===Ag.PROXY?be(Vn,`RPC '${e}' stream ${a} detected buffering proxy`):L.stat===Ag.NOPROXY&&be(Vn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}}function Ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(n){return new U2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-i);a>0&&be("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="PersistentStream";class SS{constructor(e,t,i,a,l,c,h,f){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new RS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Ls(t.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===t&&this.V_(i,a)},i=>{e(()=>{const a=new we(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return be(XT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(be(XT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PP extends SS{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=B2(this.serializer,e),i=function(l){if(!("targetChange"in l))return qe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?qe.min():c.readTime?Gi(c.readTime):qe.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Mg(this.serializer),t.addTarget=function(l,c){let h;const f=c.target;if(h=xg(f)?{documents:F2(l,f)}:{query:H2(l,f).ht},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=dS(l,c.resumeToken);const p=Dg(l,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(qe.min())>0){h.readTime=Ah(l,c.snapshotVersion.toTimestamp());const p=Dg(l,c.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const i=G2(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Mg(this.serializer),t.removeTarget=e,this.I_(t)}}class MP extends SS{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return vt(!!e.streamToken),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=q2(e.writeResults,e.commitTime),i=Gi(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Mg(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>z2(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{}class UP extends LP{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new we(ce.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,kg(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(ce.UNKNOWN,l.toString())})}Co(e,t,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Co(e,kg(t,i),a,c,h,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new we(ce.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class VP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ls(t),this.N_=!1):be("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="RemoteStore";class jP{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{Bo(this)&&(be(ko,"Restarting streams for network reachability change."),await async function(f){const p=$e(f);p.W_.add(4),await Dc(p),p.j_.set("Unknown"),p.W_.delete(4),await ed(p)}(this))})}),this.j_=new VP(i,a)}}async function ed(n){if(Bo(n))for(const e of n.G_)await e(!0)}async function Dc(n){for(const e of n.G_)await e(!1)}function AS(n,e){const t=$e(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Uy(t)?Ly(t):Yl(t).c_()&&My(t,e))}function Py(n,e){const t=$e(n),i=Yl(t);t.U_.delete(e),i.c_()&&CS(t,e),t.U_.size===0&&(i.c_()?i.P_():Bo(t)&&t.j_.set("Unknown"))}function My(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yl(n).y_(e)}function CS(n,e){n.H_.Ne(e),Yl(n).w_(e)}function Ly(n){n.H_=new k2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Yl(n).start(),n.j_.B_()}function Uy(n){return Bo(n)&&!Yl(n).u_()&&n.U_.size>0}function Bo(n){return $e(n).W_.size===0}function IS(n){n.H_=void 0}async function BP(n){n.j_.set("Online")}async function zP(n){n.U_.forEach((e,t)=>{My(n,e)})}async function qP(n,e){IS(n),Uy(n)?(n.j_.q_(e),Ly(n)):n.j_.set("Unknown")}async function FP(n,e,t){if(n.j_.set("Online"),e instanceof hS&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const h of l.targetIds)a.U_.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.U_.delete(h),a.H_.removeTarget(h))}(n,e)}catch(i){be(ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ih(n,i)}else if(e instanceof oh?n.H_.We(e):e instanceof fS?n.H_.Ze(e):n.H_.je(e),!t.isEqual(qe.min()))try{const i=await wS(n.localStore);t.compareTo(i)>=0&&await function(l,c){const h=l.H_.ot(c);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=l.U_.get(p);y&&l.U_.set(p,y.withResumeToken(f.resumeToken,c))}}),h.targetMismatches.forEach((f,p)=>{const y=l.U_.get(f);if(!y)return;l.U_.set(f,y.withResumeToken(Dn.EMPTY_BYTE_STRING,y.snapshotVersion)),CS(l,f);const _=new Ca(y.target,f,p,y.sequenceNumber);My(l,_)}),l.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){be(ko,"Failed to raise snapshot:",i),await Ih(n,i)}}async function Ih(n,e,t){if(!Ql(e))throw e;n.W_.add(1),await Dc(n),n.j_.set("Offline"),t||(t=()=>wS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{be(ko,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await ed(n)})}function OS(n,e){return e().catch(t=>Ih(n,t,e))}async function td(n){const e=$e(n),t=Va(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:_y;for(;HP(e);)try{const a=await SP(e.localStore,i);if(a===null){e.K_.length===0&&t.P_();break}i=a.batchId,$P(e,a)}catch(a){await Ih(e,a)}xS(e)&&NS(e)}function HP(n){return Bo(n)&&n.K_.length<10}function $P(n,e){n.K_.push(e);const t=Va(n);t.c_()&&t.S_&&t.b_(e.mutations)}function xS(n){return Bo(n)&&!Va(n).u_()&&n.K_.length>0}function NS(n){Va(n).start()}async function GP(n){Va(n).C_()}async function KP(n){const e=Va(n);for(const t of n.K_)e.b_(t.mutations)}async function QP(n,e,t){const i=n.K_.shift(),a=Cy.from(i,e,t);await OS(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await td(n)}async function YP(n,e){e&&Va(n).S_&&await async function(i,a){if(function(c){return x2(c)&&c!==ce.ABORTED}(a.code)){const l=i.K_.shift();Va(i).h_(),await OS(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await td(i)}}(n,e),xS(n)&&NS(n)}async function WT(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),be(ko,"RemoteStore received new credentials");const i=Bo(t);t.W_.add(3),await Dc(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await ed(t)}async function XP(n,e){const t=$e(n);e?(t.W_.delete(2),await ed(t)):e||(t.W_.add(2),await Dc(t),t.j_.set("Unknown"))}function Yl(n){return n.J_||(n.J_=function(t,i,a){const l=$e(t);return l.M_(),new PP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:BP.bind(null,n),No:zP.bind(null,n),Lo:qP.bind(null,n),p_:FP.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Uy(n)?Ly(n):n.j_.set("Unknown")):(await n.J_.stop(),IS(n))})),n.J_}function Va(n){return n.Y_||(n.Y_=function(t,i,a){const l=$e(t);return l.M_(),new MP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:GP.bind(null,n),Lo:YP.bind(null,n),D_:KP.bind(null,n),v_:QP.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await td(n)):(await n.Y_.stop(),n.K_.length>0&&(be(ko,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,h=new Vy(e,t,c,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jy(n,e){if(Ls("AsyncQueue",`${e}: ${n}`),Ql(n))return new we(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{static emptySet(e){return new Pl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Pe.comparator(t.key,i.key):(t,i)=>Pe.comparator(t.key,i.key),this.keyedMap=Zu(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Pl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.Z_=new zt(Pe.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):je():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Bl{constructor(e,t,i,a,l,c,h,f,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Bl(e,t,Pl.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class ZP{constructor(){this.queries=JT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const a=$e(t),l=a.queries;a.queries=JT(),l.forEach((c,h)=>{for(const f of h.ta)f.onError(i)})})(this,new we(ce.ABORTED,"Firestore shutting down"))}}function JT(){return new jo(n=>ZR(n),Qh)}async function DS(n,e){const t=$e(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new WP,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=jy(c,`Initialization of query '${Sl(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&By(t)}async function kS(n,e){const t=$e(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function JP(n,e){const t=$e(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const h of c.ta)h.oa(a)&&(i=!0);c.ea=a}}i&&By(t)}function eM(n,e,t){const i=$e(n),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(t);i.queries.delete(e)}function By(n){n.ia.forEach(e=>{e.next()})}var Vg,eb;(eb=Vg||(Vg={}))._a="default",eb.Cache="cache";class PS{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Bl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.key=e}}class LS{constructor(e){this.key=e}}class tM{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=tt(),this.mutatedKeys=tt(),this.ya=JR(e),this.wa=new Pl(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new ZT,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),A=Yh(this.query,_)?_:null,D=!!E&&this.mutatedKeys.has(E.key),q=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let L=!1;E&&A?E.data.isEqual(A.data)?D!==q&&(i.track({type:3,doc:A}),L=!0):this.va(E,A)||(i.track({type:2,doc:A}),L=!0,(f&&this.ya(A,f)>0||p&&this.ya(A,p)<0)&&(h=!0)):!E&&A?(i.track({type:0,doc:A}),L=!0):E&&!A&&(i.track({type:1,doc:E}),L=!0,(f||p)&&(h=!0)),L&&(A?(c=c.add(A),l=q?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{wa:c,Da:i,ls:h,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((y,_)=>function(A,D){const q=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return q(A)-q(D)}(y.type,_.type)||this.ya(y.doc,_.doc)),this.Ca(i),a=a!=null&&a;const h=t&&!a?this.Fa():[],f=this.pa.size===0&&this.current&&!a?1:0,p=f!==this.ga;return this.ga=f,c.length!==0||p?{snapshot:new Bl(this.query,e.wa,l,c,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new ZT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=tt(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new LS(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new MS(i))}),t}Oa(e){this.fa=e.gs,this.pa=tt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Bl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const zy="SyncEngine";class nM{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class rM{constructor(e){this.key=e,this.Ba=!1}}class iM{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new jo(h=>ZR(h),Qh),this.qa=new Map,this.Qa=new Set,this.$a=new zt(Pe.comparator),this.Ka=new Map,this.Ua=new xy,this.Wa={},this.Ga=new Map,this.za=jl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function sM(n,e,t=!0){const i=qS(n);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await US(i,e,t,!0),a}async function aM(n,e){const t=qS(n);await US(t,e,!0,!1)}async function US(n,e,t,i){const a=await AP(n.localStore,$i(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await oM(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&AS(n.remoteStore,a),h}async function oM(n,e,t,i,a){n.Ha=(_,E,A)=>async function(q,L,Y,$){let K=L.view.ba(Y);K.ls&&(K=await GT(q.localStore,L.query,!1).then(({documents:V})=>L.view.ba(V,K)));const ie=$&&$.targetChanges.get(L.targetId),le=$&&$.targetMismatches.get(L.targetId)!=null,me=L.view.applyChanges(K,q.isPrimaryClient,ie,le);return nb(q,L.targetId,me.Ma),me.snapshot}(n,_,E,A);const l=await GT(n.localStore,e,!0),c=new tM(e,l.gs),h=c.ba(l.documents),f=Nc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),p=c.applyChanges(h,n.isPrimaryClient,f);nb(n,t,p.Ma);const y=new nM(e,t,c);return n.ka.set(e,y),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function lM(n,e,t){const i=$e(n),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!Qh(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Lg(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Py(i.remoteStore,a.targetId),jg(i,a.targetId)}).catch(Kl)):(jg(i,a.targetId),await Lg(i.localStore,a.targetId,!0))}async function uM(n,e){const t=$e(n),i=t.ka.get(e),a=t.qa.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Py(t.remoteStore,i.targetId))}async function cM(n,e,t){const i=yM(n);try{const a=await function(c,h){const f=$e(c),p=hn.now(),y=h.reduce((A,D)=>A.add(D.key),tt());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let D=Us(),q=tt();return f.ds.getEntries(A,y).next(L=>{D=L,D.forEach((Y,$)=>{$.isValidDocument()||(q=q.add(Y))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,D)).next(L=>{_=L;const Y=[];for(const $ of h){const K=S2($,_.get($.key).overlayedDocument);K!=null&&Y.push(new Fa($.key,K,HR(K.value.mapValue),fi.exists(!0)))}return f.mutationQueue.addMutationBatch(A,p,Y,h)}).next(L=>{E=L;const Y=L.applyToLocalDocumentSet(_,q);return f.documentOverlayCache.saveOverlays(A,L.batchId,Y)})}).then(()=>({batchId:E.batchId,changes:tS(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,h,f){let p=c.Wa[c.currentUser.toKey()];p||(p=new zt(st)),p=p.insert(h,f),c.Wa[c.currentUser.toKey()]=p}(i,a.batchId,t),await kc(i,a.changes),await td(i.remoteStore)}catch(a){const l=jy(a,"Failed to persist write");t.reject(l)}}async function VS(n,e){const t=$e(n);try{const i=await wP(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ka.get(l);c&&(vt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?vt(c.Ba):a.removedDocuments.size>0&&(vt(c.Ba),c.Ba=!1))}),await kc(t,i,e)}catch(i){await Kl(i)}}function tb(n,e,t){const i=$e(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ka.forEach((l,c)=>{const h=c.view.sa(e);h.snapshot&&a.push(h.snapshot)}),function(c,h){const f=$e(c);f.onlineState=h;let p=!1;f.queries.forEach((y,_)=>{for(const E of _.ta)E.sa(h)&&(p=!0)}),p&&By(f)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function fM(n,e,t){const i=$e(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Ka.get(e),l=a&&a.key;if(l){let c=new zt(Pe.comparator);c=c.insert(l,Bn.newNoDocument(l,qe.min()));const h=tt().add(l),f=new Zh(qe.min(),new Map,new zt(st),c,h);await VS(i,f),i.$a=i.$a.remove(l),i.Ka.delete(e),qy(i)}else await Lg(i.localStore,e,!1).then(()=>jg(i,e,t)).catch(Kl)}async function hM(n,e){const t=$e(n),i=e.batch.batchId;try{const a=await bP(t.localStore,e);BS(t,i,null),jS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await kc(t,a)}catch(a){await Kl(a)}}async function dM(n,e,t){const i=$e(n);try{const a=await function(c,h){const f=$e(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next(_=>(vt(_!==null),y=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>f.localDocuments.getDocuments(p,y))})}(i.localStore,e);BS(i,e,t),jS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await kc(i,a)}catch(a){await Kl(a)}}function jS(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function BS(n,e,t){const i=$e(n);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function jg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||zS(n,i)})}function zS(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Py(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),qy(n))}function nb(n,e,t){for(const i of t)i instanceof MS?(n.Ua.addReference(i.key,e),mM(n,i)):i instanceof LS?(be(zy,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||zS(n,i.key)):je()}function mM(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(be(zy,"New document in limbo: "+t),n.Qa.add(i),qy(n))}function qy(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Pe(Mt.fromString(e)),i=n.za.next();n.Ka.set(i,new rM(t)),n.$a=n.$a.insert(t,i),AS(n.remoteStore,new Ca($i(Ry(t.path)),i,"TargetPurposeLimboResolution",$h.ae))}}async function kc(n,e,t){const i=$e(n),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((h,f)=>{c.push(i.Ha(f,e,t).then(p=>{var y;if((p||t)&&i.isPrimaryClient){const _=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Dy.Yi(f.targetId,p);l.push(_)}}))}),await Promise.all(c),i.La.p_(a),await async function(f,p){const y=$e(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ue.forEach(p,E=>ue.forEach(E.Hi,A=>y.persistence.referenceDelegate.addReference(_,E.targetId,A)).next(()=>ue.forEach(E.Ji,A=>y.persistence.referenceDelegate.removeReference(_,E.targetId,A)))))}catch(_){if(!Ql(_))throw _;be(ky,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const A=y.Ts.get(E),D=A.snapshotVersion,q=A.withLastLimboFreeSnapshotVersion(D);y.Ts=y.Ts.insert(E,q)}}}(i.localStore,l))}async function pM(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){be(zy,"User change. New user:",e.toKey());const i=await bS(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(h=>{h.forEach(f=>{f.reject(new we(ce.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await kc(t,i.Rs)}}function gM(n,e){const t=$e(n),i=t.Ka.get(e);if(i&&i.Ba)return tt().add(i.key);{let a=tt();const l=t.qa.get(e);if(!l)return a;for(const c of l){const h=t.ka.get(c);a=a.unionWith(h.view.Sa)}return a}}function qS(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=VS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fM.bind(null,e),e.La.p_=JP.bind(null,e.eventManager),e.La.Ja=eM.bind(null,e.eventManager),e}function yM(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dM.bind(null,e),e}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return TP(this.persistence,new vP,e.initialUser,this.serializer)}Xa(e){return new TS(Ny.ri,this.serializer)}Za(e){return new IP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class vM extends Oh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){vt(this.persistence.referenceDelegate instanceof Ch);const i=this.persistence.referenceDelegate.garbageCollector;return new rP(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new TS(i=>Ch.ri(i,t),this.serializer)}}class Bg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=pM.bind(null,this.syncEngine),await XP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZP}()}createDatastore(e){const t=Jh(e.databaseInfo.databaseId),i=function(l){return new kP(l)}(e.databaseInfo);return function(l,c,h,f){return new UP(l,c,h,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,h){return new jP(i,a,l,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>tb(this.syncEngine,t,0),function(){return YT.D()?new YT:new OP}())}createSyncEngine(e,t){return function(a,l,c,h,f,p,y){const _=new iM(a,l,c,h,f,p);return y&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=$e(a);be(ko,"RemoteStore shutting down."),l.W_.add(5),await Dc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Bg.provider={build:()=>new Bg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ls("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="FirestoreClient";class _M{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=jn.UNAUTHENTICATED,this.clientId=PR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{be(ja,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(be(ja,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=jy(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Cp(n,e){n.asyncQueue.verifyOperationInProgress(),be(ja,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await bS(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function rb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await EM(n);be(ja,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>WT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>WT(e.remoteStore,a)),n._onlineComponents=e}async function EM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(ja,"Using user provided OfflineComponentProvider");try{await Cp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Ml("Error using user provided cache. Falling back to memory cache: "+t),await Cp(n,new Oh)}}else be(ja,"Using default OfflineComponentProvider"),await Cp(n,new vM(void 0));return n._offlineComponents}async function HS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(ja,"Using user provided OnlineComponentProvider"),await rb(n,n._uninitializedComponentsProvider._online)):(be(ja,"Using default OnlineComponentProvider"),await rb(n,new Bg))),n._onlineComponents}function TM(n){return HS(n).then(e=>e.syncEngine)}async function $S(n){const e=await HS(n),t=e.eventManager;return t.onListen=sM.bind(null,e.syncEngine),t.onUnlisten=lM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uM.bind(null,e.syncEngine),t}function bM(n,e,t={}){const i=new Ns;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,f,p){const y=new FS({next:E=>{y.su(),c.enqueueAndForget(()=>kS(l,_));const A=E.docs.has(h);!A&&E.fromCache?p.reject(new we(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&f&&f.source==="server"?p.reject(new we(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new PS(Ry(h.path),y,{includeMetadataChanges:!0,Ta:!0});return DS(l,_)}(await $S(n),n.asyncQueue,e,t,i)),i.promise}function wM(n,e,t={}){const i=new Ns;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,f,p){const y=new FS({next:E=>{y.su(),c.enqueueAndForget(()=>kS(l,_)),E.fromCache&&f.source==="server"?p.reject(new we(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new PS(h,y,{includeMetadataChanges:!0,Ta:!0});return DS(l,_)}(await $S(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(n,e,t){if(!t)throw new we(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function RM(n,e,t,i){if(e===!0&&i===!0)throw new we(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sb(n){if(!Pe.isDocumentKey(n))throw new we(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ab(n){if(Pe.isDocumentKey(n))throw new we(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":je()}function Vs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nd(n);throw new we(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firestore.googleapis.com",ob=!0;class lb{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QS,this.ssl=ob}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ob;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ES;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tP)throw new we(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GS((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lb(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Dk;switch(i.type){case"firstParty":return new Lk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new we(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=ib.get(t);i&&(be("ComponentProvider","Removing Datastore"),ib.delete(t),i.terminate())}(this),Promise.resolve()}}function SM(n,e,t,i={}){var a;const l=(n=Vs(n,rd))._getSettings(),c=`${e}:${t}`;if(l.host!==QS&&l.host!==c&&Ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=jn.MOCK_USER;else{h=Bw(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new we(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new jn(p)}n._authCredentials=new kk(new kR(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new zo(this.firestore,e,this._query)}}class dr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}}class Na extends zo{constructor(e,t,i){super(e,t,Ry(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new Pe(e))}withConverter(e){return new Na(this.firestore,e,this._path)}}function ji(n,e,...t){if(n=Wt(n),KS("collection","path",e),n instanceof rd){const i=Mt.fromString(e,...t);return ab(i),new Na(n,null,i)}{if(!(n instanceof dr||n instanceof Na))throw new we(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mt.fromString(e,...t));return ab(i),new Na(n.firestore,null,i)}}function Il(n,e,...t){if(n=Wt(n),arguments.length===1&&(e=PR.newId()),KS("doc","path",e),n instanceof rd){const i=Mt.fromString(e,...t);return sb(i),new dr(n,null,new Pe(i))}{if(!(n instanceof dr||n instanceof Na))throw new we(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mt.fromString(e,...t));return sb(i),new dr(n.firestore,n instanceof Na?n.converter:null,new Pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="AsyncQueue";class cb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new RS(this,"async_queue_retry"),this.Su=()=>{const i=Ap();i&&be(ub,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=Ap();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Ap();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ns;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ql(e))throw e;be(ub,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw Ls("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Vy.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&je()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Xl extends rd{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new cb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cb(e),this._firestoreClient=void 0,await e}}}function AM(n,e){const t=typeof n=="object"?n:ly(),i=typeof n=="string"?n:_h,a=zh(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=Uw("firestore");l&&SM(a,...l)}return a}function Fy(n){if(n._terminated)throw new we(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||CM(n),n._firestoreClient}function CM(n){var e,t,i;const a=n._freezeSettings(),l=function(h,f,p,y){return new Xk(h,f,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,GS(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new _M(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zl(Dn.fromBase64String(e))}catch(t){throw new we(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zl(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=/^__.*__$/;class OM{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new xc(e,this.data,t,this.fieldTransforms)}}class YS{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Fa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class Ky{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ky(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return xh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(XS(this.Lu)&&IM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class xM{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Jh(e)}ju(e,t,i,a=!1){return new Ky({Lu:e,methodName:t,zu:i,path:Nn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qy(n){const e=n._freezeSettings(),t=Jh(n._databaseId);return new xM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NM(n,e,t,i,a,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,a);Yy("Data must be an object, but it was:",c,i);const h=WS(i,c);let f,p;if(l.merge)f=new Ar(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=zg(e,_,t);if(!c.contains(E))throw new we(ce.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);JS(y,E)||y.push(E)}f=new Ar(y),p=c.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=c.fieldTransforms;return new OM(new hr(h),f,p)}class sd extends Hy{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sd}}function DM(n,e,t,i){const a=n.ju(1,e,t);Yy("Data must be an object, but it was:",a,i);const l=[],c=hr.empty();qa(i,(f,p)=>{const y=Xy(e,f,t);p=Wt(p);const _=a.Ku(y);if(p instanceof sd)l.push(y);else{const E=Pc(p,_);E!=null&&(l.push(y),c.set(y,E))}});const h=new Ar(l);return new YS(c,h,a.fieldTransforms)}function kM(n,e,t,i,a,l){const c=n.ju(1,e,t),h=[zg(e,i,t)],f=[a];if(l.length%2!=0)throw new we(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(zg(e,l[E])),f.push(l[E+1]);const p=[],y=hr.empty();for(let E=h.length-1;E>=0;--E)if(!JS(p,h[E])){const A=h[E];let D=f[E];D=Wt(D);const q=c.Ku(A);if(D instanceof sd)p.push(A);else{const L=Pc(D,q);L!=null&&(p.push(A),y.set(A,L))}}const _=new Ar(p);return new YS(y,_,c.fieldTransforms)}function PM(n,e,t,i=!1){return Pc(t,n.ju(i?4:3,e))}function Pc(n,e){if(ZS(n=Wt(n)))return Yy("Unsupported field value:",e,n),WS(n,e);if(n instanceof Hy)return function(i,a){if(!XS(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const h of i){let f=Pc(h,a.Uu(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Wt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _2(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=hn.fromDate(i);return{timestampValue:Ah(a.serializer,l)}}if(i instanceof hn){const l=new hn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ah(a.serializer,l)}}if(i instanceof $y)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof zl)return{bytesValue:dS(a.serializer,i._byteString)};if(i instanceof dr){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Oy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Gy)return function(c,h){return{mapValue:{fields:{[qR]:{stringValue:FR},[Eh]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw h.Wu("VectorValues must only contain numeric values.");return Sy(h.serializer,p)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${nd(i)}`)}(n,e)}function WS(n,e){const t={};return LR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qa(n,(i,a)=>{const l=Pc(a,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function ZS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof hn||n instanceof $y||n instanceof zl||n instanceof dr||n instanceof Hy||n instanceof Gy)}function Yy(n,e,t){if(!ZS(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=nd(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function zg(n,e,t){if((e=Wt(e))instanceof id)return e._internalPath;if(typeof e=="string")return Xy(n,e);throw xh("Field path arguments must be of type string or ",n,!1,void 0,t)}const MM=new RegExp("[~\\*/\\[\\]]");function Xy(n,e,t){if(e.search(MM)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new id(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xh(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new we(ce.INVALID_ARGUMENT,h+n+f)}function JS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class LM extends eA{data(){return super.data()}}function Wy(n,e){return typeof e=="string"?Xy(n,e):e instanceof id?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zy{}class tA extends Zy{}function Hf(n,e,...t){let i=[];e instanceof Zy&&i.push(e),i=i.concat(t),function(l){const c=l.filter(f=>f instanceof Jy).length,h=l.filter(f=>f instanceof ad).length;if(c>1||c>0&&h>0)throw new we(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class ad extends tA{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new ad(e,t,i)}_apply(e){const t=this._parse(e);return nA(e._query,t),new zo(e.firestore,e.converter,Ng(e._query,t))}_parse(e){const t=Qy(e.firestore);return function(l,c,h,f,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new we(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){db(_,y);const D=[];for(const q of _)D.push(hb(f,l,q));E={arrayValue:{values:D}}}else E=hb(f,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||db(_,y),E=PM(h,c,_,y==="in"||y==="not-in");return an.create(p,y,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function $f(n,e,t){const i=e,a=Wy("where",n);return ad._create(a,i,t)}class Jy extends Zy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:di.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const h=l.getFlattenedFilters();for(const f of h)nA(c,f),c=Ng(c,f)}(e._query,t),new zo(e.firestore,e.converter,Ng(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ev extends tA{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new ev(e,t,i)}_apply(e){return new zo(e.firestore,e.converter,wh(e._query,this._limit,this._limitType))}}function fb(n){return ev._create("limit",n,"F")}function hb(n,e,t){if(typeof(t=Wt(t))=="string"){if(t==="")throw new we(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WR(e)&&t.indexOf("/")!==-1)throw new we(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Mt.fromString(t));if(!Pe.isDocumentKey(i))throw new we(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return CT(n,new Pe(i))}if(t instanceof dr)return CT(n,t._key);throw new we(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nd(t)}.`)}function db(n,e){if(!Array.isArray(n)||n.length===0)throw new we(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nA(n,e){const t=function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class VM{convertValue(e,t="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(La(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw je()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return qa(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Eh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Xt(c.doubleValue));return new Gy(l)}convertGeoPoint(e){return new $y(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Kh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const t=Ma(e);return new hn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Mt.fromString(e);vt(_S(i));const a=new mc(i.get(1),i.get(3)),l=new Pe(i.popFirst(5));return a.isEqual(t)||Ls(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rA extends eA{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Wy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class lh extends rA{data(e={}){return super.data(e)}}class BM{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ec(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new lh(this._firestore,this._userDataWriter,i.key,i,new ec(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(h=>{const f=new lh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ec(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const f=new lh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ec(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:zM(h.type),doc:f,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(n){n=Vs(n,dr);const e=Vs(n.firestore,Xl);return bM(Fy(e),n._key).then(t=>HM(e,n,t))}class iA extends VM{constructor(e){super(),this.firestore=e}convertBytes(e){return new zl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,t)}}function Ea(n){n=Vs(n,zo);const e=Vs(n.firestore,Xl),t=Fy(e),i=new iA(e);return UM(n._query),wM(t,n._query).then(a=>new BM(e,i,n,a))}function qM(n,e,t,...i){n=Vs(n,dr);const a=Vs(n.firestore,Xl),l=Qy(a);let c;return c=typeof(e=Wt(e))=="string"||e instanceof id?kM(l,"updateDoc",n._key,e,t,i):DM(l,"updateDoc",n._key,e),tv(a,[c.toMutation(n._key,fi.exists(!0))])}function FM(n){return tv(Vs(n.firestore,Xl),[new Ay(n._key,fi.none())])}function mb(n,e){const t=Vs(n.firestore,Xl),i=Il(n),a=jM(n.converter,e);return tv(t,[NM(Qy(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,fi.exists(!1))]).then(()=>i)}function tv(n,e){return function(i,a){const l=new Ns;return i.asyncQueue.enqueueAndForget(async()=>cM(await TM(i),a,l)),l.promise}(Fy(n),e)}function HM(n,e,t){const i=t.docs.get(e._key),a=new iA(n);return new rA(n,a,e._key,i,new ec(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Gl=a})(Uo),Oo(new ka("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new Xl(new Pk(i.getProvider("auth-internal")),new Uk(c,i.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),qi(gT,yT,e),qi(gT,yT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="firebasestorage.googleapis.com",aA="storageBucket",$M=2*60*1e3,GM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt extends Zi{constructor(e,t,i=0){super(Op(e),`Firebase Storage: ${t} (${Op(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Op(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gt||(Gt={}));function Op(n){return"storage/"+n}function nv(){const n="An unknown error occurred, please check the error payload for server response.";return new Kt(Gt.UNKNOWN,n)}function KM(n){return new Kt(Gt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function QM(n){return new Kt(Gt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function YM(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kt(Gt.UNAUTHENTICATED,n)}function XM(){return new Kt(Gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function WM(n){return new Kt(Gt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function ZM(){return new Kt(Gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JM(){return new Kt(Gt.CANCELED,"User canceled the upload/download.")}function eL(n){return new Kt(Gt.INVALID_URL,"Invalid URL '"+n+"'.")}function tL(n){return new Kt(Gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function nL(){return new Kt(Gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aA+"' property when initializing the app?")}function rL(){return new Kt(Gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iL(){return new Kt(Gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sL(n){return new Kt(Gt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function qg(n){return new Kt(Gt.INVALID_ARGUMENT,n)}function oA(){return new Kt(Gt.APP_DELETED,"The Firebase app was deleted.")}function aL(n){return new Kt(Gt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function oc(n,e){return new Kt(Gt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ku(n){throw new Kt(Gt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Cr.makeFromUrl(e,t)}catch{return new Cr(e,"")}if(i.path==="")return i;throw tL(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function p(ie){ie.path_=decodeURIComponent(ie.path)}const y="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",A=new RegExp(`^https?://${_}/${y}/b/${a}/o${E}`,"i"),D={bucket:1,path:3},q=t===sA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",Y=new RegExp(`^https?://${q}/${a}/${L}`,"i"),K=[{regex:h,indices:f,postModify:l},{regex:A,indices:D,postModify:p},{regex:Y,indices:{bucket:1,path:2},postModify:p}];for(let ie=0;ie<K.length;ie++){const le=K[ie],me=le.regex.exec(e);if(me){const V=me[le.indices.bucket];let C=me[le.indices.path];C||(C=""),i=new Cr(V,C),le.postModify(i);break}}if(i==null)throw eL(e);return i}}class oL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(n,e,t){let i=1,a=null,l=null,c=!1,h=0;function f(){return h===2}let p=!1;function y(...L){p||(p=!0,e.apply(null,L))}function _(L){a=setTimeout(()=>{a=null,n(A,f())},L)}function E(){l&&clearTimeout(l)}function A(L,...Y){if(p){E();return}if(L){E(),y.call(null,L,...Y);return}if(f()||c){E(),y.call(null,L,...Y);return}i<64&&(i*=2);let K;h===1?(h=2,K=0):K=(i+Math.random())*1e3,_(K)}let D=!1;function q(L){D||(D=!0,E(),!p&&(a!==null?(L||(h=2),clearTimeout(a),_(0)):L||(h=1)))}return _(0),l=setTimeout(()=>{c=!0,q(!0)},t),q}function uL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(n){return n!==void 0}function fL(n){return typeof n=="object"&&!Array.isArray(n)}function rv(n){return typeof n=="string"||n instanceof String}function pb(n){return iv()&&n instanceof Blob}function iv(){return typeof Blob<"u"}function gb(n,e,t,i){if(i<e)throw qg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw qg(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function lA(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var Co;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Co||(Co={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,t,i,a,l,c,h,f,p,y,_,E=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,D)=>{this.resolve_=A,this.reject_=D,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Gf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const f=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===Co.NO_ERROR,f=l.getStatus();if(!h||hL(f,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Co.ABORT;i(!1,new Gf(!1,null,y));return}const p=this.successCodes_.indexOf(f)!==-1;i(!0,new Gf(p,l))})},t=(i,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());cL(f)?l(f):l()}catch(f){c(f)}else if(h!==null){const f=nv();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(a.canceled){const f=this.appDelete_?oA():JM();c(f)}else{const f=ZM();c(f)}};this.canceled_?t(!1,new Gf(!1,null,!0)):this.backoffId_=lL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gf{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function mL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function pL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function yL(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function vL(n,e,t,i,a,l,c=!0){const h=lA(n.urlParams),f=n.url+h,p=Object.assign({},n.headers);return gL(p,e),mL(p,t),pL(p,l),yL(p,i),new dL(f,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function EL(...n){const e=_L();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(iv())return new Blob(n);throw new Kt(Gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TL(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(n){if(typeof atob>"u")throw sL("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xp{constructor(e,t){this.data=e,this.contentType=t||null}}function wL(n,e){switch(n){case zi.RAW:return new xp(uA(e));case zi.BASE64:case zi.BASE64URL:return new xp(cA(n,e));case zi.DATA_URL:return new xp(SL(e),AL(e))}throw nv()}function uA(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function RL(n){let e;try{e=decodeURIComponent(n)}catch{throw oc(zi.DATA_URL,"Malformed data URL.")}return uA(e)}function cA(n,e){switch(n){case zi.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw oc(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case zi.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw oc(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=bL(e)}catch(a){throw a.message.includes("polyfill")?a:oc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}class fA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw oc(zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=CL(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function SL(n){const e=new fA(n);return e.base64?cA(zi.BASE64,e.rest):RL(e.rest)}function AL(n){return new fA(n).contentType}function CL(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t){let i=0,a="";pb(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(pb(this.data_)){const i=this.data_,a=TL(i,e,t);return a===null?null:new Aa(a)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Aa(i,!0)}}static getBlob(...e){if(iv()){const t=e.map(i=>i instanceof Aa?i.data_:i);return new Aa(EL.apply(null,t))}else{const t=e.map(c=>rv(c)?wL(zi.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)a[l++]=c[h]}),new Aa(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(n){let e;try{e=JSON.parse(n)}catch{return null}return fL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function OL(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function dA(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(n,e){return e}class Xn{constructor(e,t,i,a){this.server=e,this.local=t||e,this.writable=!!i,this.xform=a||xL}}let Kf=null;function NL(n){return!rv(n)||n.length<2?n:dA(n)}function mA(){if(Kf)return Kf;const n=[];n.push(new Xn("bucket")),n.push(new Xn("generation")),n.push(new Xn("metageneration")),n.push(new Xn("name","fullPath",!0));function e(l,c){return NL(c)}const t=new Xn("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const a=new Xn("size");return a.xform=i,n.push(a),n.push(new Xn("timeCreated")),n.push(new Xn("updated")),n.push(new Xn("md5Hash",null,!0)),n.push(new Xn("cacheControl",null,!0)),n.push(new Xn("contentDisposition",null,!0)),n.push(new Xn("contentEncoding",null,!0)),n.push(new Xn("contentLanguage",null,!0)),n.push(new Xn("contentType",null,!0)),n.push(new Xn("metadata","customMetadata",!0)),Kf=n,Kf}function DL(n,e){function t(){const i=n.bucket,a=n.fullPath,l=new Cr(i,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function kL(n,e,t){const i={};i.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return DL(i,n),i}function pA(n,e,t){const i=hA(e);return i===null?null:kL(n,i,t)}function PL(n,e,t,i){const a=hA(e);if(a===null||!rv(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const y=n.bucket,_=n.fullPath,E="/b/"+c(y)+"/o/"+c(_),A=sv(E,t,i),D=lA({alt:"media",token:p});return A+D})[0]}function ML(n,e){const t={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class gA{constructor(e,t,i,a){this.url=e,this.method=t,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(n){if(!n)throw nv()}function LL(n,e){function t(i,a){const l=pA(n,a,e);return yA(l!==null),l}return t}function UL(n,e){function t(i,a){const l=pA(n,a,e);return yA(l!==null),PL(l,a,n.host,n._protocol)}return t}function vA(n){function e(t,i){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=XM():a=YM():t.getStatus()===402?a=QM(n.bucket):t.getStatus()===403?a=WM(n.path):a=i,a.status=t.getStatus(),a.serverResponse=i.serverResponse,a}return e}function VL(n){const e=vA(n);function t(i,a){let l=e(i,a);return i.getStatus()===404&&(l=KM(n.path)),l.serverResponse=a.serverResponse,l}return t}function jL(n,e,t){const i=e.fullServerUrl(),a=sv(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,h=new gA(a,l,UL(n,t),c);return h.errorHandler=VL(e),h}function BL(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function zL(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=BL(null,e)),i}function qL(n,e,t,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let K="";for(let ie=0;ie<2;ie++)K=K+Math.random().toString().slice(2);return K}const f=h();c["Content-Type"]="multipart/related; boundary="+f;const p=zL(e,i,a),y=ML(p,t),_="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+f+"--",A=Aa.getBlob(_,i,E);if(A===null)throw rL();const D={name:p.fullPath},q=sv(l,n.host,n._protocol),L="POST",Y=n.maxUploadRetryTime,$=new gA(q,L,LL(n,t),Y);return $.urlParams=D,$.headers=c,$.body=A.uploadData(),$.errorHandler=vA(e),$}class FL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Co.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Co.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Co.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,a){if(this.sent_)throw Ku("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ku("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ku("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ku("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ku("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class HL extends FL{initXhr(){this.xhr_.responseType="text"}}function _A(){return new HL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,t){this._service=e,t instanceof Cr?this._location=t:this._location=Cr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Po(e,t)}get root(){const e=new Cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dA(this._location.path)}get storage(){return this._service}get parent(){const e=IL(this._location.path);if(e===null)return null;const t=new Cr(this._location.bucket,e);return new Po(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw aL(e)}}function $L(n,e,t){n._throwIfRoot("uploadBytes");const i=qL(n.storage,n._location,mA(),new Aa(e,!0),t);return n.storage.makeRequestWithTokens(i,_A).then(a=>({metadata:a,ref:n}))}function GL(n){n._throwIfRoot("getDownloadURL");const e=jL(n.storage,n._location,mA());return n.storage.makeRequestWithTokens(e,_A).then(t=>{if(t===null)throw iL();return t})}function KL(n,e){const t=OL(n._location.path,e),i=new Cr(n._location.bucket,t);return new Po(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(n){return/^[A-Za-z]+:\/\//.test(n)}function YL(n,e){return new Po(n,e)}function EA(n,e){if(n instanceof av){const t=n;if(t._bucket==null)throw nL();const i=new Po(t,t._bucket);return e!=null?EA(i,e):i}else return e!==void 0?KL(n,e):n}function XL(n,e){if(e&&QL(e)){if(n instanceof av)return YL(n,e);throw qg("To use ref(service, url), the first argument must be a Storage instance.")}else return EA(n,e)}function yb(n,e){const t=e==null?void 0:e[aA];return t==null?null:Cr.makeFromBucketSpec(t,n)}function WL(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken=typeof a=="string"?a:Bw(a,n.app.options.projectId))}class av{constructor(e,t,i,a,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=sA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$M,this._maxUploadRetryTime=GM,this._requests=new Set,a!=null?this._bucket=Cr.makeFromBucketSpec(a,this._host):this._bucket=yb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cr.makeFromBucketSpec(this._url,e):this._bucket=yb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Po(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new oL(oA());{const c=vL(e,this._appId,i,a,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const vb="@firebase/storage",_b="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="storage";function ZL(n,e,t){return n=Wt(n),$L(n,e,t)}function JL(n){return n=Wt(n),GL(n)}function Eb(n,e){return n=Wt(n),XL(n,e)}function eU(n=ly(),e){n=Wt(n);const i=zh(n,TA).getImmediate({identifier:e}),a=Uw("storage");return a&&tU(i,...a),i}function tU(n,e,t,i={}){WL(n,e,t,i)}function nU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new av(t,i,a,e,Uo)}function rU(){Oo(new ka(TA,nU,"PUBLIC").setMultipleInstances(!0)),qi(vb,_b,""),qi(vb,_b,"esm2017")}rU();var Np,Tb;function iU(){if(Tb)return Np;Tb=1;function n(w,R){return function(){return w.apply(R,arguments)}}const{toString:e}=Object.prototype,{getPrototypeOf:t}=Object,i=(w=>R=>{const N=e.call(R);return w[N]||(w[N]=N.slice(8,-1).toLowerCase())})(Object.create(null)),a=w=>(w=w.toLowerCase(),R=>i(R)===w),l=w=>R=>typeof R===w,{isArray:c}=Array,h=l("undefined");function f(w){return w!==null&&!h(w)&&w.constructor!==null&&!h(w.constructor)&&E(w.constructor.isBuffer)&&w.constructor.isBuffer(w)}const p=a("ArrayBuffer");function y(w){let R;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?R=ArrayBuffer.isView(w):R=w&&w.buffer&&p(w.buffer),R}const _=l("string"),E=l("function"),A=l("number"),D=w=>w!==null&&typeof w=="object",q=w=>w===!0||w===!1,L=w=>{if(i(w)!=="object")return!1;const R=t(w);return(R===null||R===Object.prototype||Object.getPrototypeOf(R)===null)&&!(Symbol.toStringTag in w)&&!(Symbol.iterator in w)},Y=a("Date"),$=a("File"),K=a("Blob"),ie=a("FileList"),le=w=>D(w)&&E(w.pipe),me=w=>{let R;return w&&(typeof FormData=="function"&&w instanceof FormData||E(w.append)&&((R=i(w))==="formdata"||R==="object"&&E(w.toString)&&w.toString()==="[object FormData]"))},V=a("URLSearchParams"),[C,O,M,B]=["ReadableStream","Request","Response","Headers"].map(a),H=w=>w.trim?w.trim():w.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function U(w,R,{allOwnKeys:N=!1}={}){if(w===null||typeof w>"u")return;let k,z;if(typeof w!="object"&&(w=[w]),c(w))for(k=0,z=w.length;k<z;k++)R.call(null,w[k],k,w);else{const X=N?Object.getOwnPropertyNames(w):Object.keys(w),Z=X.length;let de;for(k=0;k<Z;k++)de=X[k],R.call(null,w[de],de,w)}}function We(w,R){R=R.toLowerCase();const N=Object.keys(w);let k=N.length,z;for(;k-- >0;)if(z=N[k],R===z.toLowerCase())return z;return null}const Ke=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ZC,pe=w=>!h(w)&&w!==Ke;function Re(){const{caseless:w}=pe(this)&&this||{},R={},N=(k,z)=>{const X=w&&We(R,z)||z;L(R[X])&&L(k)?R[X]=Re(R[X],k):L(k)?R[X]=Re({},k):c(k)?R[X]=k.slice():R[X]=k};for(let k=0,z=arguments.length;k<z;k++)arguments[k]&&U(arguments[k],N);return R}const ge=(w,R,N,{allOwnKeys:k}={})=>(U(R,(z,X)=>{N&&E(z)?w[X]=n(z,N):w[X]=z},{allOwnKeys:k}),w),Ge=w=>(w.charCodeAt(0)===65279&&(w=w.slice(1)),w),F=(w,R,N,k)=>{w.prototype=Object.create(R.prototype,k),w.prototype.constructor=w,Object.defineProperty(w,"super",{value:R.prototype}),N&&Object.assign(w.prototype,N)},fe=(w,R,N,k)=>{let z,X,Z;const de={};if(R=R||{},w==null)return R;do{for(z=Object.getOwnPropertyNames(w),X=z.length;X-- >0;)Z=z[X],(!k||k(Z,w,R))&&!de[Z]&&(R[Z]=w[Z],de[Z]=!0);w=N!==!1&&t(w)}while(w&&(!N||N(w,R))&&w!==Object.prototype);return R},Se=(w,R,N)=>{w=String(w),(N===void 0||N>w.length)&&(N=w.length),N-=R.length;const k=w.indexOf(R,N);return k!==-1&&k===N},Te=w=>{if(!w)return null;if(c(w))return w;let R=w.length;if(!A(R))return null;const N=new Array(R);for(;R-- >0;)N[R]=w[R];return N},ve=(w=>R=>w&&R instanceof w)(typeof Uint8Array<"u"&&t(Uint8Array)),Me=(w,R)=>{const k=(w&&w[Symbol.iterator]).call(w);let z;for(;(z=k.next())&&!z.done;){const X=z.value;R.call(w,X[0],X[1])}},ze=(w,R)=>{let N;const k=[];for(;(N=w.exec(R))!==null;)k.push(N);return k},Lt=a("HTMLFormElement"),Je=w=>w.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(N,k,z){return k.toUpperCase()+z}),_t=(({hasOwnProperty:w})=>(R,N)=>w.call(R,N))(Object.prototype),nt=a("RegExp"),Zt=(w,R)=>{const N=Object.getOwnPropertyDescriptors(w),k={};U(N,(z,X)=>{let Z;(Z=R(z,X,w))!==!1&&(k[X]=Z||z)}),Object.defineProperties(w,k)},tr=w=>{Zt(w,(R,N)=>{if(E(w)&&["arguments","caller","callee"].indexOf(N)!==-1)return!1;const k=w[N];if(E(k)){if(R.enumerable=!1,"writable"in R){R.writable=!1;return}R.set||(R.set=()=>{throw Error("Can not rewrite read-only method '"+N+"'")})}})},mn=(w,R)=>{const N={},k=z=>{z.forEach(X=>{N[X]=!0})};return c(w)?k(w):k(String(w).split(R)),N},qn=()=>{},dt=(w,R)=>w!=null&&Number.isFinite(w=+w)?w:R,kn="abcdefghijklmnopqrstuvwxyz",Ir="0123456789",Ji={DIGIT:Ir,ALPHA:kn,ALPHA_DIGIT:kn+kn.toUpperCase()+Ir},qs=(w=16,R=Ji.ALPHA_DIGIT)=>{let N="";const{length:k}=R;for(;w--;)N+=R[Math.random()*k|0];return N};function es(w){return!!(w&&E(w.append)&&w[Symbol.toStringTag]==="FormData"&&w[Symbol.iterator])}const Fs=w=>{const R=new Array(10),N=(k,z)=>{if(D(k)){if(R.indexOf(k)>=0)return;if(!("toJSON"in k)){R[z]=k;const X=c(k)?[]:{};return U(k,(Z,de)=>{const Ce=N(Z,z+1);!h(Ce)&&(X[de]=Ce)}),R[z]=void 0,X}}return k};return N(w,0)},eu=a("AsyncFunction"),Ha=w=>w&&(D(w)||E(w))&&E(w.then)&&E(w.catch),Rn=((w,R)=>w?setImmediate:R?((N,k)=>(Ke.addEventListener("message",({source:z,data:X})=>{z===Ke&&X===N&&k.length&&k.shift()()},!1),z=>{k.push(z),Ke.postMessage(N,"*")}))(`axios@${Math.random()}`,[]):N=>setTimeout(N))(typeof setImmediate=="function",E(Ke.postMessage)),qo=typeof queueMicrotask<"u"?queueMicrotask.bind(Ke):typeof process<"u"&&process.nextTick||Rn;var te={isArray:c,isArrayBuffer:p,isBuffer:f,isFormData:me,isArrayBufferView:y,isString:_,isNumber:A,isBoolean:q,isObject:D,isPlainObject:L,isReadableStream:C,isRequest:O,isResponse:M,isHeaders:B,isUndefined:h,isDate:Y,isFile:$,isBlob:K,isRegExp:nt,isFunction:E,isStream:le,isURLSearchParams:V,isTypedArray:ve,isFileList:ie,forEach:U,merge:Re,extend:ge,trim:H,stripBOM:Ge,inherits:F,toFlatObject:fe,kindOf:i,kindOfTest:a,endsWith:Se,toArray:Te,forEachEntry:Me,matchAll:ze,isHTMLForm:Lt,hasOwnProperty:_t,hasOwnProp:_t,reduceDescriptors:Zt,freezeMethods:tr,toObjectSet:mn,toCamelCase:Je,noop:qn,toFiniteNumber:dt,findKey:We,global:Ke,isContextDefined:pe,ALPHABET:Ji,generateString:qs,isSpecCompliantForm:es,toJSONObject:Fs,isAsyncFn:eu,isThenable:Ha,setImmediate:Rn,asap:qo};function Ie(w,R,N,k,z){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=w,this.name="AxiosError",R&&(this.code=R),N&&(this.config=N),k&&(this.request=k),z&&(this.response=z,this.status=z.status?z.status:null)}te.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const Or=Ie.prototype,$a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(w=>{$a[w]={value:w}}),Object.defineProperties(Ie,$a),Object.defineProperty(Or,"isAxiosError",{value:!0}),Ie.from=(w,R,N,k,z,X)=>{const Z=Object.create(Or);return te.toFlatObject(w,Z,function(Ce){return Ce!==Error.prototype},de=>de!=="isAxiosError"),Ie.call(Z,w.message,R,N,k,z),Z.cause=w,Z.name=w.name,X&&Object.assign(Z,X),Z};var Ga=null;function Ka(w){return te.isPlainObject(w)||te.isArray(w)}function mi(w){return te.endsWith(w,"[]")?w.slice(0,-2):w}function Qr(w,R,N){return w?w.concat(R).map(function(z,X){return z=mi(z),!N&&X?"["+z+"]":z}).join(N?".":""):R}function pn(w){return te.isArray(w)&&!w.some(Ka)}const Qa=te.toFlatObject(te,{},null,function(R){return/^is[A-Z]/.test(R)});function Fn(w,R,N){if(!te.isObject(w))throw new TypeError("target must be an object");R=R||new FormData,N=te.toFlatObject(N,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Be,De){return!te.isUndefined(De[Be])});const k=N.metaTokens,z=N.visitor||Ee,X=N.dots,Z=N.indexes,Ce=(N.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(R);if(!te.isFunction(z))throw new TypeError("visitor must be a function");function ye(Ne){if(Ne===null)return"";if(te.isDate(Ne))return Ne.toISOString();if(!Ce&&te.isBlob(Ne))throw new Ie("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(Ne)||te.isTypedArray(Ne)?Ce&&typeof Blob=="function"?new Blob([Ne]):Buffer.from(Ne):Ne}function Ee(Ne,Be,De){let At=Ne;if(Ne&&!De&&typeof Ne=="object"){if(te.endsWith(Be,"{}"))Be=k?Be:Be.slice(0,-2),Ne=JSON.stringify(Ne);else if(te.isArray(Ne)&&pn(Ne)||(te.isFileList(Ne)||te.endsWith(Be,"[]"))&&(At=te.toArray(Ne)))return Be=mi(Be),At.forEach(function(Ut,lr){!(te.isUndefined(Ut)||Ut===null)&&R.append(Z===!0?Qr([Be],lr,X):Z===null?Be:Be+"[]",ye(Ut))}),!1}return Ka(Ne)?!0:(R.append(Qr(De,Be,X),ye(Ne)),!1)}const Oe=[],mt=Object.assign(Qa,{defaultVisitor:Ee,convertValue:ye,isVisitable:Ka});function St(Ne,Be){if(!te.isUndefined(Ne)){if(Oe.indexOf(Ne)!==-1)throw Error("Circular reference detected in "+Be.join("."));Oe.push(Ne),te.forEach(Ne,function(At,Tt){(!(te.isUndefined(At)||At===null)&&z.call(R,At,te.isString(Tt)?Tt.trim():Tt,Be,mt))===!0&&St(At,Be?Be.concat(Tt):[Tt])}),Oe.pop()}}if(!te.isObject(w))throw new TypeError("data must be an object");return St(w),R}function gn(w){const R={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(w).replace(/[!'()~]|%20|%00/g,function(k){return R[k]})}function ts(w,R){this._pairs=[],w&&Fn(w,this,R)}const Ya=ts.prototype;Ya.append=function(R,N){this._pairs.push([R,N])},Ya.toString=function(R){const N=R?function(k){return R.call(this,k,gn)}:gn;return this._pairs.map(function(z){return N(z[0])+"="+N(z[1])},"").join("&")};function Fo(w){return encodeURIComponent(w).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mr(w,R,N){if(!R)return w;const k=N&&N.encode||Fo;te.isFunction(N)&&(N={serialize:N});const z=N&&N.serialize;let X;if(z?X=z(R,N):X=te.isURLSearchParams(R)?R.toString():new ts(R,N).toString(k),X){const Z=w.indexOf("#");Z!==-1&&(w=w.slice(0,Z)),w+=(w.indexOf("?")===-1?"?":"&")+X}return w}class pi{constructor(){this.handlers=[]}use(R,N,k){return this.handlers.push({fulfilled:R,rejected:N,synchronous:k?k.synchronous:!1,runWhen:k?k.runWhen:null}),this.handlers.length-1}eject(R){this.handlers[R]&&(this.handlers[R]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(R){te.forEach(this.handlers,function(k){k!==null&&R(k)})}}var nr=pi,Hn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gi=typeof URLSearchParams<"u"?URLSearchParams:ts,Hs=typeof FormData<"u"?FormData:null,Xa=typeof Blob<"u"?Blob:null,yi={isBrowser:!0,classes:{URLSearchParams:gi,FormData:Hs,Blob:Xa},protocols:["http","https","file","blob","url","data"]};const vi=typeof window<"u"&&typeof document<"u",xt=typeof navigator=="object"&&navigator||void 0,Ho=vi&&(!xt||["ReactNative","NativeScript","NS"].indexOf(xt.product)<0),_i=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ei=vi&&window.location.href||"http://localhost";var $o=Object.freeze({__proto__:null,hasBrowserEnv:vi,hasStandardBrowserWebWorkerEnv:_i,hasStandardBrowserEnv:Ho,navigator:xt,origin:Ei}),Qt={...$o,...yi};function Ti(w,R){return Fn(w,new Qt.classes.URLSearchParams,Object.assign({visitor:function(N,k,z,X){return Qt.isNode&&te.isBuffer(N)?(this.append(k,N.toString("base64")),!1):X.defaultVisitor.apply(this,arguments)}},R))}function xr(w){return te.matchAll(/\w+|\[(\w*)]/g,w).map(R=>R[0]==="[]"?"":R[1]||R[0])}function Jt(w){const R={},N=Object.keys(w);let k;const z=N.length;let X;for(k=0;k<z;k++)X=N[k],R[X]=w[X];return R}function qt(w){function R(N,k,z,X){let Z=N[X++];if(Z==="__proto__")return!0;const de=Number.isFinite(+Z),Ce=X>=N.length;return Z=!Z&&te.isArray(z)?z.length:Z,Ce?(te.hasOwnProp(z,Z)?z[Z]=[z[Z],k]:z[Z]=k,!de):((!z[Z]||!te.isObject(z[Z]))&&(z[Z]=[]),R(N,k,z[Z],X)&&te.isArray(z[Z])&&(z[Z]=Jt(z[Z])),!de)}if(te.isFormData(w)&&te.isFunction(w.entries)){const N={};return te.forEachEntry(w,(k,z)=>{R(xr(k),z,N,0)}),N}return null}function Yr(w,R,N){if(te.isString(w))try{return(R||JSON.parse)(w),te.trim(w)}catch(k){if(k.name!=="SyntaxError")throw k}return(N||JSON.stringify)(w)}const Xr={transitional:Hn,adapter:["xhr","http","fetch"],transformRequest:[function(R,N){const k=N.getContentType()||"",z=k.indexOf("application/json")>-1,X=te.isObject(R);if(X&&te.isHTMLForm(R)&&(R=new FormData(R)),te.isFormData(R))return z?JSON.stringify(qt(R)):R;if(te.isArrayBuffer(R)||te.isBuffer(R)||te.isStream(R)||te.isFile(R)||te.isBlob(R)||te.isReadableStream(R))return R;if(te.isArrayBufferView(R))return R.buffer;if(te.isURLSearchParams(R))return N.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),R.toString();let de;if(X){if(k.indexOf("application/x-www-form-urlencoded")>-1)return Ti(R,this.formSerializer).toString();if((de=te.isFileList(R))||k.indexOf("multipart/form-data")>-1){const Ce=this.env&&this.env.FormData;return Fn(de?{"files[]":R}:R,Ce&&new Ce,this.formSerializer)}}return X||z?(N.setContentType("application/json",!1),Yr(R)):R}],transformResponse:[function(R){const N=this.transitional||Xr.transitional,k=N&&N.forcedJSONParsing,z=this.responseType==="json";if(te.isResponse(R)||te.isReadableStream(R))return R;if(R&&te.isString(R)&&(k&&!this.responseType||z)){const Z=!(N&&N.silentJSONParsing)&&z;try{return JSON.parse(R)}catch(de){if(Z)throw de.name==="SyntaxError"?Ie.from(de,Ie.ERR_BAD_RESPONSE,this,null,this.response):de}}return R}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qt.classes.FormData,Blob:Qt.classes.Blob},validateStatus:function(R){return R>=200&&R<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],w=>{Xr.headers[w]={}});var bi=Xr;const Nr=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Wa=w=>{const R={};let N,k,z;return w&&w.split(`
`).forEach(function(Z){z=Z.indexOf(":"),N=Z.substring(0,z).trim().toLowerCase(),k=Z.substring(z+1).trim(),!(!N||R[N]&&Nr[N])&&(N==="set-cookie"?R[N]?R[N].push(k):R[N]=[k]:R[N]=R[N]?R[N]+", "+k:k)}),R};const Wr=Symbol("internals");function pr(w){return w&&String(w).trim().toLowerCase()}function Pn(w){return w===!1||w==null?w:te.isArray(w)?w.map(Pn):String(w)}function Zr(w){const R=Object.create(null),N=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let k;for(;k=N.exec(w);)R[k[1]]=k[2];return R}const wi=w=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(w.trim());function Dr(w,R,N,k,z){if(te.isFunction(k))return k.call(this,R,N);if(z&&(R=N),!!te.isString(R)){if(te.isString(k))return R.indexOf(k)!==-1;if(te.isRegExp(k))return k.test(R)}}function Nt(w){return w.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(R,N,k)=>N.toUpperCase()+k)}function Za(w,R){const N=te.toCamelCase(" "+R);["get","set","has"].forEach(k=>{Object.defineProperty(w,k+N,{value:function(z,X,Z){return this[k].call(this,R,z,X,Z)},configurable:!0})})}class Jr{constructor(R){R&&this.set(R)}set(R,N,k){const z=this;function X(de,Ce,ye){const Ee=pr(Ce);if(!Ee)throw new Error("header name must be a non-empty string");const Oe=te.findKey(z,Ee);(!Oe||z[Oe]===void 0||ye===!0||ye===void 0&&z[Oe]!==!1)&&(z[Oe||Ce]=Pn(de))}const Z=(de,Ce)=>te.forEach(de,(ye,Ee)=>X(ye,Ee,Ce));if(te.isPlainObject(R)||R instanceof this.constructor)Z(R,N);else if(te.isString(R)&&(R=R.trim())&&!wi(R))Z(Wa(R),N);else if(te.isHeaders(R))for(const[de,Ce]of R.entries())X(Ce,de,k);else R!=null&&X(N,R,k);return this}get(R,N){if(R=pr(R),R){const k=te.findKey(this,R);if(k){const z=this[k];if(!N)return z;if(N===!0)return Zr(z);if(te.isFunction(N))return N.call(this,z,k);if(te.isRegExp(N))return N.exec(z);throw new TypeError("parser must be boolean|regexp|function")}}}has(R,N){if(R=pr(R),R){const k=te.findKey(this,R);return!!(k&&this[k]!==void 0&&(!N||Dr(this,this[k],k,N)))}return!1}delete(R,N){const k=this;let z=!1;function X(Z){if(Z=pr(Z),Z){const de=te.findKey(k,Z);de&&(!N||Dr(k,k[de],de,N))&&(delete k[de],z=!0)}}return te.isArray(R)?R.forEach(X):X(R),z}clear(R){const N=Object.keys(this);let k=N.length,z=!1;for(;k--;){const X=N[k];(!R||Dr(this,this[X],X,R,!0))&&(delete this[X],z=!0)}return z}normalize(R){const N=this,k={};return te.forEach(this,(z,X)=>{const Z=te.findKey(k,X);if(Z){N[Z]=Pn(z),delete N[X];return}const de=R?Nt(X):String(X).trim();de!==X&&delete N[X],N[de]=Pn(z),k[de]=!0}),this}concat(...R){return this.constructor.concat(this,...R)}toJSON(R){const N=Object.create(null);return te.forEach(this,(k,z)=>{k!=null&&k!==!1&&(N[z]=R&&te.isArray(k)?k.join(", "):k)}),N}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([R,N])=>R+": "+N).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(R){return R instanceof this?R:new this(R)}static concat(R,...N){const k=new this(R);return N.forEach(z=>k.set(z)),k}static accessor(R){const k=(this[Wr]=this[Wr]={accessors:{}}).accessors,z=this.prototype;function X(Z){const de=pr(Z);k[de]||(Za(z,Z),k[de]=!0)}return te.isArray(R)?R.forEach(X):X(R),this}}Jr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),te.reduceDescriptors(Jr.prototype,({value:w},R)=>{let N=R[0].toUpperCase()+R.slice(1);return{get:()=>w,set(k){this[N]=k}}}),te.freezeMethods(Jr);var Dt=Jr;function yn(w,R){const N=this||bi,k=R||N,z=Dt.from(k.headers);let X=k.data;return te.forEach(w,function(de){X=de.call(N,X,z.normalize(),R?R.status:void 0)}),z.normalize(),X}function Mn(w){return!!(w&&w.__CANCEL__)}function Ri(w,R,N){Ie.call(this,w??"canceled",Ie.ERR_CANCELED,R,N),this.name="CanceledError"}te.inherits(Ri,Ie,{__CANCEL__:!0});function $s(w,R,N){const k=N.config.validateStatus;!N.status||!k||k(N.status)?w(N):R(new Ie("Request failed with status code "+N.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(N.status/100)-4],N.config,N.request,N))}function Ja(w){const R=/^([-+\w]{1,25})(:?\/\/|:)/.exec(w);return R&&R[1]||""}function Go(w,R){w=w||10;const N=new Array(w),k=new Array(w);let z=0,X=0,Z;return R=R!==void 0?R:1e3,function(Ce){const ye=Date.now(),Ee=k[X];Z||(Z=ye),N[z]=Ce,k[z]=ye;let Oe=X,mt=0;for(;Oe!==z;)mt+=N[Oe++],Oe=Oe%w;if(z=(z+1)%w,z===X&&(X=(X+1)%w),ye-Z<R)return;const St=Ee&&ye-Ee;return St?Math.round(mt*1e3/St):void 0}}function Si(w,R){let N=0,k=1e3/R,z,X;const Z=(ye,Ee=Date.now())=>{N=Ee,z=null,X&&(clearTimeout(X),X=null),w.apply(null,ye)};return[(...ye)=>{const Ee=Date.now(),Oe=Ee-N;Oe>=k?Z(ye,Ee):(z=ye,X||(X=setTimeout(()=>{X=null,Z(z)},k-Oe)))},()=>z&&Z(z)]}const gr=(w,R,N=3)=>{let k=0;const z=Go(50,250);return Si(X=>{const Z=X.loaded,de=X.lengthComputable?X.total:void 0,Ce=Z-k,ye=z(Ce),Ee=Z<=de;k=Z;const Oe={loaded:Z,total:de,progress:de?Z/de:void 0,bytes:Ce,rate:ye||void 0,estimated:ye&&de&&Ee?(de-Z)/ye:void 0,event:X,lengthComputable:de!=null,[R?"download":"upload"]:!0};w(Oe)},N)},$n=(w,R)=>{const N=w!=null;return[k=>R[0]({lengthComputable:N,total:w,loaded:k}),R[1]]},vn=w=>(...R)=>te.asap(()=>w(...R));var Ko=Qt.hasStandardBrowserEnv?((w,R)=>N=>(N=new URL(N,Qt.origin),w.protocol===N.protocol&&w.host===N.host&&(R||w.port===N.port)))(new URL(Qt.origin),Qt.navigator&&/(msie|trident)/i.test(Qt.navigator.userAgent)):()=>!0,tu=Qt.hasStandardBrowserEnv?{write(w,R,N,k,z,X){const Z=[w+"="+encodeURIComponent(R)];te.isNumber(N)&&Z.push("expires="+new Date(N).toGMTString()),te.isString(k)&&Z.push("path="+k),te.isString(z)&&Z.push("domain="+z),X===!0&&Z.push("secure"),document.cookie=Z.join("; ")},read(w){const R=document.cookie.match(new RegExp("(^|;\\s*)("+w+")=([^;]*)"));return R?decodeURIComponent(R[3]):null},remove(w){this.write(w,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ns(w){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(w)}function eo(w,R){return R?w.replace(/\/?\/$/,"")+"/"+R.replace(/^\/+/,""):w}function rs(w,R){return w&&!ns(R)?eo(w,R):R}const kr=w=>w instanceof Dt?{...w}:w;function yt(w,R){R=R||{};const N={};function k(ye,Ee,Oe,mt){return te.isPlainObject(ye)&&te.isPlainObject(Ee)?te.merge.call({caseless:mt},ye,Ee):te.isPlainObject(Ee)?te.merge({},Ee):te.isArray(Ee)?Ee.slice():Ee}function z(ye,Ee,Oe,mt){if(te.isUndefined(Ee)){if(!te.isUndefined(ye))return k(void 0,ye,Oe,mt)}else return k(ye,Ee,Oe,mt)}function X(ye,Ee){if(!te.isUndefined(Ee))return k(void 0,Ee)}function Z(ye,Ee){if(te.isUndefined(Ee)){if(!te.isUndefined(ye))return k(void 0,ye)}else return k(void 0,Ee)}function de(ye,Ee,Oe){if(Oe in R)return k(ye,Ee);if(Oe in w)return k(void 0,ye)}const Ce={url:X,method:X,data:X,baseURL:Z,transformRequest:Z,transformResponse:Z,paramsSerializer:Z,timeout:Z,timeoutMessage:Z,withCredentials:Z,withXSRFToken:Z,adapter:Z,responseType:Z,xsrfCookieName:Z,xsrfHeaderName:Z,onUploadProgress:Z,onDownloadProgress:Z,decompress:Z,maxContentLength:Z,maxBodyLength:Z,beforeRedirect:Z,transport:Z,httpAgent:Z,httpsAgent:Z,cancelToken:Z,socketPath:Z,responseEncoding:Z,validateStatus:de,headers:(ye,Ee,Oe)=>z(kr(ye),kr(Ee),Oe,!0)};return te.forEach(Object.keys(Object.assign({},w,R)),function(Ee){const Oe=Ce[Ee]||z,mt=Oe(w[Ee],R[Ee],Ee);te.isUndefined(mt)&&Oe!==de||(N[Ee]=mt)}),N}var ei=w=>{const R=yt({},w);let{data:N,withXSRFToken:k,xsrfHeaderName:z,xsrfCookieName:X,headers:Z,auth:de}=R;R.headers=Z=Dt.from(Z),R.url=mr(rs(R.baseURL,R.url),w.params,w.paramsSerializer),de&&Z.set("Authorization","Basic "+btoa((de.username||"")+":"+(de.password?unescape(encodeURIComponent(de.password)):"")));let Ce;if(te.isFormData(N)){if(Qt.hasStandardBrowserEnv||Qt.hasStandardBrowserWebWorkerEnv)Z.setContentType(void 0);else if((Ce=Z.getContentType())!==!1){const[ye,...Ee]=Ce?Ce.split(";").map(Oe=>Oe.trim()).filter(Boolean):[];Z.setContentType([ye||"multipart/form-data",...Ee].join("; "))}}if(Qt.hasStandardBrowserEnv&&(k&&te.isFunction(k)&&(k=k(R)),k||k!==!1&&Ko(R.url))){const ye=z&&X&&tu.read(X);ye&&Z.set(z,ye)}return R},Ks=typeof XMLHttpRequest<"u"&&function(w){return new Promise(function(N,k){const z=ei(w);let X=z.data;const Z=Dt.from(z.headers).normalize();let{responseType:de,onUploadProgress:Ce,onDownloadProgress:ye}=z,Ee,Oe,mt,St,Ne;function Be(){St&&St(),Ne&&Ne(),z.cancelToken&&z.cancelToken.unsubscribe(Ee),z.signal&&z.signal.removeEventListener("abort",Ee)}let De=new XMLHttpRequest;De.open(z.method.toUpperCase(),z.url,!0),De.timeout=z.timeout;function At(){if(!De)return;const Ut=Dt.from("getAllResponseHeaders"in De&&De.getAllResponseHeaders()),on={data:!de||de==="text"||de==="json"?De.responseText:De.response,status:De.status,statusText:De.statusText,headers:Ut,config:w,request:De};$s(function(ur){N(ur),Be()},function(ur){k(ur),Be()},on),De=null}"onloadend"in De?De.onloadend=At:De.onreadystatechange=function(){!De||De.readyState!==4||De.status===0&&!(De.responseURL&&De.responseURL.indexOf("file:")===0)||setTimeout(At)},De.onabort=function(){De&&(k(new Ie("Request aborted",Ie.ECONNABORTED,w,De)),De=null)},De.onerror=function(){k(new Ie("Network Error",Ie.ERR_NETWORK,w,De)),De=null},De.ontimeout=function(){let lr=z.timeout?"timeout of "+z.timeout+"ms exceeded":"timeout exceeded";const on=z.transitional||Hn;z.timeoutErrorMessage&&(lr=z.timeoutErrorMessage),k(new Ie(lr,on.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,w,De)),De=null},X===void 0&&Z.setContentType(null),"setRequestHeader"in De&&te.forEach(Z.toJSON(),function(lr,on){De.setRequestHeader(on,lr)}),te.isUndefined(z.withCredentials)||(De.withCredentials=!!z.withCredentials),de&&de!=="json"&&(De.responseType=z.responseType),ye&&([mt,Ne]=gr(ye,!0),De.addEventListener("progress",mt)),Ce&&De.upload&&([Oe,St]=gr(Ce),De.upload.addEventListener("progress",Oe),De.upload.addEventListener("loadend",St)),(z.cancelToken||z.signal)&&(Ee=Ut=>{De&&(k(!Ut||Ut.type?new Ri(null,w,De):Ut),De.abort(),De=null)},z.cancelToken&&z.cancelToken.subscribe(Ee),z.signal&&(z.signal.aborted?Ee():z.signal.addEventListener("abort",Ee)));const Tt=Ja(z.url);if(Tt&&Qt.protocols.indexOf(Tt)===-1){k(new Ie("Unsupported protocol "+Tt+":",Ie.ERR_BAD_REQUEST,w));return}De.send(X||null)})},is=(w,R)=>{const{length:N}=w=w?w.filter(Boolean):[];if(R||N){let k=new AbortController,z;const X=function(ye){if(!z){z=!0,de();const Ee=ye instanceof Error?ye:this.reason;k.abort(Ee instanceof Ie?Ee:new Ri(Ee instanceof Error?Ee.message:Ee))}};let Z=R&&setTimeout(()=>{Z=null,X(new Ie(`timeout ${R} of ms exceeded`,Ie.ETIMEDOUT))},R);const de=()=>{w&&(Z&&clearTimeout(Z),Z=null,w.forEach(ye=>{ye.unsubscribe?ye.unsubscribe(X):ye.removeEventListener("abort",X)}),w=null)};w.forEach(ye=>ye.addEventListener("abort",X));const{signal:Ce}=k;return Ce.unsubscribe=()=>te.asap(de),Ce}};const Ai=function*(w,R){let N=w.byteLength;if(N<R){yield w;return}let k=0,z;for(;k<N;)z=k+R,yield w.slice(k,z),k=z},rr=async function*(w,R){for await(const N of nu(w))yield*Ai(N,R)},nu=async function*(w){if(w[Symbol.asyncIterator]){yield*w;return}const R=w.getReader();try{for(;;){const{done:N,value:k}=await R.read();if(N)break;yield k}}finally{await R.cancel()}},Qs=(w,R,N,k)=>{const z=rr(w,R);let X=0,Z,de=Ce=>{Z||(Z=!0,k&&k(Ce))};return new ReadableStream({async pull(Ce){try{const{done:ye,value:Ee}=await z.next();if(ye){de(),Ce.close();return}let Oe=Ee.byteLength;if(N){let mt=X+=Oe;N(mt)}Ce.enqueue(new Uint8Array(Ee))}catch(ye){throw de(ye),ye}},cancel(Ce){return de(Ce),z.return()}},{highWaterMark:2})},ss=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ys=ss&&typeof ReadableStream=="function",ru=ss&&(typeof TextEncoder=="function"?(w=>R=>w.encode(R))(new TextEncoder):async w=>new Uint8Array(await new Response(w).arrayBuffer())),Qo=(w,...R)=>{try{return!!w(...R)}catch{return!1}},Pr=Ys&&Qo(()=>{let w=!1;const R=new Request(Qt.origin,{body:new ReadableStream,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!R}),Gn=64*1024,Ci=Ys&&Qo(()=>te.isReadableStream(new Response("").body)),ir={stream:Ci&&(w=>w.body)};ss&&(w=>{["text","arrayBuffer","blob","formData","stream"].forEach(R=>{!ir[R]&&(ir[R]=te.isFunction(w[R])?N=>N[R]():(N,k)=>{throw new Ie(`Response type '${R}' is not supported`,Ie.ERR_NOT_SUPPORT,k)})})})(new Response);const ti=async w=>{if(w==null)return 0;if(te.isBlob(w))return w.size;if(te.isSpecCompliantForm(w))return(await new Request(Qt.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(te.isArrayBufferView(w)||te.isArrayBuffer(w))return w.byteLength;if(te.isURLSearchParams(w)&&(w=w+""),te.isString(w))return(await ru(w)).byteLength},ni=async(w,R)=>{const N=te.toFiniteNumber(w.getContentLength());return N??ti(R)};var to=ss&&(async w=>{let{url:R,method:N,data:k,signal:z,cancelToken:X,timeout:Z,onDownloadProgress:de,onUploadProgress:Ce,responseType:ye,headers:Ee,withCredentials:Oe="same-origin",fetchOptions:mt}=ei(w);ye=ye?(ye+"").toLowerCase():"text";let St=is([z,X&&X.toAbortSignal()],Z),Ne;const Be=St&&St.unsubscribe&&(()=>{St.unsubscribe()});let De;try{if(Ce&&Pr&&N!=="get"&&N!=="head"&&(De=await ni(Ee,k))!==0){let on=new Request(R,{method:"POST",body:k,duplex:"half"}),vr;if(te.isFormData(k)&&(vr=on.headers.get("content-type"))&&Ee.setContentType(vr),on.body){const[ur,en]=$n(De,gr(vn(Ce)));k=Qs(on.body,Gn,ur,en)}}te.isString(Oe)||(Oe=Oe?"include":"omit");const At="credentials"in Request.prototype;Ne=new Request(R,{...mt,signal:St,method:N.toUpperCase(),headers:Ee.normalize().toJSON(),body:k,duplex:"half",credentials:At?Oe:void 0});let Tt=await fetch(Ne);const Ut=Ci&&(ye==="stream"||ye==="response");if(Ci&&(de||Ut&&Be)){const on={};["status","statusText","headers"].forEach(no=>{on[no]=Tt[no]});const vr=te.toFiniteNumber(Tt.headers.get("content-length")),[ur,en]=de&&$n(vr,gr(vn(de),!0))||[];Tt=new Response(Qs(Tt.body,Gn,ur,()=>{en&&en(),Be&&Be()}),on)}ye=ye||"text";let lr=await ir[te.findKey(ir,ye)||"text"](Tt,w);return!Ut&&Be&&Be(),await new Promise((on,vr)=>{$s(on,vr,{data:lr,headers:Dt.from(Tt.headers),status:Tt.status,statusText:Tt.statusText,config:w,request:Ne})})}catch(At){throw Be&&Be(),At&&At.name==="TypeError"&&/fetch/i.test(At.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,w,Ne),{cause:At.cause||At}):Ie.from(At,At&&At.code,w,Ne)}});const Xs={http:Ga,xhr:Ks,fetch:to};te.forEach(Xs,(w,R)=>{if(w){try{Object.defineProperty(w,"name",{value:R})}catch{}Object.defineProperty(w,"adapterName",{value:R})}});const Ii=w=>`- ${w}`,sr=w=>te.isFunction(w)||w===null||w===!1;var Oi={getAdapter:w=>{w=te.isArray(w)?w:[w];const{length:R}=w;let N,k;const z={};for(let X=0;X<R;X++){N=w[X];let Z;if(k=N,!sr(N)&&(k=Xs[(Z=String(N)).toLowerCase()],k===void 0))throw new Ie(`Unknown adapter '${Z}'`);if(k)break;z[Z||"#"+X]=k}if(!k){const X=Object.entries(z).map(([de,Ce])=>`adapter ${de} `+(Ce===!1?"is not supported by the environment":"is not available in the build"));let Z=R?X.length>1?`since :
`+X.map(Ii).join(`
`):" "+Ii(X[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+Z,"ERR_NOT_SUPPORT")}return k},adapters:Xs};function ar(w){if(w.cancelToken&&w.cancelToken.throwIfRequested(),w.signal&&w.signal.aborted)throw new Ri(null,w)}function ri(w){return ar(w),w.headers=Dt.from(w.headers),w.data=yn.call(w,w.transformRequest),["post","put","patch"].indexOf(w.method)!==-1&&w.headers.setContentType("application/x-www-form-urlencoded",!1),Oi.getAdapter(w.adapter||bi.adapter)(w).then(function(k){return ar(w),k.data=yn.call(w,w.transformResponse,k),k.headers=Dt.from(k.headers),k},function(k){return Mn(k)||(ar(w),k&&k.response&&(k.response.data=yn.call(w,w.transformResponse,k.response),k.response.headers=Dt.from(k.response.headers))),Promise.reject(k)})}const Mr="1.7.9",xi={};["object","boolean","number","function","string","symbol"].forEach((w,R)=>{xi[w]=function(k){return typeof k===w||"a"+(R<1?"n ":" ")+w}});const yr={};xi.transitional=function(R,N,k){function z(X,Z){return"[Axios v"+Mr+"] Transitional option '"+X+"'"+Z+(k?". "+k:"")}return(X,Z,de)=>{if(R===!1)throw new Ie(z(Z," has been removed"+(N?" in "+N:"")),Ie.ERR_DEPRECATED);return N&&!yr[Z]&&(yr[Z]=!0,console.warn(z(Z," has been deprecated since v"+N+" and will be removed in the near future"))),R?R(X,Z,de):!0}},xi.spelling=function(R){return(N,k)=>(console.warn(`${k} is likely a misspelling of ${R}`),!0)};function Lr(w,R,N){if(typeof w!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const k=Object.keys(w);let z=k.length;for(;z-- >0;){const X=k[z],Z=R[X];if(Z){const de=w[X],Ce=de===void 0||Z(de,X,w);if(Ce!==!0)throw new Ie("option "+X+" must be "+Ce,Ie.ERR_BAD_OPTION_VALUE);continue}if(N!==!0)throw new Ie("Unknown option "+X,Ie.ERR_BAD_OPTION)}}var Ni={assertOptions:Lr,validators:xi};const Et=Ni.validators;class rt{constructor(R){this.defaults=R,this.interceptors={request:new nr,response:new nr}}async request(R,N){try{return await this._request(R,N)}catch(k){if(k instanceof Error){let z={};Error.captureStackTrace?Error.captureStackTrace(z):z=new Error;const X=z.stack?z.stack.replace(/^.+\n/,""):"";try{k.stack?X&&!String(k.stack).endsWith(X.replace(/^.+\n.+\n/,""))&&(k.stack+=`
`+X):k.stack=X}catch{}}throw k}}_request(R,N){typeof R=="string"?(N=N||{},N.url=R):N=R||{},N=yt(this.defaults,N);const{transitional:k,paramsSerializer:z,headers:X}=N;k!==void 0&&Ni.assertOptions(k,{silentJSONParsing:Et.transitional(Et.boolean),forcedJSONParsing:Et.transitional(Et.boolean),clarifyTimeoutError:Et.transitional(Et.boolean)},!1),z!=null&&(te.isFunction(z)?N.paramsSerializer={serialize:z}:Ni.assertOptions(z,{encode:Et.function,serialize:Et.function},!0)),Ni.assertOptions(N,{baseUrl:Et.spelling("baseURL"),withXsrfToken:Et.spelling("withXSRFToken")},!0),N.method=(N.method||this.defaults.method||"get").toLowerCase();let Z=X&&te.merge(X.common,X[N.method]);X&&te.forEach(["delete","get","head","post","put","patch","common"],Ne=>{delete X[Ne]}),N.headers=Dt.concat(Z,X);const de=[];let Ce=!0;this.interceptors.request.forEach(function(Be){typeof Be.runWhen=="function"&&Be.runWhen(N)===!1||(Ce=Ce&&Be.synchronous,de.unshift(Be.fulfilled,Be.rejected))});const ye=[];this.interceptors.response.forEach(function(Be){ye.push(Be.fulfilled,Be.rejected)});let Ee,Oe=0,mt;if(!Ce){const Ne=[ri.bind(this),void 0];for(Ne.unshift.apply(Ne,de),Ne.push.apply(Ne,ye),mt=Ne.length,Ee=Promise.resolve(N);Oe<mt;)Ee=Ee.then(Ne[Oe++],Ne[Oe++]);return Ee}mt=de.length;let St=N;for(Oe=0;Oe<mt;){const Ne=de[Oe++],Be=de[Oe++];try{St=Ne(St)}catch(De){Be.call(this,De);break}}try{Ee=ri.call(this,St)}catch(Ne){return Promise.reject(Ne)}for(Oe=0,mt=ye.length;Oe<mt;)Ee=Ee.then(ye[Oe++],ye[Oe++]);return Ee}getUri(R){R=yt(this.defaults,R);const N=rs(R.baseURL,R.url);return mr(N,R.params,R.paramsSerializer)}}te.forEach(["delete","get","head","options"],function(R){rt.prototype[R]=function(N,k){return this.request(yt(k||{},{method:R,url:N,data:(k||{}).data}))}}),te.forEach(["post","put","patch"],function(R){function N(k){return function(X,Z,de){return this.request(yt(de||{},{method:R,headers:k?{"Content-Type":"multipart/form-data"}:{},url:X,data:Z}))}}rt.prototype[R]=N(),rt.prototype[R+"Form"]=N(!0)});var ii=rt;class si{constructor(R){if(typeof R!="function")throw new TypeError("executor must be a function.");let N;this.promise=new Promise(function(X){N=X});const k=this;this.promise.then(z=>{if(!k._listeners)return;let X=k._listeners.length;for(;X-- >0;)k._listeners[X](z);k._listeners=null}),this.promise.then=z=>{let X;const Z=new Promise(de=>{k.subscribe(de),X=de}).then(z);return Z.cancel=function(){k.unsubscribe(X)},Z},R(function(X,Z,de){k.reason||(k.reason=new Ri(X,Z,de),N(k.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(R){if(this.reason){R(this.reason);return}this._listeners?this._listeners.push(R):this._listeners=[R]}unsubscribe(R){if(!this._listeners)return;const N=this._listeners.indexOf(R);N!==-1&&this._listeners.splice(N,1)}toAbortSignal(){const R=new AbortController,N=k=>{R.abort(k)};return this.subscribe(N),R.signal.unsubscribe=()=>this.unsubscribe(N),R.signal}static source(){let R;return{token:new si(function(z){R=z}),cancel:R}}}var Yo=si;function Ws(w){return function(N){return w.apply(null,N)}}function Zs(w){return te.isObject(w)&&w.isAxiosError===!0}const or={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(or).forEach(([w,R])=>{or[R]=w});var as=or;function Kn(w){const R=new ii(w),N=n(ii.prototype.request,R);return te.extend(N,ii.prototype,R,{allOwnKeys:!0}),te.extend(N,R,null,{allOwnKeys:!0}),N.create=function(z){return Kn(yt(w,z))},N}const kt=Kn(bi);return kt.Axios=ii,kt.CanceledError=Ri,kt.CancelToken=Yo,kt.isCancel=Mn,kt.VERSION=Mr,kt.toFormData=Fn,kt.AxiosError=Ie,kt.Cancel=kt.CanceledError,kt.all=function(R){return Promise.all(R)},kt.spread=Ws,kt.isAxiosError=Zs,kt.mergeConfig=yt,kt.AxiosHeaders=Dt,kt.formToJSON=w=>qt(te.isHTMLForm(w)?new FormData(w):w),kt.getAdapter=Oi.getAdapter,kt.HttpStatusCode=as,kt.default=kt,Np=kt,Np}var Dp,bb;function sU(){if(bb)return Dp;bb=1;var n=function(t,i){return i?t.then(function(a){i(null,a.data)}).catch(function(a){i(a,null)}):t.then(function(a){return a.data})};return Dp=n,Dp}const aU={},oU=Object.freeze(Object.defineProperty({__proto__:null,default:aU},Symbol.toStringTag,{value:"Module"})),lU=JC(oU);var kp,wb;function er(){if(wb)return kp;wb=1;var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E};function e(E){return+new Date(E)/1e3}function t(E){return i(E)?E:e(E)}function i(E){return!isNaN(Number(E))}function a(E){return!!E&&(typeof E>"u"?"undefined":n(E))==="object"&&!Array.isArray(E)}function l(E){return E===void 0?E:E?1:0}function c(E){return typeof E<"u"}function h(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A={};for(var D in E)A["notes["+D+"]"]=E[D];return A}function f(E){return JSON.stringify(E,null,2)}function p(E,A,D){return new Error(`
`+E+`
`+("Expected("+(typeof A>"u"?"undefined":n(A))+`)
`+f(A)+`

`)+("Got("+(typeof D>"u"?"undefined":n(D))+`)
`+f(D)))}function y(E,A,D){var q=lU;if(!c(E)||!c(A)||!c(D))throw Error("Invalid Parameters: Please give request body,signature sent in X-Razorpay-Signature header and webhook secret from dashboard as parameters");E=E.toString();var L=q.createHmac("sha256",D).update(E).digest("hex");return L===A}function _(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=arguments[1],D=arguments[2],q=E.payment_id;if(!D)throw new Error("secret is mandatory");if(c(E.order_id)===!0)var L=E.order_id,Y=L+"|"+q;else if(c(E.subscription_id)===!0)var $=E.subscription_id,Y=q+"|"+$;else if(c(E.payment_link_id)===!0)var K=E.payment_link_id,ie=E.payment_link_reference_id,le=E.payment_link_status,Y=K+"|"+ie+"|"+le+"|"+q;else throw new Error("Either order_id or subscription_id is mandatory");return y(Y,A,D)}return kp={normalizeNotes:h,normalizeDate:t,normalizeBoolean:l,isNumber:i,getDateInSecs:e,prettify:f,isDefined:c,isNonNullObject:a,getTestError:p,validateWebhookSignature:y,validatePaymentVerification:_},kp}var Pp,Rb;function uU(){if(Rb)return Pp;Rb=1;var n=function(){function y(_,E){for(var A=0;A<E.length;A++){var D=E[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(_,D.key,D)}}return function(_,E,A){return E&&y(_.prototype,E),A&&y(_,A),_}}();function e(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}var t=iU().default,i=sU(),a=er(),l=a.isNonNullObject,c={"X-Razorpay-Account":"","Content-Type":"application/json"};function h(y){var _={};return l(y)?Object.keys(y).reduce(function(E,A){return c.hasOwnProperty(A)&&(E[A]=y[A]),E},_):_}function f(y){throw{statusCode:y.response.status,error:y.response.data.error}}var p=function(){function y(_){e(this,y),this.version="v1",this.rq=t.create({baseURL:_.hostUrl,auth:{username:_.key_id,password:_.key_secret},headers:Object.assign({"User-Agent":_.ua},h(_.headers))})}return n(y,[{key:"getEntityUrl",value:function(E){return E.hasOwnProperty("version")?"/"+E.version+E.url:"/"+this.version+E.url}},{key:"get",value:function(E,A){return i(this.rq.get(this.getEntityUrl(E),{params:E.data}).catch(f),A)}},{key:"post",value:function(E,A){return i(this.rq.post(this.getEntityUrl(E),E.data).catch(f),A)}},{key:"postFormData",value:function(E,A){return i(this.rq.post(this.getEntityUrl(E),E.formData,{headers:{"Content-Type":"multipart/form-data"}}).catch(f),A)}},{key:"put",value:function(E,A){return i(this.rq.put(this.getEntityUrl(E),E.data).catch(f),A)}},{key:"patch",value:function(E,A){return i(this.rq.patch(this.getEntityUrl(E),E.data).catch(f),A)}},{key:"delete",value:function(E,A){return i(this.rq.delete(this.getEntityUrl(E)).catch(f),A)}}]),y}();return Pp=p,Pp}const cU="2.9.5",fU={version:cU};var Mp,Sb;function hU(){if(Sb)return Mp;Sb=1;var n=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t};function e(t,i){var a={};for(var l in t)i.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(t,l)&&(a[l]=t[l]);return a}return Mp=function(t){var i="/accounts";return{create:function(l,c){return t.post({version:"v2",url:""+i,data:l},c)},edit:function(l,c,h){return t.patch({version:"v2",url:i+"/"+l,data:c},h)},fetch:function(l,c){return t.get({version:"v2",url:i+"/"+l},c)},delete:function(l,c){return t.delete({version:"v2",url:i+"/"+l},c)},uploadAccountDoc:function(l,c,h){var f=c.file,p=e(c,["file"]);return t.postFormData({version:"v2",url:i+"/"+l+"/documents",formData:n({file:f.value},p)},h)},fetchAccountDoc:function(l,c){return t.get({version:"v2",url:i+"/"+l+"/documents"},c)}}},Mp}var Lp,Ab;function dU(){if(Ab)return Lp;Ab=1;var n=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t};function e(t,i){var a={};for(var l in t)i.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(t,l)&&(a[l]=t[l]);return a}return Lp=function(t){var i="/accounts";return{create:function(l,c,h){return t.post({version:"v2",url:i+"/"+l+"/stakeholders",data:c},h)},edit:function(l,c,h,f){return t.patch({version:"v2",url:i+"/"+l+"/stakeholders/"+c,data:h},f)},fetch:function(l,c,h){return t.get({version:"v2",url:i+"/"+l+"/stakeholders/"+c},h)},all:function(l,c){return t.get({version:"v2",url:i+"/"+l+"/stakeholders"},c)},uploadStakeholderDoc:function(l,c,h,f){var p=h.file,y=e(h,["file"]);return t.postFormData({version:"v2",url:i+"/"+l+"/stakeholders/"+c+"/documents",formData:n({file:p.value},y)},f)},fetchStakeholderDoc:function(l,c,h){return t.get({version:"v2",url:i+"/"+l+"/stakeholders/"+c+"/documents"},h)}}},Lp}var Up,Cb;function mU(){if(Cb)return Up;Cb=1;var n=Object.assign||function(c){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(c[p]=f[p])}return c};function e(c,h){var f={};for(var p in c)h.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(c,p)&&(f[p]=c[p]);return f}var t=er(),i=t.normalizeDate,a="`payment_id` is mandatory",l="/payments";return Up=function(c){return{all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=f.from,_=f.to,E=f.count,A=f.skip,D=void 0;return y&&(y=i(y)),_&&(_=i(_)),f.hasOwnProperty("expand[]")&&(D={"expand[]":f["expand[]"]}),E=Number(E)||10,A=Number(A)||0,c.get({url:""+l,data:{from:y,to:_,count:E,skip:A,expand:D}},p)},fetch:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],_=void 0;if(!f)throw new Error("`payment_id` is mandatory");return p.hasOwnProperty("expand[]")&&(_={"expand[]":p["expand[]"]}),c.get({url:l+"/"+f,data:{expand:_}},y)},capture:function(f,p,y,_){if(!f)throw new Error("`payment_id` is mandatory");if(!p)throw new Error("`amount` is mandatory");var E={amount:p};return typeof y=="function"&&!_?(_=y,y=void 0):typeof y=="string"&&(E.currency=y),c.post({url:l+"/"+f+"/capture",data:E},_)},createPaymentJson:function(f,p){var y=l+"/create/json",_=e(f,[]),E=Object.assign(_);return c.post({url:y,data:E},p)},createRecurringPayment:function(f,p){return c.post({url:l+"/create/recurring",data:f},p)},edit:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];if(!f)throw new Error("`payment_id` is mandatory");return c.patch({url:l+"/"+f,data:p},y)},refund:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];if(!f)throw new Error("`payment_id` is mandatory");return c.post({url:l+"/"+f+"/refund",data:p},y)},fetchMultipleRefund:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],_=p.from,E=p.to,A=p.count,D=p.skip,q=l+"/"+f+"/refunds";return c.get({url:q,data:n({},p,{from:_,to:E,count:A,skip:D})},y)},fetchRefund:function(f,p,y){if(!f)throw new Error("payment Id` is mandatory");if(!p)throw new Error("refund Id` is mandatory");return c.get({url:l+"/"+f+"/refunds/"+p},y)},fetchTransfer:function(f,p){if(!f)throw new Error("payment Id` is mandatory");return c.get({url:l+"/"+f+"/transfers"},p)},transfer:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];if(!f)throw new Error("`payment_id` is mandatory");return c.post({url:l+"/"+f+"/transfers",data:p},y)},bankTransfer:function(f,p){return f?c.get({url:l+"/"+f+"/bank_transfer"},p):Promise.reject(a)},fetchCardDetails:function(f,p){return f?c.get({url:l+"/"+f+"/card"},p):Promise.reject(a)},fetchPaymentDowntime:function(f){return c.get({url:l+"/downtimes"},f)},fetchPaymentDowntimeById:function(f,p){return f?c.get({url:l+"/downtimes/"+f},p):Promise.reject("Downtime Id is mandatory")},otpGenerate:function(f,p){return f?c.post({url:l+"/"+f+"/otp_generate"},p):Promise.reject("payment Id is mandatory")},otpSubmit:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];return f?c.post({url:l+"/"+f+"/otp/submit",data:p},y):Promise.reject("payment Id is mandatory")},otpResend:function(f,p){return f?c.post({url:l+"/"+f+"/otp/resend"},p):Promise.reject("payment Id is mandatory")},createUpi:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=l+"/create/upi",_=e(f,[]),E=Object.assign(_);return c.post({url:y,data:E},p)},validateVpa:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=l+"/validate/vpa",_=e(f,[]),E=Object.assign(_);return c.post({url:y,data:E},p)},fetchPaymentMethods:function(f){var p="/methods";return c.get({url:p},f)}}},Up}var Vp,Ib;function pU(){if(Ib)return Vp;Ib=1;var n=er(),e=n.normalizeDate;return n.normalizeNotes,Vp=function(t){return{all:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=a.from,h=a.to,f=a.count,p=a.skip,y=a.payment_id,_="/refunds";return y&&(_="/payments/"+y+"/refunds"),c&&(c=e(c)),h&&(h=e(h)),f=Number(f)||10,p=Number(p)||0,t.get({url:_,data:{from:c,to:h,count:f,skip:p}},l)},edit:function(a,l,c){if(!a)throw new Error("refund Id is mandatory");return t.patch({url:"/refunds/"+a,data:l},c)},fetch:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments[2],h=l.payment_id;if(!a)throw new Error("`refund_id` is mandatory");var f="/refunds/"+a;return h&&(f="/payments/"+h+f),t.get({url:f},c)}}},Vp}var jp,Ob;function gU(){if(Ob)return jp;Ob=1;var n=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])}return a};function e(a,l){var c={};for(var h in a)l.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(a,h)&&(c[h]=a[h]);return c}var t=er(),i=t.normalizeDate;return jp=function(a){return{all:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=c.from,p=c.to,y=c.count,_=c.skip,E=c.authorized,A=c.receipt,D=void 0;return f&&(f=i(f)),p&&(p=i(p)),c.hasOwnProperty("expand[]")&&(D={"expand[]":c["expand[]"]}),y=Number(y)||10,_=Number(_)||0,E=E,a.get({url:"/orders",data:{from:f,to:p,count:y,skip:_,authorized:E,receipt:A,expand:D}},h)},fetch:function(c,h){if(!c)throw new Error("`order_id` is mandatory");return a.get({url:"/orders/"+c},h)},create:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=c.currency,p=e(c,["currency"]);f=f||"INR";var y=Object.assign(n({currency:f},p));return a.post({url:"/orders",data:y},h)},edit:function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments[2];if(!c)throw new Error("`order_id` is mandatory");return a.patch({url:"/orders/"+c,data:h},f)},fetchPayments:function(c,h){if(!c)throw new Error("`order_id` is mandatory");return a.get({url:"/orders/"+c+"/payments"},h)},fetchTransferOrder:function(c,h){if(!c)throw new Error("`order_id` is mandatory");return a.get({url:"/orders/"+c+"/?expand[]=transfers&status"},h)},viewRtoReview:function(c,h){return a.post({url:"/orders/"+c+"/rto_review"},h)},editFulfillment:function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.post({url:"/orders/"+c+"/fulfillment",data:h})}}},jp}var Bp,xb;function yU(){return xb||(xb=1,Bp=function(n){return{create:function(t,i){return n.post({url:"/customers",data:t},i)},edit:function(t,i,a){return n.put({url:"/customers/"+t,data:i},a)},fetch:function(t,i){return n.get({url:"/customers/"+t},i)},all:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1],a=t.count,l=t.skip;return a=Number(a)||10,l=Number(l)||0,n.get({url:"/customers",data:{count:a,skip:l}},i)},fetchTokens:function(t,i){return n.get({url:"/customers/"+t+"/tokens"},i)},fetchToken:function(t,i,a){return n.get({url:"/customers/"+t+"/tokens/"+i},a)},deleteToken:function(t,i,a){return n.delete({url:"/customers/"+t+"/tokens/"+i},a)},addBankAccount:function(t,i,a){return n.post({url:"/customers/"+t+"/bank_account",data:i},a)},deleteBankAccount:function(t,i,a){return n.delete({url:"/customers/"+t+"/bank_account/"+i},a)},requestEligibilityCheck:function(t,i){return n.post({url:"/customers/eligibility",data:t},i)},fetchEligibility:function(t,i){return n.get({url:"/customers/eligibility/"+t},i)}}}),Bp}var zp,Nb;function vU(){if(Nb)return zp;Nb=1;var n=er(),e=n.normalizeDate;return zp=function(t){return{all:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=a.from,h=a.to,f=a.count,p=a.skip,y=a.payment_id,_=a.recipient_settlement_id,E="/transfers";return y&&(E="/payments/"+y+"/transfers"),c&&(c=e(c)),h&&(h=e(h)),f=Number(f)||10,p=Number(p)||0,t.get({url:E,data:{from:c,to:h,count:f,skip:p,recipient_settlement_id:_}},l)},fetch:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments[2];if(l.payment_id,!a)throw new Error("`transfer_id` is mandatory");var h="/transfers/"+a;return t.get({url:h},c)},create:function(a,l){return t.post({url:"/transfers",data:a},l)},edit:function(a,l,c){return t.patch({url:"/transfers/"+a,data:l},c)},reverse:function(a,l,c){if(!a)throw new Error("`transfer_id` is mandatory");var h="/transfers/"+a+"/reversals";return t.post({url:h,data:l},c)},fetchSettlements:function(a){return t.get({url:"/transfers?expand[]=recipient_settlement"},a)}}},zp}var qp,Db;function _U(){if(Db)return qp;Db=1;var n=er();return n.normalizeNotes,qp=function(e){var t="/tokens";return{create:function(a,l){return e.post({url:""+t,data:a},l)},fetch:function(a,l){return e.post({url:t+"/fetch",data:a},l)},delete:function(a,l){return e.post({url:t+"/delete",data:a},l)},processPaymentOnAlternatePAorPG:function(a,l){return e.post({url:t+"/service_provider_tokens/token_transactional_data",data:a},l)}}},qp}var Fp,kb;function EU(){if(kb)return Fp;kb=1;var n=Object.assign||function(c){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(c[p]=f[p])}return c};function e(c,h){var f={};for(var p in c)h.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(c,p)&&(f[p]=c[p]);return f}var t=er(),i=t.normalizeDate;t.normalizeNotes;var a="/virtual_accounts",l="`virtual_account_id` is mandatory";return Fp=function(c){return{all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=f.from,_=f.to,E=f.count,A=f.skip,D=e(f,["from","to","count","skip"]),q=a;return y&&(y=i(y)),_&&(_=i(_)),E=Number(E)||10,A=Number(A)||0,c.get({url:q,data:n({from:y,to:_,count:E,skip:A},D)},p)},fetch:function(f,p){if(!f)return Promise.reject(l);var y=a+"/"+f;return c.get({url:y},p)},create:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1];return c.post({url:a,data:f},p)},close:function(f,p){return f?c.post({url:a+"/"+f+"/close"},p):Promise.reject(l)},fetchPayments:function(f,p){if(!f)return Promise.reject(l);var y=a+"/"+f+"/payments";return c.get({url:y},p)},addReceiver:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];return f?c.post({url:a+"/"+f+"/receivers",data:p},y):Promise.reject(l)},allowedPayer:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];return f?c.post({url:a+"/"+f+"/allowed_payers",data:p},y):Promise.reject(l)},deleteAllowedPayer:function(f,p,y){return f?p?c.delete({url:a+"/"+f+"/allowed_payers/"+p},y):Promise.reject("allowed payer id is mandatory"):Promise.reject(l)}}},Fp}var Hp,Pb;function TU(){if(Pb)return Hp;Pb=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=er(),t=e.normalizeDate;return Hp=function(a){var l="/invoices",c="Invoice ID is mandatory";return{create:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=l;return a.post({url:y,data:f},p)},edit:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],_=l+"/"+f;return f?a.patch({url:_,data:p},y):Promise.reject("Invoice ID is mandatory")},issue:function(f,p){if(!f)return Promise.reject(c);var y=l+"/"+f+"/issue";return a.post({url:y},p)},delete:function(f,p){if(!f)return Promise.reject(c);var y=l+"/"+f;return a.delete({url:y},p)},cancel:function(f,p){if(!f)return Promise.reject(c);var y=l+"/"+f+"/cancel";return a.post({url:y},p)},fetch:function(f,p){if(!f)return Promise.reject(c);var y=l+"/"+f;return a.get({url:y},p)},all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=f.from,_=f.to,E=f.count,A=f.skip,D=l;return y&&(y=t(y)),_&&(_=t(_)),E=Number(E)||10,A=Number(A)||0,a.get({url:D,data:n({},f,{from:y,to:_,count:E,skip:A})},p)},notifyBy:function(f,p,y){if(!f)return Promise.reject(c);if(!p)return Promise.reject("`medium` is required");var _=l+"/"+f+"/notify_by/"+p;return a.post({url:_},y)}}},Hp}var $p,Mb;function bU(){return Mb||(Mb=1,$p=function(n){var e="/iins";return{fetch:function(i,a){return n.get({url:e+"/"+i},a)},all:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments[1];return n.get({url:e+"/list",data:i},a)}}}),$p}var Gp,Lb;function wU(){if(Lb)return Gp;Lb=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=er(),t=e.normalizeDate;return Gp=function(a){var l="/payment_links",c="Payment Link ID is mandatory";return{create:function(f,p){var y=l;return a.post({url:y,data:f},p)},cancel:function(f,p){if(!f)return Promise.reject(c);var y=l+"/"+f+"/cancel";return a.post({url:y},p)},fetch:function(f,p){if(!f)return Promise.reject(c);var y=l+"/"+f;return a.get({url:y},p)},all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=f.from,_=f.to,E=f.count,A=f.skip,D=l;return y&&(y=t(y)),_&&(_=t(_)),E=Number(E)||10,A=Number(A)||0,a.get({url:D,data:n({},f,{from:y,to:_,count:E,skip:A})},p)},edit:function(f,p,y){return a.patch({url:l+"/"+f,data:p},y)},notifyBy:function(f,p,y){if(!f)return Promise.reject(c);if(!p)return Promise.reject("`medium` is required");var _=l+"/"+f+"/notify_by/"+p;return a.post({url:_},y)}}},Gp}var Kp,Ub;function RU(){if(Ub)return Kp;Ub=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=er(),t=e.normalizeDate;return Kp=function(a){var l="/plans",c="Plan ID is mandatory";return{create:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=l;return a.post({url:y,data:f},p)},fetch:function(f,p){if(!f)return Promise.reject(c);var y=l+"/"+f;return a.get({url:y},p)},all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=f.from,_=f.to,E=f.count,A=f.skip,D=l;return y&&(y=t(y)),_&&(_=t(_)),E=Number(E)||10,A=Number(A)||0,a.get({url:D,data:n({},f,{from:y,to:_,count:E,skip:A})},p)}}},Kp}var Qp,Vb;function SU(){return Vb||(Vb=1,Qp=function(n){var e="/accounts";return{requestProductConfiguration:function(i,a,l){return n.post({version:"v2",url:e+"/"+i+"/products",data:a},l)},edit:function(i,a,l,c){return n.patch({version:"v2",url:e+"/"+i+"/products/"+a,data:l},c)},fetch:function(i,a,l){return n.get({version:"v2",url:e+"/"+i+"/products/"+a},l)},fetchTnc:function(i,a){return n.get({version:"v2",url:"/products/"+i+"/tnc"},a)}}}),Qp}var Yp,jb;function AU(){if(jb)return Yp;jb=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=er(),t=e.normalizeDate;return Yp=function(a){var l="/subscriptions",c="Subscription ID is mandatory";return{create:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=l;return a.post({url:y,data:f},p)},fetch:function(f,p){if(!f)return Promise.reject(c);var y=l+"/"+f;return a.get({url:y},p)},update:function(f,p,y){var _=l+"/"+f;return f?a.patch({url:_,data:p},y):Promise.reject(c)},pendingUpdate:function(f,p){var y=l+"/"+f+"/retrieve_scheduled_changes";return f?a.get({url:y},p):Promise.reject(c)},cancelScheduledChanges:function(f,p){var y=l+"/"+f+"/cancel_scheduled_changes";return f?a.post({url:y},p):Promise.reject("Subscription Id is mandatory")},pause:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],_=l+"/"+f+"/pause";return f?a.post({url:_,data:p},y):Promise.reject("Subscription Id is mandatory")},resume:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],_=l+"/"+f+"/resume";return f?a.post({url:_,data:p},y):Promise.reject("Subscription Id is mandatory")},deleteOffer:function(f,p,y){var _=l+"/"+f+"/"+p;return f?a.delete({url:_},y):Promise.reject("Subscription Id is mandatory")},all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1],y=f.from,_=f.to,E=f.count,A=f.skip,D=l;return y&&(y=t(y)),_&&(_=t(_)),E=Number(E)||10,A=Number(A)||0,a.get({url:D,data:n({},f,{from:y,to:_,count:E,skip:A})},p)},cancel:function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=arguments[2],_=l+"/"+f+"/cancel";return f?a.post(n({url:_},p&&{data:{cancel_at_cycle_end:1}}),y):Promise.reject(c)},createAddon:function(f,p,y){var _=l+"/"+f+"/addons";return f?a.post({url:_,data:n({},p)},y):Promise.reject(c)},createRegistrationLink:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments[1];return a.post({url:"/subscription_registration/auth_links",data:f},p)}}},Yp}var Xp,Bb;function CU(){if(Bb)return Xp;Bb=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=er(),t=e.normalizeDate;return Xp=function(i){var a="/addons",l="Addon ID is mandatory";return{fetch:function(h,f){if(!h)return Promise.reject(l);var p=a+"/"+h;return i.get({url:p},f)},delete:function(h,f){if(!h)return Promise.reject(l);var p=a+"/"+h;return i.delete({url:p},f)},all:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments[1],p=h.from,y=h.to,_=h.count,E=h.skip,A=a;return p&&(p=t(p)),y&&(y=t(y)),_=Number(_)||10,E=Number(E)||0,i.get({url:A,data:n({},h,{from:p,to:y,count:_,skip:E})},f)}}},Xp}var Wp,zb;function IU(){if(zb)return Wp;zb=1;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};return Wp=function(e){var t="/settlements";return{createOndemandSettlement:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=t+"/ondemand";return e.post({url:c,data:a},l)},all:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=a.from,h=a.to,f=a.count,p=a.skip,y=t;return e.get({url:y,data:n({},a,{from:c,to:h,count:f,skip:p})},l)},fetch:function(a,l){return a?e.get({url:t+"/"+a},l):Promise.reject("settlement Id is mandatroy")},fetchOndemandSettlementById:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments[2],h=void 0;return a?(l.hasOwnProperty("expand[]")&&(h={"expand[]":l["expand[]"]}),e.get({url:t+"/ondemand/"+a,data:{expand:h}},c)):Promise.reject("settlment Id is mandatroy")},fetchAllOndemandSettlement:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=void 0,h=a.from,f=a.to,p=a.count,y=a.skip,_=t+"/ondemand";return a.hasOwnProperty("expand[]")&&(c={"expand[]":a["expand[]"]}),e.get({url:_,data:n({},a,{from:h,to:f,count:p,skip:y,expand:c})},l)},reports:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=a.day,h=a.count,f=a.skip,p=t+"/recon/combined";return e.get({url:p,data:n({},a,{day:c,count:h,skip:f})},l)}}},Wp}var Zp,qb;function OU(){if(qb)return Zp;qb=1;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};return Zp=function(e){var t="/payments/qr_codes";return{create:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=t;return e.post({url:c,data:a},l)},all:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=a.from,h=a.to,f=a.count,p=a.skip,y=t;return e.get({url:y,data:n({},a,{from:c,to:h,count:f,skip:p})},l)},fetchAllPayments:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments[2],h=l.from,f=l.to,p=l.count,y=l.skip,_=t+"/"+a+"/payments";return e.get({url:_,data:n({},l,{from:h,to:f,count:p,skip:y})},c)},fetch:function(a,l){return a?e.get({url:t+"/"+a},l):Promise.reject("qrCode Id is mandatroy")},close:function(a,l){if(!a)return Promise.reject("qrCode Id is mandatroy");var c=t+"/"+a+"/close";return e.post({url:c},l)}}},Zp}var Jp,Fb;function xU(){if(Fb)return Jp;Fb=1;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};return Jp=function(e){return{create:function(i,a){return e.post({url:"/fund_accounts",data:n({},i)},a)},fetch:function(i,a){return i?e.get({url:"/fund_accounts?customer_id="+i},a):Promise.reject("Customer Id is mandatroy")}}},Jp}var eg,Hb;function NU(){if(Hb)return eg;Hb=1;var n=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])}return a};function e(a,l){var c={};for(var h in a)l.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(a,h)&&(c[h]=a[h]);return c}var t=er(),i=t.normalizeDate;return eg=function(a){return{all:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=c.from,p=c.to,y=c.count,_=c.skip,E=c.authorized,A=c.receipt;return f&&(f=i(f)),p&&(p=i(p)),y=Number(y)||10,_=Number(_)||0,a.get({url:"/items",data:{from:f,to:p,count:y,skip:_,authorized:E,receipt:A}},h)},fetch:function(c,h){if(!c)throw new Error("`item_id` is mandatory");return a.get({url:"/items/"+c},h)},create:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=c.amount,p=c.currency,y=e(c,["amount","currency"]);if(p=p||"INR",!f)throw new Error("`amount` is mandatory");var _=Object.assign(n({currency:p,amount:f},y));return a.post({url:"/items",data:_},h)},edit:function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments[2];if(!c)throw new Error("`item_id` is mandatory");var p="/items/"+c;return a.patch({url:p,data:h},f)},delete:function(c,h){if(!c)throw new Error("`item_id` is mandatory");return a.delete({url:"/items/"+c},h)}}},eg}var tg,$b;function DU(){return $b||($b=1,tg=function(n){return{fetch:function(t,i){if(!t)throw new Error("`card_id` is mandatory");return n.get({url:"/cards/"+t},i)},requestCardReference:function(t,i){return n.post({url:"/cards/fingerprints",data:t},i)}}}),tg}var ng,Gb;function kU(){if(Gb)return ng;Gb=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=er(),t=e.normalizeDate;return ng=function(i){var a="/accounts";return{create:function(c,h,f){var p={url:"/webhooks",data:c};return h&&(p={version:"v2",url:a+"/"+h+"/webhooks",data:c}),i.post(p,f)},edit:function(c,h,f,p){return f&&h?i.patch({version:"v2",url:a+"/"+f+"/webhooks/"+h,data:c},p):i.put({url:"/webhooks/"+h,data:c},p)},all:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=arguments[2],p=c.from,y=c.to,_=c.count,E=c.skip;p&&(p=t(p)),y&&(y=t(y)),_=Number(_)||10,E=Number(E)||0;var A=n({},c,{from:p,to:y,count:_,skip:E});return h?i.get({version:"v2",url:a+"/"+h+"/webhooks/",data:A},f):i.get({url:"/webhooks",data:A},f)},fetch:function(c,h,f){return i.get({version:"v2",url:a+"/"+h+"/webhooks/"+c},f)},delete:function(c,h,f){return i.delete({version:"v2",url:a+"/"+h+"/webhooks/"+c},f)}}},ng}var rg,Kb;function PU(){if(Kb)return rg;Kb=1;var n=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t};function e(t,i){var a={};for(var l in t)i.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(t,l)&&(a[l]=t[l]);return a}return rg=function(t){var i="/documents";return{create:function(l,c){var h=l.file,f=e(l,["file"]);return t.postFormData({url:""+i,formData:n({file:h.value},f)},c)},fetch:function(l,c){return t.get({url:i+"/"+l},c)}}},rg}var ig,Qb;function MU(){return Qb||(Qb=1,ig=function(n){var e="/disputes";return{fetch:function(i,a){return n.get({url:e+"/"+i},a)},all:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments[1],l=i.count,c=i.skip;return l=Number(l)||10,c=Number(c)||0,n.get({url:""+e,data:{count:l,skip:c}},a)},accept:function(i,a){return n.post({url:e+"/"+i+"/accept"},a)},contest:function(i,a,l){return n.patch({url:e+"/"+i+"/contest",data:a},l)}}}),ig}var sg,Yb;function LU(){if(Yb)return sg;Yb=1;var n=function(){function h(f,p){for(var y=0;y<p.length;y++){var _=p[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}return function(f,p,y){return p&&h(f.prototype,p),y&&h(f,y),f}}();function e(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}var t=uU(),i=fU,a=er(),l=a.validateWebhookSignature,c=function(){n(h,null,[{key:"validateWebhookSignature",value:function(){return l.apply(void 0,arguments)}}]);function h(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e(this,h);var p=f.key_id,y=f.key_secret,_=f.headers;if(!p)throw new Error("`key_id` is mandatory");this.key_id=p,this.key_secret=y,this.api=new t({hostUrl:"https://api.razorpay.com",ua:"razorpay-node@"+h.VERSION,key_id:p,key_secret:y,headers:_}),this.addResources()}return n(h,[{key:"addResources",value:function(){Object.assign(this,{accounts:hU()(this.api),stakeholders:dU()(this.api),payments:mU()(this.api),refunds:pU()(this.api),orders:gU()(this.api),customers:yU()(this.api),transfers:vU()(this.api),tokens:_U()(this.api),virtualAccounts:EU()(this.api),invoices:TU()(this.api),iins:bU()(this.api),paymentLink:wU()(this.api),plans:RU()(this.api),products:SU()(this.api),subscriptions:AU()(this.api),addons:CU()(this.api),settlements:IU()(this.api),qrCode:OU()(this.api),fundAccount:xU()(this.api),items:NU()(this.api),cards:DU()(this.api),webhooks:kU()(this.api),documents:PU()(this.api),disputes:MU()(this.api)})}}]),h}();return c.VERSION=i.version,sg=c,sg}LU();function bA(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=bA(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Io(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=bA(n))&&(i&&(i+=" "),i+=e);return i}function UU(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}UU(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Mc=n=>typeof n=="number"&&!isNaN(n),Mo=n=>typeof n=="string",js=n=>typeof n=="function",VU=n=>Mo(n)||Mc(n),Fg=n=>Mo(n)||js(n)?n:null,jU=(n,e)=>n===!1||Mc(n)&&n>0?n:e,Hg=n=>S.isValidElement(n)||Mo(n)||js(n)||Mc(n);function BU(n,e,t=300){let{scrollHeight:i,style:a}=n;requestAnimationFrame(()=>{a.minHeight="initial",a.height=i+"px",a.transition=`all ${t}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,t)})})}function zU({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:a=300}){return function({children:l,position:c,preventExitTransition:h,done:f,nodeRef:p,isIn:y,playToast:_}){let E=t?`${n}--${c}`:n,A=t?`${e}--${c}`:e,D=S.useRef(0);return S.useLayoutEffect(()=>{let q=p.current,L=E.split(" "),Y=$=>{$.target===p.current&&(_(),q.removeEventListener("animationend",Y),q.removeEventListener("animationcancel",Y),D.current===0&&$.type!=="animationcancel"&&q.classList.remove(...L))};q.classList.add(...L),q.addEventListener("animationend",Y),q.addEventListener("animationcancel",Y)},[]),S.useEffect(()=>{let q=p.current,L=()=>{q.removeEventListener("animationend",L),i?BU(q,f,a):f()};y||(h?L():(D.current=1,q.className+=` ${A}`,q.addEventListener("animationend",L)))},[y]),ct.createElement(ct.Fragment,null,l)}}function Xb(n,e){return{content:wA(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function wA(n,e,t=!1){return S.isValidElement(n)&&!Mo(n.type)?S.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):js(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function qU({closeToast:n,theme:e,ariaLabel:t="close"}){return ct.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},ct.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ct.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function FU({delay:n,isRunning:e,closeToast:t,type:i="default",hide:a,className:l,controlledProgress:c,progress:h,rtl:f,isIn:p,theme:y}){let _=a||c&&h===0,E={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};c&&(E.transform=`scaleX(${h})`);let A=Io("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),D=js(l)?l({rtl:f,type:i,defaultClassName:A}):Io(A,l),q={[c&&h>=1?"onTransitionEnd":"onAnimationEnd"]:c&&h<1?null:()=>{p&&t()}};return ct.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},ct.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${i}`}),ct.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:D,style:E,...q}))}var HU=1,RA=()=>`${HU++}`;function $U(n,e,t){let i=1,a=0,l=[],c=[],h=e,f=new Map,p=new Set,y=$=>(p.add($),()=>p.delete($)),_=()=>{c=Array.from(f.values()),p.forEach($=>$())},E=({containerId:$,toastId:K,updateId:ie})=>{let le=$?$!==n:n!==1,me=f.has(K)&&ie==null;return le||me},A=($,K)=>{f.forEach(ie=>{var le;(K==null||K===ie.props.toastId)&&((le=ie.toggle)==null||le.call(ie,$))})},D=$=>{var K,ie;(ie=(K=$.props)==null?void 0:K.onClose)==null||ie.call(K,$.removalReason),$.isActive=!1},q=$=>{if($==null)f.forEach(D);else{let K=f.get($);K&&D(K)}_()},L=()=>{a-=l.length,l=[]},Y=$=>{var K,ie;let{toastId:le,updateId:me}=$.props,V=me==null;$.staleId&&f.delete($.staleId),$.isActive=!0,f.set(le,$),_(),t(Xb($,V?"added":"updated")),V&&((ie=(K=$.props).onOpen)==null||ie.call(K))};return{id:n,props:h,observe:y,toggle:A,removeToast:q,toasts:f,clearQueue:L,buildToast:($,K)=>{if(E(K))return;let{toastId:ie,updateId:le,data:me,staleId:V,delay:C}=K,O=le==null;O&&a++;let M={...h,style:h.toastStyle,key:i++,...Object.fromEntries(Object.entries(K).filter(([H,U])=>U!=null)),toastId:ie,updateId:le,data:me,isIn:!1,className:Fg(K.className||h.toastClassName),progressClassName:Fg(K.progressClassName||h.progressClassName),autoClose:K.isLoading?!1:jU(K.autoClose,h.autoClose),closeToast(H){f.get(ie).removalReason=H,q(ie)},deleteToast(){let H=f.get(ie);if(H!=null){if(t(Xb(H,"removed")),f.delete(ie),a--,a<0&&(a=0),l.length>0){Y(l.shift());return}_()}}};M.closeButton=h.closeButton,K.closeButton===!1||Hg(K.closeButton)?M.closeButton=K.closeButton:K.closeButton===!0&&(M.closeButton=Hg(h.closeButton)?h.closeButton:!0);let B={content:$,props:M,staleId:V};h.limit&&h.limit>0&&a>h.limit&&O?l.push(B):Mc(C)?setTimeout(()=>{Y(B)},C):Y(B)},setProps($){h=$},setToggle:($,K)=>{let ie=f.get($);ie&&(ie.toggle=K)},isToastActive:$=>{var K;return(K=f.get($))==null?void 0:K.isActive},getSnapshot:()=>c}}var Zn=new Map,vc=[],$g=new Set,GU=n=>$g.forEach(e=>e(n)),SA=()=>Zn.size>0;function KU(){vc.forEach(n=>CA(n.content,n.options)),vc=[]}var QU=(n,{containerId:e})=>{var t;return(t=Zn.get(e||1))==null?void 0:t.toasts.get(n)};function AA(n,e){var t;if(e)return!!((t=Zn.get(e))!=null&&t.isToastActive(n));let i=!1;return Zn.forEach(a=>{a.isToastActive(n)&&(i=!0)}),i}function YU(n){if(!SA()){vc=vc.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||VU(n))Zn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Zn.get(n.containerId);e?e.removeToast(n.id):Zn.forEach(t=>{t.removeToast(n.id)})}}var XU=(n={})=>{Zn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function CA(n,e){Hg(n)&&(SA()||vc.push({content:n,options:e}),Zn.forEach(t=>{t.buildToast(n,e)}))}function WU(n){var e;(e=Zn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function IA(n,e){Zn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function ZU(n){let e=n.containerId||1;return{subscribe(t){let i=$U(e,n,GU);Zn.set(e,i);let a=i.observe(t);return KU(),()=>{a(),Zn.delete(e)}},setProps(t){var i;(i=Zn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=Zn.get(e))==null?void 0:t.getSnapshot()}}}function JU(n){return $g.add(n),()=>{$g.delete(n)}}function eV(n){return n&&(Mo(n.toastId)||Mc(n.toastId))?n.toastId:RA()}function Lc(n,e){return CA(n,e),e.toastId}function od(n,e){return{...e,type:e&&e.type||n,toastId:eV(e)}}function ld(n){return(e,t)=>Lc(e,od(n,t))}function Rt(n,e){return Lc(n,od("default",e))}Rt.loading=(n,e)=>Lc(n,od("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function tV(n,{pending:e,error:t,success:i},a){let l;e&&(l=Mo(e)?Rt.loading(e,a):Rt.loading(e.render,{...a,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(p,y,_)=>{if(y==null){Rt.dismiss(l);return}let E={type:p,...c,...a,data:_},A=Mo(y)?{render:y}:y;return l?Rt.update(l,{...E,...A}):Rt(A.render,{...E,...A}),_},f=js(n)?n():n;return f.then(p=>h("success",i,p)).catch(p=>h("error",t,p)),f}Rt.promise=tV;Rt.success=ld("success");Rt.info=ld("info");Rt.error=ld("error");Rt.warning=ld("warning");Rt.warn=Rt.warning;Rt.dark=(n,e)=>Lc(n,od("default",{theme:"dark",...e}));function nV(n){YU(n)}Rt.dismiss=nV;Rt.clearWaitingQueue=XU;Rt.isActive=AA;Rt.update=(n,e={})=>{let t=QU(n,e);if(t){let{props:i,content:a}=t,l={delay:100,...i,...e,toastId:e.toastId||n,updateId:RA()};l.toastId!==n&&(l.staleId=n);let c=l.render||a;delete l.render,Lc(c,l)}};Rt.done=n=>{Rt.update(n,{progress:1})};Rt.onChange=JU;Rt.play=n=>IA(!0,n);Rt.pause=n=>IA(!1,n);function rV(n){var e;let{subscribe:t,getSnapshot:i,setProps:a}=S.useRef(ZU(n)).current;a(n);let l=(e=S.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function c(h){if(!l)return[];let f=new Map;return n.newestOnTop&&l.reverse(),l.forEach(p=>{let{position:y}=p.props;f.has(y)||f.set(y,[]),f.get(y).push(p)}),Array.from(f,p=>h(p[0],p[1]))}return{getToastToRender:c,isToastActive:AA,count:l==null?void 0:l.length}}function iV(n){let[e,t]=S.useState(!1),[i,a]=S.useState(!1),l=S.useRef(null),c=S.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:p,onClick:y,closeOnClick:_}=n;WU({id:n.toastId,containerId:n.containerId,fn:t}),S.useEffect(()=>{if(n.pauseOnFocusLoss)return E(),()=>{A()}},[n.pauseOnFocusLoss]);function E(){document.hasFocus()||Y(),window.addEventListener("focus",L),window.addEventListener("blur",Y)}function A(){window.removeEventListener("focus",L),window.removeEventListener("blur",Y)}function D(V){if(n.draggable===!0||n.draggable===V.pointerType){$();let C=l.current;c.canCloseOnClick=!0,c.canDrag=!0,C.style.transition="none",n.draggableDirection==="x"?(c.start=V.clientX,c.removalDistance=C.offsetWidth*(n.draggablePercent/100)):(c.start=V.clientY,c.removalDistance=C.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function q(V){let{top:C,bottom:O,left:M,right:B}=l.current.getBoundingClientRect();V.nativeEvent.type!=="touchend"&&n.pauseOnHover&&V.clientX>=M&&V.clientX<=B&&V.clientY>=C&&V.clientY<=O?Y():L()}function L(){t(!0)}function Y(){t(!1)}function $(){c.didMove=!1,document.addEventListener("pointermove",ie),document.addEventListener("pointerup",le)}function K(){document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",le)}function ie(V){let C=l.current;if(c.canDrag&&C){c.didMove=!0,e&&Y(),n.draggableDirection==="x"?c.delta=V.clientX-c.start:c.delta=V.clientY-c.start,c.start!==V.clientX&&(c.canCloseOnClick=!1);let O=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;C.style.transform=`translate3d(${O},0)`,C.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function le(){K();let V=l.current;if(c.canDrag&&c.didMove&&V){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),n.closeToast(!0),n.collapseAll();return}V.style.transition="transform 0.2s, opacity 0.2s",V.style.removeProperty("transform"),V.style.removeProperty("opacity")}}let me={onPointerDown:D,onPointerUp:q};return h&&f&&(me.onMouseEnter=Y,n.stacked||(me.onMouseLeave=L)),_&&(me.onClick=V=>{y&&y(V),c.canCloseOnClick&&p(!0)}),{playToast:L,pauseToast:Y,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:me}}var sV=typeof window<"u"?S.useLayoutEffect:S.useEffect,ud=({theme:n,type:e,isLoading:t,...i})=>ct.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function aV(n){return ct.createElement(ud,{...n},ct.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function oV(n){return ct.createElement(ud,{...n},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function lV(n){return ct.createElement(ud,{...n},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function uV(n){return ct.createElement(ud,{...n},ct.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function cV(){return ct.createElement("div",{className:"Toastify__spinner"})}var Gg={info:oV,warning:aV,success:lV,error:uV,spinner:cV},fV=n=>n in Gg;function hV({theme:n,type:e,isLoading:t,icon:i}){let a=null,l={theme:n,type:e};return i===!1||(js(i)?a=i({...l,isLoading:t}):S.isValidElement(i)?a=S.cloneElement(i,l):t?a=Gg.spinner():fV(e)&&(a=Gg[e](l))),a}var dV=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:a,playToast:l}=iV(n),{closeButton:c,children:h,autoClose:f,onClick:p,type:y,hideProgressBar:_,closeToast:E,transition:A,position:D,className:q,style:L,progressClassName:Y,updateId:$,role:K,progress:ie,rtl:le,toastId:me,deleteToast:V,isIn:C,isLoading:O,closeOnClick:M,theme:B,ariaLabel:H}=n,U=Io("Toastify__toast",`Toastify__toast-theme--${B}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":le},{"Toastify__toast--close-on-click":M}),We=js(q)?q({rtl:le,position:D,type:y,defaultClassName:U}):Io(U,q),Ke=hV(n),pe=!!ie||!f,Re={closeToast:E,type:y,theme:B},ge=null;return c===!1||(js(c)?ge=c(Re):S.isValidElement(c)?ge=S.cloneElement(c,Re):ge=qU(Re)),ct.createElement(A,{isIn:C,done:V,position:D,preventExitTransition:t,nodeRef:i,playToast:l},ct.createElement("div",{id:me,tabIndex:0,onClick:p,"data-in":C,className:We,...a,style:L,ref:i,...C&&{role:K,"aria-label":H}},Ke!=null&&ct.createElement("div",{className:Io("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},Ke),wA(h,n,!e),ge,!n.customProgressBar&&ct.createElement(FU,{...$&&!pe?{key:`p-${$}`}:{},rtl:le,theme:B,delay:f,isRunning:e,isIn:C,closeToast:E,hide:_,type:y,className:Y,controlledProgress:pe,progress:ie||0})))},mV=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),pV=zU(mV("bounce",!0)),gV={position:"top-right",transition:pV,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function yV(n){let e={...gV,...n},t=n.stacked,[i,a]=S.useState(!0),l=S.useRef(null),{getToastToRender:c,isToastActive:h,count:f}=rV(e),{className:p,style:y,rtl:_,containerId:E,hotKeys:A}=e;function D(L){let Y=Io("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":_});return js(p)?p({position:L,rtl:_,defaultClassName:Y}):Io(Y,Fg(p))}function q(){t&&(a(!0),Rt.play())}return sV(()=>{var L;if(t){let Y=l.current.querySelectorAll('[data-in="true"]'),$=12,K=(L=e.position)==null?void 0:L.includes("top"),ie=0,le=0;Array.from(Y).reverse().forEach((me,V)=>{let C=me;C.classList.add("Toastify__toast--stacked"),V>0&&(C.dataset.collapsed=`${i}`),C.dataset.pos||(C.dataset.pos=K?"top":"bot");let O=ie*(i?.2:1)+(i?0:$*V);C.style.setProperty("--y",`${K?O:O*-1}px`),C.style.setProperty("--g",`${$}`),C.style.setProperty("--s",`${1-(i?le:0)}`),ie+=C.offsetHeight,le+=.025})}},[i,f,t]),S.useEffect(()=>{function L(Y){var $;let K=l.current;A(Y)&&(($=K.querySelector('[tabIndex="0"]'))==null||$.focus(),a(!1),Rt.pause()),Y.key==="Escape"&&(document.activeElement===K||K!=null&&K.contains(document.activeElement))&&(a(!0),Rt.play())}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[A]),ct.createElement("section",{ref:l,className:"Toastify",id:E,onMouseEnter:()=>{t&&(a(!1),Rt.pause())},onMouseLeave:q,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((L,Y)=>{let $=Y.length?{...y}:{...y,pointerEvents:"none"};return ct.createElement("div",{tabIndex:-1,className:D(L),"data-stacked":t,style:$,key:`c-${L}`},Y.map(({content:K,props:ie})=>ct.createElement(dV,{...ie,stacked:t,collapseAll:q,isIn:h(ie.toastId,ie.containerId),key:`t-${ie.key}`},K)))}))}const OA=S.createContext(null),vV={apiKey:"AIzaSyBB5YbvvoBIG3HtqgAx8iRBSqR-8EvhAYM",authDomain:"hotel-bites.firebaseapp.com",projectId:"hotel-bites",storageBucket:"hotel-bites.firebasestorage.app",messagingSenderId:"1088802123792",appId:"1:1088802123792:web:e6e2ba513ce6847c6a1a95"},Jn=()=>S.useContext(OA),ov=Fw(vV),Qf=xk(ov),Wn=AM(ov),Wb=eU(ov),_V=n=>{const e=(C,O)=>pD(Qf,C,O),t=(C,O)=>gD(Qf,C,O),i=async(C,O)=>{var H;let M="";if(C&&(C!=null&&C.productImage)){const{productImage:U}=C,We=Eb(Wb,`uploads/images/${Date.now()}-${U.name}`);M=await ZL(We,U),C={...C,productImage:((H=M==null?void 0:M.ref)==null?void 0:H.fullPath)||""}}let B;return B=await mb(ji(Wn,O),{...C,userId:($==null?void 0:$.uid)||""}),B},a=async C=>{const{productId:O}=C,M=ji(Wn,"products",O,"variants");return await mb(M,{...C,userId:($==null?void 0:$.uid)||""})},l=async C=>await Ea(ji(Wn,C)),c=async(C,O,M)=>{const B=ji(Wn,C,O,M);return await Ea(B)},h=async(C,O)=>{const M=Il(Wn,O,C);return await Ip(M)},f=async()=>{try{const M=(await Ea(ji(Wn,"products"))).docs.map(H=>({id:H.id,...H.data()})).map(async H=>{const U=Hf(ji(Wn,`products/${H.id}/variants`),fb(1)),We=await Ea(U),Ke=We.docs.length>0?{id:We.docs[0].id,...We.docs[0].data()}:null;return{...H,firstVariant:Ke}});return await Promise.all(M)}catch(C){console.error("Error fetching products with variants:",C)}},p=async(C,O)=>{try{if(!C||!O)throw new Error("Collection name and document ID are required.");const M=Il(Wn,C,O);await FM(M)}catch(M){console.error("Error deleting document:",M)}},y=async C=>{try{const O=ji(Wn,C),M=Hf(O,$f("userId","==",$.uid)),H=(await Ea(M)).docs.map(ge=>({id:ge.id,...ge.data()})),U=H.map(ge=>Ip(Il(Wn,"products",ge.productId))),We=H.map(ge=>Ip(Il(Wn,`products/${ge.productId}/variants`,ge.variantId))),Ke=await Promise.all(U),pe=await Promise.all(We);return H.map((ge,Ge)=>({...ge,product:Ke[Ge].exists()?{id:Ke[Ge].id,...Ke[Ge].data()}:null,variant:pe[Ge].exists()?{id:pe[Ge].id,...pe[Ge].data()}:null}))}catch(O){console.error("Error fetching cart details:",O)}},_=async(C,O,M)=>{try{const B=ji(Wn,C),H=Hf(B,$f("productId","==",O),$f("variantId","==",M),fb(1)),U=await Ea(H);return U.empty?null:U.docs[0]}catch(B){return console.error("Error checking cart item:",B),null}},E=async()=>{try{if(!($!=null&&$.uid))return console.error("User is not logged in"),[];const C=ji(Wn,"orders"),O=Hf(C,$f("userId","==",$.uid));return(await Ea(O)).docs.map(H=>({id:H.id,...H.data()}))}catch(C){return console.error("Error fetching orders:",C),[]}},A=async()=>{try{if(!($!=null&&$.uid))return console.error("User is not logged in"),[];const C=ji(Wn,"orders");return(await Ea(C)).docs.map(B=>({id:B.id,...B.data()}))}catch(C){return console.error("Error fetching orders:",C),[]}},D=C=>JL(Eb(Wb,C)),q=C=>{Rt(C)},L=async(C,O)=>{try{if(!C||!O)throw new Error("Order ID and new status are required.");console.log("BK orderId || !newStatus",C,O);const M=Il(Wn,"orders",C);await qM(M,{status:O}),console.log(`Order ${C} status updated to ${O}`)}catch(M){console.error("Error updating order status:",M)}},Y=async()=>{},[$,K]=S.useState(null),[ie,le]=S.useState(!1);S.useEffect(()=>{_D(Qf,C=>{K(C||null)})},[]);const me=!!$,V=async()=>{try{await Qf.signOut(),console.log("User signed out successfully"),K(null)}catch(C){console.error("Sign Out Error",C)}};return S.useEffect(()=>{console.log("BK user",$,$==null?void 0:$.uid),$&&($==null?void 0:$.uid)=="ukEdfieQ7FaI4rpITgxbtWyBuZZ2"?le(!0):ie&&le(!1)},[$]),P.jsx(OA.Provider,{value:{isLoggedIn:me,user:$,isAdmin:ie,singinUserWithEmailAndPass:t,signupUserWithEmailAndPassword:e,getDocById:h,getDocuments:l,handleCreateNewDoc:i,handleCreateNewVariant:a,getSubCollectionAllDocuments:c,removeDocumentWithId:p,getImageURL:D,fetchOrders:E,fetchAllOrders:A,updateOrderStatus:L,fetchProductsWithFirstVariant:f,fetchCartWithDetails:y,logoutUser:V,displayToastMessage:q,checkIsItemAlreadyInCart:_,createOrder:Y},children:n.children})},EV=["as","disabled"];function TV(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function bV(n){return!n||n.trim()==="#"}function lv({tagName:n,disabled:e,href:t,target:i,rel:a,role:l,onClick:c,tabIndex:h=0,type:f}){n||(t!=null||i!=null||a!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},p];const y=E=>{if((e||n==="a"&&bV(t))&&E.preventDefault(),e){E.stopPropagation();return}c==null||c(E)},_=E=>{E.key===" "&&(E.preventDefault(),y(E))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:h,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?a:void 0,onClick:y,onKeyDown:_},p]}const xA=S.forwardRef((n,e)=>{let{as:t,disabled:i}=n,a=TV(n,EV);const[l,{tagName:c}]=lv(Object.assign({tagName:t,disabled:i},a));return P.jsx(c,Object.assign({},a,l,{ref:e}))});xA.displayName="Button";const Yi=S.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:i,active:a=!1,disabled:l=!1,className:c,...h},f)=>{const p=He(e,"btn"),[y,{tagName:_}]=lv({tagName:n,disabled:l,...h}),E=_;return P.jsx(E,{...y,...h,ref:f,disabled:l,className:Ue(c,p,a&&"active",t&&`${p}-${t}`,i&&`${p}-${i}`,h.href&&l&&"disabled")})});Yi.displayName="Button";const uv=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=He(e,"card-body"),P.jsx(t,{ref:a,className:Ue(n,e),...i})));uv.displayName="CardBody";const NA=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=He(e,"card-footer"),P.jsx(t,{ref:a,className:Ue(n,e),...i})));NA.displayName="CardFooter";const cv=S.createContext(null);cv.displayName="CardHeaderContext";const DA=S.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},a)=>{const l=He(n,"card-header"),c=S.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return P.jsx(cv.Provider,{value:c,children:P.jsx(t,{ref:a,...i,className:Ue(e,l)})})});DA.displayName="CardHeader";const kA=S.forwardRef(({bsPrefix:n,className:e,variant:t,as:i="img",...a},l)=>{const c=He(n,"card-img");return P.jsx(i,{ref:l,className:Ue(t?`${c}-${t}`:c,e),...a})});kA.displayName="CardImg";const PA=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=He(e,"card-img-overlay"),P.jsx(t,{ref:a,className:Ue(n,e),...i})));PA.displayName="CardImgOverlay";const MA=S.forwardRef(({className:n,bsPrefix:e,as:t="a",...i},a)=>(e=He(e,"card-link"),P.jsx(t,{ref:a,className:Ue(n,e),...i})));MA.displayName="CardLink";const cd=n=>S.forwardRef((e,t)=>P.jsx("div",{...e,ref:t,className:Ue(e.className,n)})),wV=cd("h6"),LA=S.forwardRef(({className:n,bsPrefix:e,as:t=wV,...i},a)=>(e=He(e,"card-subtitle"),P.jsx(t,{ref:a,className:Ue(n,e),...i})));LA.displayName="CardSubtitle";const UA=S.forwardRef(({className:n,bsPrefix:e,as:t="p",...i},a)=>(e=He(e,"card-text"),P.jsx(t,{ref:a,className:Ue(n,e),...i})));UA.displayName="CardText";const RV=cd("h5"),VA=S.forwardRef(({className:n,bsPrefix:e,as:t=RV,...i},a)=>(e=He(e,"card-title"),P.jsx(t,{ref:a,className:Ue(n,e),...i})));VA.displayName="CardTitle";const jA=S.forwardRef(({bsPrefix:n,className:e,bg:t,text:i,border:a,body:l=!1,children:c,as:h="div",...f},p)=>{const y=He(n,"card");return P.jsx(h,{ref:p,...f,className:Ue(e,y,t&&`bg-${t}`,i&&`text-${i}`,a&&`border-${a}`),children:l?P.jsx(uv,{children:c}):c})});jA.displayName="Card";const Pt=Object.assign(jA,{Img:kA,Title:VA,Subtitle:LA,Body:uv,Link:MA,Text:UA,Header:DA,Footer:NA,ImgOverlay:PA}),SV=n=>{const{id:e,name:t,description:i,status:a,firstVariant:l,productImage:c}=n,h=Jn(),f=Kr(),[p,y]=S.useState(null);S.useEffect(()=>{c&&h.getImageURL(c).then(E=>y(E))},[c]);const _=E=>{const A=e;let D="";E==="detail"?D=`/products/${A}`:D=`/products/${A}/variants/new`,f(D)};return P.jsxs(Pt,{style:{width:"18rem",margin:"25px"},children:[p&&P.jsx(Pt.Img,{variant:"top",src:p,alt:t}),P.jsxs(Pt.Body,{children:[P.jsx(Pt.Title,{children:t}),P.jsx(Pt.Text,{children:i}),P.jsxs(Pt.Text,{children:["Status: ",P.jsx("strong",{children:a})]}),P.jsxs(Pt.Text,{children:["Price: ",P.jsx("strong",{children:(l==null?void 0:l.priceOriginal)||(l==null?void 0:l.priceOffer)})]}),P.jsx(Yi,{onClick:()=>_("detail"),variant:"primary",children:"View Details"}),h.isAdmin&&P.jsx(Yi,{onClick:()=>_("variant"),variant:"primary",children:"Add New Variant"})]})]})},Zb=()=>{const n=Jn(),[e,t]=S.useState([]);return S.useEffect(()=>{n.fetchProductsWithFirstVariant().then(i=>t(i))},[]),P.jsx("div",{className:"container mt-5",children:P.jsx(sy,{children:e==null?void 0:e.map(i=>P.jsx(SV,{id:i.id,...i},i.id))})})};var ag={exports:{}},og,Jb;function AV(){if(Jb)return og;Jb=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return og=n,og}var lg,ew;function CV(){if(ew)return lg;ew=1;var n=AV();function e(){}function t(){}return t.resetWarningCache=e,lg=function(){function i(c,h,f,p,y,_){if(_!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},lg}var tw;function IV(){return tw||(tw=1,ag.exports=CV()()),ag.exports}var OV=IV();const Ds=Lh(OV),xV={type:Ds.string,tooltip:Ds.bool,as:Ds.elementType},fd=S.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:i=!1,...a},l)=>P.jsx(n,{...a,ref:l,className:Ue(e,`${t}-${i?"tooltip":"feedback"}`)}));fd.displayName="Feedback";fd.propTypes=xV;const Bs=S.createContext({}),fv=S.forwardRef(({id:n,bsPrefix:e,className:t,type:i="checkbox",isValid:a=!1,isInvalid:l=!1,as:c="input",...h},f)=>{const{controlId:p}=S.useContext(Bs);return e=He(e,"form-check-input"),P.jsx(c,{...h,ref:f,type:i,id:n||p,className:Ue(t,e,a&&"is-valid",l&&"is-invalid")})});fv.displayName="FormCheckInput";const Nh=S.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...i},a)=>{const{controlId:l}=S.useContext(Bs);return n=He(n,"form-check-label"),P.jsx("label",{...i,ref:a,htmlFor:t||l,className:Ue(e,n)})});Nh.displayName="FormCheckLabel";function NV(n,e){return S.Children.toArray(n).some(t=>S.isValidElement(t)&&t.type===e)}const BA=S.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:i=!1,reverse:a=!1,disabled:l=!1,isValid:c=!1,isInvalid:h=!1,feedbackTooltip:f=!1,feedback:p,feedbackType:y,className:_,style:E,title:A="",type:D="checkbox",label:q,children:L,as:Y="input",...$},K)=>{e=He(e,"form-check"),t=He(t,"form-switch");const{controlId:ie}=S.useContext(Bs),le=S.useMemo(()=>({controlId:n||ie}),[ie,n]),me=!L&&q!=null&&q!==!1||NV(L,Nh),V=P.jsx(fv,{...$,type:D==="switch"?"checkbox":D,ref:K,isValid:c,isInvalid:h,disabled:l,as:Y});return P.jsx(Bs.Provider,{value:le,children:P.jsx("div",{style:E,className:Ue(_,me&&e,i&&`${e}-inline`,a&&`${e}-reverse`,D==="switch"&&t),children:L||P.jsxs(P.Fragment,{children:[V,me&&P.jsx(Nh,{title:A,children:q}),p&&P.jsx(fd,{type:y,tooltip:f,children:p})]})})})});BA.displayName="FormCheck";const Dh=Object.assign(BA,{Input:fv,Label:Nh}),zA=S.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:i,id:a,className:l,isValid:c=!1,isInvalid:h=!1,plaintext:f,readOnly:p,as:y="input",..._},E)=>{const{controlId:A}=S.useContext(Bs);return n=He(n,"form-control"),P.jsx(y,{..._,type:e,size:i,ref:E,readOnly:p,id:a||A,className:Ue(l,f?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,c&&"is-valid",h&&"is-invalid")})});zA.displayName="FormControl";const DV=Object.assign(zA,{Feedback:fd}),qA=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=He(e,"form-floating"),P.jsx(t,{ref:a,className:Ue(n,e),...i})));qA.displayName="FormFloating";const hv=S.forwardRef(({controlId:n,as:e="div",...t},i)=>{const a=S.useMemo(()=>({controlId:n}),[n]);return P.jsx(Bs.Provider,{value:a,children:P.jsx(e,{...t,ref:i})})});hv.displayName="FormGroup";function kV({as:n,bsPrefix:e,className:t,...i}){e=He(e,"col");const a=UO(),l=VO(),c=[],h=[];return a.forEach(f=>{const p=i[f];delete i[f];let y,_,E;typeof p=="object"&&p!=null?{span:y,offset:_,order:E}=p:y=p;const A=f!==l?`-${f}`:"";y&&c.push(y===!0?`${e}${A}`:`${e}${A}-${y}`),E!=null&&h.push(`order${A}-${E}`),_!=null&&h.push(`offset${A}-${_}`)}),[{...i,className:Ue(t,...c,...h)},{as:n,bsPrefix:e,spans:c}]}const FA=S.forwardRef((n,e)=>{const[{className:t,...i},{as:a="div",bsPrefix:l,spans:c}]=kV(n);return P.jsx(a,{...i,ref:e,className:Ue(t,!c.length&&l)})});FA.displayName="Col";const HA=S.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:i=!1,className:a,htmlFor:l,...c},h)=>{const{controlId:f}=S.useContext(Bs);e=He(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const y=Ue(a,e,i&&"visually-hidden",t&&p);return l=l||f,t?P.jsx(FA,{ref:h,as:"label",className:y,htmlFor:l,...c}):P.jsx(n,{ref:h,className:y,htmlFor:l,...c})});HA.displayName="FormLabel";const $A=S.forwardRef(({bsPrefix:n,className:e,id:t,...i},a)=>{const{controlId:l}=S.useContext(Bs);return n=He(n,"form-range"),P.jsx("input",{...i,type:"range",ref:a,className:Ue(e,n),id:t||l})});$A.displayName="FormRange";const GA=S.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:i,isValid:a=!1,isInvalid:l=!1,id:c,...h},f)=>{const{controlId:p}=S.useContext(Bs);return n=He(n,"form-select"),P.jsx("select",{...h,size:t,ref:f,className:Ue(i,n,e&&`${n}-${e}`,a&&"is-valid",l&&"is-invalid"),id:c||p})});GA.displayName="FormSelect";const KA=S.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:i,...a},l)=>(n=He(n,"form-text"),P.jsx(t,{...a,ref:l,className:Ue(e,n,i&&"text-muted")})));KA.displayName="FormText";const QA=S.forwardRef((n,e)=>P.jsx(Dh,{...n,ref:e,type:"switch"}));QA.displayName="Switch";const PV=Object.assign(QA,{Input:Dh.Input,Label:Dh.Label}),YA=S.forwardRef(({bsPrefix:n,className:e,children:t,controlId:i,label:a,...l},c)=>(n=He(n,"form-floating"),P.jsxs(hv,{ref:c,className:Ue(e,n),controlId:i,...l,children:[t,P.jsx("label",{htmlFor:i,children:a})]})));YA.displayName="FloatingLabel";const MV={_ref:Ds.any,validated:Ds.bool,as:Ds.elementType},dv=S.forwardRef(({className:n,validated:e,as:t="form",...i},a)=>P.jsx(t,{...i,ref:a,className:Ue(n,e&&"was-validated")}));dv.displayName="Form";dv.propTypes=MV;const ht=Object.assign(dv,{Group:hv,Control:DV,Floating:qA,Check:Dh,Switch:PV,Label:HA,Text:KA,Range:$A,Select:GA,FloatingLabel:YA}),LV=()=>{const n=Jn(),e=Kr(),[t,i]=S.useState(""),[a,l]=S.useState("");S.useEffect(()=>{n.isLoggedIn&&e("/")},[n,e]);const c=async h=>{h.preventDefault(),console.log("login in a user...");const f=await n.singinUserWithEmailAndPass(t,a);console.log("Successfull",f)};return P.jsx("div",{className:"container mt-5",children:P.jsxs(ht,{onSubmit:c,children:[P.jsxs(ht.Group,{className:"mb-3",controlId:"formBasicEmail",children:[P.jsx(ht.Label,{children:"Email address"}),P.jsx(ht.Control,{onChange:h=>i(h.target.value),value:t,type:"email",placeholder:"Enter email"})]}),P.jsxs(ht.Group,{className:"mb-3",controlId:"formBasicPassword",children:[P.jsx(ht.Label,{children:"Password"}),P.jsx(ht.Control,{onChange:h=>l(h.target.value),value:a,type:"password",placeholder:"Password"})]}),P.jsx(Yi,{variant:"primary",type:"submit",children:"Login"})]})})},UV=()=>{const n=Jn(),e=Kr(),[t,i]=S.useState(""),[a,l]=S.useState("");S.useEffect(()=>{n.isLoggedIn&&e("/")},[n,e]);const c=async h=>{h.preventDefault(),console.log("Signin up a user...");const f=await n.signupUserWithEmailAndPassword(t,a);console.log("Successfull",f)};return P.jsx("div",{className:"container mt-5",children:P.jsxs(ht,{onSubmit:c,children:[P.jsxs(ht.Group,{className:"mb-3",controlId:"formBasicEmail",children:[P.jsx(ht.Label,{children:"Email address"}),P.jsx(ht.Control,{onChange:h=>i(h.target.value),value:t,type:"email",placeholder:"Enter email"}),P.jsx(ht.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),P.jsxs(ht.Group,{className:"mb-3",controlId:"formBasicPassword",children:[P.jsx(ht.Label,{children:"Password"}),P.jsx(ht.Control,{onChange:h=>l(h.target.value),value:a,type:"password",placeholder:"Password"})]}),P.jsx(Yi,{variant:"primary",type:"submit",children:"Create Account"})]})})},XA=S.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:i,...a},l)=>{const c=He(n,"container"),h=typeof e=="string"?`-${e}`:"-fluid";return P.jsx(t,{ref:l,...a,className:Ue(i,e?`${c}${h}`:c)})});XA.displayName="Container";function Kg(){return Kg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Kg.apply(null,arguments)}function WA(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function nw(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function VV(n){var e=jV(n,"string");return typeof e=="symbol"?e:String(e)}function jV(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function BV(n,e,t){var i=S.useRef(n!==void 0),a=S.useState(e),l=a[0],c=a[1],h=n!==void 0,f=i.current;return i.current=h,!h&&f&&l!==e&&c(e),[h?n:l,S.useCallback(function(p){for(var y=arguments.length,_=new Array(y>1?y-1:0),E=1;E<y;E++)_[E-1]=arguments[E];t&&t.apply(void 0,[p].concat(_)),c(p)},[t])]}function hd(n,e){return Object.keys(e).reduce(function(t,i){var a,l=t,c=l[nw(i)],h=l[i],f=WA(l,[nw(i),i].map(VV)),p=e[i],y=BV(h,c,n[p]),_=y[0],E=y[1];return Kg({},f,(a={},a[i]=_,a[p]=E,a))},n)}function Qg(n,e){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Qg(n,e)}function zV(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Qg(n,e)}var qV=Function.prototype.bind.call(Function.prototype.call,[].slice);function So(n,e){return qV(n.querySelectorAll(e))}function FV(){const[,n]=S.useReducer(e=>e+1,0);return n}const rw=n=>!n||typeof n=="function"?n:e=>{n.current=e};function HV(n,e){const t=rw(n),i=rw(e);return a=>{t&&t(a),i&&i(a)}}function dd(n,e){return S.useMemo(()=>HV(n,e),[n,e])}const mv=S.createContext(null);mv.displayName="NavContext";const kh=S.createContext(null),md=(n,e=null)=>n!=null?String(n):e||null,ZA=S.createContext(null),$V="data-rr-ui-",GV="rrUi";function pd(n){return`${$V}${n}`}function KV(n){return`${GV}${n}`}function QV(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n},[n]),e}function Rs(n){const e=QV(n);return S.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const YV=["as","active","eventKey"];function XV(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function pv({key:n,onClick:e,active:t,id:i,role:a,disabled:l}){const c=S.useContext(kh),h=S.useContext(mv),f=S.useContext(ZA);let p=t;const y={role:a};if(h){!a&&h.role==="tablist"&&(y.role="tab");const _=h.getControllerId(n??null),E=h.getControlledId(n??null);y[pd("event-key")]=n,y.id=_||i,p=t==null&&n!=null?h.activeKey===n:t,(p||!(f!=null&&f.unmountOnExit)&&!(f!=null&&f.mountOnEnter))&&(y["aria-controls"]=E)}return y.role==="tab"&&(y["aria-selected"]=p,p||(y.tabIndex=-1),l&&(y.tabIndex=-1,y["aria-disabled"]=!0)),y.onClick=Rs(_=>{l||(e==null||e(_),n!=null&&c&&!_.isPropagationStopped()&&c(n,_))}),[y,{isActive:p}]}const JA=S.forwardRef((n,e)=>{let{as:t=xA,active:i,eventKey:a}=n,l=XV(n,YV);const[c,h]=pv(Object.assign({key:md(a,l.href),active:i},l));return c[pd("active")]=h.isActive,P.jsx(t,Object.assign({},l,c,{ref:e}))});JA.displayName="NavItem";const WV=["as","onSelect","activeKey","role","onKeyDown"];function ZV(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const iw=()=>{},sw=pd("event-key"),e1=S.forwardRef((n,e)=>{let{as:t="div",onSelect:i,activeKey:a,role:l,onKeyDown:c}=n,h=ZV(n,WV);const f=FV(),p=S.useRef(!1),y=S.useContext(kh),_=S.useContext(ZA);let E,A;_&&(l=l||"tablist",a=_.activeKey,E=_.getControlledId,A=_.getControllerId);const D=S.useRef(null),q=K=>{const ie=D.current;if(!ie)return null;const le=So(ie,`[${sw}]:not([aria-disabled=true])`),me=ie.querySelector("[aria-selected=true]");if(!me||me!==document.activeElement)return null;const V=le.indexOf(me);if(V===-1)return null;let C=V+K;return C>=le.length&&(C=0),C<0&&(C=le.length-1),le[C]},L=(K,ie)=>{K!=null&&(i==null||i(K,ie),y==null||y(K,ie))},Y=K=>{if(c==null||c(K),!_)return;let ie;switch(K.key){case"ArrowLeft":case"ArrowUp":ie=q(-1);break;case"ArrowRight":case"ArrowDown":ie=q(1);break;default:return}ie&&(K.preventDefault(),L(ie.dataset[KV("EventKey")]||null,K),p.current=!0,f())};S.useEffect(()=>{if(D.current&&p.current){const K=D.current.querySelector(`[${sw}][aria-selected=true]`);K==null||K.focus()}p.current=!1});const $=dd(e,D);return P.jsx(kh.Provider,{value:L,children:P.jsx(mv.Provider,{value:{role:l,activeKey:md(a),getControlledId:E||iw,getControllerId:A||iw},children:P.jsx(t,Object.assign({},h,{onKeyDown:Y,ref:$,role:l}))})})});e1.displayName="Nav";const t1=Object.assign(e1,{Item:JA}),Wl=S.createContext(null);Wl.displayName="NavbarContext";const n1=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=He(e,"nav-item"),P.jsx(t,{ref:a,className:Ue(n,e),...i})));n1.displayName="NavItem";function JV(){const n=S.useRef(!0),e=S.useRef(()=>n.current);return S.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function e4(n){const e=S.useRef(null);return S.useEffect(()=>{e.current=n}),e.current}const t4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",n4=typeof document<"u",aw=n4||t4?S.useLayoutEffect:S.useEffect,r4=["onKeyDown"];function i4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function s4(n){return!n||n.trim()==="#"}const gv=S.forwardRef((n,e)=>{let{onKeyDown:t}=n,i=i4(n,r4);const[a]=lv(Object.assign({tagName:"a"},i)),l=Rs(c=>{a.onKeyDown(c),t==null||t(c)});return s4(i.href)||i.role==="button"?P.jsx("a",Object.assign({ref:e},i,a,{onKeyDown:l})):P.jsx("a",Object.assign({ref:e},i,{onKeyDown:t}))});gv.displayName="Anchor";const r1=S.forwardRef(({bsPrefix:n,className:e,as:t=gv,active:i,eventKey:a,disabled:l=!1,...c},h)=>{n=He(n,"nav-link");const[f,p]=pv({key:md(a,c.href),active:i,disabled:l,...c});return P.jsx(t,{...c,...f,ref:h,disabled:l,className:Ue(e,n,l&&"disabled",p.isActive&&"active")})});r1.displayName="NavLink";const i1=S.forwardRef((n,e)=>{const{as:t="div",bsPrefix:i,variant:a,fill:l=!1,justify:c=!1,navbar:h,navbarScroll:f,className:p,activeKey:y,..._}=hd(n,{activeKey:"onSelect"}),E=He(i,"nav");let A,D,q=!1;const L=S.useContext(Wl),Y=S.useContext(cv);return L?(A=L.bsPrefix,q=h??!0):Y&&({cardHeaderBsPrefix:D}=Y),P.jsx(t1,{as:t,ref:e,activeKey:y,className:Ue(p,{[E]:!q,[`${A}-nav`]:q,[`${A}-nav-scroll`]:q&&f,[`${D}-${a}`]:!!D,[`${E}-${a}`]:!!a,[`${E}-fill`]:l,[`${E}-justified`]:c}),..._})});i1.displayName="Nav";const bo=Object.assign(i1,{Item:n1,Link:r1}),s1=S.forwardRef(({bsPrefix:n,className:e,as:t,...i},a)=>{n=He(n,"navbar-brand");const l=t||(i.href?"a":"span");return P.jsx(l,{...i,ref:a,className:Ue(e,n)})});s1.displayName="NavbarBrand";function yv(n){return n&&n.ownerDocument||document}function a4(n){var e=yv(n);return e&&e.defaultView||window}function o4(n,e){return a4(n).getComputedStyle(n,e)}var l4=/([A-Z])/g;function u4(n){return n.replace(l4,"-$1").toLowerCase()}var c4=/^ms-/;function Yf(n){return u4(n).replace(c4,"-ms-")}var f4=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function h4(n){return!!(n&&f4.test(n))}function ks(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(Yf(e))||o4(n).getPropertyValue(Yf(e));Object.keys(e).forEach(function(a){var l=e[a];!l&&l!==0?n.style.removeProperty(Yf(a)):h4(a)?i+=a+"("+l+") ":t+=Yf(a)+": "+l+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}const ow={disabled:!1},a1=ct.createContext(null);var d4=function(e){return e.scrollTop},tc="unmounted",Ta="exited",ci="entering",Ss="entered",_c="exiting",zs=function(n){zV(e,n);function e(i,a){var l;l=n.call(this,i,a)||this;var c=a,h=c&&!c.isMounting?i.enter:i.appear,f;return l.appearStatus=null,i.in?h?(f=Ta,l.appearStatus=ci):f=Ss:i.unmountOnExit||i.mountOnEnter?f=tc:f=Ta,l.state={status:f},l.nextCallback=null,l}e.getDerivedStateFromProps=function(a,l){var c=a.in;return c&&l.status===tc?{status:Ta}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(a){var l=null;if(a!==this.props){var c=this.state.status;this.props.in?c!==ci&&c!==Ss&&(l=ci):(c===ci||c===Ss)&&(l=_c)}this.updateStatus(!1,l)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var a=this.props.timeout,l,c,h;return l=c=h=a,a!=null&&typeof a!="number"&&(l=a.exit,c=a.enter,h=a.appear!==void 0?a.appear:c),{exit:l,enter:c,appear:h}},t.updateStatus=function(a,l){if(a===void 0&&(a=!1),l!==null)if(this.cancelNextCallback(),l===ci){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Ol.findDOMNode(this);c&&d4(c)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ta&&this.setState({status:tc})},t.performEnter=function(a){var l=this,c=this.props.enter,h=this.context?this.context.isMounting:a,f=this.props.nodeRef?[h]:[Ol.findDOMNode(this),h],p=f[0],y=f[1],_=this.getTimeouts(),E=h?_.appear:_.enter;if(!a&&!c||ow.disabled){this.safeSetState({status:Ss},function(){l.props.onEntered(p)});return}this.props.onEnter(p,y),this.safeSetState({status:ci},function(){l.props.onEntering(p,y),l.onTransitionEnd(E,function(){l.safeSetState({status:Ss},function(){l.props.onEntered(p,y)})})})},t.performExit=function(){var a=this,l=this.props.exit,c=this.getTimeouts(),h=this.props.nodeRef?void 0:Ol.findDOMNode(this);if(!l||ow.disabled){this.safeSetState({status:Ta},function(){a.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:_c},function(){a.props.onExiting(h),a.onTransitionEnd(c.exit,function(){a.safeSetState({status:Ta},function(){a.props.onExited(h)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(a,l){l=this.setNextCallback(l),this.setState(a,l)},t.setNextCallback=function(a){var l=this,c=!0;return this.nextCallback=function(h){c&&(c=!1,l.nextCallback=null,a(h))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(a,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:Ol.findDOMNode(this),h=a==null&&!this.props.addEndListener;if(!c||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],p=f[0],y=f[1];this.props.addEndListener(p,y)}a!=null&&setTimeout(this.nextCallback,a)},t.render=function(){var a=this.state.status;if(a===tc)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var h=WA(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ct.createElement(a1.Provider,{value:null},typeof c=="function"?c(a,h):ct.cloneElement(ct.Children.only(c),h))},e}(ct.Component);zs.contextType=a1;zs.propTypes={};function bl(){}zs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:bl,onEntering:bl,onEntered:bl,onExit:bl,onExiting:bl,onExited:bl};zs.UNMOUNTED=tc;zs.EXITED=Ta;zs.ENTERING=ci;zs.ENTERED=Ss;zs.EXITING=_c;function m4(n){return n.code==="Escape"||n.keyCode===27}function p4(){const n=S.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Zl(n){if(!n||typeof n=="function")return null;const{major:e}=p4();return e>=19?n.props.ref:n.ref}const gd=!!(typeof window<"u"&&window.document&&window.document.createElement);var Yg=!1,Xg=!1;try{var ug={get passive(){return Yg=!0},get once(){return Xg=Yg=!0}};gd&&(window.addEventListener("test",ug,ug),window.removeEventListener("test",ug,!0))}catch{}function g4(n,e,t,i){if(i&&typeof i!="boolean"&&!Xg){var a=i.once,l=i.capture,c=t;!Xg&&a&&(c=t.__once||function h(f){this.removeEventListener(e,h,l),t.call(this,f)},t.__once=c),n.addEventListener(e,c,Yg?i:l)}n.addEventListener(e,t,i)}function y4(n,e,t,i){var a=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,a),t.__once&&n.removeEventListener(e,t.__once,a)}function Ph(n,e,t,i){return g4(n,e,t,i),function(){y4(n,e,t,i)}}function v4(n,e,t,i){if(i===void 0&&(i=!0),n){var a=document.createEvent("HTMLEvents");a.initEvent(e,t,i),n.dispatchEvent(a)}}function _4(n){var e=ks(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function E4(n,e,t){t===void 0&&(t=5);var i=!1,a=setTimeout(function(){i||v4(n,"transitionend",!0)},e+t),l=Ph(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(a),l()}}function T4(n,e,t,i){t==null&&(t=_4(n)||0);var a=E4(n,t,i),l=Ph(n,"transitionend",e);return function(){a(),l()}}function lw(n,e){const t=ks(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function vv(n,e){const t=lw(n,"transitionDuration"),i=lw(n,"transitionDelay"),a=T4(n,l=>{l.target===n&&(a(),e(l))},t+i)}function Qu(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...a){e.apply(this,a),t.apply(this,a)}},null)}function o1(n){n.offsetHeight}const uw=n=>!n||typeof n=="function"?n:e=>{n.current=e};function b4(n,e){const t=uw(n),i=uw(e);return a=>{t&&t(a),i&&i(a)}}function w4(n,e){return S.useMemo(()=>b4(n,e),[n,e])}function R4(n){return n&&"setState"in n?Ol.findDOMNode(n):n??null}const _v=ct.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:a,onExited:l,addEndListener:c,children:h,childRef:f,...p},y)=>{const _=S.useRef(null),E=w4(_,f),A=me=>{E(R4(me))},D=me=>V=>{me&&_.current&&me(_.current,V)},q=S.useCallback(D(n),[n]),L=S.useCallback(D(e),[e]),Y=S.useCallback(D(t),[t]),$=S.useCallback(D(i),[i]),K=S.useCallback(D(a),[a]),ie=S.useCallback(D(l),[l]),le=S.useCallback(D(c),[c]);return P.jsx(zs,{ref:y,...p,onEnter:q,onEntered:Y,onEntering:L,onExit:$,onExited:ie,onExiting:K,addEndListener:le,nodeRef:_,children:typeof h=="function"?(me,V)=>h(me,{...V,ref:A}):ct.cloneElement(h,{ref:A})})}),S4={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function A4(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,i=e[t],a=S4[n];return i+parseInt(ks(e,a[0]),10)+parseInt(ks(e,a[1]),10)}const C4={[Ta]:"collapse",[_c]:"collapsing",[ci]:"collapsing",[Ss]:"collapse show"},I4=ct.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:a,className:l,children:c,dimension:h="height",in:f=!1,timeout:p=300,mountOnEnter:y=!1,unmountOnExit:_=!1,appear:E=!1,getDimensionValue:A=A4,...D},q)=>{const L=typeof h=="function"?h():h,Y=S.useMemo(()=>Qu(me=>{me.style[L]="0"},n),[L,n]),$=S.useMemo(()=>Qu(me=>{const V=`scroll${L[0].toUpperCase()}${L.slice(1)}`;me.style[L]=`${me[V]}px`},e),[L,e]),K=S.useMemo(()=>Qu(me=>{me.style[L]=null},t),[L,t]),ie=S.useMemo(()=>Qu(me=>{me.style[L]=`${A(L,me)}px`,o1(me)},i),[i,A,L]),le=S.useMemo(()=>Qu(me=>{me.style[L]=null},a),[L,a]);return P.jsx(_v,{ref:q,addEndListener:vv,...D,"aria-expanded":D.role?f:null,onEnter:Y,onEntering:$,onEntered:K,onExit:ie,onExiting:le,childRef:Zl(c),in:f,timeout:p,mountOnEnter:y,unmountOnExit:_,appear:E,children:(me,V)=>ct.cloneElement(c,{...V,className:Ue(l,c.props.className,C4[me],L==="width"&&"collapse-horizontal")})})}),l1=S.forwardRef(({children:n,bsPrefix:e,...t},i)=>{e=He(e,"navbar-collapse");const a=S.useContext(Wl);return P.jsx(I4,{in:!!(a&&a.expanded),...t,children:P.jsx("div",{ref:i,className:e,children:n})})});l1.displayName="NavbarCollapse";function O4(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n},[n]),e}function Jl(n){const e=O4(n);return S.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const u1=S.forwardRef(({bsPrefix:n,className:e,children:t,label:i="Toggle navigation",as:a="button",onClick:l,...c},h)=>{n=He(n,"navbar-toggler");const{onToggle:f,expanded:p}=S.useContext(Wl)||{},y=Jl(_=>{l&&l(_),f&&f()});return a==="button"&&(c.type="button"),P.jsx(a,{...c,ref:h,onClick:y,"aria-label":i,className:Ue(e,n,!p&&"collapsed"),children:t||P.jsx("span",{className:`${n}-icon`})})});u1.displayName="NavbarToggle";const x4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",N4=typeof document<"u",D4=N4||x4?S.useLayoutEffect:S.useEffect,Wg=new WeakMap,cw=(n,e)=>{if(!n||!e)return;const t=Wg.get(e)||new Map;Wg.set(e,t);let i=t.get(n);return i||(i=e.matchMedia(n),i.refCount=0,t.set(i.media,i)),i};function k4(n,e=typeof window>"u"?void 0:window){const t=cw(n,e),[i,a]=S.useState(()=>t?t.matches:!1);return D4(()=>{let l=cw(n,e);if(!l)return a(!1);let c=Wg.get(e);const h=()=>{a(l.matches)};return l.refCount++,l.addListener(h),h(),()=>{l.removeListener(h),l.refCount--,l.refCount<=0&&(c==null||c.delete(l.media)),l=void 0}},[n]),i}function P4(n){const e=Object.keys(n);function t(h,f){return h===f?f:h?`${h} and ${f}`:f}function i(h){return e[Math.min(e.indexOf(h)+1,e.length-1)]}function a(h){const f=i(h);let p=n[f];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function l(h){let f=n[h];return typeof f=="number"&&(f=`${f}px`),`(min-width: ${f})`}function c(h,f,p){let y;typeof h=="object"?(y=h,p=f,f=!0):(f=f||!0,y={[h]:f});let _=S.useMemo(()=>Object.entries(y).reduce((E,[A,D])=>((D==="up"||D===!0)&&(E=t(E,l(A))),(D==="down"||D===!0)&&(E=t(E,a(A))),E),""),[JSON.stringify(y)]);return k4(_,p)}return c}const M4=P4({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function cg(n){n===void 0&&(n=yv());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function fw(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function L4(n){const e=S.useRef(n);return e.current=n,e}function U4(n){const e=L4(n);S.useEffect(()=>()=>e.current(),[])}function V4(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const hw=pd("modal-open");class Ev{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:i=!1}={}){this.handleContainerOverflow=t,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return V4(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[i]:a.style[i]},e.scrollBarWidth&&(t[i]=`${parseInt(ks(a,i)||"0",10)+e.scrollBarWidth}px`),a.setAttribute(hw,""),ks(a,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(hw),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const c1=S.createContext(gd?window:void 0);c1.Provider;function Tv(){return S.useContext(c1)}const fg=(n,e)=>gd?n==null?(e||yv()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function j4(n,e){const t=Tv(),[i,a]=S.useState(()=>fg(n,t==null?void 0:t.document));if(!i){const l=fg(n);l&&a(l)}return S.useEffect(()=>{},[e,i]),S.useEffect(()=>{const l=fg(n);l!==i&&a(l)},[n,i]),i}function B4({children:n,in:e,onExited:t,mountOnEnter:i,unmountOnExit:a}){const l=S.useRef(null),c=S.useRef(e),h=Rs(t);S.useEffect(()=>{e?c.current=!0:h(l.current)},[e,h]);const f=dd(l,Zl(n)),p=S.cloneElement(n,{ref:f});return e?p:a||!c.current&&i?null:p}const z4=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function q4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function F4(n){let{onEnter:e,onEntering:t,onEntered:i,onExit:a,onExiting:l,onExited:c,addEndListener:h,children:f}=n,p=q4(n,z4);const y=S.useRef(null),_=dd(y,Zl(f)),E=ie=>le=>{ie&&y.current&&ie(y.current,le)},A=S.useCallback(E(e),[e]),D=S.useCallback(E(t),[t]),q=S.useCallback(E(i),[i]),L=S.useCallback(E(a),[a]),Y=S.useCallback(E(l),[l]),$=S.useCallback(E(c),[c]),K=S.useCallback(E(h),[h]);return Object.assign({},p,{nodeRef:y},e&&{onEnter:A},t&&{onEntering:D},i&&{onEntered:q},a&&{onExit:L},l&&{onExiting:Y},c&&{onExited:$},h&&{addEndListener:K},{children:typeof f=="function"?(ie,le)=>f(ie,Object.assign({},le,{ref:_})):S.cloneElement(f,{ref:_})})}const H4=["component"];function $4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const G4=S.forwardRef((n,e)=>{let{component:t}=n,i=$4(n,H4);const a=F4(i);return P.jsx(t,Object.assign({ref:e},a))});function K4({in:n,onTransition:e}){const t=S.useRef(null),i=S.useRef(!0),a=Rs(e);return aw(()=>{if(!t.current)return;let l=!1;return a({in:n,element:t.current,initial:i.current,isStale:()=>l}),()=>{l=!0}},[n,a]),aw(()=>(i.current=!1,()=>{i.current=!0}),[]),t}function Q4({children:n,in:e,onExited:t,onEntered:i,transition:a}){const[l,c]=S.useState(!e);e&&l&&c(!1);const h=K4({in:!!e,onTransition:p=>{const y=()=>{p.isStale()||(p.in?i==null||i(p.element,p.initial):(c(!0),t==null||t(p.element)))};Promise.resolve(a(p)).then(y,_=>{throw p.in||c(!0),_})}}),f=dd(h,Zl(n));return l&&!e?null:S.cloneElement(n,{ref:f})}function dw(n,e,t){return n?P.jsx(G4,Object.assign({},t,{component:n})):e?P.jsx(Q4,Object.assign({},t,{transition:e})):P.jsx(B4,Object.assign({},t))}const Y4=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function X4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}let hg;function W4(n){return hg||(hg=new Ev({ownerDocument:n==null?void 0:n.document})),hg}function Z4(n){const e=Tv(),t=n||W4(e),i=S.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>t.add(i.current),remove:()=>t.remove(i.current),isTopModal:()=>t.isTopModal(i.current),setDialogRef:S.useCallback(a=>{i.current.dialog=a},[]),setBackdropRef:S.useCallback(a=>{i.current.backdrop=a},[])})}const f1=S.forwardRef((n,e)=>{let{show:t=!1,role:i="dialog",className:a,style:l,children:c,backdrop:h=!0,keyboard:f=!0,onBackdropClick:p,onEscapeKeyDown:y,transition:_,runTransition:E,backdropTransition:A,runBackdropTransition:D,autoFocus:q=!0,enforceFocus:L=!0,restoreFocus:Y=!0,restoreFocusOptions:$,renderDialog:K,renderBackdrop:ie=dt=>P.jsx("div",Object.assign({},dt)),manager:le,container:me,onShow:V,onHide:C=()=>{},onExit:O,onExited:M,onExiting:B,onEnter:H,onEntering:U,onEntered:We}=n,Ke=X4(n,Y4);const pe=Tv(),Re=j4(me),ge=Z4(le),Ge=JV(),F=e4(t),[fe,Se]=S.useState(!t),Te=S.useRef(null);S.useImperativeHandle(e,()=>ge,[ge]),gd&&!F&&t&&(Te.current=cg(pe==null?void 0:pe.document)),t&&fe&&Se(!1);const ve=Rs(()=>{if(ge.add(),nt.current=Ph(document,"keydown",Je),_t.current=Ph(document,"focus",()=>setTimeout(ze),!0),V&&V(),q){var dt,kn;const Ir=cg((dt=(kn=ge.dialog)==null?void 0:kn.ownerDocument)!=null?dt:pe==null?void 0:pe.document);ge.dialog&&Ir&&!fw(ge.dialog,Ir)&&(Te.current=Ir,ge.dialog.focus())}}),Me=Rs(()=>{if(ge.remove(),nt.current==null||nt.current(),_t.current==null||_t.current(),Y){var dt;(dt=Te.current)==null||dt.focus==null||dt.focus($),Te.current=null}});S.useEffect(()=>{!t||!Re||ve()},[t,Re,ve]),S.useEffect(()=>{fe&&Me()},[fe,Me]),U4(()=>{Me()});const ze=Rs(()=>{if(!L||!Ge()||!ge.isTopModal())return;const dt=cg(pe==null?void 0:pe.document);ge.dialog&&dt&&!fw(ge.dialog,dt)&&ge.dialog.focus()}),Lt=Rs(dt=>{dt.target===dt.currentTarget&&(p==null||p(dt),h===!0&&C())}),Je=Rs(dt=>{f&&m4(dt)&&ge.isTopModal()&&(y==null||y(dt),dt.defaultPrevented||C())}),_t=S.useRef(),nt=S.useRef(),Zt=(...dt)=>{Se(!0),M==null||M(...dt)};if(!Re)return null;const tr=Object.assign({role:i,ref:ge.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},Ke,{style:l,className:a,tabIndex:-1});let mn=K?K(tr):P.jsx("div",Object.assign({},tr,{children:S.cloneElement(c,{role:"document"})}));mn=dw(_,E,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:O,onExiting:B,onExited:Zt,onEnter:H,onEntering:U,onEntered:We,children:mn});let qn=null;return h&&(qn=ie({ref:ge.setBackdropRef,onClick:Lt}),qn=dw(A,D,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:qn})),P.jsx(P.Fragment,{children:Ol.createPortal(P.jsxs(P.Fragment,{children:[qn,mn]}),Re)})});f1.displayName="Modal";const J4=Object.assign(f1,{Manager:Ev}),ej={[ci]:"show",[Ss]:"show"},Mh=S.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:i,...a},l)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},h=S.useCallback((f,p)=>{o1(f),i==null||i(f,p)},[i]);return P.jsx(_v,{ref:l,addEndListener:vv,...c,onEnter:h,childRef:Zl(e),children:(f,p)=>S.cloneElement(e,{...p,className:Ue("fade",n,e.props.className,ej[f],t[f])})})});Mh.displayName="Fade";const h1=S.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=He(e,"offcanvas-body"),P.jsx(t,{ref:a,className:Ue(n,e),...i})));h1.displayName="OffcanvasBody";const tj={[ci]:"show",[Ss]:"show"},d1=S.forwardRef(({bsPrefix:n,className:e,children:t,in:i=!1,mountOnEnter:a=!1,unmountOnExit:l=!1,appear:c=!1,...h},f)=>(n=He(n,"offcanvas"),P.jsx(_v,{ref:f,addEndListener:vv,in:i,mountOnEnter:a,unmountOnExit:l,appear:c,...h,childRef:Zl(t),children:(p,y)=>S.cloneElement(t,{...y,className:Ue(e,t.props.className,(p===ci||p===_c)&&`${n}-toggling`,tj[p])})})));d1.displayName="OffcanvasToggling";const m1=S.createContext({onHide(){}}),nj={"aria-label":Ds.string,onClick:Ds.func,variant:Ds.oneOf(["white"])},yd=S.forwardRef(({className:n,variant:e,"aria-label":t="Close",...i},a)=>P.jsx("button",{ref:a,type:"button",className:Ue("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...i}));yd.displayName="CloseButton";yd.propTypes=nj;const rj=S.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:i,children:a,...l},c)=>{const h=S.useContext(m1),f=Jl(()=>{h==null||h.onHide(),i==null||i()});return P.jsxs("div",{ref:c,...l,children:[a,t&&P.jsx(yd,{"aria-label":n,variant:e,onClick:f})]})}),p1=S.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...a},l)=>(n=He(n,"offcanvas-header"),P.jsx(rj,{ref:l,...a,className:Ue(e,n),closeLabel:t,closeButton:i})));p1.displayName="OffcanvasHeader";const ij=cd("h5"),g1=S.forwardRef(({className:n,bsPrefix:e,as:t=ij,...i},a)=>(e=He(e,"offcanvas-title"),P.jsx(t,{ref:a,className:Ue(n,e),...i})));g1.displayName="OffcanvasTitle";function sj(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function aj(n,e){n.classList?n.classList.add(e):sj(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function mw(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function oj(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=mw(n.className,e):n.setAttribute("class",mw(n.className&&n.className.baseVal||"",e))}const wl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class y1 extends Ev{adjustAndStore(e,t,i){const a=t.style[e];t.dataset[e]=a,ks(t,{[e]:`${parseFloat(ks(t,e))+i}px`})}restore(e,t){const i=t.dataset[e];i!==void 0&&(delete t.dataset[e],ks(t,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(aj(t,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";So(t,wl.FIXED_CONTENT).forEach(l=>this.adjustAndStore(i,l,e.scrollBarWidth)),So(t,wl.STICKY_CONTENT).forEach(l=>this.adjustAndStore(a,l,-e.scrollBarWidth)),So(t,wl.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(a,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();oj(t,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";So(t,wl.FIXED_CONTENT).forEach(l=>this.restore(i,l)),So(t,wl.STICKY_CONTENT).forEach(l=>this.restore(a,l)),So(t,wl.NAVBAR_TOGGLER).forEach(l=>this.restore(a,l))}}let dg;function lj(n){return dg||(dg=new y1(n)),dg}function uj(n){return P.jsx(d1,{...n})}function cj(n){return P.jsx(Mh,{...n})}const v1=S.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":i,placement:a="start",responsive:l,show:c=!1,backdrop:h=!0,keyboard:f=!0,scroll:p=!1,onEscapeKeyDown:y,onShow:_,onHide:E,container:A,autoFocus:D=!0,enforceFocus:q=!0,restoreFocus:L=!0,restoreFocusOptions:Y,onEntered:$,onExit:K,onExiting:ie,onEnter:le,onEntering:me,onExited:V,backdropClassName:C,manager:O,renderStaticNode:M=!1,...B},H)=>{const U=S.useRef();n=He(n,"offcanvas");const[We,Ke]=S.useState(!1),pe=Jl(E),Re=M4(l||"xs","up");S.useEffect(()=>{Ke(l?c&&!Re:c)},[c,l,Re]);const ge=S.useMemo(()=>({onHide:pe}),[pe]);function Ge(){return O||(p?(U.current||(U.current=new y1({handleContainerOverflow:!1})),U.current):lj())}const F=(ve,...Me)=>{ve&&(ve.style.visibility="visible"),le==null||le(ve,...Me)},fe=(ve,...Me)=>{ve&&(ve.style.visibility=""),V==null||V(...Me)},Se=S.useCallback(ve=>P.jsx("div",{...ve,className:Ue(`${n}-backdrop`,C)}),[C,n]),Te=ve=>P.jsx("div",{...ve,...B,className:Ue(e,l?`${n}-${l}`:n,`${n}-${a}`),"aria-labelledby":i,children:t});return P.jsxs(P.Fragment,{children:[!We&&(l||M)&&Te({}),P.jsx(m1.Provider,{value:ge,children:P.jsx(J4,{show:We,ref:H,backdrop:h,container:A,keyboard:f,autoFocus:D,enforceFocus:q&&!p,restoreFocus:L,restoreFocusOptions:Y,onEscapeKeyDown:y,onShow:_,onHide:pe,onEnter:F,onEntering:me,onEntered:$,onExit:K,onExiting:ie,onExited:fe,manager:Ge(),transition:uj,backdropTransition:cj,renderBackdrop:Se,renderDialog:Te})})]})});v1.displayName="Offcanvas";const fj=Object.assign(v1,{Body:h1,Header:p1,Title:g1}),_1=S.forwardRef(({onHide:n,...e},t)=>{const i=S.useContext(Wl),a=Jl(()=>{i==null||i.onToggle==null||i.onToggle(),n==null||n()});return P.jsx(fj,{ref:t,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:a})});_1.displayName="NavbarOffcanvas";const E1=S.forwardRef(({className:n,bsPrefix:e,as:t="span",...i},a)=>(e=He(e,"navbar-text"),P.jsx(t,{ref:a,className:Ue(n,e),...i})));E1.displayName="NavbarText";const T1=S.forwardRef((n,e)=>{const{bsPrefix:t,expand:i=!0,variant:a="light",bg:l,fixed:c,sticky:h,className:f,as:p="nav",expanded:y,onToggle:_,onSelect:E,collapseOnSelect:A=!1,...D}=hd(n,{expanded:"onToggle"}),q=He(t,"navbar"),L=S.useCallback((...K)=>{E==null||E(...K),A&&y&&(_==null||_(!1))},[E,A,y,_]);D.role===void 0&&p!=="nav"&&(D.role="navigation");let Y=`${q}-expand`;typeof i=="string"&&(Y=`${Y}-${i}`);const $=S.useMemo(()=>({onToggle:()=>_==null?void 0:_(!y),bsPrefix:q,expanded:!!y,expand:i}),[q,y,i,_]);return P.jsx(Wl.Provider,{value:$,children:P.jsx(kh.Provider,{value:L,children:P.jsx(p,{ref:e,...D,className:Ue(f,q,i&&Y,a&&`${q}-${a}`,l&&`bg-${l}`,h&&`sticky-${h}`,c&&`fixed-${c}`)})})})});T1.displayName="Navbar";const pw=Object.assign(T1,{Brand:s1,Collapse:l1,Offcanvas:_1,Text:E1,Toggle:u1}),hj=()=>{const n=Jn(),{isAdmin:e}=n;return P.jsx(pw,{bg:"dark",variant:"dark",children:P.jsxs(XA,{children:[P.jsx(pw.Brand,{as:ws,to:"/",children:"Hotel-Bites"}),P.jsxs(bo,{className:"me-auto",children:[e&&P.jsx(bo.Link,{as:ws,to:"/products/new",children:"Add New Product"}),P.jsx(bo.Link,{as:ws,to:"/cart",children:"Cart"}),!(n!=null&&n.user)&&P.jsx(bo.Link,{as:ws,to:"/register",children:"Register"}),!(n!=null&&n.user)&&P.jsx(bo.Link,{as:ws,to:"/login",children:"Login"}),(n==null?void 0:n.user)&&P.jsx(bo.Link,{as:ws,to:"/orders",children:"My orders"}),(n==null?void 0:n.isAdmin)&&P.jsx(bo.Link,{as:ws,to:"/orders/all",children:"All orders"}),(n==null?void 0:n.user)&&P.jsx("button",{onClick:async()=>{await n.logoutUser()},children:"logout"})]})]})})},b1=cd("h4");b1.displayName="DivStyledAsH4";const w1=S.forwardRef(({className:n,bsPrefix:e,as:t=b1,...i},a)=>(e=He(e,"alert-heading"),P.jsx(t,{ref:a,className:Ue(n,e),...i})));w1.displayName="AlertHeading";const R1=S.forwardRef(({className:n,bsPrefix:e,as:t=gv,...i},a)=>(e=He(e,"alert-link"),P.jsx(t,{ref:a,className:Ue(n,e),...i})));R1.displayName="AlertLink";const S1=S.forwardRef((n,e)=>{const{bsPrefix:t,show:i=!0,closeLabel:a="Close alert",closeVariant:l,className:c,children:h,variant:f="primary",onClose:p,dismissible:y,transition:_=Mh,...E}=hd(n,{show:"onClose"}),A=He(t,"alert"),D=Jl(Y=>{p&&p(!1,Y)}),q=_===!0?Mh:_,L=P.jsxs("div",{role:"alert",...q?void 0:E,ref:e,className:Ue(c,A,f&&`${A}-${f}`,y&&`${A}-dismissible`),children:[y&&P.jsx(yd,{onClick:D,"aria-label":a,variant:l}),h]});return q?P.jsx(q,{unmountOnExit:!0,...E,ref:void 0,in:i,children:L}):i?L:null});S1.displayName="Alert";const Uc=Object.assign(S1,{Link:R1,Heading:w1}),A1=S.forwardRef(({bsPrefix:n,active:e,disabled:t,eventKey:i,className:a,variant:l,action:c,as:h,...f},p)=>{n=He(n,"list-group-item");const[y,_]=pv({key:md(i,f.href),active:e,...f}),E=Jl(D=>{if(t){D.preventDefault(),D.stopPropagation();return}y.onClick(D)});t&&f.tabIndex===void 0&&(f.tabIndex=-1,f["aria-disabled"]=!0);const A=h||(c?f.href?"a":"button":"div");return P.jsx(A,{ref:p,...f,...y,onClick:E,className:Ue(a,n,_.isActive&&"active",t&&"disabled",l&&`${n}-${l}`,c&&`${n}-action`)})});A1.displayName="ListGroupItem";const C1=S.forwardRef((n,e)=>{const{className:t,bsPrefix:i,variant:a,horizontal:l,numbered:c,as:h="div",...f}=hd(n,{activeKey:"onSelect"}),p=He(i,"list-group");let y;return l&&(y=l===!0?"horizontal":`horizontal-${l}`),P.jsx(t1,{ref:e,...f,as:h,className:Ue(t,p,a&&`${p}-${a}`,y&&`${p}-${y}`,c&&`${p}-numbered`)})});C1.displayName="ListGroup";const ql=Object.assign(C1,{Item:A1}),vd=S.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:i,as:a="div",className:l,...c},h)=>{n=He(n,"spinner");const f=`${n}-${t}`;return P.jsx(a,{ref:h,...c,className:Ue(l,f,i&&`${f}-${i}`,e&&`text-${e}`)})});vd.displayName="Spinner";const dj=({label:n,options:e,selected:t,onChange:i})=>P.jsxs(ht.Group,{className:"mb-3",children:[P.jsx(ht.Label,{children:n}),P.jsx(ht.Select,{value:(t==null?void 0:t.id)||"",onChange:i,children:e.length===0?P.jsx("option",{disabled:!0,children:"No variants available"}):e.map(a=>P.jsxs("option",{value:a.id,children:[a.data().title," - ",a.data().name," (",a.data().priceOffer||a.data().priceOriginal,")"]},a.id))})]}),mj=()=>{const n=ey(),e=Jn(),[t,i]=S.useState(1),[a,l]=S.useState(null),[c,h]=S.useState([]),[f,p]=S.useState(null),[y,_]=S.useState(null);S.useEffect(()=>{(async()=>{const q="products",L="variants",Y=await e.getDocById(n.productId,q);l(Y.data());const $=await e.getSubCollectionAllDocuments(q,n.productId,L);h($.docs),$.docs.length>0&&p({id:$.docs[0].id,...$.docs[0].data()})})()},[n.productId,e]);const E=D=>{const q=D.target.value,L=c.find(Y=>Y.id===q);p({id:L.id,...L.data()})},A=async()=>{if(!f)return alert("Please select a variant");const D=await e.checkIsItemAlreadyInCart("shoppingCartItems",n.productId,f.id);if(console.log("BK isItemAlreadyInCart",D),D===null){const q={quantity:t,productId:n.productId,variantId:f.id};await e.handleCreateNewDoc(q,"shoppingCartItems"),e.displayToastMessage("Added to cart successfully!")}else e.displayToastMessage("Item already in cart!")};return!a||!c||!f?P.jsx("div",{className:"container mt-5",children:P.jsx(Uc,{variant:"info",children:"No data found"},"info")}):P.jsxs("div",{className:"container mt-5",children:[P.jsx("h1",{children:a.name}),P.jsx("img",{src:y,width:"50%",style:{borderRadius:"10px"},alt:"Product"}),P.jsx("h1",{children:"Details"}),P.jsxs("p",{children:["Price: Rs. ",(f==null?void 0:f.priceOffer)||(f==null?void 0:f.priceOriginal)||"N/A"]}),P.jsx(dj,{label:"Select Variant",options:c,selected:f,onChange:E}),P.jsxs(ht.Group,{className:"mb-3",children:[P.jsx(ht.Label,{children:"Quantity"}),P.jsx(ht.Control,{type:"number",min:"1",value:t,onChange:D=>i(D.target.value)})]}),P.jsx(Yi,{onClick:A,variant:"primary",children:"Add to Cart"})]})},wo=({label:n,name:e,value:t,onChange:i,placeholder:a,type:l="text"})=>P.jsxs(ht.Group,{className:"mb-3",children:[P.jsx(ht.Label,{children:n}),P.jsx(ht.Control,{type:l,name:e,value:t,onChange:i,placeholder:a})]}),pj=()=>{const n=Jn(),e=Kr();S.useEffect(()=>{n.isAdmin||e("/")},[n,e]);const t=ey(),[i,a]=S.useState({SKU:"",title:"",name:"",priceOffer:"",priceOriginal:"",inventoryQuantity:"",status:"",productImages:[]}),l=h=>{const{name:f,value:p,type:y}=h.target;a({...i,[f]:y==="number"?parseFloat(p)||"":p})},c=async h=>{h.preventDefault();const{productId:f}=t,p={...i,productId:f};await n.handleCreateNewVariant(p)};return P.jsx("div",{className:"container mt-5",children:P.jsxs(ht,{onSubmit:c,children:[P.jsx(wo,{label:"SKU",name:"SKU",value:i.SKU,onChange:l,placeholder:"Enter SKU"}),P.jsx(wo,{label:"Title (Weight/Size)",name:"title",value:i.title,onChange:l,placeholder:"Enter Weight/Size"}),P.jsx(wo,{label:"Variant Name (200gm/..)",name:"name",value:i.name,onChange:l,placeholder:"Enter Variant Name"}),P.jsx(wo,{label:"Offer Price",name:"priceOffer",value:i.priceOffer,onChange:l,placeholder:"Enter Offer Price",type:"number"}),P.jsx(wo,{label:"Original Price",name:"priceOriginal",value:i.priceOriginal,onChange:l,placeholder:"Enter Original Price",type:"number"}),P.jsx(wo,{label:"Inventory Quantity",name:"inventoryQuantity",value:i.inventoryQuantity,onChange:l,placeholder:"Enter Inventory Quantity",type:"number"}),P.jsx(wo,{label:"Status",name:"status",value:i.status,onChange:l,placeholder:"Enter Status (active/non-active)"}),P.jsx(Yi,{variant:"primary",type:"submit",children:"Create"})]})})},Xf=({label:n,name:e,value:t,onChange:i,placeholder:a})=>P.jsxs(ht.Group,{className:"mb-3",children:[P.jsx(ht.Label,{children:n}),P.jsx(ht.Control,{type:"text",name:e,value:t,onChange:i,placeholder:a})]}),gj=()=>{const n=Jn(),e=Kr();S.useEffect(()=>{n.isAdmin||e("/")},[n,e]);const[t,i]=S.useState(""),a={SKU:"",name:"",description:"",productImage:"",status:""},[l,c]=S.useState(a),h=p=>{c({...l,[p.target.name]:p.target.value})},f=async p=>{p.preventDefault();const y={...l,productImage:t};await n.handleCreateNewDoc(y,"products"),c(a),n.displayToastMessage("product created successfully!"),e("/")};return P.jsx("div",{className:"container mt-5",children:P.jsxs(ht,{onSubmit:f,children:[P.jsx(Xf,{label:"SKU",name:"SKU",value:l.SKU,onChange:h,placeholder:"Enter SKU"}),P.jsx(Xf,{label:"Product Name",name:"name",value:l.name,onChange:h,placeholder:"Enter Product Name"}),P.jsx(Xf,{label:"Description",name:"description",value:l.description,onChange:h,placeholder:"Enter Description"}),P.jsxs(ht.Group,{className:"mb-3",controlId:"formBasicPassword",children:[P.jsx(ht.Label,{children:"Cover Pic"}),P.jsx(ht.Control,{onChange:p=>i(p.target.files[0]),type:"file"})]}),P.jsx(Xf,{label:"Status",name:"status",value:l.status,onChange:h,placeholder:"Enter Status (active/non-active)"}),P.jsx(Yi,{variant:"primary",type:"submit",children:"Create"})]})})},yj=n=>{const{id:e,handleRemoveDocument:t,quantity:i}=n,{name:a,description:l,status:c,productImage:h}=n==null?void 0:n.product,{variant:f}=n;console.log("BK data",n);const p=Jn();Kr();const[y,_]=S.useState(null);return S.useEffect(()=>{h&&p.getImageURL(h).then(E=>_(E))},[h]),P.jsxs(Pt,{style:{width:"18rem",margin:"25px"},children:[y&&P.jsx(Pt.Img,{variant:"top",src:y,alt:a}),P.jsxs(Pt.Body,{children:[P.jsx(Pt.Title,{children:a}),P.jsx(Pt.Text,{children:l}),P.jsxs(Pt.Text,{children:["Status: ",P.jsx("strong",{children:c})]}),P.jsxs(Pt.Text,{children:["quantity: ",i]}),P.jsxs(Pt.Text,{children:["Price: ",P.jsx("strong",{children:(f==null?void 0:f.priceOriginal)||(f==null?void 0:f.priceOffer)})]}),P.jsxs(Pt.Text,{children:["Total Price: ",P.jsxs("strong",{children:["INR ",i*((f==null?void 0:f.priceOriginal)||(f==null?void 0:f.priceOffer))]})]}),P.jsx(Yi,{onClick:async()=>{await t(e),p.displayToastMessage("removed successfully!")},variant:"primary",children:"Remove"})]})]})},On=[];for(let n=0;n<256;++n)On.push((n+256).toString(16).slice(1));function vj(n,e=0){return(On[n[e+0]]+On[n[e+1]]+On[n[e+2]]+On[n[e+3]]+"-"+On[n[e+4]]+On[n[e+5]]+"-"+On[n[e+6]]+On[n[e+7]]+"-"+On[n[e+8]]+On[n[e+9]]+"-"+On[n[e+10]]+On[n[e+11]]+On[n[e+12]]+On[n[e+13]]+On[n[e+14]]+On[n[e+15]]).toLowerCase()}let mg;const _j=new Uint8Array(16);function Ej(){if(!mg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");mg=crypto.getRandomValues.bind(crypto)}return mg(_j)}const Tj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gw={randomUUID:Tj};function bj(n,e,t){var a;if(gw.randomUUID&&!n)return gw.randomUUID();n=n||{};const i=n.random??((a=n.rng)==null?void 0:a.call(n))??Ej();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,vj(i)}const wj=()=>{const n=Jn(),[e,t]=S.useState([]),[i,a]=S.useState(0),l=async()=>{await n.fetchCartWithDetails("shoppingCartItems").then(_=>t(_))},c=async _=>{await n.removeDocumentWithId("shoppingCartItems",_),await l()};S.useEffect(()=>{l()},[]);const h=()=>{const _=e.reduce((E,A)=>{var q,L;const D=((q=A==null?void 0:A.variant)==null?void 0:q.priceOffer)||((L=A==null?void 0:A.variant)==null?void 0:L.priceOriginal)||0;return E+A.quantity*D},0);a(_)};S.useEffect(()=>{e?h():a("Not found")},[e]),console.log("BK cart data",e);const f=Kr(),p=()=>bj(),y=async()=>{var _;if(e.length!==0)try{const E=await Promise.all(e.map(async q=>{const L={productId:q==null?void 0:q.productId,variantId:q==null?void 0:q.variantId,quantity:q==null?void 0:q.quantity};return console.log("BK finalItem",L),(await n.handleCreateNewDoc(L,"purchasedItems")).id})),A={orderId:p(),status:"created",finalPrice:parseFloat(i),userId:((_=n==null?void 0:n.user)==null?void 0:_.uid)||"",purchasedItems:E},D=await n.handleCreateNewDoc(A,"orders");await Promise.all(e.map(q=>n.removeDocumentWithId("shoppingCartItems",q.id))),f(`/orders/${D.id}`)}catch(E){console.error("Error placing order:",E)}};return P.jsx("div",{className:"container mt-5",children:!e||(e==null?void 0:e.length)===0?P.jsx(Uc,{variant:"info",children:"Cart Empty!"},"info"):P.jsxs(P.Fragment,{children:[P.jsx(sy,{children:e==null?void 0:e.map(_=>P.jsx(yj,{id:_.id,handleRemoveDocument:c,..._},_.id))}),P.jsxs("div",{className:"final-price",children:["final price : ",i]}),P.jsx(Yi,{onClick:()=>y(),variant:"primary",children:"Place Order"})]})})},Rj=()=>{const n=Jn(),e=Kr();return S.useEffect(()=>{n!=null&&n.user||e("/login")},[n,e]),P.jsx("div",{className:"container mt-5"})},Sj=()=>{var c;const n=Jn();Kr();const e=ey(),[t,i]=S.useState(null),[a,l]=S.useState(!0);return S.useEffect(()=>{(async()=>{try{const p=await n.getDocById(e.orderId,"orders");i(p.data())}catch(f){console.error("Error fetching order:",f)}finally{l(!1)}})()},[e.orderId,n]),a?P.jsxs("div",{className:"text-center mt-5",children:[P.jsx(vd,{animation:"border"}),P.jsx("p",{children:"Loading order details..."})]}):t?P.jsx("div",{className:"container mt-5",children:P.jsxs(Pt,{children:[P.jsx(Pt.Header,{children:P.jsxs("h4",{children:["Order ID: ",t.orderId]})}),P.jsxs(Pt.Body,{children:[P.jsxs("h5",{children:["Status: ",P.jsx("span",{className:"text-primary",children:t.status})]}),P.jsxs("h5",{children:["Final Price: ",t.finalPrice]}),P.jsxs("h6",{children:["User ID: ",t.userId]}),P.jsx("hr",{}),P.jsx("h5",{children:"Purchased Items:"}),P.jsx(ql,{children:(c=t.purchasedItems)==null?void 0:c.map((h,f)=>P.jsx(ql.Item,{children:h},f))})]})]})}):P.jsx(Uc,{variant:"danger",className:"mt-5",children:"Order not found!"})},Aj=()=>{const n=Jn(),[e,t]=S.useState([]),[i,a]=S.useState(!0),{fetchOrders:l}=Jn(),c=Kr();return S.useEffect(()=>{n!=null&&n.user||c("/login")},[n,c]),S.useEffect(()=>{(async()=>{const f=await l();console.log("Fetched Orders:",f),t(f),a(!1)})()},[]),i?P.jsxs("div",{className:"text-center mt-5",children:[P.jsx(vd,{animation:"border"}),P.jsx("p",{children:"Loading your orders..."})]}):e.length?P.jsxs("div",{className:"container mt-5",children:[P.jsx("h3",{className:"mb-4",children:"My Orders"}),e.map((h,f)=>{var p;return P.jsxs(Pt,{className:"mb-3",children:[P.jsx(Pt.Header,{children:P.jsxs("h5",{children:["Order ID: ",h.orderId]})}),P.jsxs(Pt.Body,{children:[P.jsxs("h6",{children:["Status: ",P.jsx("span",{className:"text-primary",children:h.status})]}),P.jsxs("h6",{children:["Final Price: ",h.finalPrice]}),P.jsx("hr",{}),P.jsx("h6",{children:"Purchased Items:"}),P.jsx(ql,{children:(p=h.purchasedItems)==null?void 0:p.map((y,_)=>P.jsx(ql.Item,{children:y},_))})]})]},f)})]}):P.jsx(Uc,{variant:"warning",className:"mt-5 text-center",children:"You have no orders yet."})},Cj=["Created","Preparing","Ready for Pickup","Out for Delivery","Delivered","Cancelled"],Ij=()=>{const n=Jn(),[e,t]=S.useState([]),[i,a]=S.useState(!0),l=Kr();S.useEffect(()=>{n!=null&&n.isAdmin||l("/")},[n,l]);const c=async()=>{const p=(await n.fetchAllOrders()).map(y=>({id:y.id,...y}));t(p),a(!1)};S.useEffect(()=>{c()},[n]);const h=async(f,p)=>{a(!0),await n.updateOrderStatus(f,p),await c(),a(!1)};return i?P.jsxs("div",{className:"text-center mt-5",children:[P.jsx(vd,{animation:"border"}),P.jsx("p",{children:"Loading orders..."})]}):e.length?P.jsxs("div",{className:"container mt-5",children:[P.jsx("h3",{className:"mb-4",children:"All Orders"}),e.map(f=>{var p;return P.jsxs(Pt,{className:"mb-3",children:[P.jsx(Pt.Header,{children:P.jsxs("h5",{children:["Order ID: ",f.orderId]})}),P.jsxs(Pt.Body,{children:[P.jsxs("h6",{children:["Status:",n!=null&&n.isAdmin?P.jsx(ht.Select,{value:f.status,onChange:y=>h(f.id,y.target.value),className:"ms-2 d-inline w-auto",children:Cj.map(y=>P.jsx("option",{value:y,children:y},y))}):P.jsx("span",{className:"text-primary ms-2",children:f.status})]}),P.jsxs("h6",{children:["Final Price: ",f.finalPrice]}),P.jsx("hr",{}),P.jsx("h6",{children:"Purchased Items:"}),P.jsx(ql,{children:(p=f.purchasedItems)==null?void 0:p.map((y,_)=>P.jsx(ql.Item,{children:y},_))})]})]},f.orderId)})]}):P.jsx(Uc,{variant:"warning",className:"mt-5 text-center",children:"No orders found."})};function Oj(){return P.jsxs("div",{children:[P.jsx(hj,{}),P.jsx(yV,{}),P.jsxs(ZI,{children:[P.jsx(Rr,{path:"/",element:P.jsx(Zb,{})}),P.jsx(Rr,{path:"/login",element:P.jsx(LV,{})}),P.jsx(Rr,{path:"/register",element:P.jsx(UV,{})}),P.jsx(Rr,{path:"/products",element:P.jsx(Zb,{})}),P.jsx(Rr,{path:"/products/new",element:P.jsx(gj,{})}),P.jsx(Rr,{path:"/products/:productId",element:P.jsx(mj,{})}),P.jsx(Rr,{path:"/products/:productId/variants/new",element:P.jsx(pj,{})}),P.jsx(Rr,{path:"/cart",element:P.jsx(wj,{})}),P.jsx(Rr,{path:"/payment",element:P.jsx(Rj,{})}),P.jsx(Rr,{path:"/orders",element:P.jsx(Aj,{})}),P.jsx(Rr,{path:"/orders/:orderId",element:P.jsx(Sj,{})}),P.jsx(Rr,{path:"/orders/all",element:P.jsx(Ij,{})})," "]})]})}const xj="/hotel-bites";lI.createRoot(document.getElementById("root")).render(P.jsx(bO,{basename:xj,children:P.jsx(_V,{children:P.jsx(Oj,{})})}));
