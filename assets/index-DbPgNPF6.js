(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var eI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function tI(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),t}var cp={exports:{}},Gu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function nI(){if(w0)return Gu;w0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Gu.Fragment=e,Gu.jsx=t,Gu.jsxs=t,Gu}var S0;function rI(){return S0||(S0=1,cp.exports=nI()),cp.exports}var C=rI(),fp={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function iI(){if(R0)return Ye;R0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,G={};function V(z,ue,we){this.props=z,this.context=ue,this.refs=G,this.updater=we||A}V.prototype.isReactComponent={},V.prototype.setState=function(z,ue){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ue,"setState")},V.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function H(){}H.prototype=V.prototype;function Y(z,ue,we){this.props=z,this.context=ue,this.refs=G,this.updater=we||A}var $=Y.prototype=new H;$.constructor=Y,k($,V.prototype),$.isPureReactComponent=!0;var J=Array.isArray,se={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function L(z,ue,we,ve,_e,Ue){return we=Ue.ref,{$$typeof:n,type:z,key:ue,ref:we!==void 0?we:null,props:Ue}}function P(z,ue){return L(z.type,ue,void 0,void 0,void 0,z.props)}function D(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function j(z){var ue={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(we){return ue[we]})}var F=/\/+/g;function B(z,ue){return typeof z=="object"&&z!==null&&z.key!=null?j(""+z.key):ue.toString(36)}function M(){}function Ae(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(M,M):(z.status="pending",z.then(function(ue){z.status==="pending"&&(z.status="fulfilled",z.value=ue)},function(ue){z.status==="pending"&&(z.status="rejected",z.reason=ue)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Me(z,ue,we,ve,_e){var Ue=typeof z;(Ue==="undefined"||Ue==="boolean")&&(z=null);var Fe=!1;if(z===null)Fe=!0;else switch(Ue){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(z.$$typeof){case n:case e:Fe=!0;break;case y:return Fe=z._init,Me(Fe(z._payload),ue,we,ve,_e)}}if(Fe)return _e=_e(z),Fe=ve===""?"."+B(z,0):ve,J(_e)?(we="",Fe!=null&&(we=Fe.replace(F,"$&/")+"/"),Me(_e,ue,we,"",function(Et){return Et})):_e!=null&&(D(_e)&&(_e=P(_e,we+(_e.key==null||z&&z.key===_e.key?"":(""+_e.key).replace(F,"$&/")+"/")+Fe)),ue.push(_e)),1;Fe=0;var Lt=ve===""?".":ve+":";if(J(z))for(var et=0;et<z.length;et++)ve=z[et],Ue=Lt+B(ve,et),Fe+=Me(ve,ue,we,Ue,_e);else if(et=E(z),typeof et=="function")for(z=et.call(z),et=0;!(ve=z.next()).done;)ve=ve.value,Ue=Lt+B(ve,et++),Fe+=Me(ve,ue,we,Ue,_e);else if(Ue==="object"){if(typeof z.then=="function")return Me(Ae(z),ue,we,ve,_e);throw ue=String(z),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function le(z,ue,we){if(z==null)return z;var ve=[],_e=0;return Me(z,ve,"","",function(Ue){return ue.call(we,Ue,_e++)}),ve}function Te(z){if(z._status===-1){var ue=z._result;ue=ue(),ue.then(function(we){(z._status===0||z._status===-1)&&(z._status=1,z._result=we)},function(we){(z._status===0||z._status===-1)&&(z._status=2,z._result=we)}),z._status===-1&&(z._status=0,z._result=ue)}if(z._status===1)return z._result.default;throw z._result}var ge=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function Qe(){}return Ye.Children={map:le,forEach:function(z,ue,we){le(z,function(){ue.apply(this,arguments)},we)},count:function(z){var ue=0;return le(z,function(){ue++}),ue},toArray:function(z){return le(z,function(ue){return ue})||[]},only:function(z){if(!D(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ye.Component=V,Ye.Fragment=t,Ye.Profiler=a,Ye.PureComponent=Y,Ye.StrictMode=i,Ye.Suspense=f,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Ye.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ye.cache=function(z){return function(){return z.apply(null,arguments)}},Ye.cloneElement=function(z,ue,we){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ve=k({},z.props),_e=z.key,Ue=void 0;if(ue!=null)for(Fe in ue.ref!==void 0&&(Ue=void 0),ue.key!==void 0&&(_e=""+ue.key),ue)!de.call(ue,Fe)||Fe==="key"||Fe==="__self"||Fe==="__source"||Fe==="ref"&&ue.ref===void 0||(ve[Fe]=ue[Fe]);var Fe=arguments.length-2;if(Fe===1)ve.children=we;else if(1<Fe){for(var Lt=Array(Fe),et=0;et<Fe;et++)Lt[et]=arguments[et+2];ve.children=Lt}return L(z.type,_e,void 0,void 0,Ue,ve)},Ye.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Ye.createElement=function(z,ue,we){var ve,_e={},Ue=null;if(ue!=null)for(ve in ue.key!==void 0&&(Ue=""+ue.key),ue)de.call(ue,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(_e[ve]=ue[ve]);var Fe=arguments.length-2;if(Fe===1)_e.children=we;else if(1<Fe){for(var Lt=Array(Fe),et=0;et<Fe;et++)Lt[et]=arguments[et+2];_e.children=Lt}if(z&&z.defaultProps)for(ve in Fe=z.defaultProps,Fe)_e[ve]===void 0&&(_e[ve]=Fe[ve]);return L(z,Ue,void 0,void 0,null,_e)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(z){return{$$typeof:h,render:z}},Ye.isValidElement=D,Ye.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:Te}},Ye.memo=function(z,ue){return{$$typeof:m,type:z,compare:ue===void 0?null:ue}},Ye.startTransition=function(z){var ue=se.T,we={};se.T=we;try{var ve=z(),_e=se.S;_e!==null&&_e(we,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Qe,ge)}catch(Ue){ge(Ue)}finally{se.T=ue}},Ye.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Ye.use=function(z){return se.H.use(z)},Ye.useActionState=function(z,ue,we){return se.H.useActionState(z,ue,we)},Ye.useCallback=function(z,ue){return se.H.useCallback(z,ue)},Ye.useContext=function(z){return se.H.useContext(z)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(z,ue){return se.H.useDeferredValue(z,ue)},Ye.useEffect=function(z,ue){return se.H.useEffect(z,ue)},Ye.useId=function(){return se.H.useId()},Ye.useImperativeHandle=function(z,ue,we){return se.H.useImperativeHandle(z,ue,we)},Ye.useInsertionEffect=function(z,ue){return se.H.useInsertionEffect(z,ue)},Ye.useLayoutEffect=function(z,ue){return se.H.useLayoutEffect(z,ue)},Ye.useMemo=function(z,ue){return se.H.useMemo(z,ue)},Ye.useOptimistic=function(z,ue){return se.H.useOptimistic(z,ue)},Ye.useReducer=function(z,ue,we){return se.H.useReducer(z,ue,we)},Ye.useRef=function(z){return se.H.useRef(z)},Ye.useState=function(z){return se.H.useState(z)},Ye.useSyncExternalStore=function(z,ue,we){return se.H.useSyncExternalStore(z,ue,we)},Ye.useTransition=function(){return se.H.useTransition()},Ye.version="19.0.0",Ye}var A0;function Jg(){return A0||(A0=1,fp.exports=iI()),fp.exports}var R=Jg();const ft=jh(R);var hp={exports:{}},Ku={},dp={exports:{}},mp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function sI(){return C0||(C0=1,function(n){function e(le,Te){var ge=le.length;le.push(Te);e:for(;0<ge;){var Qe=ge-1>>>1,z=le[Qe];if(0<a(z,Te))le[Qe]=Te,le[ge]=z,ge=Qe;else break e}}function t(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var Te=le[0],ge=le.pop();if(ge!==Te){le[0]=ge;e:for(var Qe=0,z=le.length,ue=z>>>1;Qe<ue;){var we=2*(Qe+1)-1,ve=le[we],_e=we+1,Ue=le[_e];if(0>a(ve,ge))_e<z&&0>a(Ue,ve)?(le[Qe]=Ue,le[_e]=ge,Qe=_e):(le[Qe]=ve,le[we]=ge,Qe=we);else if(_e<z&&0>a(Ue,ge))le[Qe]=Ue,le[_e]=ge,Qe=_e;else break e}}return Te}function a(le,Te){var ge=le.sortIndex-Te.sortIndex;return ge!==0?ge:le.id-Te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],y=1,_=null,E=3,A=!1,k=!1,G=!1,V=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function $(le){for(var Te=t(m);Te!==null;){if(Te.callback===null)i(m);else if(Te.startTime<=le)i(m),Te.sortIndex=Te.expirationTime,e(f,Te);else break;Te=t(m)}}function J(le){if(G=!1,$(le),!k)if(t(f)!==null)k=!0,Ae();else{var Te=t(m);Te!==null&&Me(J,Te.startTime-le)}}var se=!1,de=-1,L=5,P=-1;function D(){return!(n.unstable_now()-P<L)}function j(){if(se){var le=n.unstable_now();P=le;var Te=!0;try{e:{k=!1,G&&(G=!1,H(de),de=-1),A=!0;var ge=E;try{t:{for($(le),_=t(f);_!==null&&!(_.expirationTime>le&&D());){var Qe=_.callback;if(typeof Qe=="function"){_.callback=null,E=_.priorityLevel;var z=Qe(_.expirationTime<=le);if(le=n.unstable_now(),typeof z=="function"){_.callback=z,$(le),Te=!0;break t}_===t(f)&&i(f),$(le)}else i(f);_=t(f)}if(_!==null)Te=!0;else{var ue=t(m);ue!==null&&Me(J,ue.startTime-le),Te=!1}}break e}finally{_=null,E=ge,A=!1}Te=void 0}}finally{Te?F():se=!1}}}var F;if(typeof Y=="function")F=function(){Y(j)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,M=B.port2;B.port1.onmessage=j,F=function(){M.postMessage(null)}}else F=function(){V(j,0)};function Ae(){se||(se=!0,F())}function Me(le,Te){de=V(function(){le(n.unstable_now())},Te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){k||A||(k=!0,Ae())},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(le){switch(E){case 1:case 2:case 3:var Te=3;break;default:Te=E}var ge=E;E=Te;try{return le()}finally{E=ge}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,Te){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ge=E;E=le;try{return Te()}finally{E=ge}},n.unstable_scheduleCallback=function(le,Te,ge){var Qe=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Qe+ge:Qe):ge=Qe,le){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ge+z,le={id:y++,callback:Te,priorityLevel:le,startTime:ge,expirationTime:z,sortIndex:-1},ge>Qe?(le.sortIndex=ge,e(m,le),t(f)===null&&le===t(m)&&(G?(H(de),de=-1):G=!0,Me(J,ge-Qe))):(le.sortIndex=z,e(f,le),k||A||(k=!0,Ae())),le},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(le){var Te=E;return function(){var ge=E;E=Te;try{return le.apply(this,arguments)}finally{E=ge}}}}(mp)),mp}var I0;function aI(){return I0||(I0=1,dp.exports=sI()),dp.exports}var pp={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function oI(){if(O0)return Vn;O0=1;var n=Jg();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:f,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Vn.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(f,m,null,y)},Vn.flushSync=function(f){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=m,i.p=y,i.d.f()}},Vn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},Vn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Vn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:A}):y==="script"&&i.d.X(f,{crossOrigin:_,integrity:E,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Vn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},Vn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);i.d.L(f,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Vn.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},Vn.requestFormReset=function(f){i.d.r(f)},Vn.unstable_batchedUpdates=function(f,m){return f(m)},Vn.useFormState=function(f,m,y){return c.H.useFormState(f,m,y)},Vn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Vn.version="19.0.0",Vn}var x0;function yw(){if(x0)return pp.exports;x0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pp.exports=oI(),pp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function lI(){if(D0)return Ku;D0=1;var n=aI(),e=Jg(),t=yw();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),J=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function de(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var L=Symbol.for("react.client.reference");function P(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===L?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case f:return"Fragment";case h:return"Portal";case y:return"Profiler";case m:return"StrictMode";case G:return"Suspense";case V:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case A:return(r.displayName||"Context")+".Provider";case E:return(r._context.displayName||"Context")+".Consumer";case k:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case H:return s=r.displayName||null,s!==null?s:P(r.type)||"Memo";case Y:s=r._payload,r=r._init;try{return P(r(s))}catch{}}return null}var D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=Object.assign,F,B;function M(r){if(F===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);F=s&&s[1]||"",B=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+F+r+B}var Ae=!1;function Me(r,s){if(!r||Ae)return"";Ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ae){var re=ae}Reflect.construct(r,[],me)}else{try{me.call()}catch(ae){re=ae}r.call(me.prototype)}}else{try{throw Error()}catch(ae){re=ae}(me=r())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ae){if(ae&&re&&typeof ae.stack=="string")return[ae.stack,re.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],I=g[1];if(b&&I){var U=b.split(`
`),Q=I.split(`
`);for(p=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(u===U.length||p===Q.length)for(u=U.length-1,p=Q.length-1;1<=u&&0<=p&&U[u]!==Q[p];)p--;for(;1<=u&&0<=p;u--,p--)if(U[u]!==Q[p]){if(u!==1||p!==1)do if(u--,p--,0>p||U[u]!==Q[p]){var oe=`
`+U[u].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=u&&0<=p);break}}}finally{Ae=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?M(o):""}function le(r){switch(r.tag){case 26:case 27:case 5:return M(r.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 15:return r=Me(r.type,!1),r;case 11:return r=Me(r.type.render,!1),r;case 1:return r=Me(r.type,!0),r;default:return""}}function Te(r){try{var s="";do s+=le(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ge(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function Qe(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function z(r){if(ge(r)!==r)throw Error(i(188))}function ue(r){var s=r.alternate;if(!s){if(s=ge(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return z(p),r;if(g===u)return z(p),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=p,u=g;else{for(var b=!1,I=p.child;I;){if(I===o){b=!0,o=p,u=g;break}if(I===u){b=!0,u=p,o=g;break}I=I.sibling}if(!b){for(I=g.child;I;){if(I===o){b=!0,o=g,u=p;break}if(I===u){b=!0,u=g,o=p;break}I=I.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function we(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=we(r),s!==null)return s;r=r.sibling}return null}var ve=Array.isArray,_e=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ue={pending:!1,data:null,method:null,action:null},Fe=[],Lt=-1;function et(r){return{current:r}}function Et(r){0>Lt||(r.current=Fe[Lt],Fe[Lt]=null,Lt--)}function rt(r,s){Lt++,Fe[Lt]=r.current,r.current=s}var Zt=et(null),tr=et(null),pn=et(null),Fn=et(null);function dt(r,s){switch(rt(pn,s),rt(tr,r),rt(Zt,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?ZE(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=ZE(r),s=JE(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Et(Zt),rt(Zt,s)}function Pn(){Et(Zt),Et(tr),Et(pn)}function Ir(r){r.memoizedState!==null&&rt(Fn,r);var s=Zt.current,o=JE(s,r.type);s!==o&&(rt(tr,r),rt(Zt,o))}function ts(r){tr.current===r&&(Et(Zt),Et(tr)),Fn.current===r&&(Et(Fn),zu._currentValue=Ue)}var $s=Object.prototype.hasOwnProperty,ns=n.unstable_scheduleCallback,Gs=n.unstable_cancelCallback,ru=n.unstable_shouldYield,Ka=n.unstable_requestPaint,Rn=n.unstable_now,$o=n.unstable_getCurrentPriorityLevel,ne=n.unstable_ImmediatePriority,Oe=n.unstable_UserBlockingPriority,Or=n.unstable_NormalPriority,Qa=n.unstable_LowPriority,Ya=n.unstable_IdlePriority,Wa=n.log,yi=n.unstable_setDisableYieldValue,Yr=null,gn=null;function Xa(r){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Yr,r,void 0,(r.current.flags&128)===128)}catch{}}function Hn(r){if(typeof Wa=="function"&&yi(r),gn&&typeof gn.setStrictMode=="function")try{gn.setStrictMode(Yr,r)}catch{}}var yn=Math.clz32?Math.clz32:Go,rs=Math.log,Za=Math.LN2;function Go(r){return r>>>=0,r===0?32:31-(rs(r)/Za|0)|0}var mr=128,vi=4194304;function nr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function $n(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,p=r.suspendedLanes,g=r.pingedLanes,b=r.warmLanes;r=r.finishedLanes!==0;var I=o&134217727;return I!==0?(o=I&~p,o!==0?u=nr(o):(g&=I,g!==0?u=nr(g):r||(b=I&~b,b!==0&&(u=nr(b))))):(I=o&~p,I!==0?u=nr(I):g!==0?u=nr(g):r||(b=o&~b,b!==0&&(u=nr(b)))),u===0?0:s!==0&&s!==u&&!(s&p)&&(p=u&-u,b=s&-s,p>=b||p===32&&(b&4194176)!==0)?s:u}function _i(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Ks(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ja(){var r=mr;return mr<<=1,!(mr&4194176)&&(mr=128),r}function Ei(){var r=vi;return vi<<=1,!(vi&62914560)&&(vi=4194304),r}function Ti(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Dt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ko(r,s,o,u,p,g){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var I=r.entanglements,U=r.expirationTimes,Q=r.hiddenUpdates;for(o=b&~o;0<o;){var oe=31-yn(o),me=1<<oe;I[oe]=0,U[oe]=-1;var re=Q[oe];if(re!==null)for(Q[oe]=null,oe=0;oe<re.length;oe++){var ae=re[oe];ae!==null&&(ae.lane&=-536870913)}o&=~me}u!==0&&bi(r,u,0),g!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~s))}function bi(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-yn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function wi(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-yn(o),p=1<<u;p&s|r[u]&s&&(r[u]|=s),o&=~p}}function Qo(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function Qt(){var r=_e.p;return r!==0?r:(r=window.event,r===void 0?32:y0(r.type))}function Si(r,s){var o=_e.p;try{return _e.p=r,s()}finally{_e.p=o}}var xr=Math.random().toString(36).slice(2),Jt="__reactFiber$"+xr,qt="__reactProps$"+xr,Wr="__reactContainer$"+xr,Xr="__reactEvents$"+xr,Ri="__reactListeners$"+xr,Dr="__reactHandles$"+xr,eo="__reactResources$"+xr,Zr="__reactMarker$"+xr;function pr(r){delete r[Jt],delete r[qt],delete r[Xr],delete r[Ri],delete r[Dr]}function Mn(r){var s=r[Jt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Wr]||o[Jt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=n0(r);r!==null;){if(o=r[Jt])return o;r=n0(r)}return s}r=o,o=r.parentNode}return null}function Jr(r){if(r=r[Jt]||r[Wr]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Ai(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Nr(r){var s=r[eo];return s||(s=r[eo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Nt(r){r[Zr]=!0}var to=new Set,ei={};function kt(r,s){vn(r,s),vn(r+"Capture",s)}function vn(r,s){for(ei[r]=s,r=0;r<s.length;r++)to.add(s[r])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ci=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qs={},no={};function Yo(r){return $s.call(no,r)?!0:$s.call(Qs,r)?!1:Ci.test(r)?no[r]=!0:(Qs[r]=!0,!1)}function Ii(r,s,o){if(Yo(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function gr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Gn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function _n(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Wo(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function iu(r){var s=Wo(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function is(r){r._valueTracker||(r._valueTracker=iu(r))}function ro(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Wo(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function ss(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var kr=/[\n"\\]/g;function vt(r){return r.replace(kr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ti(r,s,o,u,p,g,b,I){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+_n(s)):r.value!==""+_n(s)&&(r.value=""+_n(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?Ws(r,b,_n(s)):o!=null?Ws(r,b,_n(o)):u!=null&&r.removeAttribute("value"),p==null&&g!=null&&(r.defaultChecked=!!g),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+_n(I):r.removeAttribute("name")}function Ys(r,s,o,u,p,g,b,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+_n(o):"",s=s!=null?""+_n(s):o,I||s===r.value||(r.value=s),r.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=I?r.checked:!!u,r.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function Ws(r,s,o){s==="number"&&ss(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ht(r,s,o,u){if(r=r.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<r.length;o++)p=s.hasOwnProperty("$"+r[o].value),r[o].selected!==p&&(r[o].selected=p),p&&u&&(r[o].defaultSelected=!0)}else{for(o=""+_n(o),s=null,p=0;p<r.length;p++){if(r[p].value===o){r[p].selected=!0,u&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function as(r,s,o){if(s!=null&&(s=""+_n(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+_n(o):""}function Oi(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(ve(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=_n(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function rr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xs(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||su.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function os(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&o[p]!==u&&Xs(r,p,u)}else for(var g in s)s.hasOwnProperty(g)&&Xs(r,g,s[g])}function Zs(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pr(r){return Xo.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Kn=null;function xi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ir=null,ni=null;function ri(r){var s=Jr(r);if(s&&(r=s.stateNode)){var o=r[qt]||null;e:switch(r=s.stateNode,s.type){case"input":if(ti(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var p=u[qt]||null;if(!p)throw Error(i(90));ti(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&ro(u)}break e;case"textarea":as(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ht(r,!!o.multiple,s,!1)}}}var io=!1;function Js(r,s,o){if(io)return r(s,o);io=!0;try{var u=r(s);return u}finally{if(io=!1,(ir!==null||ni!==null)&&(bf(),ir&&(s=ir,r=ni,ni=ir=null,ri(s),r)))for(s=0;s<r.length;s++)ri(r[s])}}function Di(r,s){var o=r.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var sr=!1;if(Ln)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){sr=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{sr=!1}var ar=null,ii=null,Mr=null;function ki(){if(Mr)return Mr;var r,s=ii,o=s.length,u,p="value"in ar?ar.value:ar.textContent,g=p.length;for(r=0;r<o&&s[r]===p[r];r++);var b=o-r;for(u=1;u<=b&&s[o-u]===p[g-u];u++);return Mr=p.slice(r,1<u?1-u:void 0)}function yr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Lr(){return!0}function Pi(){return!1}function Tt(r){function s(o,u,p,g,b){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(o=r[I],this[I]=o?o(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Lr:Pi,this.isPropagationStopped=Pi,this}return j(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),s}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},si=Tt(it),ai=j({},it,{view:0,detail:0}),Zo=Tt(ai),ea,ta,or,ls=j({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:At,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==or&&(or&&r.type==="mousemove"?(ea=r.screenX-or.screenX,ta=r.screenY-or.screenY):ta=ea=0,or=r),ea)},movementY:function(r){return"movementY"in r?r.movementY:ta}}),Qn=Tt(ls),Pt=j({},ls,{dataTransfer:0}),w=Tt(Pt),S=j({},ai,{relatedTarget:0}),x=Tt(S),N=j({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),q=Tt(N),W=j({},it,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Z=Tt(W),pe=j({},it,{data:0}),Ie=Tt(pe),ye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},be={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mt(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=xe[r])?!!s[r]:!1}function At(){return mt}var Ne=j({},ai,{key:function(r){if(r.key){var s=ye[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=yr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?be[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:At,charCode:function(r){return r.type==="keypress"?yr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?yr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),qe=Tt(Ne),ke=j({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ct=Tt(ke),bt=j({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:At}),Ut=Tt(bt),lr=j({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),on=Tt(lr),vr=j({},ls,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ur=Tt(vr),en=j({},it,{newState:0,oldState:0}),so=Tt(en),Fc=[9,13,27,32],Mi=Ln&&"CompositionEvent"in window,d=null;Ln&&"documentMode"in document&&(d=document.documentMode);var v=Ln&&"TextEvent"in window&&!d,T=Ln&&(!Mi||d&&8<d&&11>=d),O=" ",ee=!1;function ie(r,s){switch(r){case"keyup":return Fc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ee(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ot=!1;function ln(r,s){switch(r){case"compositionend":return Ee(s);case"keypress":return s.which!==32?null:(ee=!0,O);case"textInput":return r=s.data,r===O&&ee?null:r;default:return null}}function lt(r,s){if(ot)return r==="compositionend"||!Mi&&ie(r,s)?(r=ki(),Mr=ii=ar=null,ot=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!En[r.type]:s==="textarea"}function us(r,s,o,u){ir?ni?ni.push(u):ni=[u]:ir=u,s=Cf(s,"onChange"),0<s.length&&(o=new si("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var An=null,Li=null;function ou(r){KE(r,0)}function Hc(r){var s=Ai(r);if(ro(s))return r}function bv(r,s){if(r==="change")return s}var wv=!1;if(Ln){var Td;if(Ln){var bd="oninput"in document;if(!bd){var Sv=document.createElement("div");Sv.setAttribute("oninput","return;"),bd=typeof Sv.oninput=="function"}Td=bd}else Td=!1;wv=Td&&(!document.documentMode||9<document.documentMode)}function Rv(){An&&(An.detachEvent("onpropertychange",Av),Li=An=null)}function Av(r){if(r.propertyName==="value"&&Hc(Li)){var s=[];us(s,Li,r,xi(r)),Js(ou,s)}}function x1(r,s,o){r==="focusin"?(Rv(),An=s,Li=o,An.attachEvent("onpropertychange",Av)):r==="focusout"&&Rv()}function D1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Hc(Li)}function N1(r,s){if(r==="click")return Hc(s)}function k1(r,s){if(r==="input"||r==="change")return Hc(s)}function P1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var _r=typeof Object.is=="function"?Object.is:P1;function lu(r,s){if(_r(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!$s.call(s,p)||!_r(r[p],s[p]))return!1}return!0}function Cv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Iv(r,s){var o=Cv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Cv(o)}}function Ov(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Ov(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function xv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ss(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=ss(r.document)}return s}function wd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function M1(r,s){var o=xv(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&Ov(s.ownerDocument.documentElement,s)){if(u!==null&&wd(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var p=s.textContent.length,g=Math.min(u.start,p);u=u.end===void 0?g:Math.min(u.end,p),!o.extend&&g>u&&(p=u,u=g,g=p),p=Iv(s,g);var b=Iv(s,u);p&&b&&(o.rangeCount!==1||o.anchorNode!==p.node||o.anchorOffset!==p.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(r=r.createRange(),r.setStart(p.node,p.offset),o.removeAllRanges(),g>u?(o.addRange(r),o.extend(b.node,b.offset)):(r.setEnd(b.node,b.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var L1=Ln&&"documentMode"in document&&11>=document.documentMode,Jo=null,Sd=null,uu=null,Rd=!1;function Dv(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Rd||Jo==null||Jo!==ss(u)||(u=Jo,"selectionStart"in u&&wd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),uu&&lu(uu,u)||(uu=u,u=Cf(Sd,"onSelect"),0<u.length&&(s=new si("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Jo)))}function ao(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var el={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionrun:ao("Transition","TransitionRun"),transitionstart:ao("Transition","TransitionStart"),transitioncancel:ao("Transition","TransitionCancel"),transitionend:ao("Transition","TransitionEnd")},Ad={},Nv={};Ln&&(Nv=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function oo(r){if(Ad[r])return Ad[r];if(!el[r])return r;var s=el[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Nv)return Ad[r]=s[o];return r}var kv=oo("animationend"),Pv=oo("animationiteration"),Mv=oo("animationstart"),U1=oo("transitionrun"),V1=oo("transitionstart"),j1=oo("transitioncancel"),Lv=oo("transitionend"),Uv=new Map,Vv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function oi(r,s){Uv.set(r,s),kt(s,[r])}var Ur=[],tl=0,Cd=0;function $c(){for(var r=tl,s=Cd=tl=0;s<r;){var o=Ur[s];Ur[s++]=null;var u=Ur[s];Ur[s++]=null;var p=Ur[s];Ur[s++]=null;var g=Ur[s];if(Ur[s++]=null,u!==null&&p!==null){var b=u.pending;b===null?p.next=p:(p.next=b.next,b.next=p),u.pending=p}g!==0&&jv(o,p,g)}}function Gc(r,s,o,u){Ur[tl++]=r,Ur[tl++]=s,Ur[tl++]=o,Ur[tl++]=u,Cd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Id(r,s,o,u){return Gc(r,s,o,u),Kc(r)}function na(r,s){return Gc(r,null,null,s),Kc(r)}function jv(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var p=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(p=!0)),r=g,g=g.return;p&&s!==null&&r.tag===3&&(g=r.stateNode,p=31-yn(o),g=g.hiddenUpdates,r=g[p],r===null?g[p]=[s]:r.push(s),s.lane=o|536870912)}function Kc(r){if(50<Pu)throw Pu=0,Pm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var nl={},Bv=new WeakMap;function Vr(r,s){if(typeof r=="object"&&r!==null){var o=Bv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Te(s)},Bv.set(r,s),s)}return{value:r,source:s,stack:Te(s)}}var rl=[],il=0,Qc=null,Yc=0,jr=[],Br=0,lo=null,cs=1,fs="";function uo(r,s){rl[il++]=Yc,rl[il++]=Qc,Qc=r,Yc=s}function zv(r,s,o){jr[Br++]=cs,jr[Br++]=fs,jr[Br++]=lo,lo=r;var u=cs;r=fs;var p=32-yn(u)-1;u&=~(1<<p),o+=1;var g=32-yn(s)+p;if(30<g){var b=p-p%5;g=(u&(1<<b)-1).toString(32),u>>=b,p-=b,cs=1<<32-yn(s)+p|o<<p|u,fs=g+r}else cs=1<<g|o<<p|u,fs=r}function Od(r){r.return!==null&&(uo(r,1),zv(r,1,0))}function xd(r){for(;r===Qc;)Qc=rl[--il],rl[il]=null,Yc=rl[--il],rl[il]=null;for(;r===lo;)lo=jr[--Br],jr[Br]=null,fs=jr[--Br],jr[Br]=null,cs=jr[--Br],jr[Br]=null}var Yn=null,Cn=null,pt=!1,li=null,Ui=!1,Dd=Error(i(519));function co(r){var s=Error(i(418,""));throw hu(Vr(s,r)),Dd}function qv(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Jt]=r,s[qt]=u,o){case"dialog":st("cancel",s),st("close",s);break;case"iframe":case"object":case"embed":st("load",s);break;case"video":case"audio":for(o=0;o<Lu.length;o++)st(Lu[o],s);break;case"source":st("error",s);break;case"img":case"image":case"link":st("error",s),st("load",s);break;case"details":st("toggle",s);break;case"input":st("invalid",s),Ys(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),is(s);break;case"select":st("invalid",s);break;case"textarea":st("invalid",s),Oi(s,u.value,u.defaultValue,u.children),is(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||XE(s.textContent,o)?(u.popover!=null&&(st("beforetoggle",s),st("toggle",s)),u.onScroll!=null&&st("scroll",s),u.onScrollEnd!=null&&st("scrollend",s),u.onClick!=null&&(s.onclick=If),s=!0):s=!1,s||co(r)}function Fv(r){for(Yn=r.return;Yn;)switch(Yn.tag){case 3:case 27:Ui=!0;return;case 5:case 13:Ui=!1;return;default:Yn=Yn.return}}function cu(r){if(r!==Yn)return!1;if(!pt)return Fv(r),pt=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Xm(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&Cn&&co(r),Fv(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Cn=ci(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Cn=null}}else Cn=Yn?ci(r.stateNode.nextSibling):null;return!0}function fu(){Cn=Yn=null,pt=!1}function hu(r){li===null?li=[r]:li.push(r)}var du=Error(i(460)),Hv=Error(i(474)),Nd={then:function(){}};function $v(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Wc(){}function Gv(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Wc,Wc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===du?Error(i(483)):r;default:if(typeof s.status=="string")s.then(Wc,Wc);else{if(r=Ot,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===du?Error(i(483)):r}throw mu=s,du}}var mu=null;function Kv(){if(mu===null)throw Error(i(459));var r=mu;return mu=null,r}var sl=null,pu=0;function Xc(r){var s=pu;return pu+=1,sl===null&&(sl=[]),Gv(sl,r,s)}function gu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Zc(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Qv(r){var s=r._init;return s(r._payload)}function Yv(r){function s(X,K){if(r){var te=X.deletions;te===null?(X.deletions=[K],X.flags|=16):te.push(K)}}function o(X,K){if(!r)return null;for(;K!==null;)s(X,K),K=K.sibling;return null}function u(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function p(X,K){return X=ma(X,K),X.index=0,X.sibling=null,X}function g(X,K,te){return X.index=te,r?(te=X.alternate,te!==null?(te=te.index,te<K?(X.flags|=33554434,K):te):(X.flags|=33554434,K)):(X.flags|=1048576,K)}function b(X){return r&&X.alternate===null&&(X.flags|=33554434),X}function I(X,K,te,ce){return K===null||K.tag!==6?(K=Am(te,X.mode,ce),K.return=X,K):(K=p(K,te),K.return=X,K)}function U(X,K,te,ce){var Ce=te.type;return Ce===f?oe(X,K,te.props.children,ce,te.key):K!==null&&(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Y&&Qv(Ce)===K.type)?(K=p(K,te.props),gu(K,te),K.return=X,K):(K=yf(te.type,te.key,te.props,null,X.mode,ce),gu(K,te),K.return=X,K)}function Q(X,K,te,ce){return K===null||K.tag!==4||K.stateNode.containerInfo!==te.containerInfo||K.stateNode.implementation!==te.implementation?(K=Cm(te,X.mode,ce),K.return=X,K):(K=p(K,te.children||[]),K.return=X,K)}function oe(X,K,te,ce,Ce){return K===null||K.tag!==7?(K=To(te,X.mode,ce,Ce),K.return=X,K):(K=p(K,te),K.return=X,K)}function me(X,K,te){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Am(""+K,X.mode,te),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case c:return te=yf(K.type,K.key,K.props,null,X.mode,te),gu(te,K),te.return=X,te;case h:return K=Cm(K,X.mode,te),K.return=X,K;case Y:var ce=K._init;return K=ce(K._payload),me(X,K,te)}if(ve(K)||de(K))return K=To(K,X.mode,te,null),K.return=X,K;if(typeof K.then=="function")return me(X,Xc(K),te);if(K.$$typeof===A)return me(X,mf(X,K),te);Zc(X,K)}return null}function re(X,K,te,ce){var Ce=K!==null?K.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Ce!==null?null:I(X,K,""+te,ce);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case c:return te.key===Ce?U(X,K,te,ce):null;case h:return te.key===Ce?Q(X,K,te,ce):null;case Y:return Ce=te._init,te=Ce(te._payload),re(X,K,te,ce)}if(ve(te)||de(te))return Ce!==null?null:oe(X,K,te,ce,null);if(typeof te.then=="function")return re(X,K,Xc(te),ce);if(te.$$typeof===A)return re(X,K,mf(X,te),ce);Zc(X,te)}return null}function ae(X,K,te,ce,Ce){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return X=X.get(te)||null,I(K,X,""+ce,Ce);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case c:return X=X.get(ce.key===null?te:ce.key)||null,U(K,X,ce,Ce);case h:return X=X.get(ce.key===null?te:ce.key)||null,Q(K,X,ce,Ce);case Y:var Xe=ce._init;return ce=Xe(ce._payload),ae(X,K,te,ce,Ce)}if(ve(ce)||de(ce))return X=X.get(te)||null,oe(K,X,ce,Ce,null);if(typeof ce.then=="function")return ae(X,K,te,Xc(ce),Ce);if(ce.$$typeof===A)return ae(X,K,te,mf(K,ce),Ce);Zc(K,ce)}return null}function De(X,K,te,ce){for(var Ce=null,Xe=null,Pe=K,Ve=K=0,wn=null;Pe!==null&&Ve<te.length;Ve++){Pe.index>Ve?(wn=Pe,Pe=null):wn=Pe.sibling;var gt=re(X,Pe,te[Ve],ce);if(gt===null){Pe===null&&(Pe=wn);break}r&&Pe&&gt.alternate===null&&s(X,Pe),K=g(gt,K,Ve),Xe===null?Ce=gt:Xe.sibling=gt,Xe=gt,Pe=wn}if(Ve===te.length)return o(X,Pe),pt&&uo(X,Ve),Ce;if(Pe===null){for(;Ve<te.length;Ve++)Pe=me(X,te[Ve],ce),Pe!==null&&(K=g(Pe,K,Ve),Xe===null?Ce=Pe:Xe.sibling=Pe,Xe=Pe);return pt&&uo(X,Ve),Ce}for(Pe=u(Pe);Ve<te.length;Ve++)wn=ae(Pe,X,Ve,te[Ve],ce),wn!==null&&(r&&wn.alternate!==null&&Pe.delete(wn.key===null?Ve:wn.key),K=g(wn,K,Ve),Xe===null?Ce=wn:Xe.sibling=wn,Xe=wn);return r&&Pe.forEach(function(Ta){return s(X,Ta)}),pt&&uo(X,Ve),Ce}function $e(X,K,te,ce){if(te==null)throw Error(i(151));for(var Ce=null,Xe=null,Pe=K,Ve=K=0,wn=null,gt=te.next();Pe!==null&&!gt.done;Ve++,gt=te.next()){Pe.index>Ve?(wn=Pe,Pe=null):wn=Pe.sibling;var Ta=re(X,Pe,gt.value,ce);if(Ta===null){Pe===null&&(Pe=wn);break}r&&Pe&&Ta.alternate===null&&s(X,Pe),K=g(Ta,K,Ve),Xe===null?Ce=Ta:Xe.sibling=Ta,Xe=Ta,Pe=wn}if(gt.done)return o(X,Pe),pt&&uo(X,Ve),Ce;if(Pe===null){for(;!gt.done;Ve++,gt=te.next())gt=me(X,gt.value,ce),gt!==null&&(K=g(gt,K,Ve),Xe===null?Ce=gt:Xe.sibling=gt,Xe=gt);return pt&&uo(X,Ve),Ce}for(Pe=u(Pe);!gt.done;Ve++,gt=te.next())gt=ae(Pe,X,Ve,gt.value,ce),gt!==null&&(r&&gt.alternate!==null&&Pe.delete(gt.key===null?Ve:gt.key),K=g(gt,K,Ve),Xe===null?Ce=gt:Xe.sibling=gt,Xe=gt);return r&&Pe.forEach(function(JC){return s(X,JC)}),pt&&uo(X,Ve),Ce}function $t(X,K,te,ce){if(typeof te=="object"&&te!==null&&te.type===f&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case c:e:{for(var Ce=te.key;K!==null;){if(K.key===Ce){if(Ce=te.type,Ce===f){if(K.tag===7){o(X,K.sibling),ce=p(K,te.props.children),ce.return=X,X=ce;break e}}else if(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Y&&Qv(Ce)===K.type){o(X,K.sibling),ce=p(K,te.props),gu(ce,te),ce.return=X,X=ce;break e}o(X,K);break}else s(X,K);K=K.sibling}te.type===f?(ce=To(te.props.children,X.mode,ce,te.key),ce.return=X,X=ce):(ce=yf(te.type,te.key,te.props,null,X.mode,ce),gu(ce,te),ce.return=X,X=ce)}return b(X);case h:e:{for(Ce=te.key;K!==null;){if(K.key===Ce)if(K.tag===4&&K.stateNode.containerInfo===te.containerInfo&&K.stateNode.implementation===te.implementation){o(X,K.sibling),ce=p(K,te.children||[]),ce.return=X,X=ce;break e}else{o(X,K);break}else s(X,K);K=K.sibling}ce=Cm(te,X.mode,ce),ce.return=X,X=ce}return b(X);case Y:return Ce=te._init,te=Ce(te._payload),$t(X,K,te,ce)}if(ve(te))return De(X,K,te,ce);if(de(te)){if(Ce=de(te),typeof Ce!="function")throw Error(i(150));return te=Ce.call(te),$e(X,K,te,ce)}if(typeof te.then=="function")return $t(X,K,Xc(te),ce);if(te.$$typeof===A)return $t(X,K,mf(X,te),ce);Zc(X,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,K!==null&&K.tag===6?(o(X,K.sibling),ce=p(K,te),ce.return=X,X=ce):(o(X,K),ce=Am(te,X.mode,ce),ce.return=X,X=ce),b(X)):o(X,K)}return function(X,K,te,ce){try{pu=0;var Ce=$t(X,K,te,ce);return sl=null,Ce}catch(Pe){if(Pe===du)throw Pe;var Xe=Hr(29,Pe,null,X.mode);return Xe.lanes=ce,Xe.return=X,Xe}finally{}}}var fo=Yv(!0),Wv=Yv(!1),al=et(null),Jc=et(0);function Xv(r,s){r=bs,rt(Jc,r),rt(al,s),bs=r|s.baseLanes}function kd(){rt(Jc,bs),rt(al,al.current)}function Pd(){bs=Jc.current,Et(al),Et(Jc)}var zr=et(null),Vi=null;function ra(r){var s=r.alternate;rt(cn,cn.current&1),rt(zr,r),Vi===null&&(s===null||al.current!==null||s.memoizedState!==null)&&(Vi=r)}function Zv(r){if(r.tag===22){if(rt(cn,cn.current),rt(zr,r),Vi===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Vi=r)}}else ia()}function ia(){rt(cn,cn.current),rt(zr,zr.current)}function hs(r){Et(zr),Vi===r&&(Vi=null),Et(cn)}var cn=et(0);function ef(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var B1=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},z1=n.unstable_scheduleCallback,q1=n.unstable_NormalPriority,fn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Md(){return{controller:new B1,data:new Map,refCount:0}}function yu(r){r.refCount--,r.refCount===0&&z1(q1,function(){r.controller.abort()})}var vu=null,Ld=0,ol=0,ll=null;function F1(r,s){if(vu===null){var o=vu=[];Ld=0,ol=qm(),ll={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Ld++,s.then(Jv,Jv),s}function Jv(){if(--Ld===0&&vu!==null){ll!==null&&(ll.status="fulfilled");var r=vu;vu=null,ol=0,ll=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function H1(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var e_=D.S;D.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&F1(r,s),e_!==null&&e_(r,s)};var ho=et(null);function Ud(){var r=ho.current;return r!==null?r:Ot.pooledCache}function tf(r,s){s===null?rt(ho,ho.current):rt(ho,s.pool)}function t_(){var r=Ud();return r===null?null:{parent:fn._currentValue,pool:r}}var sa=0,We=null,wt=null,tn=null,nf=!1,ul=!1,mo=!1,rf=0,_u=0,cl=null,$1=0;function Yt(){throw Error(i(321))}function Vd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!_r(r[o],s[o]))return!1;return!0}function jd(r,s,o,u,p,g){return sa=g,We=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,D.H=r===null||r.memoizedState===null?po:aa,mo=!1,g=o(u,p),mo=!1,ul&&(g=r_(s,o,u,p)),n_(r),g}function n_(r){D.H=ji;var s=wt!==null&&wt.next!==null;if(sa=0,tn=wt=We=null,nf=!1,_u=0,cl=null,s)throw Error(i(300));r===null||Tn||(r=r.dependencies,r!==null&&df(r)&&(Tn=!0))}function r_(r,s,o,u){We=r;var p=0;do{if(ul&&(cl=null),_u=0,ul=!1,25<=p)throw Error(i(301));if(p+=1,tn=wt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}D.H=go,g=s(o,u)}while(ul);return g}function G1(){var r=D.H,s=r.useState()[0];return s=typeof s.then=="function"?Eu(s):s,r=r.useState()[0],(wt!==null?wt.memoizedState:null)!==r&&(We.flags|=1024),s}function Bd(){var r=rf!==0;return rf=0,r}function zd(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function qd(r){if(nf){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nf=!1}sa=0,tn=wt=We=null,ul=!1,_u=rf=0,cl=null}function cr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?We.memoizedState=tn=r:tn=tn.next=r,tn}function nn(){if(wt===null){var r=We.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=tn===null?We.memoizedState:tn.next;if(s!==null)tn=s,wt=r;else{if(r===null)throw We.alternate===null?Error(i(467)):Error(i(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},tn===null?We.memoizedState=tn=r:tn=tn.next=r}return tn}var sf;sf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Eu(r){var s=_u;return _u+=1,cl===null&&(cl=[]),r=Gv(cl,r,s),s=We,(tn===null?s.memoizedState:tn.next)===null&&(s=s.alternate,D.H=s===null||s.memoizedState===null?po:aa),r}function af(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Eu(r);if(r.$$typeof===A)return Un(r)}throw Error(i(438,String(r)))}function Fd(r){var s=null,o=We.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=We.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=sf(),We.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=J;return s.index++,o}function ds(r,s){return typeof s=="function"?s(r):s}function of(r){var s=nn();return Hd(s,wt,r)}function Hd(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var p=r.baseQueue,g=u.pending;if(g!==null){if(p!==null){var b=p.next;p.next=g.next,g.next=b}s.baseQueue=p=g,u.pending=null}if(g=r.baseState,p===null)r.memoizedState=g;else{s=p.next;var I=b=null,U=null,Q=s,oe=!1;do{var me=Q.lane&-536870913;if(me!==Q.lane?(ut&me)===me:(sa&me)===me){var re=Q.revertLane;if(re===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),me===ol&&(oe=!0);else if((sa&re)===re){Q=Q.next,re===ol&&(oe=!0);continue}else me={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(I=U=me,b=g):U=U.next=me,We.lanes|=re,pa|=re;me=Q.action,mo&&o(g,me),g=Q.hasEagerState?Q.eagerState:o(g,me)}else re={lane:me,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(I=U=re,b=g):U=U.next=re,We.lanes|=me,pa|=me;Q=Q.next}while(Q!==null&&Q!==s);if(U===null?b=g:U.next=I,!_r(g,r.memoizedState)&&(Tn=!0,oe&&(o=ll,o!==null)))throw o;r.memoizedState=g,r.baseState=b,r.baseQueue=U,u.lastRenderedState=g}return p===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function $d(r){var s=nn(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,p=o.pending,g=s.memoizedState;if(p!==null){o.pending=null;var b=p=p.next;do g=r(g,b.action),b=b.next;while(b!==p);_r(g,s.memoizedState)||(Tn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function i_(r,s,o){var u=We,p=nn(),g=pt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!_r((wt||p).memoizedState,o);if(b&&(p.memoizedState=o,Tn=!0),p=p.queue,Qd(o_.bind(null,u,p,r),[r]),p.getSnapshot!==s||b||tn!==null&&tn.memoizedState.tag&1){if(u.flags|=2048,fl(9,a_.bind(null,u,p,o,s),{destroy:void 0},null),Ot===null)throw Error(i(349));g||sa&60||s_(u,s,o)}return o}function s_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=We.updateQueue,s===null?(s=sf(),We.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function a_(r,s,o,u){s.value=o,s.getSnapshot=u,l_(s)&&u_(r)}function o_(r,s,o){return o(function(){l_(s)&&u_(r)})}function l_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!_r(r,o)}catch{return!0}}function u_(r){var s=na(r,2);s!==null&&Wn(s,r,2)}function Gd(r){var s=cr();if(typeof r=="function"){var o=r;if(r=o(),mo){Hn(!0);try{o()}finally{Hn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:r},s}function c_(r,s,o,u){return r.baseState=o,Hd(r,wt,typeof u=="function"?u:ds)}function K1(r,s,o,u,p){if(cf(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};D.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,f_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function f_(r,s){var o=s.action,u=s.payload,p=r.state;if(s.isTransition){var g=D.T,b={};D.T=b;try{var I=o(p,u),U=D.S;U!==null&&U(b,I),h_(r,s,I)}catch(Q){Kd(r,s,Q)}finally{D.T=g}}else try{g=o(p,u),h_(r,s,g)}catch(Q){Kd(r,s,Q)}}function h_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){d_(r,s,u)},function(u){return Kd(r,s,u)}):d_(r,s,o)}function d_(r,s,o){s.status="fulfilled",s.value=o,m_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,f_(r,o)))}function Kd(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,m_(s),s=s.next;while(s!==u)}r.action=null}function m_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function p_(r,s){return s}function g_(r,s){if(pt){var o=Ot.formState;if(o!==null){e:{var u=We;if(pt){if(Cn){t:{for(var p=Cn,g=Ui;p.nodeType!==8;){if(!g){p=null;break t}if(p=ci(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Cn=ci(p.nextSibling),u=p.data==="F!";break e}}co(u)}u=!1}u&&(s=o[0])}}return o=cr(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p_,lastRenderedState:s},o.queue=u,o=P_.bind(null,We,u),u.dispatch=o,u=Gd(!1),g=Jd.bind(null,We,!1,u.queue),u=cr(),p={state:s,dispatch:null,action:r,pending:null},u.queue=p,o=K1.bind(null,We,p,g,o),p.dispatch=o,u.memoizedState=r,[s,o,!1]}function y_(r){var s=nn();return v_(s,wt,r)}function v_(r,s,o){s=Hd(r,s,p_)[0],r=of(ds)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Eu(s):s;var u=nn(),p=u.queue,g=p.dispatch;return o!==u.memoizedState&&(We.flags|=2048,fl(9,Q1.bind(null,p,o),{destroy:void 0},null)),[s,g,r]}function Q1(r,s){r.action=s}function __(r){var s=nn(),o=wt;if(o!==null)return v_(s,o,r);nn(),s=s.memoizedState,o=nn();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function fl(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=We.updateQueue,s===null&&(s=sf(),We.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function E_(){return nn().memoizedState}function lf(r,s,o,u){var p=cr();We.flags|=r,p.memoizedState=fl(1|s,o,{destroy:void 0},u===void 0?null:u)}function uf(r,s,o,u){var p=nn();u=u===void 0?null:u;var g=p.memoizedState.inst;wt!==null&&u!==null&&Vd(u,wt.memoizedState.deps)?p.memoizedState=fl(s,o,g,u):(We.flags|=r,p.memoizedState=fl(1|s,o,g,u))}function T_(r,s){lf(8390656,8,r,s)}function Qd(r,s){uf(2048,8,r,s)}function b_(r,s){return uf(4,2,r,s)}function w_(r,s){return uf(4,4,r,s)}function S_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function R_(r,s,o){o=o!=null?o.concat([r]):null,uf(4,4,S_.bind(null,s,r),o)}function Yd(){}function A_(r,s){var o=nn();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Vd(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function C_(r,s){var o=nn();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Vd(s,u[1]))return u[0];if(u=r(),mo){Hn(!0);try{r()}finally{Hn(!1)}}return o.memoizedState=[u,s],u}function Wd(r,s,o){return o===void 0||sa&1073741824?r.memoizedState=s:(r.memoizedState=o,r=OE(),We.lanes|=r,pa|=r,o)}function I_(r,s,o,u){return _r(o,s)?o:al.current!==null?(r=Wd(r,o,u),_r(r,s)||(Tn=!0),r):sa&42?(r=OE(),We.lanes|=r,pa|=r,s):(Tn=!0,r.memoizedState=o)}function O_(r,s,o,u,p){var g=_e.p;_e.p=g!==0&&8>g?g:8;var b=D.T,I={};D.T=I,Jd(r,!1,s,o);try{var U=p(),Q=D.S;if(Q!==null&&Q(I,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var oe=H1(U,u);Tu(r,s,oe,wr(r))}else Tu(r,s,u,wr(r))}catch(me){Tu(r,s,{then:function(){},status:"rejected",reason:me},wr())}finally{_e.p=g,D.T=b}}function Y1(){}function Xd(r,s,o,u){if(r.tag!==5)throw Error(i(476));var p=x_(r).queue;O_(r,p,s,Ue,o===null?Y1:function(){return D_(r),o(u)})}function x_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Ue,baseState:Ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:Ue},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function D_(r){var s=x_(r).next.queue;Tu(r,s,{},wr())}function Zd(){return Un(zu)}function N_(){return nn().memoizedState}function k_(){return nn().memoizedState}function W1(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=wr();r=ua(o);var u=ca(s,r,o);u!==null&&(Wn(u,s,o),Su(u,s,o)),s={cache:Md()},r.payload=s;return}s=s.return}}function X1(r,s,o){var u=wr();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},cf(r)?M_(s,o):(o=Id(r,s,o,u),o!==null&&(Wn(o,r,u),L_(o,s,u)))}function P_(r,s,o){var u=wr();Tu(r,s,o,u)}function Tu(r,s,o,u){var p={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(cf(r))M_(s,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,I=g(b,o);if(p.hasEagerState=!0,p.eagerState=I,_r(I,b))return Gc(r,s,p,0),Ot===null&&$c(),!1}catch{}finally{}if(o=Id(r,s,p,u),o!==null)return Wn(o,r,u),L_(o,s,u),!0}return!1}function Jd(r,s,o,u){if(u={lane:2,revertLane:qm(),action:u,hasEagerState:!1,eagerState:null,next:null},cf(r)){if(s)throw Error(i(479))}else s=Id(r,o,u,2),s!==null&&Wn(s,r,2)}function cf(r){var s=r.alternate;return r===We||s!==null&&s===We}function M_(r,s){ul=nf=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function L_(r,s,o){if(o&4194176){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,wi(r,o)}}var ji={readContext:Un,use:af,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt};ji.useCacheRefresh=Yt,ji.useMemoCache=Yt,ji.useHostTransitionStatus=Yt,ji.useFormState=Yt,ji.useActionState=Yt,ji.useOptimistic=Yt;var po={readContext:Un,use:af,useCallback:function(r,s){return cr().memoizedState=[r,s===void 0?null:s],r},useContext:Un,useEffect:T_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,lf(4194308,4,S_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return lf(4194308,4,r,s)},useInsertionEffect:function(r,s){lf(4,2,r,s)},useMemo:function(r,s){var o=cr();s=s===void 0?null:s;var u=r();if(mo){Hn(!0);try{r()}finally{Hn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=cr();if(o!==void 0){var p=o(s);if(mo){Hn(!0);try{o(s)}finally{Hn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},u.queue=r,r=r.dispatch=X1.bind(null,We,r),[u.memoizedState,r]},useRef:function(r){var s=cr();return r={current:r},s.memoizedState=r},useState:function(r){r=Gd(r);var s=r.queue,o=P_.bind(null,We,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Yd,useDeferredValue:function(r,s){var o=cr();return Wd(o,r,s)},useTransition:function(){var r=Gd(!1);return r=O_.bind(null,We,r.queue,!0,!1),cr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=We,p=cr();if(pt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Ot===null)throw Error(i(349));ut&60||s_(u,s,o)}p.memoizedState=o;var g={value:o,getSnapshot:s};return p.queue=g,T_(o_.bind(null,u,g,r),[r]),u.flags|=2048,fl(9,a_.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var r=cr(),s=Ot.identifierPrefix;if(pt){var o=fs,u=cs;o=(u&~(1<<32-yn(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=rf++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=$1++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return cr().memoizedState=W1.bind(null,We)}};po.useMemoCache=Fd,po.useHostTransitionStatus=Zd,po.useFormState=g_,po.useActionState=g_,po.useOptimistic=function(r){var s=cr();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Jd.bind(null,We,!0,o),o.dispatch=s,[r,s]};var aa={readContext:Un,use:af,useCallback:A_,useContext:Un,useEffect:Qd,useImperativeHandle:R_,useInsertionEffect:b_,useLayoutEffect:w_,useMemo:C_,useReducer:of,useRef:E_,useState:function(){return of(ds)},useDebugValue:Yd,useDeferredValue:function(r,s){var o=nn();return I_(o,wt.memoizedState,r,s)},useTransition:function(){var r=of(ds)[0],s=nn().memoizedState;return[typeof r=="boolean"?r:Eu(r),s]},useSyncExternalStore:i_,useId:N_};aa.useCacheRefresh=k_,aa.useMemoCache=Fd,aa.useHostTransitionStatus=Zd,aa.useFormState=y_,aa.useActionState=y_,aa.useOptimistic=function(r,s){var o=nn();return c_(o,wt,r,s)};var go={readContext:Un,use:af,useCallback:A_,useContext:Un,useEffect:Qd,useImperativeHandle:R_,useInsertionEffect:b_,useLayoutEffect:w_,useMemo:C_,useReducer:$d,useRef:E_,useState:function(){return $d(ds)},useDebugValue:Yd,useDeferredValue:function(r,s){var o=nn();return wt===null?Wd(o,r,s):I_(o,wt.memoizedState,r,s)},useTransition:function(){var r=$d(ds)[0],s=nn().memoizedState;return[typeof r=="boolean"?r:Eu(r),s]},useSyncExternalStore:i_,useId:N_};go.useCacheRefresh=k_,go.useMemoCache=Fd,go.useHostTransitionStatus=Zd,go.useFormState=__,go.useActionState=__,go.useOptimistic=function(r,s){var o=nn();return wt!==null?c_(o,wt,r,s):(o.baseState=r,[r,o.queue.dispatch])};function em(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:j({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var tm={isMounted:function(r){return(r=r._reactInternals)?ge(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=wr(),p=ua(u);p.payload=s,o!=null&&(p.callback=o),s=ca(r,p,u),s!==null&&(Wn(s,r,u),Su(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=wr(),p=ua(u);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=ca(r,p,u),s!==null&&(Wn(s,r,u),Su(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=wr(),u=ua(o);u.tag=2,s!=null&&(u.callback=s),s=ca(r,u,o),s!==null&&(Wn(s,r,o),Su(s,r,o))}};function U_(r,s,o,u,p,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!lu(o,u)||!lu(p,g):!0}function V_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&tm.enqueueReplaceState(s,s.state,null)}function yo(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=j({},o));for(var p in r)o[p]===void 0&&(o[p]=r[p])}return o}var ff=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function j_(r){ff(r)}function B_(r){console.error(r)}function z_(r){ff(r)}function hf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function q_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function nm(r,s,o){return o=ua(o),o.tag=3,o.payload={element:null},o.callback=function(){hf(r,s)},o}function F_(r){return r=ua(r),r.tag=3,r}function H_(r,s,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;r.payload=function(){return p(g)},r.callback=function(){q_(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){q_(s,o,u),typeof p!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function Z1(r,s,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&wu(s,o,p,!0),o=zr.current,o!==null){switch(o.tag){case 13:return Vi===null?Um():o.alternate===null&&Ht===0&&(Ht=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Nd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),jm(r,u,p)),!1;case 22:return o.flags|=65536,u===Nd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),jm(r,u,p)),!1}throw Error(i(435,o.tag))}return jm(r,u,p),Um(),!1}if(pt)return s=zr.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Dd&&(r=Error(i(422),{cause:u}),hu(Vr(r,o)))):(u!==Dd&&(s=Error(i(423),{cause:u}),hu(Vr(s,o))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,u=Vr(u,o),p=nm(r.stateNode,u,p),ym(r,p),Ht!==4&&(Ht=2)),!1;var g=Error(i(520),{cause:u});if(g=Vr(g,o),Nu===null?Nu=[g]:Nu.push(g),Ht!==4&&(Ht=2),s===null)return!0;u=Vr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=p&-p,o.lanes|=r,r=nm(o.stateNode,u,r),ym(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ga===null||!ga.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=F_(p),H_(p,r,o,u),ym(o,p),!1}o=o.return}while(o!==null);return!1}var $_=Error(i(461)),Tn=!1;function In(r,s,o,u){s.child=r===null?Wv(s,null,o,u):fo(s,r.child,o,u)}function G_(r,s,o,u,p){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var I in u)I!=="ref"&&(b[I]=u[I])}else b=u;return _o(s),u=jd(r,s,o,b,g,p),I=Bd(),r!==null&&!Tn?(zd(r,s,p),ms(r,s,p)):(pt&&I&&Od(s),s.flags|=1,In(r,s,u,p),s.child)}function K_(r,s,o,u,p){if(r===null){var g=o.type;return typeof g=="function"&&!Rm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,Q_(r,s,g,u,p)):(r=yf(o.type,null,u,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!fm(r,p)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:lu,o(b,u)&&r.ref===s.ref)return ms(r,s,p)}return s.flags|=1,r=ma(g,u),r.ref=s.ref,r.return=s,s.child=r}function Q_(r,s,o,u,p){if(r!==null){var g=r.memoizedProps;if(lu(g,u)&&r.ref===s.ref)if(Tn=!1,s.pendingProps=u=g,fm(r,p))r.flags&131072&&(Tn=!0);else return s.lanes=r.lanes,ms(r,s,p)}return rm(r,s,o,u,p)}function Y_(r,s,o){var u=s.pendingProps,p=u.children,g=(s.stateNode._pendingVisibility&2)!==0,b=r!==null?r.memoizedState:null;if(bu(r,s),u.mode==="hidden"||g){if(s.flags&128){if(u=b!==null?b.baseLanes|o:o,r!==null){for(p=s.child=r.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return W_(r,s,u,o)}if(o&536870912)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&tf(s,b!==null?b.cachePool:null),b!==null?Xv(s,b):kd(),Zv(s);else return s.lanes=s.childLanes=536870912,W_(r,s,b!==null?b.baseLanes|o:o,o)}else b!==null?(tf(s,b.cachePool),Xv(s,b),ia(),s.memoizedState=null):(r!==null&&tf(s,null),kd(),ia());return In(r,s,p,o),s.child}function W_(r,s,o,u){var p=Ud();return p=p===null?null:{parent:fn._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},r!==null&&tf(s,null),kd(),Zv(s),r!==null&&wu(r,s,u,!0),null}function bu(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function rm(r,s,o,u,p){return _o(s),o=jd(r,s,o,u,void 0,p),u=Bd(),r!==null&&!Tn?(zd(r,s,p),ms(r,s,p)):(pt&&u&&Od(s),s.flags|=1,In(r,s,o,p),s.child)}function X_(r,s,o,u,p,g){return _o(s),s.updateQueue=null,o=r_(s,u,o,p),n_(r),u=Bd(),r!==null&&!Tn?(zd(r,s,g),ms(r,s,g)):(pt&&u&&Od(s),s.flags|=1,In(r,s,o,g),s.child)}function Z_(r,s,o,u,p){if(_o(s),s.stateNode===null){var g=nl,b=o.contextType;typeof b=="object"&&b!==null&&(g=Un(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=tm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},pm(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?Un(b):nl,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(em(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&tm.enqueueReplaceState(g,g.state,null),Au(s,u,g,p),Ru(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var I=s.memoizedProps,U=yo(o,I);g.props=U;var Q=g.context,oe=o.contextType;b=nl,typeof oe=="object"&&oe!==null&&(b=Un(oe));var me=o.getDerivedStateFromProps;oe=typeof me=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,oe||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||Q!==b)&&V_(s,g,u,b),la=!1;var re=s.memoizedState;g.state=re,Au(s,u,g,p),Ru(),Q=s.memoizedState,I||re!==Q||la?(typeof me=="function"&&(em(s,o,me,u),Q=s.memoizedState),(U=la||U_(s,o,U,u,re,Q,b))?(oe||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=b,u=U):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,gm(r,s),b=s.memoizedProps,oe=yo(o,b),g.props=oe,me=s.pendingProps,re=g.context,Q=o.contextType,U=nl,typeof Q=="object"&&Q!==null&&(U=Un(Q)),I=o.getDerivedStateFromProps,(Q=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==me||re!==U)&&V_(s,g,u,U),la=!1,re=s.memoizedState,g.state=re,Au(s,u,g,p),Ru();var ae=s.memoizedState;b!==me||re!==ae||la||r!==null&&r.dependencies!==null&&df(r.dependencies)?(typeof I=="function"&&(em(s,o,I,u),ae=s.memoizedState),(oe=la||U_(s,o,oe,u,re,ae,U)||r!==null&&r.dependencies!==null&&df(r.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ae,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ae,U)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ae),g.props=u,g.state=ae,g.context=U,u=oe):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&re===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&re===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,bu(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=fo(s,r.child,null,p),s.child=fo(s,null,o,p)):In(r,s,o,p),s.memoizedState=g.state,r=s.child):r=ms(r,s,p),r}function J_(r,s,o,u){return fu(),s.flags|=256,In(r,s,o,u),s.child}var im={dehydrated:null,treeContext:null,retryLane:0};function sm(r){return{baseLanes:r,cachePool:t_()}}function am(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=$r),r}function eE(r,s,o){var u=s.pendingProps,p=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(cn.current&2)!==0),b&&(p=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(pt){if(p?ra(s):ia(),pt){var I=Cn,U;if(U=I){e:{for(U=I,I=Ui;U.nodeType!==8;){if(!I){I=null;break e}if(U=ci(U.nextSibling),U===null){I=null;break e}}I=U}I!==null?(s.memoizedState={dehydrated:I,treeContext:lo!==null?{id:cs,overflow:fs}:null,retryLane:536870912},U=Hr(18,null,null,0),U.stateNode=I,U.return=s,s.child=U,Yn=s,Cn=null,U=!0):U=!1}U||co(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return I.data==="$!"?s.lanes=16:s.lanes=536870912,null;hs(s)}return I=u.children,u=u.fallback,p?(ia(),p=s.mode,I=lm({mode:"hidden",children:I},p),u=To(u,p,o,null),I.return=s,u.return=s,I.sibling=u,s.child=I,p=s.child,p.memoizedState=sm(o),p.childLanes=am(r,b,o),s.memoizedState=im,u):(ra(s),om(s,I))}if(U=r.memoizedState,U!==null&&(I=U.dehydrated,I!==null)){if(g)s.flags&256?(ra(s),s.flags&=-257,s=um(r,s,o)):s.memoizedState!==null?(ia(),s.child=r.child,s.flags|=128,s=null):(ia(),p=u.fallback,I=s.mode,u=lm({mode:"visible",children:u.children},I),p=To(p,I,o,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,fo(s,r.child,null,o),u=s.child,u.memoizedState=sm(o),u.childLanes=am(r,b,o),s.memoizedState=im,s=p);else if(ra(s),I.data==="$!"){if(b=I.nextSibling&&I.nextSibling.dataset,b)var Q=b.dgst;b=Q,u=Error(i(419)),u.stack="",u.digest=b,hu({value:u,source:null,stack:null}),s=um(r,s,o)}else if(Tn||wu(r,s,o,!1),b=(o&r.childLanes)!==0,Tn||b){if(b=Ot,b!==null){if(u=o&-o,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(b.suspendedLanes|o)?0:u,u!==0&&u!==U.retryLane)throw U.retryLane=u,na(r,u),Wn(b,r,u),$_}I.data==="$?"||Um(),s=um(r,s,o)}else I.data==="$?"?(s.flags|=128,s.child=r.child,s=dC.bind(null,r),I._reactRetry=s,s=null):(r=U.treeContext,Cn=ci(I.nextSibling),Yn=s,pt=!0,li=null,Ui=!1,r!==null&&(jr[Br++]=cs,jr[Br++]=fs,jr[Br++]=lo,cs=r.id,fs=r.overflow,lo=s),s=om(s,u.children),s.flags|=4096);return s}return p?(ia(),p=u.fallback,I=s.mode,U=r.child,Q=U.sibling,u=ma(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&31457280,Q!==null?p=ma(Q,p):(p=To(p,I,o,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,I=r.child.memoizedState,I===null?I=sm(o):(U=I.cachePool,U!==null?(Q=fn._currentValue,U=U.parent!==Q?{parent:Q,pool:Q}:U):U=t_(),I={baseLanes:I.baseLanes|o,cachePool:U}),p.memoizedState=I,p.childLanes=am(r,b,o),s.memoizedState=im,u):(ra(s),o=r.child,r=o.sibling,o=ma(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function om(r,s){return s=lm({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function lm(r,s){return AE(r,s,0,null)}function um(r,s,o){return fo(s,r.child,null,o),r=om(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function tE(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),dm(r.return,s,o)}function cm(r,s,o,u,p){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=p)}function nE(r,s,o){var u=s.pendingProps,p=u.revealOrder,g=u.tail;if(In(r,s,u.children,o),u=cn.current,u&2)u=u&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&tE(r,o,s);else if(r.tag===19)tE(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(rt(cn,u),p){case"forwards":for(o=s.child,p=null;o!==null;)r=o.alternate,r!==null&&ef(r)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),cm(s,!1,p,o,g);break;case"backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&ef(r)===null){s.child=p;break}r=p.sibling,p.sibling=o,o=p,p=r}cm(s,!0,o,null,g);break;case"together":cm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ms(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),pa|=s.lanes,!(o&s.childLanes))if(r!==null){if(wu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=ma(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ma(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function fm(r,s){return r.lanes&s?!0:(r=r.dependencies,!!(r!==null&&df(r)))}function J1(r,s,o){switch(s.tag){case 3:dt(s,s.stateNode.containerInfo),oa(s,fn,r.memoizedState.cache),fu();break;case 27:case 5:Ir(s);break;case 4:dt(s,s.stateNode.containerInfo);break;case 10:oa(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ra(s),s.flags|=128,null):o&s.child.childLanes?eE(r,s,o):(ra(s),r=ms(r,s,o),r!==null?r.sibling:null);ra(s);break;case 19:var p=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(wu(r,s,o,!1),u=(o&s.childLanes)!==0),p){if(u)return nE(r,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),rt(cn,cn.current),u)break;return null;case 22:case 23:return s.lanes=0,Y_(r,s,o);case 24:oa(s,fn,r.memoizedState.cache)}return ms(r,s,o)}function rE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Tn=!0;else{if(!fm(r,o)&&!(s.flags&128))return Tn=!1,J1(r,s,o);Tn=!!(r.flags&131072)}else Tn=!1,pt&&s.flags&1048576&&zv(s,Yc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,p=u._init;if(u=p(u._payload),s.type=u,typeof u=="function")Rm(u)?(r=yo(u,r),s.tag=1,s=Z_(null,s,u,r,o)):(s.tag=0,s=rm(null,s,u,r,o));else{if(u!=null){if(p=u.$$typeof,p===k){s.tag=11,s=G_(null,s,u,r,o);break e}else if(p===H){s.tag=14,s=K_(null,s,u,r,o);break e}}throw s=P(u)||u,Error(i(306,s,""))}}return s;case 0:return rm(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,p=yo(u,s.pendingProps),Z_(r,s,u,p,o);case 3:e:{if(dt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var g=s.pendingProps;p=s.memoizedState,u=p.element,gm(r,s),Au(s,g,null,o);var b=s.memoizedState;if(g=b.cache,oa(s,fn,g),g!==p.cache&&mm(s,[fn],o,!0),Ru(),g=b.element,p.isDehydrated)if(p={element:g,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=J_(r,s,g,o);break e}else if(g!==u){u=Vr(Error(i(424)),s),hu(u),s=J_(r,s,g,o);break e}else for(Cn=ci(s.stateNode.containerInfo.firstChild),Yn=s,pt=!0,li=null,Ui=!0,o=Wv(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(fu(),g===u){s=ms(r,s,o);break e}In(r,s,g,o)}s=s.child}return s;case 26:return bu(r,s),r===null?(o=a0(s.type,null,s.pendingProps,null))?s.memoizedState=o:pt||(o=s.type,r=s.pendingProps,u=Of(pn.current).createElement(o),u[Jt]=s,u[qt]=r,On(u,o,r),Nt(u),s.stateNode=u):s.memoizedState=a0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ir(s),r===null&&pt&&(u=s.stateNode=r0(s.type,s.pendingProps,pn.current),Yn=s,Ui=!0,Cn=ci(u.firstChild)),u=s.pendingProps.children,r!==null||pt?In(r,s,u,o):s.child=fo(s,null,u,o),bu(r,s),s.child;case 5:return r===null&&pt&&((p=u=Cn)&&(u=OC(u,s.type,s.pendingProps,Ui),u!==null?(s.stateNode=u,Yn=s,Cn=ci(u.firstChild),Ui=!1,p=!0):p=!1),p||co(s)),Ir(s),p=s.type,g=s.pendingProps,b=r!==null?r.memoizedProps:null,u=g.children,Xm(p,g)?u=null:b!==null&&Xm(p,b)&&(s.flags|=32),s.memoizedState!==null&&(p=jd(r,s,G1,null,null,o),zu._currentValue=p),bu(r,s),In(r,s,u,o),s.child;case 6:return r===null&&pt&&((r=o=Cn)&&(o=xC(o,s.pendingProps,Ui),o!==null?(s.stateNode=o,Yn=s,Cn=null,r=!0):r=!1),r||co(s)),null;case 13:return eE(r,s,o);case 4:return dt(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=fo(s,null,u,o):In(r,s,u,o),s.child;case 11:return G_(r,s,s.type,s.pendingProps,o);case 7:return In(r,s,s.pendingProps,o),s.child;case 8:return In(r,s,s.pendingProps.children,o),s.child;case 12:return In(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,oa(s,s.type,u.value),In(r,s,u.children,o),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,_o(s),p=Un(p),u=u(p),s.flags|=1,In(r,s,u,o),s.child;case 14:return K_(r,s,s.type,s.pendingProps,o);case 15:return Q_(r,s,s.type,s.pendingProps,o);case 19:return nE(r,s,o);case 22:return Y_(r,s,o);case 24:return _o(s),u=Un(fn),r===null?(p=Ud(),p===null&&(p=Ot,g=Md(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),s.memoizedState={parent:u,cache:p},pm(s),oa(s,fn,p)):(r.lanes&o&&(gm(r,s),Au(s,null,null,o),Ru()),p=r.memoizedState,g=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),oa(s,fn,u)):(u=g.cache,oa(s,fn,u),u!==p.cache&&mm(s,[fn],o,!0))),In(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var hm=et(null),vo=null,ps=null;function oa(r,s,o){rt(hm,s._currentValue),s._currentValue=o}function gs(r){r._currentValue=hm.current,Et(hm)}function dm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function mm(r,s,o,u){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var g=p.dependencies;if(g!==null){var b=p.child;g=g.firstContext;e:for(;g!==null;){var I=g;g=p;for(var U=0;U<s.length;U++)if(I.context===s[U]){g.lanes|=o,I=g.alternate,I!==null&&(I.lanes|=o),dm(g.return,o,r),u||(b=null);break e}g=I.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(i(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),dm(b,o,r),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===r){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function wu(r,s,o,u){r=null;for(var p=s,g=!1;p!==null;){if(!g){if(p.flags&524288)g=!0;else if(p.flags&262144)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var I=p.type;_r(p.pendingProps.value,b.value)||(r!==null?r.push(I):r=[I])}}else if(p===Fn.current){if(b=p.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(zu):r=[zu])}p=p.return}r!==null&&mm(s,r,o,u),s.flags|=262144}function df(r){for(r=r.firstContext;r!==null;){if(!_r(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function _o(r){vo=r,ps=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Un(r){return iE(vo,r)}function mf(r,s){return vo===null&&_o(r),iE(r,s)}function iE(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ps===null){if(r===null)throw Error(i(308));ps=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ps=ps.next=s;return o}var la=!1;function pm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ua(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ca(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,jt&2){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=Kc(r),jv(r,null,o),s}return Gc(r,u,s,o),Kc(r)}function Su(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,wi(r,o)}}function ym(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?p=g=s:g=g.next=s}else p=g=s;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var vm=!1;function Ru(){if(vm){var r=ll;if(r!==null)throw r}}function Au(r,s,o,u){vm=!1;var p=r.updateQueue;la=!1;var g=p.firstBaseUpdate,b=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var U=I,Q=U.next;U.next=null,b===null?g=Q:b.next=Q,b=U;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,I=oe.lastBaseUpdate,I!==b&&(I===null?oe.firstBaseUpdate=Q:I.next=Q,oe.lastBaseUpdate=U))}if(g!==null){var me=p.baseState;b=0,oe=Q=U=null,I=g;do{var re=I.lane&-536870913,ae=re!==I.lane;if(ae?(ut&re)===re:(u&re)===re){re!==0&&re===ol&&(vm=!0),oe!==null&&(oe=oe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var De=r,$e=I;re=s;var $t=o;switch($e.tag){case 1:if(De=$e.payload,typeof De=="function"){me=De.call($t,me,re);break e}me=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=$e.payload,re=typeof De=="function"?De.call($t,me,re):De,re==null)break e;me=j({},me,re);break e;case 2:la=!0}}re=I.callback,re!==null&&(r.flags|=64,ae&&(r.flags|=8192),ae=p.callbacks,ae===null?p.callbacks=[re]:ae.push(re))}else ae={lane:re,tag:I.tag,payload:I.payload,callback:I.callback,next:null},oe===null?(Q=oe=ae,U=me):oe=oe.next=ae,b|=re;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;ae=I,I=ae.next,ae.next=null,p.lastBaseUpdate=ae,p.shared.pending=null}}while(!0);oe===null&&(U=me),p.baseState=U,p.firstBaseUpdate=Q,p.lastBaseUpdate=oe,g===null&&(p.shared.lanes=0),pa|=b,r.lanes=b,r.memoizedState=me}}function sE(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function aE(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)sE(o[r],s)}function Cu(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&r)===r){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==p)}}catch(I){It(s,s.return,I)}}function fa(r,s,o){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&r)===r){var b=u.inst,I=b.destroy;if(I!==void 0){b.destroy=void 0,p=s;var U=o;try{I()}catch(Q){It(p,U,Q)}}}u=u.next}while(u!==g)}}catch(Q){It(s,s.return,Q)}}function oE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{aE(s,o)}catch(u){It(r,r.return,u)}}}function lE(r,s,o){o.props=yo(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){It(r,s,u)}}function Eo(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var p=u;break;default:p=u}typeof o=="function"?r.refCleanup=o(p):o.current=p}}catch(g){It(r,s,g)}}function Er(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){It(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){It(r,s,p)}else o.current=null}function uE(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){It(r,r.return,p)}}function cE(r,s,o){try{var u=r.stateNode;SC(u,r.type,o,s),u[qt]=s}catch(p){It(r,r.return,p)}}function fE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function _m(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||fE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Em(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=If));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Em(r,s,o),r=r.sibling;r!==null;)Em(r,s,o),r=r.sibling}function pf(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(pf(r,s,o),r=r.sibling;r!==null;)pf(r,s,o),r=r.sibling}var ys=!1,Ft=!1,Tm=!1,hE=typeof WeakSet=="function"?WeakSet:Set,bn=null,dE=!1;function eC(r,s){if(r=r.containerInfo,Ym=Mf,r=xv(r),wd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,I=-1,U=-1,Q=0,oe=0,me=r,re=null;t:for(;;){for(var ae;me!==o||p!==0&&me.nodeType!==3||(I=b+p),me!==g||u!==0&&me.nodeType!==3||(U=b+u),me.nodeType===3&&(b+=me.nodeValue.length),(ae=me.firstChild)!==null;)re=me,me=ae;for(;;){if(me===r)break t;if(re===o&&++Q===p&&(I=b),re===g&&++oe===u&&(U=b),(ae=me.nextSibling)!==null)break;me=re,re=me.parentNode}me=ae}o=I===-1||U===-1?null:{start:I,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Wm={focusedElem:r,selectionRange:o},Mf=!1,bn=s;bn!==null;)if(s=bn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,bn=r;else for(;bn!==null;){switch(s=bn,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&g!==null){r=void 0,o=s,p=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var De=yo(o.type,p,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(De,g),u.__reactInternalSnapshotBeforeUpdate=r}catch($e){It(o,o.return,$e)}}break;case 3:if(r&1024){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)ep(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ep(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,bn=r;break}bn=s.return}return De=dE,dE=!1,De}function mE(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:_s(r,o),u&4&&Cu(5,o);break;case 1:if(_s(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(I){It(o,o.return,I)}else{var p=yo(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(I){It(o,o.return,I)}}u&64&&oE(o),u&512&&Eo(o,o.return);break;case 3:if(_s(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{aE(u,r)}catch(I){It(o,o.return,I)}}break;case 26:_s(r,o),u&512&&Eo(o,o.return);break;case 27:case 5:_s(r,o),s===null&&u&4&&uE(o),u&512&&Eo(o,o.return);break;case 12:_s(r,o);break;case 13:_s(r,o),u&4&&yE(r,o);break;case 22:if(p=o.memoizedState!==null||ys,!p){s=s!==null&&s.memoizedState!==null||Ft;var g=ys,b=Ft;ys=p,(Ft=s)&&!b?ha(r,o,(o.subtreeFlags&8772)!==0):_s(r,o),ys=g,Ft=b}u&512&&(o.memoizedProps.mode==="manual"?Eo(o,o.return):Er(o,o.return));break;default:_s(r,o)}}function pE(r){var s=r.alternate;s!==null&&(r.alternate=null,pE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&pr(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var rn=null,Tr=!1;function vs(r,s,o){for(o=o.child;o!==null;)gE(r,s,o),o=o.sibling}function gE(r,s,o){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Yr,o)}catch{}switch(o.tag){case 26:Ft||Er(o,s),vs(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ft||Er(o,s);var u=rn,p=Tr;for(rn=o.stateNode,vs(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);pr(o),rn=u,Tr=p;break;case 5:Ft||Er(o,s);case 6:p=rn;var g=Tr;if(rn=null,vs(r,s,o),rn=p,Tr=g,rn!==null)if(Tr)try{r=rn,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(b){It(o,s,b)}else try{rn.removeChild(o.stateNode)}catch(b){It(o,s,b)}break;case 18:rn!==null&&(Tr?(s=rn,o=o.stateNode,s.nodeType===8?Jm(s.parentNode,o):s.nodeType===1&&Jm(s,o),$u(s)):Jm(rn,o.stateNode));break;case 4:u=rn,p=Tr,rn=o.stateNode.containerInfo,Tr=!0,vs(r,s,o),rn=u,Tr=p;break;case 0:case 11:case 14:case 15:Ft||fa(2,o,s),Ft||fa(4,o,s),vs(r,s,o);break;case 1:Ft||(Er(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&lE(o,s,u)),vs(r,s,o);break;case 21:vs(r,s,o);break;case 22:Ft||Er(o,s),Ft=(u=Ft)||o.memoizedState!==null,vs(r,s,o),Ft=u;break;default:vs(r,s,o)}}function yE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{$u(r)}catch(o){It(s,s.return,o)}}function tC(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new hE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new hE),s;default:throw Error(i(435,r.tag))}}function bm(r,s){var o=tC(r);s.forEach(function(u){var p=mC.bind(null,r,u);o.has(u)||(o.add(u),u.then(p,p))})}function qr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],g=r,b=s,I=b;e:for(;I!==null;){switch(I.tag){case 27:case 5:rn=I.stateNode,Tr=!1;break e;case 3:rn=I.stateNode.containerInfo,Tr=!0;break e;case 4:rn=I.stateNode.containerInfo,Tr=!0;break e}I=I.return}if(rn===null)throw Error(i(160));gE(g,b,p),rn=null,Tr=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)vE(s,r),s=s.sibling}var ui=null;function vE(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:qr(s,r),Fr(r),u&4&&(fa(3,r,r.return),Cu(3,r),fa(5,r,r.return));break;case 1:qr(s,r),Fr(r),u&512&&(Ft||o===null||Er(o,o.return)),u&64&&ys&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=ui;if(qr(s,r),Fr(r),u&512&&(Ft||o===null||Er(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Zr]||g[Jt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),On(g,u,o),g[Jt]=r,Nt(g),u=g;break e;case"link":var b=u0("link","href",p).get(u+(o.href||""));if(b){for(var I=0;I<b.length;I++)if(g=b[I],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(I,1);break t}}g=p.createElement(u),On(g,u,o),p.head.appendChild(g);break;case"meta":if(b=u0("meta","content",p).get(u+(o.content||""))){for(I=0;I<b.length;I++)if(g=b[I],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(I,1);break t}}g=p.createElement(u),On(g,u,o),p.head.appendChild(g);break;default:throw Error(i(468,u))}g[Jt]=r,Nt(g),u=g}r.stateNode=u}else c0(p,r.type,r.stateNode);else r.stateNode=l0(p,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?c0(p,r.type,r.stateNode):l0(p,u,r.memoizedProps)):u===null&&r.stateNode!==null&&cE(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){p=r.stateNode,g=r.memoizedProps;try{for(var U=p.firstChild;U;){var Q=U.nextSibling,oe=U.nodeName;U[Zr]||oe==="HEAD"||oe==="BODY"||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&U.rel.toLowerCase()==="stylesheet"||p.removeChild(U),U=Q}for(var me=r.type,re=p.attributes;re.length;)p.removeAttributeNode(re[0]);On(p,me,g),p[Jt]=r,p[qt]=g}catch(De){It(r,r.return,De)}}case 5:if(qr(s,r),Fr(r),u&512&&(Ft||o===null||Er(o,o.return)),r.flags&32){p=r.stateNode;try{rr(p,"")}catch(De){It(r,r.return,De)}}u&4&&r.stateNode!=null&&(p=r.memoizedProps,cE(r,p,o!==null?o.memoizedProps:p)),u&1024&&(Tm=!0);break;case 6:if(qr(s,r),Fr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(De){It(r,r.return,De)}}break;case 3:if(Nf=null,p=ui,ui=xf(s.containerInfo),qr(s,r),ui=p,Fr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{$u(s.containerInfo)}catch(De){It(r,r.return,De)}Tm&&(Tm=!1,_E(r));break;case 4:u=ui,ui=xf(r.stateNode.containerInfo),qr(s,r),Fr(r),ui=u;break;case 12:qr(s,r),Fr(r);break;case 13:qr(s,r),Fr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Dm=Rn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,bm(r,u)));break;case 22:if(u&512&&(Ft||o===null||Er(o,o.return)),U=r.memoizedState!==null,Q=o!==null&&o.memoizedState!==null,oe=ys,me=Ft,ys=oe||U,Ft=me||Q,qr(s,r),Ft=me,ys=oe,Fr(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=U?s._visibility&-2:s._visibility|1,U&&(s=ys||Ft,o===null||Q||s||hl(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){Q=o=s;try{if(p=Q.stateNode,U)g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=Q.stateNode,I=Q.memoizedProps.style;var ae=I!=null&&I.hasOwnProperty("display")?I.display:null;b.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(De){It(Q,Q.return,De)}}}else if(s.tag===6){if(o===null){Q=s;try{Q.stateNode.nodeValue=U?"":Q.memoizedProps}catch(De){It(Q,Q.return,De)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,bm(r,o))));break;case 19:qr(s,r),Fr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,bm(r,u)));break;case 21:break;default:qr(s,r),Fr(r)}}function Fr(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(fE(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var p=u.stateNode,g=_m(r);pf(r,g,p);break;case 5:var b=u.stateNode;u.flags&32&&(rr(b,""),u.flags&=-33);var I=_m(r);pf(r,I,b);break;case 3:case 4:var U=u.stateNode.containerInfo,Q=_m(r);Em(r,Q,U);break;default:throw Error(i(161))}}}catch(oe){It(r,r.return,oe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function _E(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;_E(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function _s(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)mE(r,s.alternate,s),s=s.sibling}function hl(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:fa(4,s,s.return),hl(s);break;case 1:Er(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&lE(s,s.return,o),hl(s);break;case 26:case 27:case 5:Er(s,s.return),hl(s);break;case 22:Er(s,s.return),s.memoizedState===null&&hl(s);break;default:hl(s)}r=r.sibling}}function ha(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=r,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:ha(p,g,o),Cu(4,g);break;case 1:if(ha(p,g,o),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){It(u,u.return,Q)}if(u=g,p=u.updateQueue,p!==null){var I=u.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)sE(U[p],I)}catch(Q){It(u,u.return,Q)}}o&&b&64&&oE(g),Eo(g,g.return);break;case 26:case 27:case 5:ha(p,g,o),o&&u===null&&b&4&&uE(g),Eo(g,g.return);break;case 12:ha(p,g,o);break;case 13:ha(p,g,o),o&&b&4&&yE(p,g);break;case 22:g.memoizedState===null&&ha(p,g,o),Eo(g,g.return);break;default:ha(p,g,o)}s=s.sibling}}function wm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&yu(o))}function Sm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&yu(r))}function da(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)EE(r,s,o,u),s=s.sibling}function EE(r,s,o,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:da(r,s,o,u),p&2048&&Cu(9,s);break;case 3:da(r,s,o,u),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&yu(r)));break;case 12:if(p&2048){da(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,b=g.id,I=g.onPostCommit;typeof I=="function"&&I(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){It(s,s.return,U)}}else da(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?da(r,s,o,u):Iu(r,s):g._visibility&4?da(r,s,o,u):(g._visibility|=4,dl(r,s,o,u,(s.subtreeFlags&10256)!==0)),p&2048&&wm(s.alternate,s);break;case 24:da(r,s,o,u),p&2048&&Sm(s.alternate,s);break;default:da(r,s,o,u)}}function dl(r,s,o,u,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,b=s,I=o,U=u,Q=b.flags;switch(b.tag){case 0:case 11:case 15:dl(g,b,I,U,p),Cu(8,b);break;case 23:break;case 22:var oe=b.stateNode;b.memoizedState!==null?oe._visibility&4?dl(g,b,I,U,p):Iu(g,b):(oe._visibility|=4,dl(g,b,I,U,p)),p&&Q&2048&&wm(b.alternate,b);break;case 24:dl(g,b,I,U,p),p&&Q&2048&&Sm(b.alternate,b);break;default:dl(g,b,I,U,p)}s=s.sibling}}function Iu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,p=u.flags;switch(u.tag){case 22:Iu(o,u),p&2048&&wm(u.alternate,u);break;case 24:Iu(o,u),p&2048&&Sm(u.alternate,u);break;default:Iu(o,u)}s=s.sibling}}var Ou=8192;function ml(r){if(r.subtreeFlags&Ou)for(r=r.child;r!==null;)TE(r),r=r.sibling}function TE(r){switch(r.tag){case 26:ml(r),r.flags&Ou&&r.memoizedState!==null&&FC(ui,r.memoizedState,r.memoizedProps);break;case 5:ml(r);break;case 3:case 4:var s=ui;ui=xf(r.stateNode.containerInfo),ml(r),ui=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Ou,Ou=16777216,ml(r),Ou=s):ml(r));break;default:ml(r)}}function bE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function xu(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];bn=u,SE(u,r)}bE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wE(r),r=r.sibling}function wE(r){switch(r.tag){case 0:case 11:case 15:xu(r),r.flags&2048&&fa(9,r,r.return);break;case 3:xu(r);break;case 12:xu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,gf(r)):xu(r);break;default:xu(r)}}function gf(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];bn=u,SE(u,r)}bE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:fa(8,s,s.return),gf(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,gf(s));break;default:gf(s)}r=r.sibling}}function SE(r,s){for(;bn!==null;){var o=bn;switch(o.tag){case 0:case 11:case 15:fa(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:yu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,bn=u;else e:for(o=r;bn!==null;){u=bn;var p=u.sibling,g=u.return;if(pE(u),u===o){bn=null;break e}if(p!==null){p.return=g,bn=p;break e}bn=g}}}function nC(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(r,s,o,u){return new nC(r,s,o,u)}function Rm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ma(r,s){var o=r.alternate;return o===null?(o=Hr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function RE(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function yf(r,s,o,u,p,g){var b=0;if(u=r,typeof r=="function")Rm(r)&&(b=1);else if(typeof r=="string")b=zC(r,o,Zt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case f:return To(o.children,p,g,s);case m:b=8,p|=24;break;case y:return r=Hr(12,o,s,p|2),r.elementType=y,r.lanes=g,r;case G:return r=Hr(13,o,s,p),r.elementType=G,r.lanes=g,r;case V:return r=Hr(19,o,s,p),r.elementType=V,r.lanes=g,r;case $:return AE(o,p,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:case A:b=10;break e;case E:b=9;break e;case k:b=11;break e;case H:b=14;break e;case Y:b=16,u=null;break e}b=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Hr(b,o,s,p),s.elementType=r,s.type=u,s.lanes=g,s}function To(r,s,o,u){return r=Hr(7,r,u,s),r.lanes=o,r}function AE(r,s,o,u){r=Hr(22,r,u,s),r.elementType=$,r.lanes=o;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=p._current;if(g===null)throw Error(i(456));if(!(p._pendingVisibility&2)){var b=na(g,2);b!==null&&(p._pendingVisibility|=2,Wn(b,g,2))}},attach:function(){var g=p._current;if(g===null)throw Error(i(456));if(p._pendingVisibility&2){var b=na(g,2);b!==null&&(p._pendingVisibility&=-3,Wn(b,g,2))}}};return r.stateNode=p,r}function Am(r,s,o){return r=Hr(6,r,null,s),r.lanes=o,r}function Cm(r,s,o){return s=Hr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Es(r){r.flags|=4}function CE(r,s){if(s.type!=="stylesheet"||s.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!f0(s)){if(s=zr.current,s!==null&&((ut&4194176)===ut?Vi!==null:(ut&62914560)!==ut&&!(ut&536870912)||s!==Vi))throw mu=Nd,Hv;r.flags|=8192}}function vf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Ei():536870912,r.lanes|=s,gl|=s)}function Du(r,s){if(!pt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Vt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var p=r.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&31457280,u|=p.flags&31457280,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function rC(r,s,o){var u=s.pendingProps;switch(xd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(s),null;case 1:return Vt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),gs(fn),Pn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(cu(s)?Es(s):r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,li!==null&&(Mm(li),li=null))),Vt(s),null;case 26:return o=s.memoizedState,r===null?(Es(s),o!==null?(Vt(s),CE(s,o)):(Vt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Es(s),Vt(s),CE(s,o)):(Vt(s),s.flags&=-16777217):(r.memoizedProps!==u&&Es(s),Vt(s),s.flags&=-16777217),null;case 27:ts(s),o=pn.current;var p=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Es(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Vt(s),null}r=Zt.current,cu(s)?qv(s):(r=r0(p,u,o),s.stateNode=r,Es(s))}return Vt(s),null;case 5:if(ts(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Es(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Vt(s),null}if(r=Zt.current,cu(s))qv(s);else{switch(p=Of(pn.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?p.createElement(o,{is:u.is}):p.createElement(o)}}r[Jt]=s,r[qt]=u;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=r;e:switch(On(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Es(s)}}return Vt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Es(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=pn.current,cu(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,p=Yn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}r[Jt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||XE(r.nodeValue,o)),r||co(s)}else r=Of(r).createTextNode(u),r[Jt]=s,s.stateNode=r}return Vt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=cu(s),u!==null&&u.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Jt]=s}else fu(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Vt(s),p=!1}else li!==null&&(Mm(li),li=null),p=!0;if(!p)return s.flags&256?(hs(s),s):(hs(s),null)}if(hs(s),s.flags&128)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),vf(s,s.updateQueue),Vt(s),null;case 4:return Pn(),r===null&&Gm(s.stateNode.containerInfo),Vt(s),null;case 10:return gs(s.type),Vt(s),null;case 19:if(Et(cn),p=s.memoizedState,p===null)return Vt(s),null;if(u=(s.flags&128)!==0,g=p.rendering,g===null)if(u)Du(p,!1);else{if(Ht!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(g=ef(r),g!==null){for(s.flags|=128,Du(p,!1),r=g.updateQueue,s.updateQueue=r,vf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)RE(o,r),o=o.sibling;return rt(cn,cn.current&1|2),s.child}r=r.sibling}p.tail!==null&&Rn()>_f&&(s.flags|=128,u=!0,Du(p,!1),s.lanes=4194304)}else{if(!u)if(r=ef(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,vf(s,r),Du(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!pt)return Vt(s),null}else 2*Rn()-p.renderingStartTime>_f&&o!==536870912&&(s.flags|=128,u=!0,Du(p,!1),s.lanes=4194304);p.isBackwards?(g.sibling=s.child,s.child=g):(r=p.last,r!==null?r.sibling=g:s.child=g,p.last=g)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Rn(),s.sibling=null,r=cn.current,rt(cn,u?r&1|2:r&1),s):(Vt(s),null);case 22:case 23:return hs(s),Pd(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?o&536870912&&!(s.flags&128)&&(Vt(s),s.subtreeFlags&6&&(s.flags|=8192)):Vt(s),o=s.updateQueue,o!==null&&vf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&Et(ho),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),gs(fn),Vt(s),null;case 25:return null}throw Error(i(156,s.tag))}function iC(r,s){switch(xd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return gs(fn),Pn(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ts(s),null;case 13:if(hs(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));fu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Et(cn),null;case 4:return Pn(),null;case 10:return gs(s.type),null;case 22:case 23:return hs(s),Pd(),r!==null&&Et(ho),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return gs(fn),null;case 25:return null;default:return null}}function IE(r,s){switch(xd(s),s.tag){case 3:gs(fn),Pn();break;case 26:case 27:case 5:ts(s);break;case 4:Pn();break;case 13:hs(s);break;case 19:Et(cn);break;case 10:gs(s.type);break;case 22:case 23:hs(s),Pd(),r!==null&&Et(ho);break;case 24:gs(fn)}}var sC={getCacheForType:function(r){var s=Un(fn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},aC=typeof WeakMap=="function"?WeakMap:Map,jt=0,Ot=null,Ze=null,ut=0,xt=0,br=null,Ts=!1,pl=!1,Im=!1,bs=0,Ht=0,pa=0,bo=0,Om=0,$r=0,gl=0,Nu=null,Bi=null,xm=!1,Dm=0,_f=1/0,Ef=null,ga=null,Tf=!1,wo=null,ku=0,Nm=0,km=null,Pu=0,Pm=null;function wr(){if(jt&2&&ut!==0)return ut&-ut;if(D.T!==null){var r=ol;return r!==0?r:qm()}return Qt()}function OE(){$r===0&&($r=!(ut&536870912)||pt?Ja():536870912);var r=zr.current;return r!==null&&(r.flags|=32),$r}function Wn(r,s,o){(r===Ot&&xt===2||r.cancelPendingCommit!==null)&&(yl(r,0),ws(r,ut,$r,!1)),Dt(r,o),(!(jt&2)||r!==Ot)&&(r===Ot&&(!(jt&2)&&(bo|=o),Ht===4&&ws(r,ut,$r,!1)),zi(r))}function xE(r,s,o){if(jt&6)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||_i(r,s),p=u?uC(r,s):Vm(r,s,!0),g=u;do{if(p===0){pl&&!u&&ws(r,s,0,!1);break}else if(p===6)ws(r,s,0,!Ts);else{if(o=r.current.alternate,g&&!oC(o)){p=Vm(r,s,!1),g=!1;continue}if(p===2){if(g=s,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var I=r;p=Nu;var U=I.current.memoizedState.isDehydrated;if(U&&(yl(I,b).flags|=256),b=Vm(I,b,!1),b!==2){if(Im&&!U){I.errorRecoveryDisabledLanes|=g,bo|=g,p=4;break e}g=Bi,Bi=p,g!==null&&Mm(g)}p=b}if(g=!1,p!==2)continue}}if(p===1){yl(r,0),ws(r,s,0,!0);break}e:{switch(u=r,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){ws(u,s,$r,!Ts);break e}break;case 2:Bi=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=Dm+300-Rn(),10<g)){if(ws(u,s,$r,!Ts),$n(u,0)!==0)break e;u.timeoutHandle=e0(DE.bind(null,u,o,Bi,Ef,xm,s,$r,bo,gl,Ts,2,-0,0),g);break e}DE(u,o,Bi,Ef,xm,s,$r,bo,gl,Ts,0,-0,0)}}break}while(!0);zi(r)}function Mm(r){Bi===null?Bi=r:Bi.push.apply(Bi,r)}function DE(r,s,o,u,p,g,b,I,U,Q,oe,me,re){var ae=s.subtreeFlags;if((ae&8192||(ae&16785408)===16785408)&&(Bu={stylesheets:null,count:0,unsuspend:qC},TE(s),s=HC(),s!==null)){r.cancelPendingCommit=s(VE.bind(null,r,o,u,p,b,I,U,1,me,re)),ws(r,g,b,!Q);return}VE(r,o,u,p,b,I,U,oe,me,re)}function oC(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],g=p.getSnapshot;p=p.value;try{if(!_r(g(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ws(r,s,o,u){s&=~Om,s&=~bo,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var p=s;0<p;){var g=31-yn(p),b=1<<g;u[g]=-1,p&=~b}o!==0&&bi(r,o,s)}function bf(){return jt&6?!0:(Mu(0),!1)}function Lm(){if(Ze!==null){if(xt===0)var r=Ze.return;else r=Ze,ps=vo=null,qd(r),sl=null,pu=0,r=Ze;for(;r!==null;)IE(r.alternate,r),r=r.return;Ze=null}}function yl(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,AC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Lm(),Ot=r,Ze=o=ma(r.current,null),ut=s,xt=0,br=null,Ts=!1,pl=_i(r,s),Im=!1,gl=$r=Om=bo=pa=Ht=0,Bi=Nu=null,xm=!1,s&8&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var p=31-yn(u),g=1<<p;s|=r[p],u&=~g}return bs=s,$c(),o}function NE(r,s){We=null,D.H=ji,s===du?(s=Kv(),xt=3):s===Hv?(s=Kv(),xt=4):xt=s===$_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,br=s,Ze===null&&(Ht=1,hf(r,Vr(s,r.current)))}function kE(){var r=D.H;return D.H=ji,r===null?ji:r}function PE(){var r=D.A;return D.A=sC,r}function Um(){Ht=4,Ts||(ut&4194176)!==ut&&zr.current!==null||(pl=!0),!(pa&134217727)&&!(bo&134217727)||Ot===null||ws(Ot,ut,$r,!1)}function Vm(r,s,o){var u=jt;jt|=2;var p=kE(),g=PE();(Ot!==r||ut!==s)&&(Ef=null,yl(r,s)),s=!1;var b=Ht;e:do try{if(xt!==0&&Ze!==null){var I=Ze,U=br;switch(xt){case 8:Lm(),b=6;break e;case 3:case 2:case 6:zr.current===null&&(s=!0);var Q=xt;if(xt=0,br=null,vl(r,I,U,Q),o&&pl){b=0;break e}break;default:Q=xt,xt=0,br=null,vl(r,I,U,Q)}}lC(),b=Ht;break}catch(oe){NE(r,oe)}while(!0);return s&&r.shellSuspendCounter++,ps=vo=null,jt=u,D.H=p,D.A=g,Ze===null&&(Ot=null,ut=0,$c()),b}function lC(){for(;Ze!==null;)ME(Ze)}function uC(r,s){var o=jt;jt|=2;var u=kE(),p=PE();Ot!==r||ut!==s?(Ef=null,_f=Rn()+500,yl(r,s)):pl=_i(r,s);e:do try{if(xt!==0&&Ze!==null){s=Ze;var g=br;t:switch(xt){case 1:xt=0,br=null,vl(r,s,g,1);break;case 2:if($v(g)){xt=0,br=null,LE(s);break}s=function(){xt===2&&Ot===r&&(xt=7),zi(r)},g.then(s,s);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:$v(g)?(xt=0,br=null,LE(s)):(xt=0,br=null,vl(r,s,g,7));break;case 5:var b=null;switch(Ze.tag){case 26:b=Ze.memoizedState;case 5:case 27:var I=Ze;if(!b||f0(b)){xt=0,br=null;var U=I.sibling;if(U!==null)Ze=U;else{var Q=I.return;Q!==null?(Ze=Q,wf(Q)):Ze=null}break t}}xt=0,br=null,vl(r,s,g,5);break;case 6:xt=0,br=null,vl(r,s,g,6);break;case 8:Lm(),Ht=6;break e;default:throw Error(i(462))}}cC();break}catch(oe){NE(r,oe)}while(!0);return ps=vo=null,D.H=u,D.A=p,jt=o,Ze!==null?0:(Ot=null,ut=0,$c(),Ht)}function cC(){for(;Ze!==null&&!ru();)ME(Ze)}function ME(r){var s=rE(r.alternate,r,bs);r.memoizedProps=r.pendingProps,s===null?wf(r):Ze=s}function LE(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=X_(o,s,s.pendingProps,s.type,void 0,ut);break;case 11:s=X_(o,s,s.pendingProps,s.type.render,s.ref,ut);break;case 5:qd(s);default:IE(o,s),s=Ze=RE(s,bs),s=rE(o,s,bs)}r.memoizedProps=r.pendingProps,s===null?wf(r):Ze=s}function vl(r,s,o,u){ps=vo=null,qd(s),sl=null,pu=0;var p=s.return;try{if(Z1(r,p,s,o,ut)){Ht=1,hf(r,Vr(o,r.current)),Ze=null;return}}catch(g){if(p!==null)throw Ze=p,g;Ht=1,hf(r,Vr(o,r.current)),Ze=null;return}s.flags&32768?(pt||u===1?r=!0:pl||ut&536870912?r=!1:(Ts=r=!0,(u===2||u===3||u===6)&&(u=zr.current,u!==null&&u.tag===13&&(u.flags|=16384))),UE(s,r)):wf(s)}function wf(r){var s=r;do{if(s.flags&32768){UE(s,Ts);return}r=s.return;var o=rC(s.alternate,s,bs);if(o!==null){Ze=o;return}if(s=s.sibling,s!==null){Ze=s;return}Ze=s=r}while(s!==null);Ht===0&&(Ht=5)}function UE(r,s){do{var o=iC(r.alternate,r);if(o!==null){o.flags&=32767,Ze=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ze=r;return}Ze=r=o}while(r!==null);Ht=6,Ze=null}function VE(r,s,o,u,p,g,b,I,U,Q){var oe=D.T,me=_e.p;try{_e.p=2,D.T=null,fC(r,s,o,u,me,p,g,b,I,U,Q)}finally{D.T=oe,_e.p=me}}function fC(r,s,o,u,p,g,b,I){do _l();while(wo!==null);if(jt&6)throw Error(i(327));var U=r.finishedWork;if(u=r.finishedLanes,U===null)return null;if(r.finishedWork=null,r.finishedLanes=0,U===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var Q=U.lanes|U.childLanes;if(Q|=Cd,Ko(r,u,Q,g,b,I),r===Ot&&(Ze=Ot=null,ut=0),!(U.subtreeFlags&10256)&&!(U.flags&10256)||Tf||(Tf=!0,Nm=Q,km=o,pC(Or,function(){return _l(),null})),o=(U.flags&15990)!==0,U.subtreeFlags&15990||o?(o=D.T,D.T=null,g=_e.p,_e.p=2,b=jt,jt|=4,eC(r,U),vE(U,r),M1(Wm,r.containerInfo),Mf=!!Ym,Wm=Ym=null,r.current=U,mE(r,U.alternate,U),Ka(),jt=b,_e.p=g,D.T=o):r.current=U,Tf?(Tf=!1,wo=r,ku=u):jE(r,Q),Q=r.pendingLanes,Q===0&&(ga=null),Xa(U.stateNode),zi(r),s!==null)for(p=r.onRecoverableError,U=0;U<s.length;U++)Q=s[U],p(Q.value,{componentStack:Q.stack});return ku&3&&_l(),Q=r.pendingLanes,u&4194218&&Q&42?r===Pm?Pu++:(Pu=0,Pm=r):Pu=0,Mu(0),null}function jE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,yu(s)))}function _l(){if(wo!==null){var r=wo,s=Nm;Nm=0;var o=Qo(ku),u=D.T,p=_e.p;try{if(_e.p=32>o?32:o,D.T=null,wo===null)var g=!1;else{o=km,km=null;var b=wo,I=ku;if(wo=null,ku=0,jt&6)throw Error(i(331));var U=jt;if(jt|=4,wE(b.current),EE(b,b.current,I,o),jt=U,Mu(0,!1),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Yr,b)}catch{}g=!0}return g}finally{_e.p=p,D.T=u,jE(r,s)}}return!1}function BE(r,s,o){s=Vr(o,s),s=nm(r.stateNode,s,2),r=ca(r,s,2),r!==null&&(Dt(r,2),zi(r))}function It(r,s,o){if(r.tag===3)BE(r,r,o);else for(;s!==null;){if(s.tag===3){BE(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ga===null||!ga.has(u))){r=Vr(o,r),o=F_(2),u=ca(s,o,2),u!==null&&(H_(o,u,s,r),Dt(u,2),zi(u));break}}s=s.return}}function jm(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new aC;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(o)||(Im=!0,p.add(o),r=hC.bind(null,r,s,o),s.then(r,r))}function hC(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Ot===r&&(ut&o)===o&&(Ht===4||Ht===3&&(ut&62914560)===ut&&300>Rn()-Dm?!(jt&2)&&yl(r,0):Om|=o,gl===ut&&(gl=0)),zi(r)}function zE(r,s){s===0&&(s=Ei()),r=na(r,s),r!==null&&(Dt(r,s),zi(r))}function dC(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),zE(r,o)}function mC(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,p=r.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),zE(r,o)}function pC(r,s){return ns(r,s)}var Sf=null,El=null,Bm=!1,Rf=!1,zm=!1,So=0;function zi(r){r!==El&&r.next===null&&(El===null?Sf=El=r:El=El.next=r),Rf=!0,Bm||(Bm=!0,yC(gC))}function Mu(r,s){if(!zm&&Rf){zm=!0;do for(var o=!1,u=Sf;u!==null;){if(r!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var b=u.suspendedLanes,I=u.pingedLanes;g=(1<<31-yn(42|r)+1)-1,g&=p&~(b&~I),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,HE(u,g))}else g=ut,g=$n(u,u===Ot?g:0),!(g&3)||_i(u,g)||(o=!0,HE(u,g));u=u.next}while(o);zm=!1}}function gC(){Rf=Bm=!1;var r=0;So!==0&&(RC()&&(r=So),So=0);for(var s=Rn(),o=null,u=Sf;u!==null;){var p=u.next,g=qE(u,s);g===0?(u.next=null,o===null?Sf=p:o.next=p,p===null&&(El=o)):(o=u,(r!==0||g&3)&&(Rf=!0)),u=p}Mu(r)}function qE(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-yn(g),I=1<<b,U=p[b];U===-1?(!(I&o)||I&u)&&(p[b]=Ks(I,s)):U<=s&&(r.expiredLanes|=I),g&=~I}if(s=Ot,o=ut,o=$n(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&xt===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Gs(u),r.callbackNode=null,r.callbackPriority=0;if(!(o&3)||_i(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Gs(u),Qo(o)){case 2:case 8:o=Oe;break;case 32:o=Or;break;case 268435456:o=Ya;break;default:o=Or}return u=FE.bind(null,r),o=ns(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Gs(u),r.callbackPriority=2,r.callbackNode=null,2}function FE(r,s){var o=r.callbackNode;if(_l()&&r.callbackNode!==o)return null;var u=ut;return u=$n(r,r===Ot?u:0),u===0?null:(xE(r,u,s),qE(r,Rn()),r.callbackNode!=null&&r.callbackNode===o?FE.bind(null,r):null)}function HE(r,s){if(_l())return null;xE(r,s,!0)}function yC(r){CC(function(){jt&6?ns(ne,r):r()})}function qm(){return So===0&&(So=Ja()),So}function $E(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Pr(""+r)}function GE(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function vC(r,s,o,u,p){if(s==="submit"&&o&&o.stateNode===p){var g=$E((p[qt]||null).action),b=u.submitter;b&&(s=(s=b[qt]||null)?$E(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var I=new si("action","action",null,u,p);r.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(So!==0){var U=b?GE(p,b):new FormData(p);Xd(o,{pending:!0,data:U,method:p.method,action:g},null,U)}}else typeof g=="function"&&(I.preventDefault(),U=b?GE(p,b):new FormData(p),Xd(o,{pending:!0,data:U,method:p.method,action:g},g,U))},currentTarget:p}]})}}for(var Fm=0;Fm<Vv.length;Fm++){var Hm=Vv[Fm],_C=Hm.toLowerCase(),EC=Hm[0].toUpperCase()+Hm.slice(1);oi(_C,"on"+EC)}oi(kv,"onAnimationEnd"),oi(Pv,"onAnimationIteration"),oi(Mv,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(U1,"onTransitionRun"),oi(V1,"onTransitionStart"),oi(j1,"onTransitionCancel"),oi(Lv,"onTransitionEnd"),vn("onMouseEnter",["mouseout","mouseover"]),vn("onMouseLeave",["mouseout","mouseover"]),vn("onPointerEnter",["pointerout","pointerover"]),vn("onPointerLeave",["pointerout","pointerover"]),kt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kt("onBeforeInput",["compositionend","keypress","textInput","paste"]),kt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lu));function KE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],p=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var I=u[b],U=I.instance,Q=I.currentTarget;if(I=I.listener,U!==g&&p.isPropagationStopped())break e;g=I,p.currentTarget=Q;try{g(p)}catch(oe){ff(oe)}p.currentTarget=null,g=U}else for(b=0;b<u.length;b++){if(I=u[b],U=I.instance,Q=I.currentTarget,I=I.listener,U!==g&&p.isPropagationStopped())break e;g=I,p.currentTarget=Q;try{g(p)}catch(oe){ff(oe)}p.currentTarget=null,g=U}}}}function st(r,s){var o=s[Xr];o===void 0&&(o=s[Xr]=new Set);var u=r+"__bubble";o.has(u)||(QE(s,r,2,!1),o.add(u))}function $m(r,s,o){var u=0;s&&(u|=4),QE(o,r,u,s)}var Af="_reactListening"+Math.random().toString(36).slice(2);function Gm(r){if(!r[Af]){r[Af]=!0,to.forEach(function(o){o!=="selectionchange"&&(TC.has(o)||$m(o,!1,r),$m(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Af]||(s[Af]=!0,$m("selectionchange",!1,s))}}function QE(r,s,o,u){switch(y0(s)){case 2:var p=KC;break;case 8:p=QC;break;default:p=sp}o=p.bind(null,s,o,r),p=void 0,!sr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?r.addEventListener(s,o,{capture:!0,passive:p}):r.addEventListener(s,o,!0):p!==void 0?r.addEventListener(s,o,{passive:p}):r.addEventListener(s,o,!1)}function Km(r,s,o,u,p){var g=u;if(!(s&1)&&!(s&2)&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var I=u.stateNode.containerInfo;if(I===p||I.nodeType===8&&I.parentNode===p)break;if(b===4)for(b=u.return;b!==null;){var U=b.tag;if((U===3||U===4)&&(U=b.stateNode.containerInfo,U===p||U.nodeType===8&&U.parentNode===p))return;b=b.return}for(;I!==null;){if(b=Mn(I),b===null)return;if(U=b.tag,U===5||U===6||U===26||U===27){u=g=b;continue e}I=I.parentNode}}u=u.return}Js(function(){var Q=g,oe=xi(o),me=[];e:{var re=Uv.get(r);if(re!==void 0){var ae=si,De=r;switch(r){case"keypress":if(yr(o)===0)break e;case"keydown":case"keyup":ae=qe;break;case"focusin":De="focus",ae=x;break;case"focusout":De="blur",ae=x;break;case"beforeblur":case"afterblur":ae=x;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=w;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Ut;break;case kv:case Pv:case Mv:ae=q;break;case Lv:ae=on;break;case"scroll":case"scrollend":ae=Zo;break;case"wheel":ae=ur;break;case"copy":case"cut":case"paste":ae=Z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Ct;break;case"toggle":case"beforetoggle":ae=so}var $e=(s&4)!==0,$t=!$e&&(r==="scroll"||r==="scrollend"),X=$e?re!==null?re+"Capture":null:re;$e=[];for(var K=Q,te;K!==null;){var ce=K;if(te=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||te===null||X===null||(ce=Di(K,X),ce!=null&&$e.push(Uu(K,ce,te))),$t)break;K=K.return}0<$e.length&&(re=new ae(re,De,null,o,oe),me.push({event:re,listeners:$e}))}}if(!(s&7)){e:{if(re=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",re&&o!==Kn&&(De=o.relatedTarget||o.fromElement)&&(Mn(De)||De[Wr]))break e;if((ae||re)&&(re=oe.window===oe?oe:(re=oe.ownerDocument)?re.defaultView||re.parentWindow:window,ae?(De=o.relatedTarget||o.toElement,ae=Q,De=De?Mn(De):null,De!==null&&($t=ge(De),$e=De.tag,De!==$t||$e!==5&&$e!==27&&$e!==6)&&(De=null)):(ae=null,De=Q),ae!==De)){if($e=Qn,ce="onMouseLeave",X="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&($e=Ct,ce="onPointerLeave",X="onPointerEnter",K="pointer"),$t=ae==null?re:Ai(ae),te=De==null?re:Ai(De),re=new $e(ce,K+"leave",ae,o,oe),re.target=$t,re.relatedTarget=te,ce=null,Mn(oe)===Q&&($e=new $e(X,K+"enter",De,o,oe),$e.target=te,$e.relatedTarget=$t,ce=$e),$t=ce,ae&&De)t:{for($e=ae,X=De,K=0,te=$e;te;te=Tl(te))K++;for(te=0,ce=X;ce;ce=Tl(ce))te++;for(;0<K-te;)$e=Tl($e),K--;for(;0<te-K;)X=Tl(X),te--;for(;K--;){if($e===X||X!==null&&$e===X.alternate)break t;$e=Tl($e),X=Tl(X)}$e=null}else $e=null;ae!==null&&YE(me,re,ae,$e,!1),De!==null&&$t!==null&&YE(me,$t,De,$e,!0)}}e:{if(re=Q?Ai(Q):window,ae=re.nodeName&&re.nodeName.toLowerCase(),ae==="select"||ae==="input"&&re.type==="file")var Ce=bv;else if(un(re))if(wv)Ce=k1;else{Ce=D1;var Xe=x1}else ae=re.nodeName,!ae||ae.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?Q&&Zs(Q.elementType)&&(Ce=bv):Ce=N1;if(Ce&&(Ce=Ce(r,Q))){us(me,Ce,o,oe);break e}Xe&&Xe(r,re,Q),r==="focusout"&&Q&&re.type==="number"&&Q.memoizedProps.value!=null&&Ws(re,"number",re.value)}switch(Xe=Q?Ai(Q):window,r){case"focusin":(un(Xe)||Xe.contentEditable==="true")&&(Jo=Xe,Sd=Q,uu=null);break;case"focusout":uu=Sd=Jo=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,Dv(me,o,oe);break;case"selectionchange":if(L1)break;case"keydown":case"keyup":Dv(me,o,oe)}var Pe;if(Mi)e:{switch(r){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ot?ie(r,o)&&(Ve="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ve="onCompositionStart");Ve&&(T&&o.locale!=="ko"&&(ot||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ot&&(Pe=ki()):(ar=oe,ii="value"in ar?ar.value:ar.textContent,ot=!0)),Xe=Cf(Q,Ve),0<Xe.length&&(Ve=new Ie(Ve,r,null,o,oe),me.push({event:Ve,listeners:Xe}),Pe?Ve.data=Pe:(Pe=Ee(o),Pe!==null&&(Ve.data=Pe)))),(Pe=v?ln(r,o):lt(r,o))&&(Ve=Cf(Q,"onBeforeInput"),0<Ve.length&&(Xe=new Ie("onBeforeInput","beforeinput",null,o,oe),me.push({event:Xe,listeners:Ve}),Xe.data=Pe)),vC(me,r,Q,o,oe)}KE(me,s)})}function Uu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Cf(r,s){for(var o=s+"Capture",u=[];r!==null;){var p=r,g=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Di(r,o),p!=null&&u.unshift(Uu(r,p,g)),p=Di(r,s),p!=null&&u.push(Uu(r,p,g))),r=r.return}return u}function Tl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function YE(r,s,o,u,p){for(var g=s._reactName,b=[];o!==null&&o!==u;){var I=o,U=I.alternate,Q=I.stateNode;if(I=I.tag,U!==null&&U===u)break;I!==5&&I!==26&&I!==27||Q===null||(U=Q,p?(Q=Di(o,g),Q!=null&&b.unshift(Uu(o,Q,U))):p||(Q=Di(o,g),Q!=null&&b.push(Uu(o,Q,U)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var bC=/\r\n?/g,wC=/\u0000|\uFFFD/g;function WE(r){return(typeof r=="string"?r:""+r).replace(bC,`
`).replace(wC,"")}function XE(r,s){return s=WE(s),WE(r)===s}function If(){}function St(r,s,o,u,p,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||rr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&rr(r,""+u);break;case"className":gr(r,"class",u);break;case"tabIndex":gr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":gr(r,o,u);break;case"style":os(r,u,g);break;case"data":if(s!=="object"){gr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Pr(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&St(r,s,"name",p.name,p,null),St(r,s,"formEncType",p.formEncType,p,null),St(r,s,"formMethod",p.formMethod,p,null),St(r,s,"formTarget",p.formTarget,p,null)):(St(r,s,"encType",p.encType,p,null),St(r,s,"method",p.method,p,null),St(r,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Pr(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=If);break;case"onScroll":u!=null&&st("scroll",r);break;case"onScrollEnd":u!=null&&st("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Pr(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":st("beforetoggle",r),st("toggle",r),Ii(r,"popover",u);break;case"xlinkActuate":Gn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Gn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Gn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Gn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Gn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Gn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Gn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Gn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Gn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ii(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=au.get(o)||o,Ii(r,o,u))}}function Qm(r,s,o,u,p,g){switch(o){case"style":os(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?rr(r,u):(typeof u=="number"||typeof u=="bigint")&&rr(r,""+u);break;case"onScroll":u!=null&&st("scroll",r);break;case"onScrollEnd":u!=null&&st("scrollend",r);break;case"onClick":u!=null&&(r.onclick=If);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ei.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),g=r[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,p);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Ii(r,o,u)}}}function On(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",r),st("load",r);var u=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:St(r,s,g,b,o,null)}}p&&St(r,s,"srcSet",o.srcSet,o,null),u&&St(r,s,"src",o.src,o,null);return;case"input":st("invalid",r);var I=g=b=p=null,U=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var oe=o[u];if(oe!=null)switch(u){case"name":p=oe;break;case"type":b=oe;break;case"checked":U=oe;break;case"defaultChecked":Q=oe;break;case"value":g=oe;break;case"defaultValue":I=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,s));break;default:St(r,s,u,oe,o,null)}}Ys(r,g,I,U,Q,b,p,!1),is(r);return;case"select":st("invalid",r),u=b=g=null;for(p in o)if(o.hasOwnProperty(p)&&(I=o[p],I!=null))switch(p){case"value":g=I;break;case"defaultValue":b=I;break;case"multiple":u=I;default:St(r,s,p,I,o,null)}s=g,o=b,r.multiple=!!u,s!=null?ht(r,!!u,s,!1):o!=null&&ht(r,!!u,o,!0);return;case"textarea":st("invalid",r),g=p=u=null;for(b in o)if(o.hasOwnProperty(b)&&(I=o[b],I!=null))switch(b){case"value":u=I;break;case"defaultValue":p=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:St(r,s,b,I,o,null)}Oi(r,u,p,g),is(r);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:St(r,s,U,u,o,null)}return;case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":st("load",r);break;case"video":case"audio":for(u=0;u<Lu.length;u++)st(Lu[u],r);break;case"image":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"embed":case"source":case"link":st("error",r),st("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:St(r,s,Q,u,o,null)}return;default:if(Zs(s)){for(oe in o)o.hasOwnProperty(oe)&&(u=o[oe],u!==void 0&&Qm(r,s,oe,u,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(u=o[I],u!=null&&St(r,s,I,u,o,null))}function SC(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,b=null,I=null,U=null,Q=null,oe=null;for(ae in o){var me=o[ae];if(o.hasOwnProperty(ae)&&me!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":U=me;default:u.hasOwnProperty(ae)||St(r,s,ae,null,u,me)}}for(var re in u){var ae=u[re];if(me=o[re],u.hasOwnProperty(re)&&(ae!=null||me!=null))switch(re){case"type":g=ae;break;case"name":p=ae;break;case"checked":Q=ae;break;case"defaultChecked":oe=ae;break;case"value":b=ae;break;case"defaultValue":I=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,s));break;default:ae!==me&&St(r,s,re,ae,u,me)}}ti(r,b,I,U,Q,oe,g,p);return;case"select":ae=b=I=re=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":ae=U;default:u.hasOwnProperty(g)||St(r,s,g,null,u,U)}for(p in u)if(g=u[p],U=o[p],u.hasOwnProperty(p)&&(g!=null||U!=null))switch(p){case"value":re=g;break;case"defaultValue":I=g;break;case"multiple":b=g;default:g!==U&&St(r,s,p,g,u,U)}s=I,o=b,u=ae,re!=null?ht(r,!!o,re,!1):!!u!=!!o&&(s!=null?ht(r,!!o,s,!0):ht(r,!!o,o?[]:"",!1));return;case"textarea":ae=re=null;for(I in o)if(p=o[I],o.hasOwnProperty(I)&&p!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:St(r,s,I,null,u,p)}for(b in u)if(p=u[b],g=o[b],u.hasOwnProperty(b)&&(p!=null||g!=null))switch(b){case"value":re=p;break;case"defaultValue":ae=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&St(r,s,b,p,u,g)}as(r,re,ae);return;case"option":for(var De in o)if(re=o[De],o.hasOwnProperty(De)&&re!=null&&!u.hasOwnProperty(De))switch(De){case"selected":r.selected=!1;break;default:St(r,s,De,null,u,re)}for(U in u)if(re=u[U],ae=o[U],u.hasOwnProperty(U)&&re!==ae&&(re!=null||ae!=null))switch(U){case"selected":r.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:St(r,s,U,re,u,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in o)re=o[$e],o.hasOwnProperty($e)&&re!=null&&!u.hasOwnProperty($e)&&St(r,s,$e,null,u,re);for(Q in u)if(re=u[Q],ae=o[Q],u.hasOwnProperty(Q)&&re!==ae&&(re!=null||ae!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:St(r,s,Q,re,u,ae)}return;default:if(Zs(s)){for(var $t in o)re=o[$t],o.hasOwnProperty($t)&&re!==void 0&&!u.hasOwnProperty($t)&&Qm(r,s,$t,void 0,u,re);for(oe in u)re=u[oe],ae=o[oe],!u.hasOwnProperty(oe)||re===ae||re===void 0&&ae===void 0||Qm(r,s,oe,re,u,ae);return}}for(var X in o)re=o[X],o.hasOwnProperty(X)&&re!=null&&!u.hasOwnProperty(X)&&St(r,s,X,null,u,re);for(me in u)re=u[me],ae=o[me],!u.hasOwnProperty(me)||re===ae||re==null&&ae==null||St(r,s,me,re,u,ae)}var Ym=null,Wm=null;function Of(r){return r.nodeType===9?r:r.ownerDocument}function ZE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Xm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zm=null;function RC(){var r=window.event;return r&&r.type==="popstate"?r===Zm?!1:(Zm=r,!0):(Zm=null,!1)}var e0=typeof setTimeout=="function"?setTimeout:void 0,AC=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,CC=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(r){return t0.resolve(null).then(r).catch(IC)}:e0;function IC(r){setTimeout(function(){throw r})}function Jm(r,s){var o=s,u=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(u===0){r.removeChild(p),$u(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=p}while(o);$u(s)}function ep(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ep(o),pr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function OC(r,s,o,u){for(;r.nodeType===1;){var p=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Zr])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==p.rel||r.getAttribute("href")!==(p.href==null?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=ci(r.nextSibling),r===null)break}return null}function xC(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ci(r.nextSibling),r===null))return null;return r}function ci(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function n0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function r0(r,s,o){switch(s=Of(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var Gr=new Map,i0=new Set;function xf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Ss=_e.d;_e.d={f:DC,r:NC,D:kC,C:PC,L:MC,m:LC,X:VC,S:UC,M:jC};function DC(){var r=Ss.f(),s=bf();return r||s}function NC(r){var s=Jr(r);s!==null&&s.tag===5&&s.type==="form"?D_(s):Ss.r(r)}var bl=typeof document>"u"?null:document;function s0(r,s,o){var u=bl;if(u&&typeof s=="string"&&s){var p=vt(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),i0.has(p)||(i0.add(p),r={rel:r,crossOrigin:o,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),On(s,"link",r),Nt(s),u.head.appendChild(s)))}}function kC(r){Ss.D(r),s0("dns-prefetch",r,null)}function PC(r,s){Ss.C(r,s),s0("preconnect",r,s)}function MC(r,s,o){Ss.L(r,s,o);var u=bl;if(u&&r&&s){var p='link[rel="preload"][as="'+vt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+vt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+vt(o.imageSizes)+'"]')):p+='[href="'+vt(r)+'"]';var g=p;switch(s){case"style":g=wl(r);break;case"script":g=Sl(r)}Gr.has(g)||(r=j({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Gr.set(g,r),u.querySelector(p)!==null||s==="style"&&u.querySelector(Vu(g))||s==="script"&&u.querySelector(ju(g))||(s=u.createElement("link"),On(s,"link",r),Nt(s),u.head.appendChild(s)))}}function LC(r,s){Ss.m(r,s);var o=bl;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+vt(u)+'"][href="'+vt(r)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Sl(r)}if(!Gr.has(g)&&(r=j({rel:"modulepreload",href:r},s),Gr.set(g,r),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ju(g)))return}u=o.createElement("link"),On(u,"link",r),Nt(u),o.head.appendChild(u)}}}function UC(r,s,o){Ss.S(r,s,o);var u=bl;if(u&&r){var p=Nr(u).hoistableStyles,g=wl(r);s=s||"default";var b=p.get(g);if(!b){var I={loading:0,preload:null};if(b=u.querySelector(Vu(g)))I.loading=5;else{r=j({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Gr.get(g))&&tp(r,o);var U=b=u.createElement("link");Nt(U),On(U,"link",r),U._p=new Promise(function(Q,oe){U.onload=Q,U.onerror=oe}),U.addEventListener("load",function(){I.loading|=1}),U.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Df(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:I},p.set(g,b)}}}function VC(r,s){Ss.X(r,s);var o=bl;if(o&&r){var u=Nr(o).hoistableScripts,p=Sl(r),g=u.get(p);g||(g=o.querySelector(ju(p)),g||(r=j({src:r,async:!0},s),(s=Gr.get(p))&&np(r,s),g=o.createElement("script"),Nt(g),On(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function jC(r,s){Ss.M(r,s);var o=bl;if(o&&r){var u=Nr(o).hoistableScripts,p=Sl(r),g=u.get(p);g||(g=o.querySelector(ju(p)),g||(r=j({src:r,async:!0,type:"module"},s),(s=Gr.get(p))&&np(r,s),g=o.createElement("script"),Nt(g),On(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function a0(r,s,o,u){var p=(p=pn.current)?xf(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=wl(o.href),o=Nr(p).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=wl(o.href);var g=Nr(p).hoistableStyles,b=g.get(r);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=p.querySelector(Vu(r)))&&!g._p&&(b.instance=g,b.state.loading=5),Gr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Gr.set(r,o),g||BC(p,r,o,b.state))),s&&u===null)throw Error(i(528,""));return b}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Sl(o),o=Nr(p).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function wl(r){return'href="'+vt(r)+'"'}function Vu(r){return'link[rel="stylesheet"]['+r+"]"}function o0(r){return j({},r,{"data-precedence":r.precedence,precedence:null})}function BC(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),On(s,"link",o),Nt(s),r.head.appendChild(s))}function Sl(r){return'[src="'+vt(r)+'"]'}function ju(r){return"script[async]"+r}function l0(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+vt(o.href)+'"]');if(u)return s.instance=u,Nt(u),u;var p=j({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Nt(u),On(u,"style",p),Df(u,o.precedence,r),s.instance=u;case"stylesheet":p=wl(o.href);var g=r.querySelector(Vu(p));if(g)return s.state.loading|=4,s.instance=g,Nt(g),g;u=o0(o),(p=Gr.get(p))&&tp(u,p),g=(r.ownerDocument||r).createElement("link"),Nt(g);var b=g;return b._p=new Promise(function(I,U){b.onload=I,b.onerror=U}),On(g,"link",u),s.state.loading|=4,Df(g,o.precedence,r),s.instance=g;case"script":return g=Sl(o.src),(p=r.querySelector(ju(g)))?(s.instance=p,Nt(p),p):(u=o,(p=Gr.get(g))&&(u=j({},o),np(u,p)),r=r.ownerDocument||r,p=r.createElement("script"),Nt(p),On(p,"link",u),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(u=s.instance,s.state.loading|=4,Df(u,o.precedence,r));return s.instance}function Df(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,b=0;b<u.length;b++){var I=u[b];if(I.dataset.precedence===s)g=I;else if(g!==p)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function tp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function np(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Nf=null;function u0(r,s,o){if(Nf===null){var u=new Map,p=Nf=new Map;p.set(o,u)}else p=Nf,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),p=0;p<o.length;p++){var g=o[p];if(!(g[Zr]||g[Jt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=r+b;var I=u.get(b);I?I.push(g):u.set(b,[g])}}return u}function c0(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function zC(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function f0(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var Bu=null;function qC(){}function FC(r,s,o){if(Bu===null)throw Error(i(475));var u=Bu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var p=wl(o.href),g=r.querySelector(Vu(p));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=kf.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,Nt(g);return}g=r.ownerDocument||r,o=o0(o),(p=Gr.get(p))&&tp(o,p),g=g.createElement("link"),Nt(g);var b=g;b._p=new Promise(function(I,U){b.onload=I,b.onerror=U}),On(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&!(s.state.loading&3)&&(u.count++,s=kf.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function HC(){if(Bu===null)throw Error(i(475));var r=Bu;return r.stylesheets&&r.count===0&&rp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&rp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function kf(){if(this.count--,this.count===0){if(this.stylesheets)rp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Pf=null;function rp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Pf=new Map,s.forEach($C,r),Pf=null,kf.call(r))}function $C(r,s){if(!(s.state.loading&4)){var o=Pf.get(r);if(o)var u=o.get(null);else{o=new Map,Pf.set(r,o);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var b=p[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}p=s.instance,b=p.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,p),o.set(b,p),this.count++,u=kf.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var zu={$$typeof:A,Provider:null,Consumer:null,_currentValue:Ue,_currentValue2:Ue,_threadCount:0};function GC(r,s,o,u,p,g,b,I){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function h0(r,s,o,u,p,g,b,I,U,Q,oe,me){return r=new GC(r,s,o,b,I,U,Q,me),s=1,g===!0&&(s|=24),g=Hr(3,null,null,s),r.current=g,g.stateNode=r,s=Md(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},pm(g),r}function d0(r){return r?(r=nl,r):nl}function m0(r,s,o,u,p,g){p=d0(p),u.context===null?u.context=p:u.pendingContext=p,u=ua(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ca(r,u,s),o!==null&&(Wn(o,r,s),Su(o,r,s))}function p0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function ip(r,s){p0(r,s),(r=r.alternate)&&p0(r,s)}function g0(r){if(r.tag===13){var s=na(r,67108864);s!==null&&Wn(s,r,67108864),ip(r,67108864)}}var Mf=!0;function KC(r,s,o,u){var p=D.T;D.T=null;var g=_e.p;try{_e.p=2,sp(r,s,o,u)}finally{_e.p=g,D.T=p}}function QC(r,s,o,u){var p=D.T;D.T=null;var g=_e.p;try{_e.p=8,sp(r,s,o,u)}finally{_e.p=g,D.T=p}}function sp(r,s,o,u){if(Mf){var p=ap(u);if(p===null)Km(r,s,u,Lf,o),v0(r,u);else if(WC(p,r,s,o,u))u.stopPropagation();else if(v0(r,u),s&4&&-1<YC.indexOf(r)){for(;p!==null;){var g=Jr(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=nr(g.pendingLanes);if(b!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;b;){var U=1<<31-yn(b);I.entanglements[1]|=U,b&=~U}zi(g),!(jt&6)&&(_f=Rn()+500,Mu(0))}}break;case 13:I=na(g,2),I!==null&&Wn(I,g,2),bf(),ip(g,2)}if(g=ap(u),g===null&&Km(r,s,u,Lf,o),g===p)break;p=g}p!==null&&u.stopPropagation()}else Km(r,s,u,null,o)}}function ap(r){return r=xi(r),op(r)}var Lf=null;function op(r){if(Lf=null,r=Mn(r),r!==null){var s=ge(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=Qe(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Lf=r,null}function y0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($o()){case ne:return 2;case Oe:return 8;case Or:case Qa:return 32;case Ya:return 268435456;default:return 32}default:return 32}}var lp=!1,ya=null,va=null,_a=null,qu=new Map,Fu=new Map,Ea=[],YC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v0(r,s){switch(r){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":qu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(s.pointerId)}}function Hu(r,s,o,u,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Jr(s),s!==null&&g0(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function WC(r,s,o,u,p){switch(s){case"focusin":return ya=Hu(ya,r,s,o,u,p),!0;case"dragenter":return va=Hu(va,r,s,o,u,p),!0;case"mouseover":return _a=Hu(_a,r,s,o,u,p),!0;case"pointerover":var g=p.pointerId;return qu.set(g,Hu(qu.get(g)||null,r,s,o,u,p)),!0;case"gotpointercapture":return g=p.pointerId,Fu.set(g,Hu(Fu.get(g)||null,r,s,o,u,p)),!0}return!1}function _0(r){var s=Mn(r.target);if(s!==null){var o=ge(s);if(o!==null){if(s=o.tag,s===13){if(s=Qe(o),s!==null){r.blockedOn=s,Si(r.priority,function(){if(o.tag===13){var u=wr(),p=na(o,u);p!==null&&Wn(p,o,u),ip(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Uf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=ap(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Kn=u,o.target.dispatchEvent(u),Kn=null}else return s=Jr(o),s!==null&&g0(s),r.blockedOn=o,!1;s.shift()}return!0}function E0(r,s,o){Uf(r)&&o.delete(s)}function XC(){lp=!1,ya!==null&&Uf(ya)&&(ya=null),va!==null&&Uf(va)&&(va=null),_a!==null&&Uf(_a)&&(_a=null),qu.forEach(E0),Fu.forEach(E0)}function Vf(r,s){r.blockedOn===s&&(r.blockedOn=null,lp||(lp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,XC)))}var jf=null;function T0(r){jf!==r&&(jf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jf===r&&(jf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],p=r[s+2];if(typeof u!="function"){if(op(u||o)===null)continue;break}var g=Jr(o);g!==null&&(r.splice(s,3),s-=3,Xd(g,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function $u(r){function s(U){return Vf(U,r)}ya!==null&&Vf(ya,r),va!==null&&Vf(va,r),_a!==null&&Vf(_a,r),qu.forEach(s),Fu.forEach(s);for(var o=0;o<Ea.length;o++){var u=Ea[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Ea.length&&(o=Ea[0],o.blockedOn===null);)_0(o),o.blockedOn===null&&Ea.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],g=o[u+1],b=p[qt]||null;if(typeof g=="function")b||T0(o);else if(b){var I=null;if(g&&g.hasAttribute("formAction")){if(p=g,b=g[qt]||null)I=b.formAction;else if(op(p)!==null)continue}else I=b.action;typeof I=="function"?o[u+1]=I:(o.splice(u,3),u-=3),T0(o)}}}function up(r){this._internalRoot=r}Bf.prototype.render=up.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=wr();m0(o,u,r,s,null,null)},Bf.prototype.unmount=up.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&_l(),m0(r.current,2,null,r,null,null),bf(),s[Wr]=null}};function Bf(r){this._internalRoot=r}Bf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Qt();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Ea.length&&s!==0&&s<Ea[o].priority;o++);Ea.splice(o,0,r),o===0&&_0(r)}};var b0=e.version;if(b0!=="19.0.0")throw Error(i(527,b0,"19.0.0"));_e.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=ue(s),r=r!==null?we(r):null,r=r===null?null:r.stateNode,r};var ZC={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:D,findFiberByHostInstance:Mn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{Yr=zf.inject(ZC),gn=zf}catch{}}return Ku.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",p=j_,g=B_,b=z_,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=h0(r,1,!1,null,null,o,u,p,g,b,I,null),r[Wr]=s.current,Gm(r.nodeType===8?r.parentNode:r),new up(s)},Ku.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,p="",g=j_,b=B_,I=z_,U=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(U=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),s=h0(r,1,!0,s,o??null,u,p,g,b,I,U,Q),s.context=d0(null),o=s.current,u=wr(),p=ua(u),p.callback=null,ca(o,p,u),s.current.lanes=u,Dt(s,u),zi(s),r[Wr]=s.current,Gm(r),new Bf(s)},Ku.version="19.0.0",Ku}var N0;function uI(){if(N0)return hp.exports;N0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hp.exports=lI(),hp.exports}var cI=uI(),Qu={},k0;function fI(){if(k0)return Qu;k0=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.parse=c,Qu.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,A){const k=new l,G=E.length;if(G<2)return k;const V=(A==null?void 0:A.decode)||y;let H=0;do{const Y=E.indexOf("=",H);if(Y===-1)break;const $=E.indexOf(";",H),J=$===-1?G:$;if(Y>J){H=E.lastIndexOf(";",Y-1)+1;continue}const se=h(E,H,Y),de=f(E,Y,se),L=E.slice(se,de);if(k[L]===void 0){let P=h(E,Y+1,J),D=f(E,J,P);const j=V(E.slice(P,D));k[L]=j}H=J+1}while(H<G);return k}function h(E,A,k){do{const G=E.charCodeAt(A);if(G!==32&&G!==9)return A}while(++A<k);return k}function f(E,A,k){for(;A>k;){const G=E.charCodeAt(--A);if(G!==32&&G!==9)return A+1}return k}function m(E,A,k){const G=(k==null?void 0:k.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const V=G(A);if(!e.test(V))throw new TypeError(`argument val is invalid: ${A}`);let H=E+"="+V;if(!k)return H;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);H+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);H+="; Domain="+k.domain}if(k.path){if(!i.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);H+="; Path="+k.path}if(k.expires){if(!_(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);H+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(H+="; HttpOnly"),k.secure&&(H+="; Secure"),k.partitioned&&(H+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return H}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return Qu}fI();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var P0="popstate";function hI(n={}){function e(i,a){let{pathname:l,search:c,hash:h}=i.location;return gg("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:dc(a)}return mI(e,t,null,n)}function Bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Wi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dI(){return Math.random().toString(36).substring(2,10)}function M0(n,e){return{usr:n.state,key:n.key,idx:e}}function gg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Gl(e):e,state:t,key:e&&e.key||i||dI()}}function dc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Gl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function mI(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h="POP",f=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function _(){h="POP";let V=y(),H=V==null?null:V-m;m=V,f&&f({action:h,location:G.location,delta:H})}function E(V,H){h="PUSH";let Y=gg(G.location,V,H);m=y()+1;let $=M0(Y,m),J=G.createHref(Y);try{c.pushState($,"",J)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(J)}l&&f&&f({action:h,location:G.location,delta:1})}function A(V,H){h="REPLACE";let Y=gg(G.location,V,H);m=y();let $=M0(Y,m),J=G.createHref(Y);c.replaceState($,"",J),l&&f&&f({action:h,location:G.location,delta:0})}function k(V){let H=a.location.origin!=="null"?a.location.origin:a.location.href,Y=typeof V=="string"?V:dc(V);return Y=Y.replace(/ $/,"%20"),Bt(H,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,H)}let G={get action(){return h},get location(){return n(a,c)},listen(V){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(P0,_),f=V,()=>{a.removeEventListener(P0,_),f=null}},createHref(V){return e(a,V)},createURL:k,encodeLocation(V){let H=k(V);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:E,replace:A,go(V){return c.go(V)}};return G}function vw(n,e,t="/"){return pI(n,e,t,!1)}function pI(n,e,t,i){let a=typeof e=="string"?Gl(e):e,l=Ma(a.pathname||"/",t);if(l==null)return null;let c=_w(n);gI(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let m=CI(l);h=RI(c[f],m,i)}return h}function _w(n,e=[],t=[],i=""){let a=(l,c,h)=>{let f={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(Bt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let m=Ns([i,f.relativePath]),y=t.concat(f);l.children&&l.children.length>0&&(Bt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),_w(l.children,e,y,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:wI(m,l.index),routesMeta:y})};return n.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,c);else for(let f of Ew(l.path))a(l,c,f)}),e}function Ew(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=Ew(i.join("/")),h=[];return h.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function gI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:SI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var yI=/^:[\w-]+$/,vI=3,_I=2,EI=1,TI=10,bI=-2,L0=n=>n==="*";function wI(n,e){let t=n.split("/"),i=t.length;return t.some(L0)&&(i+=bI),e&&(i+=_I),t.filter(a=>!L0(a)).reduce((a,l)=>a+(yI.test(l)?vI:l===""?EI:TI),i)}function SI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function RI(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],m=h===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=hh({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),E=f.route;if(!_&&m&&t&&!i[i.length-1].route.index&&(_=hh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Ns([l,_.pathname]),pathnameBase:DI(Ns([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=Ns([l,_.pathnameBase]))}return c}function hh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=AI(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:_},E)=>{if(y==="*"){let k=h[E]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const A=h[E];return _&&!A?m[y]=void 0:m[y]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function AI(n,e=!1,t=!0){Wi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function CI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ma(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function II(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Gl(n):n;return{pathname:t?t.startsWith("/")?t:OI(t,e):e,search:NI(i),hash:kI(a)}}function OI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function gp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Tw(n){let e=xI(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function bw(n,e,t,i=!1){let a;typeof n=="string"?a=Gl(n):(a={...n},Bt(!a.pathname||!a.pathname.includes("?"),gp("?","pathname","search",a)),Bt(!a.pathname||!a.pathname.includes("#"),gp("#","pathname","hash",a)),Bt(!a.search||!a.search.includes("#"),gp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=t;else{let _=e.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=II(a,h),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var Ns=n=>n.join("/").replace(/\/\/+/g,"/"),DI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),NI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,kI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function PI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ww=["POST","PUT","PATCH","DELETE"];new Set(ww);var MI=["GET",...ww];new Set(MI);var Kl=R.createContext(null);Kl.displayName="DataRouter";var Bh=R.createContext(null);Bh.displayName="DataRouterState";var Sw=R.createContext({isTransitioning:!1});Sw.displayName="ViewTransition";var LI=R.createContext(new Map);LI.displayName="Fetchers";var UI=R.createContext(null);UI.displayName="Await";var Zi=R.createContext(null);Zi.displayName="Navigation";var Rc=R.createContext(null);Rc.displayName="Location";var Ji=R.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var ey=R.createContext(null);ey.displayName="RouteError";function VI(n,{relative:e}={}){Bt(Ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=R.useContext(Zi),{hash:a,pathname:l,search:c}=Cc(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:Ns([t,l])),i.createHref({pathname:h,search:c,hash:a})}function Ac(){return R.useContext(Rc)!=null}function Vo(){return Bt(Ac(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Rc).location}var Rw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Aw(n){R.useContext(Zi).static||R.useLayoutEffect(n)}function Cr(){let{isDataRoute:n}=R.useContext(Ji);return n?XI():jI()}function jI(){Bt(Ac(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(Kl),{basename:e,navigator:t}=R.useContext(Zi),{matches:i}=R.useContext(Ji),{pathname:a}=Vo(),l=JSON.stringify(Tw(i)),c=R.useRef(!1);return Aw(()=>{c.current=!0}),R.useCallback((f,m={})=>{if(Wi(c.current,Rw),!c.current)return;if(typeof f=="number"){t.go(f);return}let y=bw(f,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ns([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,l,a,n])}R.createContext(null);function Cw(){let{matches:n}=R.useContext(Ji),e=n[n.length-1];return e?e.params:{}}function Cc(n,{relative:e}={}){let{matches:t}=R.useContext(Ji),{pathname:i}=Vo(),a=JSON.stringify(Tw(t));return R.useMemo(()=>bw(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function BI(n,e){return Iw(n,e)}function Iw(n,e,t,i){var Y;Bt(Ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=R.useContext(Zi),{matches:c}=R.useContext(Ji),h=c[c.length-1],f=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let $=_&&_.path||"";Ow(m,!_||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let E=Vo(),A;if(e){let $=typeof e=="string"?Gl(e):e;Bt(y==="/"||((Y=$.pathname)==null?void 0:Y.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${$.pathname}" was given in the \`location\` prop.`),A=$}else A=E;let k=A.pathname||"/",G=k;if(y!=="/"){let $=y.replace(/^\//,"").split("/");G="/"+k.replace(/^\//,"").split("/").slice($.length).join("/")}let V=!l&&t&&t.matches&&t.matches.length>0?t.matches:vw(n,{pathname:G});Wi(_||V!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Wi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=$I(V&&V.map($=>Object.assign({},$,{params:Object.assign({},f,$.params),pathname:Ns([y,a.encodeLocation?a.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:Ns([y,a.encodeLocation?a.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),c,t,i);return e&&H?R.createElement(Rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},H):H}function zI(){let n=WI(),e=PI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:l},"ErrorBoundary")," or"," ",R.createElement("code",{style:l},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:a},t):null,c)}var qI=R.createElement(zI,null),FI=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?R.createElement(Ji.Provider,{value:this.props.routeContext},R.createElement(ey.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HI({routeContext:n,match:e,children:t}){let i=R.useContext(Kl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Ji.Provider,{value:n},t)}function $I(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let f=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Bt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,h=-1;if(t)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:y,errors:_}=t,E=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||E){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,m,y)=>{let _,E=!1,A=null,k=null;t&&(_=l&&m.route.id?l[m.route.id]:void 0,A=m.route.errorElement||qI,c&&(h<0&&y===0?(Ow("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,k=null):h===y&&(E=!0,k=m.route.hydrateFallbackElement||null)));let G=e.concat(a.slice(0,y+1)),V=()=>{let H;return _?H=A:E?H=k:m.route.Component?H=R.createElement(m.route.Component,null):m.route.element?H=m.route.element:H=f,R.createElement(HI,{match:m,routeContext:{outlet:f,matches:G,isDataRoute:t!=null},children:H})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?R.createElement(FI,{location:t.location,revalidation:t.revalidation,component:A,error:_,children:V(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):V()},null)}function ty(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GI(n){let e=R.useContext(Kl);return Bt(e,ty(n)),e}function KI(n){let e=R.useContext(Bh);return Bt(e,ty(n)),e}function QI(n){let e=R.useContext(Ji);return Bt(e,ty(n)),e}function ny(n){let e=QI(n),t=e.matches[e.matches.length-1];return Bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function YI(){return ny("useRouteId")}function WI(){var i;let n=R.useContext(ey),e=KI("useRouteError"),t=ny("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function XI(){let{router:n}=GI("useNavigate"),e=ny("useNavigate"),t=R.useRef(!1);return Aw(()=>{t.current=!0}),R.useCallback(async(a,l={})=>{Wi(t.current,Rw),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var U0={};function Ow(n,e,t){!e&&!U0[n]&&(U0[n]=!0,Wi(!1,t))}R.memo(ZI);function ZI({routes:n,future:e,state:t}){return Iw(n,void 0,t,e)}function Kr(n){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){Bt(!Ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Gl(t));let{pathname:f="/",search:m="",hash:y="",state:_=null,key:E="default"}=t,A=R.useMemo(()=>{let k=Ma(f,c);return k==null?null:{location:{pathname:k,search:m,hash:y,state:_,key:E},navigationType:i}},[c,f,m,y,_,E,i]);return Wi(A!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:R.createElement(Zi.Provider,{value:h},R.createElement(Rc.Provider,{children:e,value:A}))}function eO({children:n,location:e}){return BI(yg(n),e)}function yg(n,e=[]){let t=[];return R.Children.forEach(n,(i,a)=>{if(!R.isValidElement(i))return;let l=[...e,a];if(i.type===R.Fragment){t.push.apply(t,yg(i.props.children,l));return}Bt(i.type===Kr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=yg(i.props.children,l)),t.push(c)}),t}var eh="get",th="application/x-www-form-urlencoded";function zh(n){return n!=null&&typeof n.tagName=="string"}function tO(n){return zh(n)&&n.tagName.toLowerCase()==="button"}function nO(n){return zh(n)&&n.tagName.toLowerCase()==="form"}function rO(n){return zh(n)&&n.tagName.toLowerCase()==="input"}function iO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sO(n,e){return n.button===0&&(!e||e==="_self")&&!iO(n)}var qf=null;function aO(){if(qf===null)try{new FormData(document.createElement("form"),0),qf=!1}catch{qf=!0}return qf}var oO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yp(n){return n!=null&&!oO.has(n)?(Wi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):n}function lO(n,e){let t,i,a,l,c;if(nO(n)){let h=n.getAttribute("action");i=h?Ma(h,e):null,t=n.getAttribute("method")||eh,a=yp(n.getAttribute("enctype"))||th,l=new FormData(n)}else if(tO(n)||rO(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Ma(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||eh,a=yp(n.getAttribute("formenctype"))||yp(h.getAttribute("enctype"))||th,l=new FormData(h,n),!aO()){let{name:m,type:y,value:_}=n;if(y==="image"){let E=m?`${m}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else m&&l.append(m,_)}}else{if(zh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=eh,i=null,a=th,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function ry(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function uO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function fO(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await uO(l,t);return c.links?c.links():[]}return[]}));return pO(i.flat(1).filter(cO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function V0(n,e,t,i,a,l){let c=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,h=(f,m)=>{var y;return t[m].pathname!==f.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,m)=>c(f,m)||h(f,m)):l==="data"?e.filter((f,m)=>{var _;let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function hO(n,e){return dO(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let a=[i.module];return i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function dO(n){return[...new Set(n)]}function mO(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function pO(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(mO(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function gO(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function yO(){let n=R.useContext(Kl);return ry(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function vO(){let n=R.useContext(Bh);return ry(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var iy=R.createContext(void 0);iy.displayName="FrameworkContext";function xw(){let n=R.useContext(iy);return ry(n,"You must render this element inside a <HydratedRouter> element"),n}function _O(n,e){let t=R.useContext(iy),[i,a]=R.useState(!1),[l,c]=R.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,E=R.useRef(null);R.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let G=H=>{H.forEach(Y=>{c(Y.isIntersecting)})},V=new IntersectionObserver(G,{threshold:.5});return E.current&&V.observe(E.current),()=>{V.disconnect()}}},[n]),R.useEffect(()=>{if(i){let G=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(G)}}},[i]);let A=()=>{a(!0)},k=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:Yu(h,A),onBlur:Yu(f,k),onMouseEnter:Yu(m,A),onMouseLeave:Yu(y,k),onTouchStart:Yu(_,A)}]:[!1,E,{}]}function Yu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function EO({page:n,...e}){let{router:t}=yO(),i=R.useMemo(()=>vw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?R.createElement(bO,{page:n,matches:i,...e}):null}function TO(n){let{manifest:e,routeModules:t}=xw(),[i,a]=R.useState([]);return R.useEffect(()=>{let l=!1;return fO(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function bO({page:n,matches:e,...t}){let i=Vo(),{manifest:a,routeModules:l}=xw(),{loaderData:c,matches:h}=vO(),f=R.useMemo(()=>V0(n,e,h,a,i,"data"),[n,e,h,a,i]),m=R.useMemo(()=>V0(n,e,h,a,i,"assets"),[n,e,h,a,i]),y=R.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,k=!1;if(e.forEach(V=>{var Y;let H=a.routes[V.route.id];!H||!H.hasLoader||(!f.some($=>$.route.id===V.route.id)&&V.route.id in c&&((Y=l[V.route.id])!=null&&Y.shouldRevalidate)||H.hasClientLoader?k=!0:A.add(V.route.id))}),A.size===0)return[];let G=gO(n);return k&&A.size>0&&G.searchParams.set("_routes",e.filter(V=>A.has(V.route.id)).map(V=>V.route.id).join(",")),[G.pathname+G.search]},[c,i,a,f,e,n,l]),_=R.useMemo(()=>hO(m,a),[m,a]),E=TO(m);return R.createElement(R.Fragment,null,y.map(A=>R.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),_.map(A=>R.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),E.map(({key:A,link:k})=>R.createElement("link",{key:A,...k})))}function wO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dw&&(window.__reactRouterVersion="7.1.5")}catch{}function SO({basename:n,children:e,window:t}){let i=R.useRef();i.current==null&&(i.current=hI({window:t,v5Compat:!0}));let a=i.current,[l,c]=R.useState({action:a.action,location:a.location}),h=R.useCallback(f=>{R.startTransition(()=>c(f))},[c]);return R.useLayoutEffect(()=>a.listen(h),[a,h]),R.createElement(JI,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var Nw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qi=R.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:h,target:f,to:m,preventScrollReset:y,viewTransition:_,...E},A){let{basename:k}=R.useContext(Zi),G=typeof m=="string"&&Nw.test(m),V,H=!1;if(typeof m=="string"&&G&&(V=m,Dw))try{let D=new URL(window.location.href),j=m.startsWith("//")?new URL(D.protocol+m):new URL(m),F=Ma(j.pathname,k);j.origin===D.origin&&F!=null?m=F+j.search+j.hash:H=!0}catch{Wi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=VI(m,{relative:a}),[$,J,se]=_O(i,E),de=IO(m,{replace:c,state:h,target:f,preventScrollReset:y,relative:a,viewTransition:_});function L(D){e&&e(D),D.defaultPrevented||de(D)}let P=R.createElement("a",{...E,...se,href:V||Y,onClick:H||l?e:L,ref:wO(A,J),target:f,"data-discover":!G&&t==="render"?"true":void 0});return $&&!G?R.createElement(R.Fragment,null,P,R.createElement(EO,{page:Y})):P});qi.displayName="Link";var RO=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:h,children:f,...m},y){let _=Cc(c,{relative:m.relative}),E=Vo(),A=R.useContext(Bh),{navigator:k,basename:G}=R.useContext(Zi),V=A!=null&&kO(_)&&h===!0,H=k.encodeLocation?k.encodeLocation(_).pathname:_.pathname,Y=E.pathname,$=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),$=$?$.toLowerCase():null,H=H.toLowerCase()),$&&G&&($=Ma($,G)||$);const J=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let se=Y===H||!a&&Y.startsWith(H)&&Y.charAt(J)==="/",de=$!=null&&($===H||!a&&$.startsWith(H)&&$.charAt(H.length)==="/"),L={isActive:se,isPending:de,isTransitioning:V},P=se?e:void 0,D;typeof i=="function"?D=i(L):D=[i,se?"active":null,de?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(L):l;return R.createElement(qi,{...m,"aria-current":P,className:D,ref:y,style:j,to:c,viewTransition:h},typeof f=="function"?f(L):f)});RO.displayName="NavLink";var AO=R.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=eh,action:h,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:_,...E},A)=>{let k=DO(),G=NO(h,{relative:m}),V=c.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&Nw.test(h),Y=$=>{if(f&&f($),$.defaultPrevented)return;$.preventDefault();let J=$.nativeEvent.submitter,se=(J==null?void 0:J.getAttribute("formmethod"))||c;k(J||$.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:_})};return R.createElement("form",{ref:A,method:V,action:G,onSubmit:i?f:Y,...E,"data-discover":!H&&n==="render"?"true":void 0})});AO.displayName="Form";function CO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kw(n){let e=R.useContext(Kl);return Bt(e,CO(n)),e}function IO(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let h=Cr(),f=Vo(),m=Cc(n,{relative:l});return R.useCallback(y=>{if(sO(y,e)){y.preventDefault();let _=t!==void 0?t:dc(f)===dc(m);h(n,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[f,h,m,t,i,e,n,a,l,c])}var OO=0,xO=()=>`__${String(++OO)}__`;function DO(){let{router:n}=kw("useSubmit"),{basename:e}=R.useContext(Zi),t=YI();return R.useCallback(async(i,a={})=>{let{action:l,method:c,encType:h,formData:f,body:m}=lO(i,e);if(a.navigate===!1){let y=a.fetcherKey||xO();await n.fetch(y,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function NO(n,{relative:e}={}){let{basename:t}=R.useContext(Zi),i=R.useContext(Ji);Bt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Cc(n||".",{relative:e})},c=Vo();if(n==null){l.search=c.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ns([t,l.pathname])),dc(l)}function kO(n,e={}){let t=R.useContext(Sw);Bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=kw("useViewTransitionState"),a=Cc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ma(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Ma(t.nextLocation.pathname,i)||t.nextLocation.pathname;return hh(a.pathname,c)!=null||hh(a.pathname,l)!=null}new TextEncoder;var PO=yw();const Nl=jh(PO);var vp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var j0;function MO(){return j0||(j0=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var l="",c=0;c<arguments.length;c++){var h=arguments[c];h&&(l=a(l,i(h)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var h in l)e.call(l,h)&&l[h]&&(c=a(c,h));return c}function a(l,c){return c?l?l+" "+c:l+c:l}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(vp)),vp.exports}var LO=MO();const je=jh(LO),UO=["xxl","xl","lg","md","sm","xs"],VO="xs",qh=R.createContext({prefixes:{},breakpoints:UO,minBreakpoint:VO}),{Consumer:Pj,Provider:Mj}=qh;function Ge(n,e){const{prefixes:t}=R.useContext(qh);return n||t[e]||e}function jO(){const{breakpoints:n}=R.useContext(qh);return n}function BO(){const{minBreakpoint:n}=R.useContext(qh);return n}const Pw=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Ge(e,"card-group"),C.jsx(t,{ref:a,className:je(n,e),...i})));Pw.displayName="CardGroup";var B0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},zO=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],h=n[t++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Lw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,m=f?n[a+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let E=(h&15)<<2|m>>6,A=m&63;f||(A=64,c||(E=64)),i.push(t[y],t[_],t[E],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Mw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||h==null||m==null||_==null)throw new qO;const E=l<<2|h>>4;if(i.push(E),m!==64){const A=h<<4&240|m>>2;if(i.push(A),_!==64){const k=m<<6&192|_;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FO=function(n){const e=Mw(n);return Lw.encodeByteArray(e,!0)},dh=function(n){return FO(n).replace(/\./g,"")},Uw=function(n){try{return Lw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=()=>HO().__FIREBASE_DEFAULTS__,GO=()=>{if(typeof process>"u"||typeof B0>"u")return;const n=B0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},KO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Uw(n[1]);return e&&JSON.parse(e)},Fh=()=>{try{return $O()||GO()||KO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Vw=n=>{var e,t;return(t=(e=Fh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},jw=n=>{const e=Vw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Bw=()=>{var n;return(n=Fh())===null||n===void 0?void 0:n.config},zw=n=>{var e;return(e=Fh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[dh(JSON.stringify(t)),dh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function WO(){var n;const e=(n=Fh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function JO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ex(){const n=qn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function tx(){return!WO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nx(){try{return typeof indexedDB=="object"}catch{return!1}}function rx(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="FirebaseError";class es extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ix,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ic.prototype.create)}}class Ic{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?sx(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new es(a,h,i)}}function sx(n,e){return n.replace(ax,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const ax=/\{\$([^}]+)}/g;function ox(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function mh(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(z0(l)&&z0(c)){if(!mh(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function z0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ec(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function tc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function lx(n,e){const t=new ux(n,e);return t.subscribe.bind(t)}class ux{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");cx(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=_p),a.error===void 0&&(a.error=_p),a.complete===void 0&&(a.complete=_p);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _p(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(n){return n&&n._delegate?n._delegate:n}class La{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new QO;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dx(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:hx(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hx(n){return n===Ao?void 0:n}function dx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(tt||(tt={}));const px={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},gx=tt.INFO,yx={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},vx=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=yx[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sy{constructor(e){this.name=e,this._logLevel=gx,this._logHandler=vx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?px[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const _x=(n,e)=>e.some(t=>n instanceof t);let q0,F0;function Ex(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tx(){return F0||(F0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fw=new WeakMap,vg=new WeakMap,Hw=new WeakMap,Ep=new WeakMap,ay=new WeakMap;function bx(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Da(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Fw.set(t,n)}).catch(()=>{}),ay.set(e,n),e}function wx(n){if(vg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});vg.set(n,e)}let _g={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Hw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Da(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Sx(n){_g=n(_g)}function Rx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Tp(this),e,...t);return Hw.set(i,e.sort?e.sort():[e]),Da(i)}:Tx().includes(n)?function(...e){return n.apply(Tp(this),e),Da(Fw.get(this))}:function(...e){return Da(n.apply(Tp(this),e))}}function Ax(n){return typeof n=="function"?Rx(n):(n instanceof IDBTransaction&&wx(n),_x(n,Ex())?new Proxy(n,_g):n)}function Da(n){if(n instanceof IDBRequest)return bx(n);if(Ep.has(n))return Ep.get(n);const e=Ax(n);return e!==n&&(Ep.set(n,e),ay.set(e,n)),e}const Tp=n=>ay.get(n);function Cx(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),h=Da(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Da(c.result),f.oldVersion,f.newVersion,Da(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const Ix=["get","getKey","getAll","getAllKeys","count"],Ox=["put","add","delete","clear"],bp=new Map;function H0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=Ox.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||Ix.includes(t)))return;const l=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),a&&f.done]))[0]};return bp.set(e,l),l}Sx(n=>({...n,get:(e,t,i)=>H0(e,t)||n.get(e,t,i),has:(e,t)=>!!H0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Dx(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Dx(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eg="@firebase/app",$0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new sy("@firebase/app"),Nx="@firebase/app-compat",kx="@firebase/analytics-compat",Px="@firebase/analytics",Mx="@firebase/app-check-compat",Lx="@firebase/app-check",Ux="@firebase/auth",Vx="@firebase/auth-compat",jx="@firebase/database",Bx="@firebase/data-connect",zx="@firebase/database-compat",qx="@firebase/functions",Fx="@firebase/functions-compat",Hx="@firebase/installations",$x="@firebase/installations-compat",Gx="@firebase/messaging",Kx="@firebase/messaging-compat",Qx="@firebase/performance",Yx="@firebase/performance-compat",Wx="@firebase/remote-config",Xx="@firebase/remote-config-compat",Zx="@firebase/storage",Jx="@firebase/storage-compat",eD="@firebase/firestore",tD="@firebase/vertexai",nD="@firebase/firestore-compat",rD="firebase",iD="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="[DEFAULT]",sD={[Eg]:"fire-core",[Nx]:"fire-core-compat",[Px]:"fire-analytics",[kx]:"fire-analytics-compat",[Lx]:"fire-app-check",[Mx]:"fire-app-check-compat",[Ux]:"fire-auth",[Vx]:"fire-auth-compat",[jx]:"fire-rtdb",[Bx]:"fire-data-connect",[zx]:"fire-rtdb-compat",[qx]:"fire-fn",[Fx]:"fire-fn-compat",[Hx]:"fire-iid",[$x]:"fire-iid-compat",[Gx]:"fire-fcm",[Kx]:"fire-fcm-compat",[Qx]:"fire-perf",[Yx]:"fire-perf-compat",[Wx]:"fire-rc",[Xx]:"fire-rc-compat",[Zx]:"fire-gcs",[Jx]:"fire-gcs-compat",[eD]:"fire-fst",[nD]:"fire-fst-compat",[tD]:"fire-vertex","fire-js":"fire-js",[rD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Map,aD=new Map,bg=new Map;function G0(n,e){try{n.container.addComponent(e)}catch(t){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Do(n){const e=n.name;if(bg.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;bg.set(e,n);for(const t of ph.values())G0(t,n);for(const t of aD.values())G0(t,n);return!0}function Hh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Sr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new Ic("app","Firebase",oD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new La("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=iD;function $w(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Tg,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Na.create("bad-app-name",{appName:String(a)});if(t||(t=Bw()),!t)throw Na.create("no-options");const l=ph.get(a);if(l){if(mh(t,l.options)&&mh(i,l.config))return l;throw Na.create("duplicate-app",{appName:a})}const c=new mx(a);for(const f of bg.values())c.addComponent(f);const h=new lD(t,i,c);return ph.set(a,h),h}function oy(n=Tg){const e=ph.get(n);if(!e&&n===Tg&&Bw())return $w();if(!e)throw Na.create("no-app",{appName:n});return e}function $i(n,e,t){var i;let a=(i=sD[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(h.join(" "));return}Do(new La(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="firebase-heartbeat-database",cD=1,mc="firebase-heartbeat-store";let wp=null;function Gw(){return wp||(wp=Cx(uD,cD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(mc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Na.create("idb-open",{originalErrorMessage:n.message})})),wp}async function fD(n){try{const t=(await Gw()).transaction(mc),i=await t.objectStore(mc).get(Kw(n));return await t.done,i}catch(e){if(e instanceof es)Us.warn(e.message);else{const t=Na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(t.message)}}}async function K0(n,e){try{const i=(await Gw()).transaction(mc,"readwrite");await i.objectStore(mc).put(e,Kw(n)),await i.done}catch(t){if(t instanceof es)Us.warn(t.message);else{const i=Na.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Us.warn(i.message)}}}function Kw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=1024,dD=30;class mD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gD(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Q0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>dD){const c=yD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Us.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Q0(),{heartbeatsToSend:i,unsentEntries:a}=pD(this._heartbeatsCache.heartbeats),l=dh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Us.warn(t),""}}}function Q0(){return new Date().toISOString().substring(0,10)}function pD(n,e=hD){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Y0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Y0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class gD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nx()?rx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await fD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return K0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return K0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Y0(n){return dh(JSON.stringify({version:2,heartbeats:n})).length}function yD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(n){Do(new La("platform-logger",e=>new xx(e),"PRIVATE")),Do(new La("heartbeat",e=>new mD(e),"PRIVATE")),$i(Eg,$0,n),$i(Eg,$0,"esm2017"),$i("fire-js","")}vD("");var _D="firebase",ED="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(_D,ED,"app");function ly(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function Qw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TD=Qw,Yw=new Ic("auth","Firebase",Qw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new sy("@firebase/auth");function bD(n,...e){gh.logLevel<=tt.WARN&&gh.warn(`Auth (${jo}): ${n}`,...e)}function nh(n,...e){gh.logLevel<=tt.ERROR&&gh.error(`Auth (${jo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(n,...e){throw uy(n,...e)}function Gi(n,...e){return uy(n,...e)}function Ww(n,e,t){const i=Object.assign(Object.assign({},TD()),{[e]:t});return new Ic("auth","Firebase",i).create(e,{appName:n.name})}function ks(n){return Ww(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Yw.create(n,...e)}function Be(n,e,...t){if(!n)throw uy(e,...t)}function Os(n){const e="INTERNAL ASSERTION FAILED: "+n;throw nh(e),new Error(e)}function Vs(n,e){n||Os(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function wD(){return W0()==="http:"||W0()==="https:"}function W0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wD()||ZO()||"connection"in navigator)?navigator.onLine:!0}function RD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vs(t>e,"Short delay should be less than long delay!"),this.isMobile=YO()||JO()}get(){return SD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(n,e){Vs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new xc(3e4,6e4);function Fa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ha(n,e,t,i,a={}){return Zw(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Oc(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},l);return XO()||(m.referrerPolicy="no-referrer"),Xw.fetch()(Jw(n,n.config.apiHost,t,h),m)})}async function Zw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},AD),e);try{const a=new OD(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ff(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ff(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Ff(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Ff(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Ww(n,y,m);pi(n,y)}}catch(a){if(a instanceof es)throw a;pi(n,"network-request-failed",{message:String(a)})}}async function Dc(n,e,t,i,a={}){const l=await Ha(n,e,t,i,a);return"mfaPendingCredential"in l&&pi(n,"multi-factor-auth-required",{_serverResponse:l}),l}function Jw(n,e,t,i){const a=`${e}${t}?${i}`;return n.config.emulator?cy(n.config,a):`${n.config.apiScheme}://${a}`}function ID(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Gi(this.auth,"network-request-failed")),CD.get())})}}function Ff(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Gi(n,e,i);return a.customData._tokenResponse=t,a}function X0(n){return n!==void 0&&n.enterprise!==void 0}class xD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ID(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DD(n,e){return Ha(n,"GET","/v2/recaptchaConfig",Fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(n,e){return Ha(n,"POST","/v1/accounts:delete",e)}async function eS(n,e){return Ha(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kD(n,e=!1){const t=Xt(n),i=await t.getIdToken(e),a=fy(i);Be(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:oc(Sp(a.auth_time)),issuedAtTime:oc(Sp(a.iat)),expirationTime:oc(Sp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Sp(n){return Number(n)*1e3}function fy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const a=Uw(t);return a?JSON.parse(a):(nh("Failed to decode base64 JWT payload"),null)}catch(a){return nh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Z0(n){const e=fy(n);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof es&&PD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function PD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=oc(this.lastLoginAt),this.creationTime=oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(n){var e;const t=n.auth,i=await n.getIdToken(),a=await pc(n,eS(t,{idToken:i}));Be(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?tS(l.providerUserInfo):[],h=UD(n.providerData,c),f=n.isAnonymous,m=!(n.email&&l.passwordHash)&&!(h!=null&&h.length),y=f?m:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Sg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function LD(n){const e=Xt(n);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UD(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function tS(n){return n.map(e=>{var{providerId:t}=e,i=ly(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(n,e){const t=await Zw(n,{},async()=>{const i=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=Jw(n,a,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Xw.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function jD(n,e){return Ha(n,"POST","/v2/accounts:revokeToken",Fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const t=Z0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await VD(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Pl;return i&&(Be(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Be(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pl,this.toJSON())}_performRefresh(){return Os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(n,e){Be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class xs{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=ly(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await pc(this,this.stsTokenManager.getToken(this.auth,e));return Be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return kD(this,e)}reload(){return LD(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await yh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sr(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await pc(this,ND(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,h,f,m,y;const _=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(a=t.email)!==null&&a!==void 0?a:void 0,A=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,k=(c=t.photoURL)!==null&&c!==void 0?c:void 0,G=(h=t.tenantId)!==null&&h!==void 0?h:void 0,V=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,H=(m=t.createdAt)!==null&&m!==void 0?m:void 0,Y=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:$,emailVerified:J,isAnonymous:se,providerData:de,stsTokenManager:L}=t;Be($&&L,e,"internal-error");const P=Pl.fromJSON(this.name,L);Be(typeof $=="string",e,"internal-error"),ba(_,e.name),ba(E,e.name),Be(typeof J=="boolean",e,"internal-error"),Be(typeof se=="boolean",e,"internal-error"),ba(A,e.name),ba(k,e.name),ba(G,e.name),ba(V,e.name),ba(H,e.name),ba(Y,e.name);const D=new xs({uid:$,auth:e,email:E,emailVerified:J,displayName:_,isAnonymous:se,photoURL:k,phoneNumber:A,tenantId:G,stsTokenManager:P,createdAt:H,lastLoginAt:Y});return de&&Array.isArray(de)&&(D.providerData=de.map(j=>Object.assign({},j))),V&&(D._redirectEventId=V),D}static async _fromIdTokenResponse(e,t,i=!1){const a=new Pl;a.updateFromServerResponse(t);const l=new xs({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await yh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?tS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new Pl;h.updateFromIdToken(i);const f=new xs({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Sg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;function Ds(n){Vs(n instanceof Function,"Expected a class definition");let e=J0.get(n);return e?(Vs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,J0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nS.type="NONE";const eT=nS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(n,e,t){return`firebase:${n}:${e}:${t}`}class Ml{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=rh(this.userKey,a.apiKey,l),this.fullPersistenceKey=rh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ml(Ds(eT),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Ds(eT);const c=rh(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(c);if(y){const _=xs._fromJSON(e,y);m!==l&&(h=_),l=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Ml(l,e,i):(l=f[0],h&&await l._set(c,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Ml(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lS(e))return"Blackberry";if(uS(e))return"Webos";if(iS(e))return"Safari";if((e.includes("chrome/")||sS(e))&&!e.includes("edge/"))return"Chrome";if(oS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function rS(n=qn()){return/firefox\//i.test(n)}function iS(n=qn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sS(n=qn()){return/crios\//i.test(n)}function aS(n=qn()){return/iemobile/i.test(n)}function oS(n=qn()){return/android/i.test(n)}function lS(n=qn()){return/blackberry/i.test(n)}function uS(n=qn()){return/webos/i.test(n)}function hy(n=qn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function BD(n=qn()){var e;return hy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zD(){return ex()&&document.documentMode===10}function cS(n=qn()){return hy(n)||oS(n)||uS(n)||lS(n)||/windows phone/i.test(n)||aS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(n,e=[]){let t;switch(n){case"Browser":t=tT(qn());break;case"Worker":t=`${tT(qn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${jo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,h)=>{try{const f=e(l);c(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(n,e={}){return Ha(n,"GET","/v2/passwordPolicy",Fa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=6;class $D{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:HD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsLowercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nT(this),this.idTokenSubscription=new nT(this),this.beforeStateQueue=new qD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ds(t)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await Ml.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await eS(this,{idToken:e}),i=await xs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a==null?void 0:a._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(a=f.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sr(this.app))return Promise.reject(ks(this));const t=e?Xt(e):null;return t&&Be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sr(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sr(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FD(this),t=new $D(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ic("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await jD(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ds(e)||this._popupRedirectResolver;Be(t,this,"argument-error"),this.redirectPersistenceManager=await Ml.create(this,[Ds(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,a);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&bD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Bo(n){return Xt(n)}class nT{constructor(e){this.auth=e,this.observer=null,this.addObserver=lx(t=>this.observer=t)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KD(n){$h=n}function hS(n){return $h.loadJS(n)}function QD(){return $h.recaptchaEnterpriseScript}function YD(){return $h.gapiScript}function WD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class XD{constructor(){this.enterprise=new ZD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ZD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const JD="recaptcha-enterprise",dS="NO_RECAPTCHA";class eN{constructor(e){this.type=JD,this.auth=Bo(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{DD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new xD(f);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(f=>{h(f)})})}function a(l,c,h){const f=window.grecaptcha;X0(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(dS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(h=>{if(!t&&X0(window.grecaptcha))a(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=QD();f.length!==0&&(f+=h),hS(f).then(()=>{a(h,l,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function rT(n,e,t,i=!1,a=!1){const l=new eN(n);let c;if(a)c=dS;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Rg(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await rT(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await rT(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(n,e){const t=Hh(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(mh(l,e??{}))return a;pi(a,"already-initialized")}return t.initialize({options:e})}function nN(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ds);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function rN(n,e,t){const i=Bo(n);Be(i._canInitEmulator,i,"emulator-config-failed"),Be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=mS(e),{host:c,port:h}=iN(e),f=h===null?"":`:${h}`;i.config.emulator={url:`${l}//${c}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),sN()}function mS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function iN(n){const e=mS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:iT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:iT(c)}}}function iT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function sN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Os("not implemented")}_getIdTokenResponse(e){return Os("not implemented")}_linkToIdToken(e,t){return Os("not implemented")}_getReauthenticationResolver(e){return Os("not implemented")}}async function aN(n,e){return Ha(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(n,e){return Dc(n,"POST","/v1/accounts:signInWithPassword",Fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(n,e){return Dc(n,"POST","/v1/accounts:signInWithEmailLink",Fa(n,e))}async function uN(n,e){return Dc(n,"POST","/v1/accounts:signInWithEmailLink",Fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends dy{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new gc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new gc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(e,t,"signInWithPassword",oN);case"emailLink":return lN(e,{email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(e,i,"signUpPassword",aN);case"emailLink":return uN(e,{idToken:t,email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(n,e){return Dc(n,"POST","/v1/accounts:signInWithIdp",Fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="http://localhost";class No extends dy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new No(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=ly(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new No(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ll(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ll(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ll(e,t)}buildRequest(){const e={requestUri:cN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Oc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hN(n){const e=ec(tc(n)).link,t=e?ec(tc(e)).deep_link_id:null,i=ec(tc(n)).deep_link_id;return(i?ec(tc(i)).link:null)||i||t||e||n}class my{constructor(e){var t,i,a,l,c,h;const f=ec(tc(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(i=f.oobCode)!==null&&i!==void 0?i:null,_=fN((a=f.mode)!==null&&a!==void 0?a:null);Be(m&&y&&_,"argument-error"),this.apiKey=m,this.operation=_,this.code=y,this.continueUrl=(l=f.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=f.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=hN(e);try{return new my(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.providerId=Ql.PROVIDER_ID}static credential(e,t){return gc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=my.parseLink(t);return Be(i,"argument-error"),gc._fromEmailAndCode(e,i.code,i.tenantId)}}Ql.PROVIDER_ID="password";Ql.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ql.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends pS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Nc{constructor(){super("facebook.com")}static credential(e){return No._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends Nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return No._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Aa.credential(t,i)}catch{return null}}}Aa.GOOGLE_SIGN_IN_METHOD="google.com";Aa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Nc{constructor(){super("github.com")}static credential(e){return No._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.GITHUB_SIGN_IN_METHOD="github.com";Ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Nc{constructor(){super("twitter.com")}static credential(e,t){return No._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ia.credential(t,i)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(n,e){return Dc(n,"POST","/v1/accounts:signUp",Fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await xs._fromIdTokenResponse(e,i,a),c=sT(i);return new ko({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=sT(i);return new ko({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function sT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends es{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new vh(e,t,i,a)}}function gS(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(n,l,e,i):l})}async function mN(n,e,t=!1){const i=await pc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ko._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(n,e,t=!1){const{auth:i}=n;if(Sr(i.app))return Promise.reject(ks(i));const a="reauthenticate";try{const l=await pc(n,gS(i,a,e,n),t);Be(l.idToken,i,"internal-error");const c=fy(l.idToken);Be(c,i,"internal-error");const{sub:h}=c;return Be(n.uid===h,i,"user-mismatch"),ko._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&pi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(n,e,t=!1){if(Sr(n.app))return Promise.reject(ks(n));const i="signIn",a=await gS(n,i,e),l=await ko._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function gN(n,e){return yS(Bo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vS(n){const e=Bo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yN(n,e,t){if(Sr(n.app))return Promise.reject(ks(n));const i=Bo(n),c=await Rg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dN).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&vS(n),f}),h=await ko._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function vN(n,e,t){return Sr(n.app)?Promise.reject(ks(n)):gN(Xt(n),Ql.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&vS(n),i})}function _N(n,e,t,i){return Xt(n).onIdTokenChanged(e,t,i)}function EN(n,e,t){return Xt(n).beforeAuthStateChanged(e,t)}function TN(n,e,t,i){return Xt(n).onAuthStateChanged(e,t,i)}const _h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=1e3,wN=10;class ES extends _S{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);zD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,wN):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},bN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ES.type="LOCAL";const SN=ES;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS extends _S{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}TS.type="SESSION";const bS=TS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Gh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async m=>m(t.origin,l)),f=await RN(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,f)=>{const m=py("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(y),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function CN(n){Ki().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function IN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ON(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function xN(){return wS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="firebaseLocalStorageDb",DN=1,Eh="firebaseLocalStorage",RS="fbase_key";class kc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kh(n,e){return n.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function NN(){const n=indexedDB.deleteDatabase(SS);return new kc(n).toPromise()}function Ag(){const n=indexedDB.open(SS,DN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Eh,{keyPath:RS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Eh)?e(i):(i.close(),await NN(),e(await Ag()))})})}async function aT(n,e,t){const i=Kh(n,!0).put({[RS]:e,value:t});return new kc(i).toPromise()}async function kN(n,e){const t=Kh(n,!1).get(e),i=await new kc(t).toPromise();return i===void 0?null:i.value}function oT(n,e){const t=Kh(n,!0).delete(e);return new kc(t).toPromise()}const PN=800,MN=3;class AS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ag(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>MN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(xN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await IN(),!this.activeServiceWorker)return;this.sender=new AN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ON()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ag();return await aT(e,_h,"1"),await oT(e,_h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>aT(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>kN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>oT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Kh(a,!1).getAll();return new kc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AS.type="LOCAL";const LN=AS;new xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(n,e){return e?Ds(e):(Be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy extends dy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ll(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ll(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function VN(n){return yS(n.auth,new gy(n),n.bypassAuthState)}function jN(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),pN(t,new gy(n),n.bypassAuthState)}async function BN(n){const{auth:e,user:t}=n;return Be(t,e,"internal-error"),mN(t,new gy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VN;case"linkViaPopup":case"linkViaRedirect":return BN;case"reauthViaPopup":case"reauthViaRedirect":return jN;default:pi(this.auth,"internal-error")}}resolve(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new xc(2e3,1e4);class kl extends CS{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,kl.currentPopupAction&&kl.currentPopupAction.cancel(),kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){Vs(this.filter.length===1,"Popup operations only handle one event");const e=py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zN.get())};e()}}kl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="pendingRedirect",ih=new Map;class FN extends CS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const i=await HN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HN(n,e){const t=KN(e),i=GN(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function $N(n,e){ih.set(n._key(),e)}function GN(n){return Ds(n._redirectPersistence)}function KN(n){return rh(qN,n.config.apiKey,n.name)}async function QN(n,e,t=!1){if(Sr(n.app))return Promise.reject(ks(n));const i=Bo(n),a=UN(i,e),c=await new FN(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=10*60*1e3;class WN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!IS(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Gi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YN&&this.cachedEventUids.clear(),this.cachedEventUids.has(lT(e))}saveEventToCache(e){this.cachedEventUids.add(lT(e)),this.lastProcessedEventTime=Date.now()}}function lT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function IS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(n,e={}){return Ha(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ek=/^https?/;async function tk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ZN(n);for(const t of e)try{if(nk(t))return}catch{}pi(n,"unauthorized-domain")}function nk(n){const e=wg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!ek.test(t))return!1;if(JN.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=new xc(3e4,6e4);function uT(){const n=Ki().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ik(n){return new Promise((e,t)=>{var i,a,l;function c(){uT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uT(),t(Gi(n,"network-request-failed"))},timeout:rk.get()})}if(!((a=(i=Ki().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Ki().gapi)===null||l===void 0)&&l.load)c();else{const h=WD("iframefcb");return Ki()[h]=()=>{gapi.load?c():t(Gi(n,"network-request-failed"))},hS(`${YD()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw sh=null,e})}let sh=null;function sk(n){return sh=sh||ik(n),sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=new xc(5e3,15e3),ok="__/auth/iframe",lk="emulator/auth/iframe",uk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ck=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fk(n){const e=n.config;Be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?cy(e,lk):`https://${n.config.authDomain}/${ok}`,i={apiKey:e.apiKey,appName:n.name,v:jo},a=ck.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Oc(i).slice(1)}`}async function hk(n){const e=await sk(n),t=Ki().gapi;return Be(t,n,"internal-error"),e.open({where:document.body,url:fk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uk,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Gi(n,"network-request-failed"),h=Ki().setTimeout(()=>{l(c)},ak.get());function f(){Ki().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mk=500,pk=600,gk="_blank",yk="http://localhost";class cT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vk(n,e,t,i=mk,a=pk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},dk),{width:i.toString(),height:a.toString(),top:l,left:c}),m=qn().toLowerCase();t&&(h=sS(m)?gk:t),rS(m)&&(e=e||yk,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[A,k])=>`${E}${A}=${k},`,"");if(BD(m)&&h!=="_self")return _k(e||"",h),new cT(null);const _=window.open(e||"",h,y);Be(_,n,"popup-blocked");try{_.focus()}catch{}return new cT(_)}function _k(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="__/auth/handler",Tk="emulator/auth/handler",bk=encodeURIComponent("fac");async function fT(n,e,t,i,a,l){Be(n.config.authDomain,n,"auth-domain-config-required"),Be(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:jo,eventId:a};if(e instanceof pS){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",ox(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Nc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),m=f?`#${bk}=${encodeURIComponent(f)}`:"";return`${wk(n)}?${Oc(h).slice(1)}${m}`}function wk({config:n}){return n.emulator?cy(n,Tk):`https://${n.authDomain}/${Ek}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="webStorageSupport";class Sk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bS,this._completeRedirectFn=QN,this._overrideRedirectResult=$N}async _openPopup(e,t,i,a){var l;Vs((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await fT(e,t,i,wg(),a);return vk(e,c,py())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await fT(e,t,i,wg(),a);return CN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Vs(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await hk(e),i=new WN(e);return t.register("authEvent",a=>(Be(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rp,{type:Rp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Rp];c!==void 0&&t(!!c),pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cS()||iS()||hy()}}const Rk=Sk;var hT="@firebase/auth",dT="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ik(n){Do(new La("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Be(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fS(n)},m=new GD(i,a,l,f);return nN(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Do(new La("auth-internal",e=>{const t=Bo(e.getProvider("auth").getImmediate());return(i=>new Ak(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(hT,dT,Ck(n)),$i(hT,dT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=5*60,xk=zw("authIdTokenMaxAge")||Ok;let mT=null;const Dk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>xk)return;const a=t==null?void 0:t.token;mT!==a&&(mT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Nk(n=oy()){const e=Hh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=tN(n,{popupRedirectResolver:Rk,persistence:[LN,SN,bS]}),i=zw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=Dk(l.toString());EN(t,c,()=>c(t.currentUser)),_N(t,h=>c(h))}}const a=Vw("auth");return a&&rN(t,`http://${a}`),t}function kk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}KD({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Gi("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",kk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ik("Browser");var pT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ka,OS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,P){function D(){}D.prototype=P.prototype,L.D=P.prototype,L.prototype=new D,L.prototype.constructor=L,L.C=function(j,F,B){for(var M=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)M[Ae-2]=arguments[Ae];return P.prototype[F].apply(j,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(L,P,D){D||(D=0);var j=Array(16);if(typeof P=="string")for(var F=0;16>F;++F)j[F]=P.charCodeAt(D++)|P.charCodeAt(D++)<<8|P.charCodeAt(D++)<<16|P.charCodeAt(D++)<<24;else for(F=0;16>F;++F)j[F]=P[D++]|P[D++]<<8|P[D++]<<16|P[D++]<<24;P=L.g[0],D=L.g[1],F=L.g[2];var B=L.g[3],M=P+(B^D&(F^B))+j[0]+3614090360&4294967295;P=D+(M<<7&4294967295|M>>>25),M=B+(F^P&(D^F))+j[1]+3905402710&4294967295,B=P+(M<<12&4294967295|M>>>20),M=F+(D^B&(P^D))+j[2]+606105819&4294967295,F=B+(M<<17&4294967295|M>>>15),M=D+(P^F&(B^P))+j[3]+3250441966&4294967295,D=F+(M<<22&4294967295|M>>>10),M=P+(B^D&(F^B))+j[4]+4118548399&4294967295,P=D+(M<<7&4294967295|M>>>25),M=B+(F^P&(D^F))+j[5]+1200080426&4294967295,B=P+(M<<12&4294967295|M>>>20),M=F+(D^B&(P^D))+j[6]+2821735955&4294967295,F=B+(M<<17&4294967295|M>>>15),M=D+(P^F&(B^P))+j[7]+4249261313&4294967295,D=F+(M<<22&4294967295|M>>>10),M=P+(B^D&(F^B))+j[8]+1770035416&4294967295,P=D+(M<<7&4294967295|M>>>25),M=B+(F^P&(D^F))+j[9]+2336552879&4294967295,B=P+(M<<12&4294967295|M>>>20),M=F+(D^B&(P^D))+j[10]+4294925233&4294967295,F=B+(M<<17&4294967295|M>>>15),M=D+(P^F&(B^P))+j[11]+2304563134&4294967295,D=F+(M<<22&4294967295|M>>>10),M=P+(B^D&(F^B))+j[12]+1804603682&4294967295,P=D+(M<<7&4294967295|M>>>25),M=B+(F^P&(D^F))+j[13]+4254626195&4294967295,B=P+(M<<12&4294967295|M>>>20),M=F+(D^B&(P^D))+j[14]+2792965006&4294967295,F=B+(M<<17&4294967295|M>>>15),M=D+(P^F&(B^P))+j[15]+1236535329&4294967295,D=F+(M<<22&4294967295|M>>>10),M=P+(F^B&(D^F))+j[1]+4129170786&4294967295,P=D+(M<<5&4294967295|M>>>27),M=B+(D^F&(P^D))+j[6]+3225465664&4294967295,B=P+(M<<9&4294967295|M>>>23),M=F+(P^D&(B^P))+j[11]+643717713&4294967295,F=B+(M<<14&4294967295|M>>>18),M=D+(B^P&(F^B))+j[0]+3921069994&4294967295,D=F+(M<<20&4294967295|M>>>12),M=P+(F^B&(D^F))+j[5]+3593408605&4294967295,P=D+(M<<5&4294967295|M>>>27),M=B+(D^F&(P^D))+j[10]+38016083&4294967295,B=P+(M<<9&4294967295|M>>>23),M=F+(P^D&(B^P))+j[15]+3634488961&4294967295,F=B+(M<<14&4294967295|M>>>18),M=D+(B^P&(F^B))+j[4]+3889429448&4294967295,D=F+(M<<20&4294967295|M>>>12),M=P+(F^B&(D^F))+j[9]+568446438&4294967295,P=D+(M<<5&4294967295|M>>>27),M=B+(D^F&(P^D))+j[14]+3275163606&4294967295,B=P+(M<<9&4294967295|M>>>23),M=F+(P^D&(B^P))+j[3]+4107603335&4294967295,F=B+(M<<14&4294967295|M>>>18),M=D+(B^P&(F^B))+j[8]+1163531501&4294967295,D=F+(M<<20&4294967295|M>>>12),M=P+(F^B&(D^F))+j[13]+2850285829&4294967295,P=D+(M<<5&4294967295|M>>>27),M=B+(D^F&(P^D))+j[2]+4243563512&4294967295,B=P+(M<<9&4294967295|M>>>23),M=F+(P^D&(B^P))+j[7]+1735328473&4294967295,F=B+(M<<14&4294967295|M>>>18),M=D+(B^P&(F^B))+j[12]+2368359562&4294967295,D=F+(M<<20&4294967295|M>>>12),M=P+(D^F^B)+j[5]+4294588738&4294967295,P=D+(M<<4&4294967295|M>>>28),M=B+(P^D^F)+j[8]+2272392833&4294967295,B=P+(M<<11&4294967295|M>>>21),M=F+(B^P^D)+j[11]+1839030562&4294967295,F=B+(M<<16&4294967295|M>>>16),M=D+(F^B^P)+j[14]+4259657740&4294967295,D=F+(M<<23&4294967295|M>>>9),M=P+(D^F^B)+j[1]+2763975236&4294967295,P=D+(M<<4&4294967295|M>>>28),M=B+(P^D^F)+j[4]+1272893353&4294967295,B=P+(M<<11&4294967295|M>>>21),M=F+(B^P^D)+j[7]+4139469664&4294967295,F=B+(M<<16&4294967295|M>>>16),M=D+(F^B^P)+j[10]+3200236656&4294967295,D=F+(M<<23&4294967295|M>>>9),M=P+(D^F^B)+j[13]+681279174&4294967295,P=D+(M<<4&4294967295|M>>>28),M=B+(P^D^F)+j[0]+3936430074&4294967295,B=P+(M<<11&4294967295|M>>>21),M=F+(B^P^D)+j[3]+3572445317&4294967295,F=B+(M<<16&4294967295|M>>>16),M=D+(F^B^P)+j[6]+76029189&4294967295,D=F+(M<<23&4294967295|M>>>9),M=P+(D^F^B)+j[9]+3654602809&4294967295,P=D+(M<<4&4294967295|M>>>28),M=B+(P^D^F)+j[12]+3873151461&4294967295,B=P+(M<<11&4294967295|M>>>21),M=F+(B^P^D)+j[15]+530742520&4294967295,F=B+(M<<16&4294967295|M>>>16),M=D+(F^B^P)+j[2]+3299628645&4294967295,D=F+(M<<23&4294967295|M>>>9),M=P+(F^(D|~B))+j[0]+4096336452&4294967295,P=D+(M<<6&4294967295|M>>>26),M=B+(D^(P|~F))+j[7]+1126891415&4294967295,B=P+(M<<10&4294967295|M>>>22),M=F+(P^(B|~D))+j[14]+2878612391&4294967295,F=B+(M<<15&4294967295|M>>>17),M=D+(B^(F|~P))+j[5]+4237533241&4294967295,D=F+(M<<21&4294967295|M>>>11),M=P+(F^(D|~B))+j[12]+1700485571&4294967295,P=D+(M<<6&4294967295|M>>>26),M=B+(D^(P|~F))+j[3]+2399980690&4294967295,B=P+(M<<10&4294967295|M>>>22),M=F+(P^(B|~D))+j[10]+4293915773&4294967295,F=B+(M<<15&4294967295|M>>>17),M=D+(B^(F|~P))+j[1]+2240044497&4294967295,D=F+(M<<21&4294967295|M>>>11),M=P+(F^(D|~B))+j[8]+1873313359&4294967295,P=D+(M<<6&4294967295|M>>>26),M=B+(D^(P|~F))+j[15]+4264355552&4294967295,B=P+(M<<10&4294967295|M>>>22),M=F+(P^(B|~D))+j[6]+2734768916&4294967295,F=B+(M<<15&4294967295|M>>>17),M=D+(B^(F|~P))+j[13]+1309151649&4294967295,D=F+(M<<21&4294967295|M>>>11),M=P+(F^(D|~B))+j[4]+4149444226&4294967295,P=D+(M<<6&4294967295|M>>>26),M=B+(D^(P|~F))+j[11]+3174756917&4294967295,B=P+(M<<10&4294967295|M>>>22),M=F+(P^(B|~D))+j[2]+718787259&4294967295,F=B+(M<<15&4294967295|M>>>17),M=D+(B^(F|~P))+j[9]+3951481745&4294967295,L.g[0]=L.g[0]+P&4294967295,L.g[1]=L.g[1]+(F+(M<<21&4294967295|M>>>11))&4294967295,L.g[2]=L.g[2]+F&4294967295,L.g[3]=L.g[3]+B&4294967295}i.prototype.u=function(L,P){P===void 0&&(P=L.length);for(var D=P-this.blockSize,j=this.B,F=this.h,B=0;B<P;){if(F==0)for(;B<=D;)a(this,L,B),B+=this.blockSize;if(typeof L=="string"){for(;B<P;)if(j[F++]=L.charCodeAt(B++),F==this.blockSize){a(this,j),F=0;break}}else for(;B<P;)if(j[F++]=L[B++],F==this.blockSize){a(this,j),F=0;break}}this.h=F,this.o+=P},i.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var P=1;P<L.length-8;++P)L[P]=0;var D=8*this.o;for(P=L.length-8;P<L.length;++P)L[P]=D&255,D/=256;for(this.u(L),L=Array(16),P=D=0;4>P;++P)for(var j=0;32>j;j+=8)L[D++]=this.g[P]>>>j&255;return L};function l(L,P){var D=h;return Object.prototype.hasOwnProperty.call(D,L)?D[L]:D[L]=P(L)}function c(L,P){this.h=P;for(var D=[],j=!0,F=L.length-1;0<=F;F--){var B=L[F]|0;j&&B==P||(D[F]=B,j=!1)}this.g=D}var h={};function f(L){return-128<=L&&128>L?l(L,function(P){return new c([P|0],0>P?-1:0)}):new c([L|0],0>L?-1:0)}function m(L){if(isNaN(L)||!isFinite(L))return _;if(0>L)return V(m(-L));for(var P=[],D=1,j=0;L>=D;j++)P[j]=L/D|0,D*=4294967296;return new c(P,0)}function y(L,P){if(L.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(L.charAt(0)=="-")return V(y(L.substring(1),P));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=m(Math.pow(P,8)),j=_,F=0;F<L.length;F+=8){var B=Math.min(8,L.length-F),M=parseInt(L.substring(F,F+B),P);8>B?(B=m(Math.pow(P,B)),j=j.j(B).add(m(M))):(j=j.j(D),j=j.add(m(M)))}return j}var _=f(0),E=f(1),A=f(16777216);n=c.prototype,n.m=function(){if(G(this))return-V(this).m();for(var L=0,P=1,D=0;D<this.g.length;D++){var j=this.i(D);L+=(0<=j?j:4294967296+j)*P,P*=4294967296}return L},n.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(k(this))return"0";if(G(this))return"-"+V(this).toString(L);for(var P=m(Math.pow(L,6)),D=this,j="";;){var F=J(D,P).g;D=H(D,F.j(P));var B=((0<D.g.length?D.g[0]:D.h)>>>0).toString(L);if(D=F,k(D))return B+j;for(;6>B.length;)B="0"+B;j=B+j}},n.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function k(L){if(L.h!=0)return!1;for(var P=0;P<L.g.length;P++)if(L.g[P]!=0)return!1;return!0}function G(L){return L.h==-1}n.l=function(L){return L=H(this,L),G(L)?-1:k(L)?0:1};function V(L){for(var P=L.g.length,D=[],j=0;j<P;j++)D[j]=~L.g[j];return new c(D,~L.h).add(E)}n.abs=function(){return G(this)?V(this):this},n.add=function(L){for(var P=Math.max(this.g.length,L.g.length),D=[],j=0,F=0;F<=P;F++){var B=j+(this.i(F)&65535)+(L.i(F)&65535),M=(B>>>16)+(this.i(F)>>>16)+(L.i(F)>>>16);j=M>>>16,B&=65535,M&=65535,D[F]=M<<16|B}return new c(D,D[D.length-1]&-2147483648?-1:0)};function H(L,P){return L.add(V(P))}n.j=function(L){if(k(this)||k(L))return _;if(G(this))return G(L)?V(this).j(V(L)):V(V(this).j(L));if(G(L))return V(this.j(V(L)));if(0>this.l(A)&&0>L.l(A))return m(this.m()*L.m());for(var P=this.g.length+L.g.length,D=[],j=0;j<2*P;j++)D[j]=0;for(j=0;j<this.g.length;j++)for(var F=0;F<L.g.length;F++){var B=this.i(j)>>>16,M=this.i(j)&65535,Ae=L.i(F)>>>16,Me=L.i(F)&65535;D[2*j+2*F]+=M*Me,Y(D,2*j+2*F),D[2*j+2*F+1]+=B*Me,Y(D,2*j+2*F+1),D[2*j+2*F+1]+=M*Ae,Y(D,2*j+2*F+1),D[2*j+2*F+2]+=B*Ae,Y(D,2*j+2*F+2)}for(j=0;j<P;j++)D[j]=D[2*j+1]<<16|D[2*j];for(j=P;j<2*P;j++)D[j]=0;return new c(D,0)};function Y(L,P){for(;(L[P]&65535)!=L[P];)L[P+1]+=L[P]>>>16,L[P]&=65535,P++}function $(L,P){this.g=L,this.h=P}function J(L,P){if(k(P))throw Error("division by zero");if(k(L))return new $(_,_);if(G(L))return P=J(V(L),P),new $(V(P.g),V(P.h));if(G(P))return P=J(L,V(P)),new $(V(P.g),P.h);if(30<L.g.length){if(G(L)||G(P))throw Error("slowDivide_ only works with positive integers.");for(var D=E,j=P;0>=j.l(L);)D=se(D),j=se(j);var F=de(D,1),B=de(j,1);for(j=de(j,2),D=de(D,2);!k(j);){var M=B.add(j);0>=M.l(L)&&(F=F.add(D),B=M),j=de(j,1),D=de(D,1)}return P=H(L,F.j(P)),new $(F,P)}for(F=_;0<=L.l(P);){for(D=Math.max(1,Math.floor(L.m()/P.m())),j=Math.ceil(Math.log(D)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),B=m(D),M=B.j(P);G(M)||0<M.l(L);)D-=j,B=m(D),M=B.j(P);k(B)&&(B=E),F=F.add(B),L=H(L,M)}return new $(F,L)}n.A=function(L){return J(this,L).h},n.and=function(L){for(var P=Math.max(this.g.length,L.g.length),D=[],j=0;j<P;j++)D[j]=this.i(j)&L.i(j);return new c(D,this.h&L.h)},n.or=function(L){for(var P=Math.max(this.g.length,L.g.length),D=[],j=0;j<P;j++)D[j]=this.i(j)|L.i(j);return new c(D,this.h|L.h)},n.xor=function(L){for(var P=Math.max(this.g.length,L.g.length),D=[],j=0;j<P;j++)D[j]=this.i(j)^L.i(j);return new c(D,this.h^L.h)};function se(L){for(var P=L.g.length+1,D=[],j=0;j<P;j++)D[j]=L.i(j)<<1|L.i(j-1)>>>31;return new c(D,L.h)}function de(L,P){var D=P>>5;P%=32;for(var j=L.g.length-D,F=[],B=0;B<j;B++)F[B]=0<P?L.i(B+D)>>>P|L.i(B+D+1)<<32-P:L.i(B+D);return new c(F,L.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,OS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,ka=c}).apply(typeof pT<"u"?pT:typeof self<"u"?self:typeof window<"u"?window:{});var Hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xS,nc,DS,ah,Cg,NS,kS,PS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,T){return d==Array.prototype||d==Object.prototype||(d[v]=T.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hf=="object"&&Hf];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function a(d,v){if(v)e:{var T=i;d=d.split(".");for(var O=0;O<d.length-1;O++){var ee=d[O];if(!(ee in T))break e;T=T[ee]}d=d[d.length-1],O=T[d],v=v(O),v!=O&&v!=null&&e(T,d,{configurable:!0,writable:!0,value:v})}}function l(d,v){d instanceof String&&(d+="");var T=0,O=!1,ee={next:function(){if(!O&&T<d.length){var ie=T++;return{value:v(ie,d[ie]),done:!1}}return O=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}a("Array.prototype.values",function(d){return d||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function m(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,T){return d.call.apply(d.bind,arguments)}function _(d,v,T){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,O),d.apply(v,ee)}}return function(){return d.apply(v,arguments)}}function E(d,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function A(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function k(d,v){function T(){}T.prototype=v.prototype,d.aa=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(O,ee,ie){for(var Ee=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)Ee[ot-2]=arguments[ot];return v.prototype[ee].apply(O,Ee)}}function G(d){const v=d.length;if(0<v){const T=Array(v);for(let O=0;O<v;O++)T[O]=d[O];return T}return[]}function V(d,v){for(let T=1;T<arguments.length;T++){const O=arguments[T];if(f(O)){const ee=d.length||0,ie=O.length||0;d.length=ee+ie;for(let Ee=0;Ee<ie;Ee++)d[ee+Ee]=O[Ee]}else d.push(O)}}class H{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Y(d){return/^[\s\xa0]*$/.test(d)}function $(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function J(d){return J[" "](d),d}J[" "]=function(){};var se=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function de(d,v,T){for(const O in d)v.call(T,d[O],O,d)}function L(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function P(d){const v={};for(const T in d)v[T]=d[T];return v}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(d,v){let T,O;for(let ee=1;ee<arguments.length;ee++){O=arguments[ee];for(T in O)d[T]=O[T];for(let ie=0;ie<D.length;ie++)T=D[ie],Object.prototype.hasOwnProperty.call(O,T)&&(d[T]=O[T])}}function F(d){var v=1;d=d.split(":");const T=[];for(;0<v&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function B(d){h.setTimeout(()=>{throw d},0)}function M(){var d=Qe;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Ae{constructor(){this.h=this.g=null}add(v,T){const O=Me.get();O.set(v,T),this.h?this.h.next=O:this.g=O,this.h=O}}var Me=new H(()=>new le,d=>d.reset());class le{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ge=!1,Qe=new Ae,z=()=>{const d=h.Promise.resolve(void 0);Te=()=>{d.then(ue)}};var ue=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(T){B(T)}var v=Me;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ge=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};h.addEventListener("test",T,v),h.removeEventListener("test",T,v)}catch{}return d}();function Ue(d,v){if(ve.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(se){e:{try{J(v.nodeName);var ee=!0;break e}catch{}ee=!1}ee||(v=null)}}else T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement);this.relatedTarget=v,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Fe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ue.aa.h.call(this)}}k(Ue,ve);var Fe={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),et=0;function Et(d,v,T,O,ee){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!O,this.ha=ee,this.key=++et,this.da=this.fa=!1}function rt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Zt(d){this.src=d,this.g={},this.h=0}Zt.prototype.add=function(d,v,T,O,ee){var ie=d.toString();d=this.g[ie],d||(d=this.g[ie]=[],this.h++);var Ee=pn(d,v,O,ee);return-1<Ee?(v=d[Ee],T||(v.fa=!1)):(v=new Et(v,this.src,ie,!!O,ee),v.fa=T,d.push(v)),v};function tr(d,v){var T=v.type;if(T in d.g){var O=d.g[T],ee=Array.prototype.indexOf.call(O,v,void 0),ie;(ie=0<=ee)&&Array.prototype.splice.call(O,ee,1),ie&&(rt(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function pn(d,v,T,O){for(var ee=0;ee<d.length;++ee){var ie=d[ee];if(!ie.da&&ie.listener==v&&ie.capture==!!T&&ie.ha==O)return ee}return-1}var Fn="closure_lm_"+(1e6*Math.random()|0),dt={};function Pn(d,v,T,O,ee){if(Array.isArray(v)){for(var ie=0;ie<v.length;ie++)Pn(d,v[ie],T,O,ee);return null}return T=$o(T),d&&d[Lt]?d.K(v,T,m(O)?!!O.capture:!1,ee):Ir(d,v,T,!1,O,ee)}function Ir(d,v,T,O,ee,ie){if(!v)throw Error("Invalid event type");var Ee=m(ee)?!!ee.capture:!!ee,ot=Ka(d);if(ot||(d[Fn]=ot=new Zt(d)),T=ot.add(v,T,O,Ee,ie),T.proxy)return T;if(O=ts(),T.proxy=O,O.src=d,O.listener=T,d.addEventListener)_e||(ee=Ee),ee===void 0&&(ee=!1),d.addEventListener(v.toString(),O,ee);else if(d.attachEvent)d.attachEvent(Gs(v.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ts(){function d(T){return v.call(d.src,d.listener,T)}const v=ru;return d}function $s(d,v,T,O,ee){if(Array.isArray(v))for(var ie=0;ie<v.length;ie++)$s(d,v[ie],T,O,ee);else O=m(O)?!!O.capture:!!O,T=$o(T),d&&d[Lt]?(d=d.i,v=String(v).toString(),v in d.g&&(ie=d.g[v],T=pn(ie,T,O,ee),-1<T&&(rt(ie[T]),Array.prototype.splice.call(ie,T,1),ie.length==0&&(delete d.g[v],d.h--)))):d&&(d=Ka(d))&&(v=d.g[v.toString()],d=-1,v&&(d=pn(v,T,O,ee)),(T=-1<d?v[d]:null)&&ns(T))}function ns(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Lt])tr(v.i,d);else{var T=d.type,O=d.proxy;v.removeEventListener?v.removeEventListener(T,O,d.capture):v.detachEvent?v.detachEvent(Gs(T),O):v.addListener&&v.removeListener&&v.removeListener(O),(T=Ka(v))?(tr(T,d),T.h==0&&(T.src=null,v[Fn]=null)):rt(d)}}}function Gs(d){return d in dt?dt[d]:dt[d]="on"+d}function ru(d,v){if(d.da)d=!0;else{v=new Ue(v,this);var T=d.listener,O=d.ha||d.src;d.fa&&ns(d),d=T.call(O,v)}return d}function Ka(d){return d=d[Fn],d instanceof Zt?d:null}var Rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function $o(d){return typeof d=="function"?d:(d[Rn]||(d[Rn]=function(v){return d.handleEvent(v)}),d[Rn])}function ne(){we.call(this),this.i=new Zt(this),this.M=this,this.F=null}k(ne,we),ne.prototype[Lt]=!0,ne.prototype.removeEventListener=function(d,v,T,O){$s(this,d,v,T,O)};function Oe(d,v){var T,O=d.F;if(O)for(T=[];O;O=O.F)T.push(O);if(d=d.M,O=v.type||v,typeof v=="string")v=new ve(v,d);else if(v instanceof ve)v.target=v.target||d;else{var ee=v;v=new ve(O,d),j(v,ee)}if(ee=!0,T)for(var ie=T.length-1;0<=ie;ie--){var Ee=v.g=T[ie];ee=Or(Ee,O,!0,v)&&ee}if(Ee=v.g=d,ee=Or(Ee,O,!0,v)&&ee,ee=Or(Ee,O,!1,v)&&ee,T)for(ie=0;ie<T.length;ie++)Ee=v.g=T[ie],ee=Or(Ee,O,!1,v)&&ee}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var T=d.g[v],O=0;O<T.length;O++)rt(T[O]);delete d.g[v],d.h--}}this.F=null},ne.prototype.K=function(d,v,T,O){return this.i.add(String(d),v,!1,T,O)},ne.prototype.L=function(d,v,T,O){return this.i.add(String(d),v,!0,T,O)};function Or(d,v,T,O){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var ee=!0,ie=0;ie<v.length;++ie){var Ee=v[ie];if(Ee&&!Ee.da&&Ee.capture==T){var ot=Ee.listener,ln=Ee.ha||Ee.src;Ee.fa&&tr(d.i,Ee),ee=ot.call(ln,O)!==!1&&ee}}return ee&&!O.defaultPrevented}function Qa(d,v,T){if(typeof d=="function")T&&(d=E(d,T));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(d,v||0)}function Ya(d){d.g=Qa(()=>{d.g=null,d.i&&(d.i=!1,Ya(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Wa extends we{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ya(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yi(d){we.call(this),this.h=d,this.g={}}k(yi,we);var Yr=[];function gn(d){de(d.g,function(v,T){this.g.hasOwnProperty(T)&&ns(v)},d),d.g={}}yi.prototype.N=function(){yi.aa.N.call(this),gn(this)},yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xa=h.JSON.stringify,Hn=h.JSON.parse,yn=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function rs(){}rs.prototype.h=null;function Za(d){return d.h||(d.h=d.i())}function Go(){}var mr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){ve.call(this,"d")}k(vi,ve);function nr(){ve.call(this,"c")}k(nr,ve);var $n={},_i=null;function Ks(){return _i=_i||new ne}$n.La="serverreachability";function Ja(d){ve.call(this,$n.La,d)}k(Ja,ve);function Ei(d){const v=Ks();Oe(v,new Ja(v))}$n.STAT_EVENT="statevent";function Ti(d,v){ve.call(this,$n.STAT_EVENT,d),this.stat=v}k(Ti,ve);function Dt(d){const v=Ks();Oe(v,new Ti(v,d))}$n.Ma="timingevent";function Ko(d,v){ve.call(this,$n.Ma,d),this.size=v}k(Ko,ve);function bi(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function wi(){this.g=!0}wi.prototype.xa=function(){this.g=!1};function Qo(d,v,T,O,ee,ie){d.info(function(){if(d.g)if(ie)for(var Ee="",ot=ie.split("&"),ln=0;ln<ot.length;ln++){var lt=ot[ln].split("=");if(1<lt.length){var En=lt[0];lt=lt[1];var un=En.split("_");Ee=2<=un.length&&un[1]=="type"?Ee+(En+"="+lt+"&"):Ee+(En+"=redacted&")}}else Ee=null;else Ee=ie;return"XMLHTTP REQ ("+O+") [attempt "+ee+"]: "+v+`
`+T+`
`+Ee})}function Qt(d,v,T,O,ee,ie,Ee){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+ee+"]: "+v+`
`+T+`
`+ie+" "+Ee})}function Si(d,v,T,O){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Jt(d,T)+(O?" "+O:"")})}function xr(d,v){d.info(function(){return"TIMEOUT: "+v})}wi.prototype.info=function(){};function Jt(d,v){if(!d.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var O=T[d];if(!(2>O.length)){var ee=O[1];if(Array.isArray(ee)&&!(1>ee.length)){var ie=ee[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var Ee=1;Ee<ee.length;Ee++)ee[Ee]=""}}}}return Xa(T)}catch{return v}}var qt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xr;function Ri(){}k(Ri,rs),Ri.prototype.g=function(){return new XMLHttpRequest},Ri.prototype.i=function(){return{}},Xr=new Ri;function Dr(d,v,T,O){this.j=d,this.i=v,this.l=T,this.R=O||1,this.U=new yi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eo}function eo(){this.i=null,this.g="",this.h=!1}var Zr={},pr={};function Mn(d,v,T){d.L=1,d.v=as(vt(v)),d.m=T,d.P=!0,Jr(d,null)}function Jr(d,v){d.F=Date.now(),Nt(d),d.A=vt(d.v);var T=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),ni(T.i,"t",O),d.C=0,T=d.j.J,d.h=new eo,d.g=on(d.j,T?v:null,!d.m),0<d.O&&(d.M=new Wa(E(d.Y,d,d.g),d.O)),v=d.U,T=d.g,O=d.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(Yr[0]=ee.toString()),ee=Yr);for(var ie=0;ie<ee.length;ie++){var Ee=Pn(T,ee[ie],O||v.handleEvent,!1,v.h||v);if(!Ee)break;v.g[Ee.key]=Ee}v=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Ei(),Qo(d.i,d.u,d.A,d.l,d.R,d.m)}Dr.prototype.ca=function(d){d=d.target;const v=this.M;v&&Qn(d)==3?v.j():this.Y(d)},Dr.prototype.Y=function(d){try{if(d==this.g)e:{const un=Qn(this.g);var v=this.g.Ba();const us=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||Pt(this.g)))){this.J||un!=4||v==7||(v==8||0>=us?Ei(3):Ei(2)),ei(this);var T=this.g.Z();this.X=T;t:if(Ai(this)){var O=Pt(this.g);d="";var ee=O.length,ie=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),kt(this);var Ee="";break t}this.h.i=new h.TextDecoder}for(v=0;v<ee;v++)this.h.h=!0,d+=this.h.i.decode(O[v],{stream:!(ie&&v==ee-1)});O.length=0,this.h.g+=d,this.C=0,Ee=this.h.g}else Ee=this.g.oa();if(this.o=T==200,Qt(this.i,this.u,this.A,this.l,this.R,un,T),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,ln=this.g;if((ot=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(ot)){var lt=ot;break t}}lt=null}if(T=lt)Si(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ln(this,T);else{this.o=!1,this.s=3,Dt(12),vn(this),kt(this);break e}}if(this.P){T=!0;let An;for(;!this.J&&this.C<Ee.length;)if(An=Nr(this,Ee),An==pr){un==4&&(this.s=4,Dt(14),T=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(An==Zr){this.s=4,Dt(15),Si(this.i,this.l,Ee,"[Invalid Chunk]"),T=!1;break}else Si(this.i,this.l,An,null),Ln(this,An);if(Ai(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||Ee.length!=0||this.h.h||(this.s=1,Dt(16),T=!1),this.o=this.o&&T,!T)Si(this.i,this.l,Ee,"[Invalid Chunked Response]"),vn(this),kt(this);else if(0<Ee.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+Ee.length),At(En),En.M=!0,Dt(11))}}else Si(this.i,this.l,Ee,null),Ln(this,Ee);un==4&&vn(this),this.o&&!this.J&&(un==4?ke(this.j,this):(this.o=!1,Nt(this)))}else w(this.g),T==400&&0<Ee.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),vn(this),kt(this)}}}catch{}finally{}};function Ai(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Nr(d,v){var T=d.C,O=v.indexOf(`
`,T);return O==-1?pr:(T=Number(v.substring(T,O)),isNaN(T)?Zr:(O+=1,O+T>v.length?pr:(v=v.slice(O,O+T),d.C=O+T,v)))}Dr.prototype.cancel=function(){this.J=!0,vn(this)};function Nt(d){d.S=Date.now()+d.I,to(d,d.I)}function to(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=bi(E(d.ba,d),v)}function ei(d){d.B&&(h.clearTimeout(d.B),d.B=null)}Dr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(xr(this.i,this.A),this.L!=2&&(Ei(),Dt(17)),vn(this),this.s=2,kt(this)):to(this,this.S-d)};function kt(d){d.j.G==0||d.J||ke(d.j,d)}function vn(d){ei(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,gn(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Ln(d,v){try{var T=d.j;if(T.G!=0&&(T.g==d||Ii(T.h,d))){if(!d.K&&Ii(T.h,d)&&T.G==3){try{var O=T.Da.g.parse(v)}catch{O=null}if(Array.isArray(O)&&O.length==3){var ee=O;if(ee[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)qe(T),q(T);else break e;mt(T),Dt(18)}}else T.za=ee[1],0<T.za-T.T&&37500>ee[2]&&T.F&&T.v==0&&!T.C&&(T.C=bi(E(T.Za,T),6e3));if(1>=Yo(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else bt(T,11)}else if((d.K||T.g==d)&&qe(T),!Y(v))for(ee=T.Da.g.parse(v),v=0;v<ee.length;v++){let lt=ee[v];if(T.T=lt[0],lt=lt[1],T.G==2)if(lt[0]=="c"){T.K=lt[1],T.ia=lt[2];const En=lt[3];En!=null&&(T.la=En,T.j.info("VER="+T.la));const un=lt[4];un!=null&&(T.Aa=un,T.j.info("SVER="+T.Aa));const us=lt[5];us!=null&&typeof us=="number"&&0<us&&(O=1.5*us,T.L=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const An=d.g;if(An){const Li=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Li){var ie=O.h;ie.g||Li.indexOf("spdy")==-1&&Li.indexOf("quic")==-1&&Li.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(gr(ie,ie.h),ie.h=null))}if(O.D){const ou=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;ou&&(O.ya=ou,ht(O.I,O.D,ou))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),O=T;var Ee=d;if(O.qa=lr(O,O.J?O.ia:null,O.W),Ee.K){Gn(O.h,Ee);var ot=Ee,ln=O.L;ln&&(ot.I=ln),ot.B&&(ei(ot),Nt(ot)),O.g=Ee}else xe(O);0<T.i.length&&Z(T)}else lt[0]!="stop"&&lt[0]!="close"||bt(T,7);else T.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?bt(T,7):N(T):lt[0]!="noop"&&T.l&&T.l.ta(lt),T.v=0)}}Ei(4)}catch{}}var Ci=class{constructor(d,v){this.g=d,this.map=v}};function Qs(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function no(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Yo(d){return d.h?1:d.g?d.g.size:0}function Ii(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function gr(d,v){d.g?d.g.add(v):d.h=v}function Gn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Qs.prototype.cancel=function(){if(this.i=_n(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function _n(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.D);return v}return G(d.i)}function Wo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],T=d.length,O=0;O<T;O++)v.push(d[O]);return v}v=[],T=0;for(O in d)v[T++]=d[O];return v}function iu(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var T=0;T<d;T++)v.push(T);return v}v=[],T=0;for(const O in d)v[T++]=O;return v}}}function is(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var T=iu(d),O=Wo(d),ee=O.length,ie=0;ie<ee;ie++)v.call(void 0,O[ie],T&&T[ie],d)}var ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ss(d,v){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var O=d[T].indexOf("="),ee=null;if(0<=O){var ie=d[T].substring(0,O);ee=d[T].substring(O+1)}else ie=d[T];v(ie,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function kr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof kr){this.h=d.h,ti(this,d.j),this.o=d.o,this.g=d.g,Ys(this,d.s),this.l=d.l;var v=d.i,T=new Pr;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Ws(this,T),this.m=d.m}else d&&(v=String(d).match(ro))?(this.h=!1,ti(this,v[1]||"",!0),this.o=Oi(v[2]||""),this.g=Oi(v[3]||"",!0),Ys(this,v[4]),this.l=Oi(v[5]||"",!0),Ws(this,v[6]||"",!0),this.m=Oi(v[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}kr.prototype.toString=function(){var d=[],v=this.j;v&&d.push(rr(v,Xs,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(rr(v,Xs,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(rr(T,T.charAt(0)=="/"?Zs:os,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",rr(T,Xo)),d.join("")};function vt(d){return new kr(d)}function ti(d,v,T){d.j=T?Oi(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Ys(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Ws(d,v,T){v instanceof Pr?(d.i=v,io(d.i,d.h)):(T||(v=rr(v,au)),d.i=new Pr(v,d.h))}function ht(d,v,T){d.i.set(v,T)}function as(d){return ht(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Oi(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function rr(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,su),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function su(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Xs=/[#\/\?@]/g,os=/[#\?:]/g,Zs=/[#\?]/g,au=/[#\?@]/g,Xo=/#/g;function Pr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Kn(d){d.g||(d.g=new Map,d.h=0,d.i&&ss(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=Pr.prototype,n.add=function(d,v){Kn(this),this.i=null,d=ri(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function xi(d,v){Kn(d),v=ri(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function ir(d,v){return Kn(d),v=ri(d,v),d.g.has(v)}n.forEach=function(d,v){Kn(this),this.g.forEach(function(T,O){T.forEach(function(ee){d.call(v,ee,O,this)},this)},this)},n.na=function(){Kn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let O=0;O<v.length;O++){const ee=d[O];for(let ie=0;ie<ee.length;ie++)T.push(v[O])}return T},n.V=function(d){Kn(this);let v=[];if(typeof d=="string")ir(this,d)&&(v=v.concat(this.g.get(ri(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)v=v.concat(d[T])}return v},n.set=function(d,v){return Kn(this),this.i=null,d=ri(this,d),ir(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function ni(d,v,T){xi(d,v),0<T.length&&(d.i=null,d.g.set(ri(d,v),G(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var O=v[T];const ie=encodeURIComponent(String(O)),Ee=this.V(O);for(O=0;O<Ee.length;O++){var ee=ie;Ee[O]!==""&&(ee+="="+encodeURIComponent(String(Ee[O]))),d.push(ee)}}return this.i=d.join("&")};function ri(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function io(d,v){v&&!d.j&&(Kn(d),d.i=null,d.g.forEach(function(T,O){var ee=O.toLowerCase();O!=ee&&(xi(this,O),ni(this,ee,T))},d)),d.j=v}function Js(d,v){const T=new wi;if(h.Image){const O=new Image;O.onload=A(sr,T,"TestLoadImage: loaded",!0,v,O),O.onerror=A(sr,T,"TestLoadImage: error",!1,v,O),O.onabort=A(sr,T,"TestLoadImage: abort",!1,v,O),O.ontimeout=A(sr,T,"TestLoadImage: timeout",!1,v,O),h.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else v(!1)}function Di(d,v){const T=new wi,O=new AbortController,ee=setTimeout(()=>{O.abort(),sr(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:O.signal}).then(ie=>{clearTimeout(ee),ie.ok?sr(T,"TestPingServer: ok",!0,v):sr(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(ee),sr(T,"TestPingServer: error",!1,v)})}function sr(d,v,T,O,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),O(T)}catch{}}function Ni(){this.g=new yn}function ar(d,v,T){const O=T||"";try{is(d,function(ee,ie){let Ee=ee;m(ee)&&(Ee=Xa(ee)),v.push(O+ie+"="+encodeURIComponent(Ee))})}catch(ee){throw v.push(O+"type="+encodeURIComponent("_badmap")),ee}}function ii(d){this.l=d.Ub||null,this.j=d.eb||!1}k(ii,rs),ii.prototype.g=function(){return new Mr(this.l,this.j)},ii.prototype.i=function(d){return function(){return d}}({});function Mr(d,v){ne.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Mr,ne),n=Mr.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Lr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ki(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function ki(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?yr(this):Lr(this),this.readyState==3&&ki(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,yr(this))},n.Qa=function(d){this.g&&(this.response=d,yr(this))},n.ga=function(){this.g&&yr(this)};function yr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Lr(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function Lr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Pi(d){let v="";return de(d,function(T,O){v+=O,v+=":",v+=T,v+=`\r
`}),v}function Tt(d,v,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=Pi(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):ht(d,v,T))}function it(d){ne.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(it,ne);var si=/^https?$/i,ai=["POST","PUT"];n=it.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xr.g(),this.v=this.o?Za(this.o):Za(Xr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(ie){Zo(this,ie);return}if(d=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var ee in O)T.set(ee,O[ee]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ie of O.keys())T.set(ie,O.get(ie));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(ie=>ie.toLowerCase()=="content-type"),ee=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ai,v,void 0))||O||ee||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,Ee]of T)this.g.setRequestHeader(ie,Ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ls(this),this.u=!0,this.g.send(d),this.u=!1}catch(ie){Zo(this,ie)}};function Zo(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,ea(d),or(d)}function ea(d){d.A||(d.A=!0,Oe(d,"complete"),Oe(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Oe(this,"complete"),Oe(this,"abort"),or(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),or(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ta(this):this.bb())},n.bb=function(){ta(this)};function ta(d){if(d.h&&typeof c<"u"&&(!d.v[1]||Qn(d)!=4||d.Z()!=2)){if(d.u&&Qn(d)==4)Qa(d.Ea,0,d);else if(Oe(d,"readystatechange"),Qn(d)==4){d.h=!1;try{const Ee=d.Z();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var O;if(O=Ee===0){var ee=String(d.D).match(ro)[1]||null;!ee&&h.self&&h.self.location&&(ee=h.self.location.protocol.slice(0,-1)),O=!si.test(ee?ee.toLowerCase():"")}T=O}if(T)Oe(d,"complete"),Oe(d,"success");else{d.m=6;try{var ie=2<Qn(d)?d.g.statusText:""}catch{ie=""}d.l=ie+" ["+d.Z()+"]",ea(d)}}finally{or(d)}}}}function or(d,v){if(d.g){ls(d);const T=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Oe(d,"ready");try{T.onreadystatechange=O}catch{}}}function ls(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Qn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Hn(v)}};function Pt(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function w(d){const v={};d=(d.g&&2<=Qn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(Y(d[O]))continue;var T=F(d[O]);const ee=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ie=v[ee]||[];v[ee]=ie,ie.push(T)}L(v,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function S(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function x(d){this.Aa=0,this.i=[],this.j=new wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=S("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=S("baseRetryDelayMs",5e3,d),this.cb=S("retryDelaySeedMs",1e4,d),this.Wa=S("forwardChannelMaxRetries",2,d),this.wa=S("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Qs(d&&d.concurrentRequestLimit),this.Da=new Ni,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=x.prototype,n.la=8,n.G=1,n.connect=function(d,v,T,O){Dt(0),this.W=d,this.H=v||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.I=lr(this,null,this.W),Z(this)};function N(d){if(W(d),d.G==3){var v=d.U++,T=vt(d.I);if(ht(T,"SID",d.K),ht(T,"RID",v),ht(T,"TYPE","terminate"),ye(d,T),v=new Dr(d,d.j,v),v.L=2,v.v=as(vt(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=v.v,T=!0),T||(v.g=on(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Nt(v)}Ut(d)}function q(d){d.g&&(At(d),d.g.cancel(),d.g=null)}function W(d){q(d),d.u&&(h.clearTimeout(d.u),d.u=null),qe(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Z(d){if(!no(d.h)&&!d.s){d.s=!0;var v=d.Ga;Te||z(),ge||(Te(),ge=!0),Qe.add(v,d),d.B=0}}function pe(d,v){return Yo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=bi(E(d.Ga,d,v),Ct(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const ee=new Dr(this,this.j,d);let ie=this.o;if(this.S&&(ie?(ie=P(ie),j(ie,this.S)):ie=this.S),this.m!==null||this.O||(ee.H=ie,ie=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(v+=O,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=be(this,ee,v),T=vt(this.I),ht(T,"RID",d),ht(T,"CVER",22),this.D&&ht(T,"X-HTTP-Session-Id",this.D),ye(this,T),ie&&(this.O?v="headers="+encodeURIComponent(String(Pi(ie)))+"&"+v:this.m&&Tt(T,this.m,ie)),gr(this.h,ee),this.Ua&&ht(T,"TYPE","init"),this.P?(ht(T,"$req",v),ht(T,"SID","null"),ee.T=!0,Mn(ee,T,null)):Mn(ee,T,v),this.G=2}}else this.G==3&&(d?Ie(this,d):this.i.length==0||no(this.h)||Ie(this))};function Ie(d,v){var T;v?T=v.l:T=d.U++;const O=vt(d.I);ht(O,"SID",d.K),ht(O,"RID",T),ht(O,"AID",d.T),ye(d,O),d.m&&d.o&&Tt(O,d.m,d.o),T=new Dr(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),v&&(d.i=v.D.concat(d.i)),v=be(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),gr(d.h,T),Mn(T,O,v)}function ye(d,v){d.H&&de(d.H,function(T,O){ht(v,O,T)}),d.l&&is({},function(T,O){ht(v,O,T)})}function be(d,v,T){T=Math.min(d.i.length,T);var O=d.l?E(d.l.Na,d.l,d):null;e:{var ee=d.i;let ie=-1;for(;;){const Ee=["count="+T];ie==-1?0<T?(ie=ee[0].g,Ee.push("ofs="+ie)):ie=0:Ee.push("ofs="+ie);let ot=!0;for(let ln=0;ln<T;ln++){let lt=ee[ln].g;const En=ee[ln].map;if(lt-=ie,0>lt)ie=Math.max(0,ee[ln].g-100),ot=!1;else try{ar(En,Ee,"req"+lt+"_")}catch{O&&O(En)}}if(ot){O=Ee.join("&");break e}}}return d=d.i.splice(0,T),v.D=d,O}function xe(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;Te||z(),ge||(Te(),ge=!0),Qe.add(v,d),d.v=0}}function mt(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=bi(E(d.Fa,d),Ct(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Ne(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=bi(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),q(this),Ne(this))};function At(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Ne(d){d.g=new Dr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=vt(d.qa);ht(v,"RID","rpc"),ht(v,"SID",d.K),ht(v,"AID",d.T),ht(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&ht(v,"TO",d.ja),ht(v,"TYPE","xmlhttp"),ye(d,v),d.m&&d.o&&Tt(v,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=as(vt(v)),T.m=null,T.P=!0,Jr(T,d)}n.Za=function(){this.C!=null&&(this.C=null,q(this),mt(this),Dt(19))};function qe(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function ke(d,v){var T=null;if(d.g==v){qe(d),At(d),d.g=null;var O=2}else if(Ii(d.h,v))T=v.D,Gn(d.h,v),O=1;else return;if(d.G!=0){if(v.o)if(O==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var ee=d.B;O=Ks(),Oe(O,new Ko(O,T)),Z(d)}else xe(d);else if(ee=v.s,ee==3||ee==0&&0<v.X||!(O==1&&pe(d,v)||O==2&&mt(d)))switch(T&&0<T.length&&(v=d.h,v.i=v.i.concat(T)),ee){case 1:bt(d,5);break;case 4:bt(d,10);break;case 3:bt(d,6);break;default:bt(d,2)}}}function Ct(d,v){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*v}function bt(d,v){if(d.j.info("Error code "+v),v==2){var T=E(d.fb,d),O=d.Xa;const ee=!O;O=new kr(O||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ti(O,"https"),as(O),ee?Js(O.toString(),T):Di(O.toString(),T)}else Dt(2);d.G=0,d.l&&d.l.sa(v),Ut(d),W(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Ut(d){if(d.G=0,d.ka=[],d.l){const v=_n(d.h);(v.length!=0||d.i.length!=0)&&(V(d.ka,v),V(d.ka,d.i),d.h.i.length=0,G(d.i),d.i.length=0),d.l.ra()}}function lr(d,v,T){var O=T instanceof kr?vt(T):new kr(T);if(O.g!="")v&&(O.g=v+"."+O.g),Ys(O,O.s);else{var ee=h.location;O=ee.protocol,v=v?v+"."+ee.hostname:ee.hostname,ee=+ee.port;var ie=new kr(null);O&&ti(ie,O),v&&(ie.g=v),ee&&Ys(ie,ee),T&&(ie.l=T),O=ie}return T=d.D,v=d.ya,T&&v&&ht(O,T,v),ht(O,"VER",d.la),ye(d,O),O}function on(d,v,T){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new it(new ii({eb:T})):new it(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vr(){}n=vr.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ur(){}ur.prototype.g=function(d,v){return new en(d,v)};function en(d,v){ne.call(this),this.g=new x(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!Y(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Y(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Mi(this)}k(en,ne),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){N(this.g)},en.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=Xa(d),d=T);v.i.push(new Ci(v.Ya++,d)),v.G==3&&Z(v)},en.prototype.N=function(){this.g.l=null,delete this.j,N(this.g),delete this.g,en.aa.N.call(this)};function so(d){vi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const T in v){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}k(so,vi);function Fc(){nr.call(this),this.status=1}k(Fc,nr);function Mi(d){this.g=d}k(Mi,vr),Mi.prototype.ua=function(){Oe(this.g,"a")},Mi.prototype.ta=function(d){Oe(this.g,new so(d))},Mi.prototype.sa=function(d){Oe(this.g,new Fc)},Mi.prototype.ra=function(){Oe(this.g,"b")},ur.prototype.createWebChannel=ur.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,PS=function(){return new ur},kS=function(){return Ks()},NS=$n,Cg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qt.NO_ERROR=0,qt.TIMEOUT=8,qt.HTTP_ERROR=6,ah=qt,Wr.COMPLETE="complete",DS=Wr,Go.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",ne.prototype.listen=ne.prototype.K,nc=Go,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,xS=it}).apply(typeof Hf<"u"?Hf:typeof self<"u"?self:typeof window<"u"?window:{});const gT="@firebase/firestore",yT="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new sy("@firebase/firestore");function Il(){return Po.logLevel}function Se(n,...e){if(Po.logLevel<=tt.DEBUG){const t=e.map(yy);Po.debug(`Firestore (${Yl}): ${n}`,...t)}}function js(n,...e){if(Po.logLevel<=tt.ERROR){const t=e.map(yy);Po.error(`Firestore (${Yl}): ${n}`,...t)}}function Vl(n,...e){if(Po.logLevel<=tt.WARN){const t=e.map(yy);Po.warn(`Firestore (${Yl}): ${n}`,...t)}}function yy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(n="Unexpected state"){const e=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: `+n;throw js(e),new Error(e)}function _t(n,e){n||ze()}function Ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends es{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bn.UNAUTHENTICATED))}shutdown(){}}class Mk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Lk{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_t(this.o===void 0);let i=this.i;const a=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let l=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ps,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const f=l;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},h=f=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ps)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_t(typeof i.accessToken=="string"),new MS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string"),new Bn(e)}}class Uk{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Vk{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Uk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jk{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Sr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){_t(this.o===void 0);const i=l=>{l.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new vT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_t(typeof t.token=="string"),this.R=t.token,new vT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Bk(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function at(n,e){return n<e?-1:n>e?1:0}function jl(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=-62135596800,ET=1e6;class dn{static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*ET);return new dn(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<_T)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ET}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-_T;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new dn(0,0))}static max(){return new He(new dn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="__name__";class Fi{constructor(e,t,i){t===void 0?t=0:t>e.length&&ze(),i===void 0?i=e.length-t:i>e.length-t&&ze(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Fi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Fi.isNumericId(e),a=Fi.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Fi.extractNumericId(e).compare(Fi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ka.fromString(e.substring(4,e.length-2))}}class Mt extends Fi{construct(e,t,i){return new Mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Re(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new Mt(t)}static emptyPath(){return new Mt([])}}const zk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Fi{construct(e,t,i){return new Nn(e,t,i)}static isValidIdentifier(e){return zk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TT}static keyField(){return new Nn([TT])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Re(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Re(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Re(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new Re(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(t)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Mt.fromString(e))}static fromName(e){return new Le(Mt.fromString(e).popFirst(5))}static empty(){return new Le(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=-1;function qk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=He.fromTimestamp(i===1e9?new dn(t+1,0):new dn(t,i));return new Ua(a,Le.empty(),e)}function Fk(n){return new Ua(n.readTime,n.key,yc)}class Ua{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ua(He.min(),Le.empty(),yc)}static max(){return new Ua(He.max(),Le.empty(),yc)}}function Hk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(n.documentKey,e.documentKey),t!==0?t:at(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==$k)throw n;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,i)=>{t(e)})}static reject(e){return new fe((t,i)=>{i(e)})}static waitFor(e){return new fe((t,i)=>{let a=0,l=0,c=!1;e.forEach(h=>{++a,h.next(()=>{++l,c&&l===a&&t()},f=>i(f))}),c=!0,l===a&&t()})}static or(e){let t=fe.resolve(!1);for(const i of e)t=t.next(a=>a?fe.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new fe((i,a)=>{const l=e.length,c=new Array(l);let h=0;for(let f=0;f<l;f++){const m=f;t(e[m]).next(y=>{c[m]=y,++h,h===l&&i(c)},y=>a(y))}})}static doWhile(e,t){return new fe((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function Kk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Qh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=-1;function Yh(n){return n==null}function Th(n){return n===0&&1/n==-1/0}function Qk(n){return typeof n=="number"&&Number.isInteger(n)&&!Th(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="";function Yk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bT(e)),e=Wk(n.get(t),e);return bT(e)}function Wk(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case US:t+="";break;default:t+=l}}return t}function bT(n){return n+US+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $a(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function VS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t){this.comparator=e,this.root=t||Dn.EMPTY}insert(e,t){return new zt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $f(this.root,e,this.comparator,!1)}getReverseIterator(){return new $f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $f(this.root,e,this.comparator,!0)}}class $f{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Dn.RED,this.left=a??Dn.EMPTY,this.right=l??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Dn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Dn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ze();const e=this.left.check();if(e!==this.right.check())throw ze();return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze()}get value(){throw ze()}get color(){throw ze()}get left(){throw ze()}get right(){throw ze()}copy(e,t,i,a,l){return this}insert(e,t,i){return new Dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ST(this.data.getIterator())}getIteratorFrom(e){return new ST(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mn(this.comparator);return t.data=e,t}}class ST{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new Rr([])}unionWith(e){let t=new mn(Nn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Rr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new jS("Invalid base64 string: "+l):l}}(e);return new kn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new kn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const Xk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(n){if(_t(!!n),typeof n=="string"){let e=0;const t=Xk.exec(n);if(_t(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Wt(n.seconds),nanos:Wt(n.nanos)}}function Wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ja(n){return typeof n=="string"?kn.fromBase64String(n):kn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="server_timestamp",zS="__type__",qS="__previous_value__",FS="__local_write_time__";function _y(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[zS])===null||t===void 0?void 0:t.stringValue)===BS}function Wh(n){const e=n.mapValue.fields[qS];return _y(e)?Wh(e):e}function vc(n){const e=Va(n.mapValue.fields[FS].timestampValue);return new dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t,i,a,l,c,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}const bh="(default)";class _c{constructor(e,t){this.projectId=e,this.database=t||bh}static empty(){return new _c("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof _c&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="__type__",Jk="__max__",Gf={mapValue:{}},$S="__vector__",wh="value";function Ba(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_y(n)?4:t2(n)?9007199254740991:e2(n)?10:11:ze()}function Xi(n,e){if(n===e)return!0;const t=Ba(n);if(t!==Ba(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vc(n).isEqual(vc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Va(a.timestampValue),h=Va(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return ja(a.bytesValue).isEqual(ja(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Wt(a.geoPointValue.latitude)===Wt(l.geoPointValue.latitude)&&Wt(a.geoPointValue.longitude)===Wt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Wt(a.integerValue)===Wt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Wt(a.doubleValue),h=Wt(l.doubleValue);return c===h?Th(c)===Th(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return jl(n.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(wT(c)!==wT(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Xi(c[f],h[f])))return!1;return!0}(n,e);default:return ze()}}function Ec(n,e){return(n.values||[]).find(t=>Xi(t,e))!==void 0}function Bl(n,e){if(n===e)return 0;const t=Ba(n),i=Ba(e);if(t!==i)return at(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return at(n.booleanValue,e.booleanValue);case 2:return function(l,c){const h=Wt(l.integerValue||l.doubleValue),f=Wt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return RT(n.timestampValue,e.timestampValue);case 4:return RT(vc(n),vc(e));case 5:return at(n.stringValue,e.stringValue);case 6:return function(l,c){const h=ja(l),f=ja(c);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const h=l.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const y=at(h[m],f[m]);if(y!==0)return y}return at(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const h=at(Wt(l.latitude),Wt(c.latitude));return h!==0?h:at(Wt(l.longitude),Wt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return AT(n.arrayValue,e.arrayValue);case 10:return function(l,c){var h,f,m,y;const _=l.fields||{},E=c.fields||{},A=(h=_[wh])===null||h===void 0?void 0:h.arrayValue,k=(f=E[wh])===null||f===void 0?void 0:f.arrayValue,G=at(((m=A==null?void 0:A.values)===null||m===void 0?void 0:m.length)||0,((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0);return G!==0?G:AT(A,k)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Gf.mapValue&&c===Gf.mapValue)return 0;if(l===Gf.mapValue)return 1;if(c===Gf.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),m=c.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const E=at(f[_],y[_]);if(E!==0)return E;const A=Bl(h[f[_]],m[y[_]]);if(A!==0)return A}return at(f.length,y.length)}(n.mapValue,e.mapValue);default:throw ze()}}function RT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return at(n,e);const t=Va(n),i=Va(e),a=at(t.seconds,i.seconds);return a!==0?a:at(t.nanos,i.nanos)}function AT(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Bl(t[a],i[a]);if(l)return l}return at(t.length,i.length)}function zl(n){return Ig(n)}function Ig(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Va(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ja(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Le.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Ig(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Ig(t.fields[c])}`;return a+"}"}(n.mapValue):ze()}function oh(n){switch(Ba(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wh(n);return e?16+oh(e):16;case 5:return 2*n.stringValue.length;case 6:return ja(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+oh(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return $a(i.fields,(l,c)=>{a+=l.length+oh(c)}),a}(n.mapValue);default:throw ze()}}function CT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Og(n){return!!n&&"integerValue"in n}function Ey(n){return!!n&&"arrayValue"in n}function IT(n){return!!n&&"nullValue"in n}function OT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lh(n){return!!n&&"mapValue"in n}function e2(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[HS])===null||t===void 0?void 0:t.stringValue)===$S}function lc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return $a(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=lc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function t2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Jk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!lh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lc(t)}setAll(e){let t=Nn.emptyPath(),i={},a=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,a),i={},a=[],t=h.popLast()}c?i[h.lastSegment()]=lc(c):a.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());lh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];lh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){$a(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new hr(lc(this.value))}}function GS(n){const e=[];return $a(n.fields,(t,i)=>{const a=new Nn([t]);if(lh(i)){const l=GS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,t,i,a,l,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new zn(e,0,He.min(),He.min(),He.min(),hr.empty(),0)}static newFoundDocument(e,t,i,a){return new zn(e,1,t,He.min(),i,a,0)}static newNoDocument(e,t){return new zn(e,2,t,He.min(),He.min(),hr.empty(),0)}static newUnknownDocument(e,t){return new zn(e,3,t,He.min(),He.min(),hr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t){this.position=e,this.inclusive=t}}function xT(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Le.comparator(Le.fromName(c.referenceValue),t.key):i=Bl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function DT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t="asc"){this.field=e,this.dir=t}}function n2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{}class an extends KS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new i2(e,t,i):t==="array-contains"?new o2(e,i):t==="in"?new l2(e,i):t==="not-in"?new u2(e,i):t==="array-contains-any"?new c2(e,i):new an(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new s2(e,i):new a2(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Bl(t,this.value)):t!==null&&Ba(this.value)===Ba(t)&&this.matchesComparison(Bl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends KS{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new gi(e,t)}matches(e){return QS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function QS(n){return n.op==="and"}function YS(n){return r2(n)&&QS(n)}function r2(n){for(const e of n.filters)if(e instanceof gi)return!1;return!0}function xg(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+zl(n.value);if(YS(n))return n.filters.map(e=>xg(e)).join(",");{const e=n.filters.map(t=>xg(t)).join(",");return`${n.op}(${e})`}}function WS(n,e){return n instanceof an?function(i,a){return a instanceof an&&i.op===a.op&&i.field.isEqual(a.field)&&Xi(i.value,a.value)}(n,e):n instanceof gi?function(i,a){return a instanceof gi&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,h)=>l&&WS(c,a.filters[h]),!0):!1}(n,e):void ze()}function XS(n){return n instanceof an?function(t){return`${t.field.canonicalString()} ${t.op} ${zl(t.value)}`}(n):n instanceof gi?function(t){return t.op.toString()+" {"+t.getFilters().map(XS).join(" ,")+"}"}(n):"Filter"}class i2 extends an{constructor(e,t,i){super(e,t,i),this.key=Le.fromName(i.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class s2 extends an{constructor(e,t){super(e,"in",t),this.keys=ZS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class a2 extends an{constructor(e,t){super(e,"not-in",t),this.keys=ZS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ZS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Le.fromName(i.referenceValue))}class o2 extends an{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ey(t)&&Ec(t.arrayValue,this.value)}}class l2 extends an{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ec(this.value.arrayValue,t)}}class u2 extends an{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ec(this.value.arrayValue,t)}}class c2 extends an{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ey(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ec(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,t=null,i=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.le=null}}function NT(n,e=null,t=[],i=[],a=null,l=null,c=null){return new f2(n,e,t,i,a,l,c)}function Ty(n){const e=Ke(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>xg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>zl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>zl(i)).join(",")),e.le=t}return e.le}function by(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!n2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!WS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DT(n.startAt,e.startAt)&&DT(n.endAt,e.endAt)}function Dg(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t=null,i=[],a=[],l=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function h2(n,e,t,i,a,l,c,h){return new Pc(n,e,t,i,a,l,c,h)}function wy(n){return new Pc(n)}function kT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function JS(n){return n.collectionGroup!==null}function uc(n){const e=Ke(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new mn(Nn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Rh(l,i))}),t.has(Nn.keyField().canonicalString())||e.he.push(new Rh(Nn.keyField(),i))}return e.he}function Qi(n){const e=Ke(n);return e.Pe||(e.Pe=d2(e,uc(n))),e.Pe}function d2(n,e){if(n.limitType==="F")return NT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Rh(a.field,l)});const t=n.endAt?new Sh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Sh(n.startAt.position,n.startAt.inclusive):null;return NT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Ng(n,e){const t=n.filters.concat([e]);return new Pc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ah(n,e,t){return new Pc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Xh(n,e){return by(Qi(n),Qi(e))&&n.limitType===e.limitType}function eR(n){return`${Ty(Qi(n))}|lt:${n.limitType}`}function Ol(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>XS(a)).join(", ")}]`),Yh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>zl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>zl(a)).join(",")),`Target(${i})`}(Qi(n))}; limitType=${n.limitType})`}function Zh(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Le.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of uc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,h,f){const m=xT(c,h,f);return c.inclusive?m<=0:m<0}(i.startAt,uc(i),a)||i.endAt&&!function(c,h,f){const m=xT(c,h,f);return c.inclusive?m>=0:m>0}(i.endAt,uc(i),a))}(n,e)}function m2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tR(n){return(e,t)=>{let i=!1;for(const a of uc(n)){const l=p2(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function p2(n,e,t){const i=n.field.isKeyField()?Le.comparator(e.key,t.key):function(l,c,h){const f=c.data.field(l),m=h.data.field(l);return f!==null&&m!==null?Bl(f,m):ze()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){$a(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return VS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new zt(Le.comparator);function Bs(){return g2}const nR=new zt(Le.comparator);function rc(...n){let e=nR;for(const t of n)e=e.insert(t.key,t);return e}function rR(n){let e=nR;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Io(){return cc()}function iR(){return cc()}function cc(){return new zo(n=>n.toString(),(n,e)=>n.isEqual(e))}const y2=new zt(Le.comparator),v2=new mn(Le.comparator);function nt(...n){let e=v2;for(const t of n)e=e.add(t);return e}const _2=new mn(at);function E2(){return _2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function sR(n){return{integerValue:""+n}}function T2(n,e){return Qk(e)?sR(e):Sy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function b2(n,e,t){return n instanceof Ch?function(a,l){const c={fields:{[zS]:{stringValue:BS},[FS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&_y(l)&&(l=Wh(l)),l&&(c.fields[qS]=l),{mapValue:c}}(t,e):n instanceof Tc?oR(n,e):n instanceof bc?lR(n,e):function(a,l){const c=aR(a,l),h=PT(c)+PT(a.Ie);return Og(c)&&Og(a.Ie)?sR(h):Sy(a.serializer,h)}(n,e)}function w2(n,e,t){return n instanceof Tc?oR(n,e):n instanceof bc?lR(n,e):t}function aR(n,e){return n instanceof Ih?function(i){return Og(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Ch extends Jh{}class Tc extends Jh{constructor(e){super(),this.elements=e}}function oR(n,e){const t=uR(e);for(const i of n.elements)t.some(a=>Xi(a,i))||t.push(i);return{arrayValue:{values:t}}}class bc extends Jh{constructor(e){super(),this.elements=e}}function lR(n,e){let t=uR(e);for(const i of n.elements)t=t.filter(a=>!Xi(a,i));return{arrayValue:{values:t}}}class Ih extends Jh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function PT(n){return Wt(n.integerValue||n.doubleValue)}function uR(n){return Ey(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function S2(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Tc&&a instanceof Tc||i instanceof bc&&a instanceof bc?jl(i.elements,a.elements,Xi):i instanceof Ih&&a instanceof Ih?Xi(i.Ie,a.Ie):i instanceof Ch&&a instanceof Ch}(n.transform,e.transform)}class R2{constructor(e,t){this.version=e,this.transformResults=t}}class mi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mi}static exists(e){return new mi(void 0,e)}static updateTime(e){return new mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ed{}function cR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ry(n.key,mi.none()):new Mc(n.key,n.data,mi.none());{const t=n.data,i=hr.empty();let a=new mn(Nn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ga(n.key,i,new Rr(a.toArray()),mi.none())}}function A2(n,e,t){n instanceof Mc?function(a,l,c){const h=a.value.clone(),f=LT(a.fieldTransforms,l,c.transformResults);h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ga?function(a,l,c){if(!uh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=LT(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll(fR(a)),f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function fc(n,e,t,i){return n instanceof Mc?function(l,c,h,f){if(!uh(l.precondition,c))return h;const m=l.value.clone(),y=UT(l.fieldTransforms,f,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ga?function(l,c,h,f){if(!uh(l.precondition,c))return h;const m=UT(l.fieldTransforms,f,c),y=c.data;return y.setAll(fR(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(l,c,h){return uh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function C2(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=aR(i.transform,a||null);l!=null&&(t===null&&(t=hr.empty()),t.set(i.field,l))}return t||null}function MT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&jl(i,a,(l,c)=>S2(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Mc extends ed{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ga extends ed{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function fR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function LT(n,e,t){const i=new Map;_t(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,h=e.data.field(l.field);i.set(l.field,w2(c,h,t[a]))}return i}function UT(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,b2(l,c,e))}return i}class Ry extends ed{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I2 extends ed{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&A2(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=fc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=fc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=iR();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(a.key)?null:h;const f=cR(c,h);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(He.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nt())}isEqual(e){return this.batchId===e.batchId&&jl(this.mutations,e.mutations,(t,i)=>MT(t,i))&&jl(this.baseMutations,e.baseMutations,(t,i)=>MT(t,i))}}class Ay{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){_t(e.mutations.length===i.length);let a=function(){return y2}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Ay(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,ct;function N2(n){switch(n){case he.OK:return ze();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return ze()}}function hR(n){if(n===void 0)return js("GRPC error has no .code"),he.UNKNOWN;switch(n){case sn.OK:return he.OK;case sn.CANCELLED:return he.CANCELLED;case sn.UNKNOWN:return he.UNKNOWN;case sn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case sn.INTERNAL:return he.INTERNAL;case sn.UNAVAILABLE:return he.UNAVAILABLE;case sn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case sn.NOT_FOUND:return he.NOT_FOUND;case sn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case sn.ABORTED:return he.ABORTED;case sn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case sn.DATA_LOSS:return he.DATA_LOSS;default:return ze()}}(ct=sn||(sn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new ka([4294967295,4294967295],0);function VT(n){const e=k2().encode(n),t=new OS;return t.update(e),new Uint8Array(t.digest())}function jT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ka([t,i],0),new ka([a,l],0)]}class Cy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ic(`Invalid padding: ${t}`);if(i<0)throw new ic(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ic(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ka.fromNumber(this.Ee)}Ae(e,t,i){let a=e.add(t.multiply(ka.fromNumber(i)));return a.compare(P2)===1&&(a=new ka([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=VT(e),[i,a]=jT(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Cy(l,a,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Ee===0)return;const t=VT(e),[i,a]=jT(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new td(He.min(),a,new zt(at),Bs(),nt())}}class Lc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Lc(i,t,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,t,i,a){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=a}}class dR{constructor(e,t){this.targetId=e,this.ge=t}}class mR{constructor(e,t,i=kn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class BT{constructor(){this.pe=0,this.ye=zT(),this.we=kn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=nt(),t=nt(),i=nt();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:ze()}}),new Lc(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=zT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,_t(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class M2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Bs(),this.$e=Kf(),this.Ke=Kf(),this.Ue=new zt(at)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:ze()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,i=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(Dg(l))if(i===0){const c=new Le(l.path);this.ze(t,c,zn.newNoDocument(c,He.min()))}else _t(i===1);else{const c=this.et(t);if(c!==i){const h=this.tt(e),f=h?this.nt(h,e,c):1;if(f!==0){this.Ye(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,h;try{c=ja(i).toUint8Array()}catch(f){if(f instanceof jS)return Vl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Cy(c,a,l)}catch(f){return Vl(f instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ke.it(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const h=this.Xe(c);if(h){if(l.current&&Dg(h.target)){const f=new Le(h.target.path);this._t(f).has(c)||this.ut(c,f)||this.ze(c,f,zn.newNoDocument(f,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=nt();this.Ke.forEach((l,c)=>{let h=!0;c.forEachWhile(f=>{const m=this.Xe(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new td(e,t,this.Ue,this.Qe,i);return this.Qe=Bs(),this.$e=Kf(),this.Ke=Kf(),this.Ue=new zt(at),a}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new BT,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new mn(at),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new mn(at),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new BT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Kf(){return new zt(Le.comparator)}function zT(){return new zt(Le.comparator)}const L2={asc:"ASCENDING",desc:"DESCENDING"},U2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V2={and:"AND",or:"OR"};class j2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kg(n,e){return n.useProto3Json||Yh(e)?e:{value:e}}function Oh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function B2(n,e){return Oh(n,e.toTimestamp())}function Yi(n){return _t(!!n),He.fromTimestamp(function(t){const i=Va(t);return new dn(i.seconds,i.nanos)}(n))}function Iy(n,e){return Pg(n,e).canonicalString()}function Pg(n,e){const t=function(a){return new Mt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function gR(n){const e=Mt.fromString(n);return _t(TR(e)),e}function Mg(n,e){return Iy(n.databaseId,e.path)}function Ap(n,e){const t=gR(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Le(vR(t))}function yR(n,e){return Iy(n.databaseId,e)}function z2(n){const e=gR(n);return e.length===4?Mt.emptyPath():vR(e)}function Lg(n){return new Mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vR(n){return _t(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function qT(n,e,t){return{name:Mg(n,e),fields:t.value.mapValue.fields}}function q2(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,y){return m.useProto3Json?(_t(y===void 0||typeof y=="string"),kn.fromBase64String(y||"")):(_t(y===void 0||y instanceof Buffer||y instanceof Uint8Array),kn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(m){const y=m.code===void 0?he.UNKNOWN:hR(m.code);return new Re(y,m.message||"")}(c);t=new mR(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ap(n,i.document.name),l=Yi(i.document.updateTime),c=i.document.createTime?Yi(i.document.createTime):He.min(),h=new hr({mapValue:{fields:i.document.fields}}),f=zn.newFoundDocument(a,l,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];t=new ch(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Ap(n,i.document),l=i.readTime?Yi(i.readTime):He.min(),c=zn.newNoDocument(a,l),h=i.removedTargetIds||[];t=new ch([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Ap(n,i.document),l=i.removedTargetIds||[];t=new ch([],l,a,null)}else{if(!("filter"in e))return ze();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new D2(a,l),h=i.targetId;t=new dR(h,c)}}return t}function F2(n,e){let t;if(e instanceof Mc)t={update:qT(n,e.key,e.value)};else if(e instanceof Ry)t={delete:Mg(n,e.key)};else if(e instanceof Ga)t={update:qT(n,e.key,e.data),updateMask:Z2(e.fieldMask)};else{if(!(e instanceof I2))return ze();t={verify:Mg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const h=c.transform;if(h instanceof Ch)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Tc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof bc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ih)return{fieldPath:c.field.canonicalString(),increment:h.Ie};throw ze()}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:B2(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ze()}(n,e.precondition)),t}function H2(n,e){return n&&n.length>0?(_t(e!==void 0),n.map(t=>function(a,l){let c=a.updateTime?Yi(a.updateTime):Yi(l);return c.isEqual(He.min())&&(c=Yi(l)),new R2(c,a.transformResults||[])}(t,e))):[]}function $2(n,e){return{documents:[yR(n,e.path)]}}function G2(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=yR(n,a);const l=function(m){if(m.length!==0)return ER(gi.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(y=>function(E){return{field:xl(E.field),direction:Y2(E.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=kg(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:a}}function K2(n){let e=z2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){_t(i===1);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(_){const E=_R(_);return E instanceof gi&&YS(E)?E.getFilters():[E]}(t.where));let c=[];t.orderBy&&(c=function(_){return _.map(E=>function(k){return new Rh(Dl(k.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,Yh(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(_){const E=!!_.before,A=_.values||[];return new Sh(A,E)}(t.startAt));let m=null;return t.endAt&&(m=function(_){const E=!_.before,A=_.values||[];return new Sh(A,E)}(t.endAt)),h2(e,a,c,l,h,"F",f,m)}function Q2(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _R(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Dl(t.unaryFilter.field);return an.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Dl(t.unaryFilter.field);return an.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Dl(t.unaryFilter.field);return an.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Dl(t.unaryFilter.field);return an.create(c,"!=",{nullValue:"NULL_VALUE"});default:return ze()}}(n):n.fieldFilter!==void 0?function(t){return an.create(Dl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ze()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return gi.create(t.compositeFilter.filters.map(i=>_R(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ze()}}(t.compositeFilter.op))}(n):ze()}function Y2(n){return L2[n]}function W2(n){return U2[n]}function X2(n){return V2[n]}function xl(n){return{fieldPath:n.canonicalString()}}function Dl(n){return Nn.fromServerFormat(n.fieldPath)}function ER(n){return n instanceof an?function(t){if(t.op==="=="){if(OT(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NAN"}};if(IT(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(OT(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NOT_NAN"}};if(IT(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(t.field),op:W2(t.op),value:t.value}}}(n):n instanceof gi?function(t){const i=t.getFilters().map(a=>ER(a));return i.length===1?i[0]:{compositeFilter:{op:X2(t.op),filters:i}}}(n):ze()}function Z2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,t,i,a,l=He.min(),c=He.min(),h=kn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.Tt=e}}function eP(n){const e=K2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ah(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.Tn=new nP}addToCollectionParentIndex(e,t){return this.Tn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(Ua.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(Ua.min())}updateCollectionGroup(e,t,i){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class nP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new mn(Mt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new mn(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bR=41943040;class fr{static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(bR,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ql(0)}static Un(){return new ql(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="LruGarbageCollector",rP=1048576;function $T([n,e],[t,i]){const a=at(n,t);return a===0?at(e,i):a}class iP{constructor(e){this.Hn=e,this.buffer=new mn($T),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();$T(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Se(HT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xl(t)?Se(HT,"Ignoring IndexedDB error during garbage collection: ",t):await Wl(t)}await this.er(3e5)})}}class aP{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(Qh.ae);const i=new iP(t);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(FT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,a,l,c,h,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,h=Date.now(),this.removeTargets(e,i,t))).next(_=>(l=_,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(m=Date.now(),Il()<=tt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function oP(n,e){return new aP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.changes=new zo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&fc(i.mutation,a,Rr.empty(),dn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,nt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=nt()){const a=Io();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=rc();return l.forEach((h,f)=>{c=c.insert(h,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Io();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,nt()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,a){let l=Bs();const c=cc(),h=function(){return cc()}();return t.forEach((f,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Ga)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),fc(y.mutation,m,y.mutation.getFieldMask(),dn.now())):c.set(m.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,l).next(f=>(f.forEach((m,y)=>c.set(m,y)),t.forEach((m,y)=>{var _;return h.set(m,new uP(y,(_=c.get(m))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const i=cc();let a=new zt((c,h)=>c-h),l=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let y=i.get(f)||Rr.empty();y=h.applyToLocalView(m,y),i.set(f,y);const _=(a.get(h.batchId)||nt()).add(f);a=a.insert(h.batchId,_)})}).next(()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,y=f.value,_=iR();y.forEach(E=>{if(!l.has(E)){const A=cR(t.get(E),i.get(E));A!==null&&_.set(E,A),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,_))}return fe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Le.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):JS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):fe.resolve(Io());let h=yc,f=l;return c.next(m=>fe.forEach(m,(y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(y)?fe.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{f=f.insert(y,E)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,f,m,nt())).next(y=>({batchId:h,changes:rR(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next(i=>{let a=rc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=rc();return this.indexManager.getCollectionParents(e,l).next(h=>fe.forEach(h,f=>{const m=function(_,E){return new Pc(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(y=>{y.forEach((_,E)=>{c=c.insert(_,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((f,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,zn.newInvalidDocument(y)))});let h=rc();return c.forEach((f,m)=>{const y=l.get(f);y!==void 0&&fc(y.mutation,m,Rr.empty(),dn.now()),Zh(t,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return fe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Yi(a.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:eP(a.bundledQuery),readTime:Yi(a.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.overlays=new zt(Le.comparator),this.Rr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Io();return fe.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.Et(e,t,l)}),fe.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),fe.resolve()}getOverlaysForCollection(e,t,i){const a=Io(),l=t.length+1,c=new Le(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new zt((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let y=l.get(m.largestBatchId);y===null&&(y=Io(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Io(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,y)=>h.set(m,y)),!(h.size()>=a)););return fe.resolve(h)}Et(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new x2(t,i));let l=this.Rr.get(t);l===void 0&&(l=nt(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.Vr=new mn(Sn.mr),this.gr=new mn(Sn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Sn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Sn(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Le(new Mt([])),i=new Sn(t,e),a=new Sn(t,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Le(new Mt([])),i=new Sn(t,e),a=new Sn(t,e+1);let l=nt();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Sn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Sn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Le.comparator(e.key,t.key)||at(e.Cr,t.Cr)}static pr(e,t){return at(e.Cr,t.Cr)||Le.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new mn(Sn.mr)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new O2(l,t,i,a);this.mutationQueue.push(c);for(const h of a)this.Mr=this.Mr.add(new Sn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,t){return fe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Nr(i),l=a<0?0:a;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?vy:this.Fr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Sn(t,0),a=new Sn(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const h=this.Or(c.Cr);l.push(h)}),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new mn(at);return t.forEach(a=>{const l=new Sn(a,0),c=new Sn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],h=>{i=i.add(h.Cr)})}),fe.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Le.isDocumentKey(l)||(l=l.child(""));const c=new Sn(new Le(l),0);let h=new mn(at);return this.Mr.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(f.Cr)),!0)},c),fe.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){_t(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return fe.forEach(t.mutations,a=>{const l=new Sn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Sn(t,0),a=this.Mr.firstAfterOrEqual(i);return fe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.kr=e,this.docs=function(){return new zt(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return fe.resolve(i?i.document.mutableCopy():zn.newInvalidDocument(t))}getEntries(e,t){let i=Bs();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():zn.newInvalidDocument(a))}),fe.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Bs();const c=t.path,h=new Le(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||Hk(Fk(y),i)<=0||(a.has(y.key)||Zh(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,t,i,a){ze()}qr(e,t){return fe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new gP(this)}getSize(e){return fe.resolve(this.size)}}class gP extends lP{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),fe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.persistence=e,this.Qr=new zo(t=>Ty(t),by),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Oy,this.targetCount=0,this.Ur=ql.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,a)=>t(a)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),fe.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new ql(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.zn(t),fe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.Qr.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),fe.waitFor(l).next(()=>a)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return fe.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),fe.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),fe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return fe.resolve(i)}containsKey(e,t){return fe.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Qh(0),this.zr=!1,this.zr=!0,this.jr=new dP,this.referenceDelegate=e(this),this.Hr=new yP(this),this.indexManager=new tP,this.remoteDocumentCache=function(a){return new pP(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new J2(t),this.Yr=new fP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new mP(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){Se("MemoryPersistence","Starting transaction:",e);const a=new vP(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return fe.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class vP extends Gk{constructor(e){super(),this.currentSequenceNumber=e}}class xy{constructor(e){this.persistence=e,this.ti=new Oy,this.ni=null}static ri(e){return new xy(e)}get ii(){if(this.ni)return this.ni;throw ze()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),fe.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),fe.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.ii,i=>{const a=Le.fromPath(i);return this.si(e,a).next(l=>{l||t.removeEntry(a,He.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return fe.or([()=>fe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class xh{constructor(e,t){this.persistence=e,this.oi=new zo(i=>Yk(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=oP(this,t)}static ri(e,t){return new xh(e,t)}Zr(){}Xr(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return fe.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?fe.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(h=>{h||(i++,l.removeEntry(c,He.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),fe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=oh(e.data.value)),t}ar(e,t,i){return fe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return fe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=a}static Yi(e,t){let i=nt(),a=nt();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Dy(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return tx()?8:Kk(qn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new _P;return this._s(e,t,c).next(h=>{if(l.result=h,this.Xi)return this.us(e,t,c,h.size)})}).next(()=>l.result)}us(e,t,i,a){return i.documentReadCount<this.es?(Il()<=tt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Ol(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),fe.resolve()):(Il()<=tt.DEBUG&&Se("QueryEngine","Query:",Ol(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(Il()<=tt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Ol(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(t))):fe.resolve())}rs(e,t){if(kT(t))return fe.resolve(null);let i=Qi(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Ah(t,null,"F"),i=Qi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=nt(...l);return this.ns.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const m=this.cs(t,h);return this.ls(t,m,c,f.readTime)?this.rs(e,Ah(t,null,"F")):this.hs(e,m,t,f)}))})))}ss(e,t,i,a){return kT(t)||a.isEqual(He.min())?fe.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,a)?fe.resolve(null):(Il()<=tt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ol(t)),this.hs(e,c,t,qk(a,yc)).next(h=>h))})}cs(e,t){let i=new mn(tR(e));return t.forEach((a,l)=>{Zh(e,l)&&(i=i.add(l))}),i}ls(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,i){return Il()<=tt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Ol(t)),this.ns.getDocumentsMatchingQuery(e,t,Ua.min(),i)}hs(e,t,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="LocalStore",TP=3e8;class bP{constructor(e,t,i,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new zt(at),this.Is=new zo(l=>Ty(l),by),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function wP(n,e,t,i){return new bP(n,e,t,i)}async function SR(n,e){const t=Ke(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],h=[];let f=nt();for(const m of a){c.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of l){h.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(i,f).next(m=>({Rs:m,removedBatchIds:c,addedBatchIds:h}))})})}function SP(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,f,m,y){const _=m.batch,E=_.keys();let A=fe.resolve();return E.forEach(k=>{A=A.next(()=>y.getEntry(f,k)).next(G=>{const V=m.docVersions.get(k);_t(V!==null),G.version.compareTo(V)<0&&(_.applyToRemoteDocument(G,m),G.isValidDocument()&&(G.setReadTime(m.commitVersion),y.addEntry(G)))})}),A.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=nt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function RR(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function RP(n,e){const t=Ke(n),i=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const h=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;h.push(t.Hr.removeMatchingKeys(l,y.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(l,y.addedDocuments,_)));let A=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(kn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),a=a.insert(_,A),function(G,V,H){return G.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=TP?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(E,A,y)&&h.push(t.Hr.updateTargetData(l,A))});let f=Bs(),m=nt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),h.push(AP(l,c,e.documentUpdates).next(y=>{f=y.Vs,m=y.fs})),!i.isEqual(He.min())){const y=t.Hr.getLastRemoteSnapshotVersion(l).next(_=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(y)}return fe.waitFor(h).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,f,m)).next(()=>f)}).then(l=>(t.Ts=a,l))}function AP(n,e,t){let i=nt(),a=nt();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Bs();return t.forEach((h,f)=>{const m=l.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(He.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):Se(Ny,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{Vs:c,fs:a}})}function CP(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=vy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function IP(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Hr.getTargetData(i,e).next(l=>l?(a=l,fe.resolve(a)):t.Hr.allocateTargetId(i).next(c=>(a=new xa(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Ug(n,e,t){const i=Ke(n),a=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Xl(c))throw c;Se(Ny,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function GT(n,e,t){const i=Ke(n);let a=He.min(),l=nt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,m,y){const _=Ke(f),E=_.Is.get(y);return E!==void 0?fe.resolve(_.Ts.get(E)):_.Hr.getTargetData(m,y)}(i,c,Qi(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,h.targetId).next(f=>{l=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?a:He.min(),t?l:nt())).next(h=>(OP(i,m2(e),h),{documents:h,gs:l})))}function OP(n,e,t){let i=n.Es.get(e)||He.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class KT{constructor(){this.activeTargetIds=E2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xP{constructor(){this.ho=new KT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new KT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="ConnectivityMonitor";class YT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Se(QT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Se(QT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf=null;function Vg(){return Qf===null?Qf=function(){return 268435456+Math.round(2147483648*Math.random())}():Qf++,"0x"+Qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="RestConnection",NP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===bh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}So(e,t,i,a,l){const c=Vg(),h=this.bo(e,t.toUriEncodedString());Se(Cp,`Sending RPC '${e}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,a,l),this.vo(e,h,f,i).then(m=>(Se(Cp,`Received RPC '${e}' ${c}: `,m),m),m=>{throw Vl(Cp,`RPC '${e}' ${c} failed with error: `,m,"url: ",h,"request:",i),m})}Co(e,t,i,a,l,c){return this.So(e,t,i,a,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}bo(e,t){const i=NP[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class MP extends kP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,a){const l=Vg();return new Promise((c,h)=>{const f=new xS;f.setWithCredentials(!0),f.listenOnce(DS.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case ah.NO_ERROR:const y=f.getResponseJson();Se(jn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case ah.TIMEOUT:Se(jn,`RPC '${e}' ${l} timed out`),h(new Re(he.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const _=f.getStatus();if(Se(jn,`RPC '${e}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const k=function(V){const H=V.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(H)>=0?H:he.UNKNOWN}(A.status);h(new Re(k,A.message))}else h(new Re(he.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Re(he.UNAVAILABLE,"Connection failed."));break;default:ze()}}finally{Se(jn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);Se(jn,`RPC '${e}' ${l} sending request:`,a),f.send(t,"POST",m,i,15)})}Wo(e,t,i){const a=Vg(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=PS(),h=kS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const y=l.join("");Se(jn,`Creating RPC '${e}' stream ${a}: ${y}`,f);const _=c.createWebChannel(y,f);let E=!1,A=!1;const k=new PP({Fo:V=>{A?Se(jn,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(E||(Se(jn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),Se(jn,`RPC '${e}' stream ${a} sending:`,V),_.send(V))},Mo:()=>_.close()}),G=(V,H,Y)=>{V.listen(H,$=>{try{Y($)}catch(J){setTimeout(()=>{throw J},0)}})};return G(_,nc.EventType.OPEN,()=>{A||(Se(jn,`RPC '${e}' stream ${a} transport opened.`),k.Qo())}),G(_,nc.EventType.CLOSE,()=>{A||(A=!0,Se(jn,`RPC '${e}' stream ${a} transport closed`),k.Ko())}),G(_,nc.EventType.ERROR,V=>{A||(A=!0,Vl(jn,`RPC '${e}' stream ${a} transport errored:`,V),k.Ko(new Re(he.UNAVAILABLE,"The operation could not be completed")))}),G(_,nc.EventType.MESSAGE,V=>{var H;if(!A){const Y=V.data[0];_t(!!Y);const $=Y,J=($==null?void 0:$.error)||((H=$[0])===null||H===void 0?void 0:H.error);if(J){Se(jn,`RPC '${e}' stream ${a} received error:`,J);const se=J.status;let de=function(D){const j=sn[D];if(j!==void 0)return hR(j)}(se),L=J.message;de===void 0&&(de=he.INTERNAL,L="Unknown error status: "+se+" with message "+J.message),A=!0,k.Ko(new Re(de,L)),_.close()}else Se(jn,`RPC '${e}' stream ${a} received:`,Y),k.Uo(Y)}}),G(h,NS.STAT_EVENT,V=>{V.stat===Cg.PROXY?Se(jn,`RPC '${e}' stream ${a} detected buffering proxy`):V.stat===Cg.NOPROXY&&Se(jn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function Ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(n){return new j2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-i);a>0&&Se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="PersistentStream";class CR{constructor(e,t,i,a,l,c,h,f){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new AR(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(js(t.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===t&&this.V_(i,a)},i=>{e(()=>{const a=new Re(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Se(WT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Se(WT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LP extends CR{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=q2(this.serializer,e),i=function(l){if(!("targetChange"in l))return He.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?He.min():c.readTime?Yi(c.readTime):He.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Lg(this.serializer),t.addTarget=function(l,c){let h;const f=c.target;if(h=Dg(f)?{documents:$2(l,f)}:{query:G2(l,f).ht},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=pR(l,c.resumeToken);const m=kg(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(He.min())>0){h.readTime=Oh(l,c.snapshotVersion.toTimestamp());const m=kg(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=Q2(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Lg(this.serializer),t.removeTarget=e,this.I_(t)}}class UP extends CR{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return _t(!!e.streamToken),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=H2(e.writeResults,e.commitTime),i=Yi(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Lg(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>F2(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{}class jP extends VP{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,Pg(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(he.UNKNOWN,l.toString())})}Co(e,t,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Co(e,Pg(t,i),a,c,h,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Re(he.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class BP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(js(t),this.N_=!1):Se("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="RemoteStore";class zP{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{qo(this)&&(Se(Mo,"Restarting streams for network reachability change."),await async function(f){const m=Ke(f);m.W_.add(4),await Uc(m),m.j_.set("Unknown"),m.W_.delete(4),await rd(m)}(this))})}),this.j_=new BP(i,a)}}async function rd(n){if(qo(n))for(const e of n.G_)await e(!0)}async function Uc(n){for(const e of n.G_)await e(!1)}function IR(n,e){const t=Ke(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Ly(t)?My(t):Zl(t).c_()&&Py(t,e))}function ky(n,e){const t=Ke(n),i=Zl(t);t.U_.delete(e),i.c_()&&OR(t,e),t.U_.size===0&&(i.c_()?i.P_():qo(t)&&t.j_.set("Unknown"))}function Py(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zl(n).y_(e)}function OR(n,e){n.H_.Ne(e),Zl(n).w_(e)}function My(n){n.H_=new M2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Zl(n).start(),n.j_.B_()}function Ly(n){return qo(n)&&!Zl(n).u_()&&n.U_.size>0}function qo(n){return Ke(n).W_.size===0}function xR(n){n.H_=void 0}async function qP(n){n.j_.set("Online")}async function FP(n){n.U_.forEach((e,t)=>{Py(n,e)})}async function HP(n,e){xR(n),Ly(n)?(n.j_.q_(e),My(n)):n.j_.set("Unknown")}async function $P(n,e,t){if(n.j_.set("Online"),e instanceof mR&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const h of l.targetIds)a.U_.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.U_.delete(h),a.H_.removeTarget(h))}(n,e)}catch(i){Se(Mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Dh(n,i)}else if(e instanceof ch?n.H_.We(e):e instanceof dR?n.H_.Ze(e):n.H_.je(e),!t.isEqual(He.min()))try{const i=await RR(n.localStore);t.compareTo(i)>=0&&await function(l,c){const h=l.H_.ot(c);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=l.U_.get(m);y&&l.U_.set(m,y.withResumeToken(f.resumeToken,c))}}),h.targetMismatches.forEach((f,m)=>{const y=l.U_.get(f);if(!y)return;l.U_.set(f,y.withResumeToken(kn.EMPTY_BYTE_STRING,y.snapshotVersion)),OR(l,f);const _=new xa(y.target,f,m,y.sequenceNumber);Py(l,_)}),l.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){Se(Mo,"Failed to raise snapshot:",i),await Dh(n,i)}}async function Dh(n,e,t){if(!Xl(e))throw e;n.W_.add(1),await Uc(n),n.j_.set("Offline"),t||(t=()=>RR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Se(Mo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await rd(n)})}function DR(n,e){return e().catch(t=>Dh(n,t,e))}async function id(n){const e=Ke(n),t=za(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:vy;for(;GP(e);)try{const a=await CP(e.localStore,i);if(a===null){e.K_.length===0&&t.P_();break}i=a.batchId,KP(e,a)}catch(a){await Dh(e,a)}NR(e)&&kR(e)}function GP(n){return qo(n)&&n.K_.length<10}function KP(n,e){n.K_.push(e);const t=za(n);t.c_()&&t.S_&&t.b_(e.mutations)}function NR(n){return qo(n)&&!za(n).u_()&&n.K_.length>0}function kR(n){za(n).start()}async function QP(n){za(n).C_()}async function YP(n){const e=za(n);for(const t of n.K_)e.b_(t.mutations)}async function WP(n,e,t){const i=n.K_.shift(),a=Ay.from(i,e,t);await DR(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await id(n)}async function XP(n,e){e&&za(n).S_&&await async function(i,a){if(function(c){return N2(c)&&c!==he.ABORTED}(a.code)){const l=i.K_.shift();za(i).h_(),await DR(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await id(i)}}(n,e),NR(n)&&kR(n)}async function XT(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Se(Mo,"RemoteStore received new credentials");const i=qo(t);t.W_.add(3),await Uc(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await rd(t)}async function ZP(n,e){const t=Ke(n);e?(t.W_.delete(2),await rd(t)):e||(t.W_.add(2),await Uc(t),t.j_.set("Unknown"))}function Zl(n){return n.J_||(n.J_=function(t,i,a){const l=Ke(t);return l.M_(),new LP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:qP.bind(null,n),No:FP.bind(null,n),Lo:HP.bind(null,n),p_:$P.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Ly(n)?My(n):n.j_.set("Unknown")):(await n.J_.stop(),xR(n))})),n.J_}function za(n){return n.Y_||(n.Y_=function(t,i,a){const l=Ke(t);return l.M_(),new UP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:QP.bind(null,n),Lo:XP.bind(null,n),D_:YP.bind(null,n),v_:WP.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await id(n)):(await n.Y_.stop(),n.K_.length>0&&(Se(Mo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,h=new Uy(e,t,c,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vy(n,e){if(js("AsyncQueue",`${e}: ${n}`),Xl(n))return new Re(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{static emptySet(e){return new Ul(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Le.comparator(t.key,i.key):(t,i)=>Le.comparator(t.key,i.key),this.keyedMap=rc(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ul;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.Z_=new zt(Le.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ze():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Fl{constructor(e,t,i,a,l,c,h,f,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Fl(e,t,Ul.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class eM{constructor(){this.queries=JT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const a=Ke(t),l=a.queries;a.queries=JT(),l.forEach((c,h)=>{for(const f of h.ta)f.onError(i)})})(this,new Re(he.ABORTED,"Firestore shutting down"))}}function JT(){return new zo(n=>eR(n),Xh)}async function PR(n,e){const t=Ke(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new JP,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=Vy(c,`Initialization of query '${Ol(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&jy(t)}async function MR(n,e){const t=Ke(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function tM(n,e){const t=Ke(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const h of c.ta)h.oa(a)&&(i=!0);c.ea=a}}i&&jy(t)}function nM(n,e,t){const i=Ke(n),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(t);i.queries.delete(e)}function jy(n){n.ia.forEach(e=>{e.next()})}var jg,eb;(eb=jg||(jg={}))._a="default",eb.Cache="cache";class LR{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Fl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==jg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.key=e}}class VR{constructor(e){this.key=e}}class rM{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=nt(),this.mutatedKeys=nt(),this.ya=tR(e),this.wa=new Ul(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new ZT,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),A=Zh(this.query,_)?_:null,k=!!E&&this.mutatedKeys.has(E.key),G=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let V=!1;E&&A?E.data.isEqual(A.data)?k!==G&&(i.track({type:3,doc:A}),V=!0):this.va(E,A)||(i.track({type:2,doc:A}),V=!0,(f&&this.ya(A,f)>0||m&&this.ya(A,m)<0)&&(h=!0)):!E&&A?(i.track({type:0,doc:A}),V=!0):E&&!A&&(i.track({type:1,doc:E}),V=!0,(f||m)&&(h=!0)),V&&(A?(c=c.add(A),l=G?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{wa:c,Da:i,ls:h,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((y,_)=>function(A,k){const G=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze()}};return G(A)-G(k)}(y.type,_.type)||this.ya(y.doc,_.doc)),this.Ca(i),a=a!=null&&a;const h=t&&!a?this.Fa():[],f=this.pa.size===0&&this.current&&!a?1:0,m=f!==this.ga;return this.ga=f,c.length!==0||m?{snapshot:new Fl(this.query,e.wa,l,c,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new ZT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=nt(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new VR(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new UR(i))}),t}Oa(e){this.fa=e.gs,this.pa=nt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Fl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const By="SyncEngine";class iM{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class sM{constructor(e){this.key=e,this.Ba=!1}}class aM{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new zo(h=>eR(h),Xh),this.qa=new Map,this.Qa=new Set,this.$a=new zt(Le.comparator),this.Ka=new Map,this.Ua=new Oy,this.Wa={},this.Ga=new Map,this.za=ql.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function oM(n,e,t=!0){const i=HR(n);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await jR(i,e,t,!0),a}async function lM(n,e){const t=HR(n);await jR(t,e,!0,!1)}async function jR(n,e,t,i){const a=await IP(n.localStore,Qi(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await uM(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&IR(n.remoteStore,a),h}async function uM(n,e,t,i,a){n.Ha=(_,E,A)=>async function(G,V,H,Y){let $=V.view.ba(H);$.ls&&($=await GT(G.localStore,V.query,!1).then(({documents:L})=>V.view.ba(L,$)));const J=Y&&Y.targetChanges.get(V.targetId),se=Y&&Y.targetMismatches.get(V.targetId)!=null,de=V.view.applyChanges($,G.isPrimaryClient,J,se);return nb(G,V.targetId,de.Ma),de.snapshot}(n,_,E,A);const l=await GT(n.localStore,e,!0),c=new rM(e,l.gs),h=c.ba(l.documents),f=Lc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),m=c.applyChanges(h,n.isPrimaryClient,f);nb(n,t,m.Ma);const y=new iM(e,t,c);return n.ka.set(e,y),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function cM(n,e,t){const i=Ke(n),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!Xh(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Ug(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&ky(i.remoteStore,a.targetId),Bg(i,a.targetId)}).catch(Wl)):(Bg(i,a.targetId),await Ug(i.localStore,a.targetId,!0))}async function fM(n,e){const t=Ke(n),i=t.ka.get(e),a=t.qa.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ky(t.remoteStore,i.targetId))}async function hM(n,e,t){const i=_M(n);try{const a=await function(c,h){const f=Ke(c),m=dn.now(),y=h.reduce((A,k)=>A.add(k.key),nt());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let k=Bs(),G=nt();return f.ds.getEntries(A,y).next(V=>{k=V,k.forEach((H,Y)=>{Y.isValidDocument()||(G=G.add(H))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,k)).next(V=>{_=V;const H=[];for(const Y of h){const $=C2(Y,_.get(Y.key).overlayedDocument);$!=null&&H.push(new Ga(Y.key,$,GS($.value.mapValue),mi.exists(!0)))}return f.mutationQueue.addMutationBatch(A,m,H,h)}).next(V=>{E=V;const H=V.applyToLocalDocumentSet(_,G);return f.documentOverlayCache.saveOverlays(A,V.batchId,H)})}).then(()=>({batchId:E.batchId,changes:rR(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,h,f){let m=c.Wa[c.currentUser.toKey()];m||(m=new zt(at)),m=m.insert(h,f),c.Wa[c.currentUser.toKey()]=m}(i,a.batchId,t),await Vc(i,a.changes),await id(i.remoteStore)}catch(a){const l=Vy(a,"Failed to persist write");t.reject(l)}}async function BR(n,e){const t=Ke(n);try{const i=await RP(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ka.get(l);c&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?_t(c.Ba):a.removedDocuments.size>0&&(_t(c.Ba),c.Ba=!1))}),await Vc(t,i,e)}catch(i){await Wl(i)}}function tb(n,e,t){const i=Ke(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ka.forEach((l,c)=>{const h=c.view.sa(e);h.snapshot&&a.push(h.snapshot)}),function(c,h){const f=Ke(c);f.onlineState=h;let m=!1;f.queries.forEach((y,_)=>{for(const E of _.ta)E.sa(h)&&(m=!0)}),m&&jy(f)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function dM(n,e,t){const i=Ke(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Ka.get(e),l=a&&a.key;if(l){let c=new zt(Le.comparator);c=c.insert(l,zn.newNoDocument(l,He.min()));const h=nt().add(l),f=new td(He.min(),new Map,new zt(at),c,h);await BR(i,f),i.$a=i.$a.remove(l),i.Ka.delete(e),zy(i)}else await Ug(i.localStore,e,!1).then(()=>Bg(i,e,t)).catch(Wl)}async function mM(n,e){const t=Ke(n),i=e.batch.batchId;try{const a=await SP(t.localStore,e);qR(t,i,null),zR(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Vc(t,a)}catch(a){await Wl(a)}}async function pM(n,e,t){const i=Ke(n);try{const a=await function(c,h){const f=Ke(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return f.mutationQueue.lookupMutationBatch(m,h).next(_=>(_t(_!==null),y=_.keys(),f.mutationQueue.removeMutationBatch(m,_))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>f.localDocuments.getDocuments(m,y))})}(i.localStore,e);qR(i,e,t),zR(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Vc(i,a)}catch(a){await Wl(a)}}function zR(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function qR(n,e,t){const i=Ke(n);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function Bg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||FR(n,i)})}function FR(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(ky(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),zy(n))}function nb(n,e,t){for(const i of t)i instanceof UR?(n.Ua.addReference(i.key,e),gM(n,i)):i instanceof VR?(Se(By,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||FR(n,i.key)):ze()}function gM(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(Se(By,"New document in limbo: "+t),n.Qa.add(i),zy(n))}function zy(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Le(Mt.fromString(e)),i=n.za.next();n.Ka.set(i,new sM(t)),n.$a=n.$a.insert(t,i),IR(n.remoteStore,new xa(Qi(wy(t.path)),i,"TargetPurposeLimboResolution",Qh.ae))}}async function Vc(n,e,t){const i=Ke(n),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((h,f)=>{c.push(i.Ha(f,e,t).then(m=>{var y;if((m||t)&&i.isPrimaryClient){const _=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(m){a.push(m);const _=Dy.Yi(f.targetId,m);l.push(_)}}))}),await Promise.all(c),i.La.p_(a),await async function(f,m){const y=Ke(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>fe.forEach(m,E=>fe.forEach(E.Hi,A=>y.persistence.referenceDelegate.addReference(_,E.targetId,A)).next(()=>fe.forEach(E.Ji,A=>y.persistence.referenceDelegate.removeReference(_,E.targetId,A)))))}catch(_){if(!Xl(_))throw _;Se(Ny,"Failed to update sequence numbers: "+_)}for(const _ of m){const E=_.targetId;if(!_.fromCache){const A=y.Ts.get(E),k=A.snapshotVersion,G=A.withLastLimboFreeSnapshotVersion(k);y.Ts=y.Ts.insert(E,G)}}}(i.localStore,l))}async function yM(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Se(By,"User change. New user:",e.toKey());const i=await SR(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(h=>{h.forEach(f=>{f.reject(new Re(he.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Vc(t,i.Rs)}}function vM(n,e){const t=Ke(n),i=t.Ka.get(e);if(i&&i.Ba)return nt().add(i.key);{let a=nt();const l=t.qa.get(e);if(!l)return a;for(const c of l){const h=t.ka.get(c);a=a.unionWith(h.view.Sa)}return a}}function HR(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=BR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dM.bind(null,e),e.La.p_=tM.bind(null,e.eventManager),e.La.Ja=nM.bind(null,e.eventManager),e}function _M(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pM.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return wP(this.persistence,new EP,e.initialUser,this.serializer)}Xa(e){return new wR(xy.ri,this.serializer)}Za(e){return new xP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class EM extends Nh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){_t(this.persistence.referenceDelegate instanceof xh);const i=this.persistence.referenceDelegate.garbageCollector;return new sP(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new wR(i=>xh.ri(i,t),this.serializer)}}class zg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yM.bind(null,this.syncEngine),await ZP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eM}()}createDatastore(e){const t=nd(e.databaseInfo.databaseId),i=function(l){return new MP(l)}(e.databaseInfo);return function(l,c,h,f){return new jP(l,c,h,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,h){return new zP(i,a,l,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>tb(this.syncEngine,t,0),function(){return YT.D()?new YT:new DP}())}createSyncEngine(e,t){return function(a,l,c,h,f,m,y){const _=new aM(a,l,c,h,f,m);return y&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ke(a);Se(Mo,"RemoteStore shutting down."),l.W_.add(5),await Uc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}zg.provider={build:()=>new zg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):js("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="FirestoreClient";class TM{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Bn.UNAUTHENTICATED,this.clientId=LS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{Se(qa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Se(qa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Vy(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Op(n,e){n.asyncQueue.verifyOperationInProgress(),Se(qa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await SR(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function rb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await bM(n);Se(qa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>XT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>XT(e.remoteStore,a)),n._onlineComponents=e}async function bM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se(qa,"Using user provided OfflineComponentProvider");try{await Op(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Vl("Error using user provided cache. Falling back to memory cache: "+t),await Op(n,new Nh)}}else Se(qa,"Using default OfflineComponentProvider"),await Op(n,new EM(void 0));return n._offlineComponents}async function GR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se(qa,"Using user provided OnlineComponentProvider"),await rb(n,n._uninitializedComponentsProvider._online)):(Se(qa,"Using default OnlineComponentProvider"),await rb(n,new zg))),n._onlineComponents}function wM(n){return GR(n).then(e=>e.syncEngine)}async function KR(n){const e=await GR(n),t=e.eventManager;return t.onListen=oM.bind(null,e.syncEngine),t.onUnlisten=cM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=lM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fM.bind(null,e.syncEngine),t}function SM(n,e,t={}){const i=new Ps;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,f,m){const y=new $R({next:E=>{y.su(),c.enqueueAndForget(()=>MR(l,_));const A=E.docs.has(h);!A&&E.fromCache?m.reject(new Re(he.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&f&&f.source==="server"?m.reject(new Re(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),_=new LR(wy(h.path),y,{includeMetadataChanges:!0,Ta:!0});return PR(l,_)}(await KR(n),n.asyncQueue,e,t,i)),i.promise}function RM(n,e,t={}){const i=new Ps;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,f,m){const y=new $R({next:E=>{y.su(),c.enqueueAndForget(()=>MR(l,_)),E.fromCache&&f.source==="server"?m.reject(new Re(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),_=new LR(h,y,{includeMetadataChanges:!0,Ta:!0});return PR(l,_)}(await KR(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(n,e,t){if(!t)throw new Re(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AM(n,e,t,i){if(e===!0&&i===!0)throw new Re(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sb(n){if(!Le.isDocumentKey(n))throw new Re(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ab(n){if(Le.isDocumentKey(n))throw new Re(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ze()}function zs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sd(n);throw new Re(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="firestore.googleapis.com",ob=!0;class lb{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WR,this.ssl=ob}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ob;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rP)throw new Re(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ad{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lb(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Pk;switch(i.type){case"firstParty":return new Vk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Re(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=ib.get(t);i&&(Se("ComponentProvider","Removing Datastore"),ib.delete(t),i.terminate())}(this),Promise.resolve()}}function CM(n,e,t,i={}){var a;const l=(n=zs(n,ad))._getSettings(),c=`${e}:${t}`;if(l.host!==WR&&l.host!==c&&Vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=Bn.MOCK_USER;else{h=qw(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Re(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Bn(m)}n._authCredentials=new Mk(new MS(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Fo(this.firestore,e,this._query)}}class dr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}}class Pa extends Fo{constructor(e,t,i){super(e,t,wy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new Le(e))}withConverter(e){return new Pa(this.firestore,e,this._path)}}function fi(n,e,...t){if(n=Xt(n),YR("collection","path",e),n instanceof ad){const i=Mt.fromString(e,...t);return ab(i),new Pa(n,null,i)}{if(!(n instanceof dr||n instanceof Pa))throw new Re(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mt.fromString(e,...t));return ab(i),new Pa(n.firestore,null,i)}}function As(n,e,...t){if(n=Xt(n),arguments.length===1&&(e=LS.newId()),YR("doc","path",e),n instanceof ad){const i=Mt.fromString(e,...t);return sb(i),new dr(n,null,new Le(i))}{if(!(n instanceof dr||n instanceof Pa))throw new Re(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mt.fromString(e,...t));return sb(i),new dr(n.firestore,n instanceof Pa?n.converter:null,new Le(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="AsyncQueue";class cb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new AR(this,"async_queue_retry"),this.Su=()=>{const i=Ip();i&&Se(ub,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=Ip();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Ip();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ps;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Xl(e))throw e;Se(ub,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw js("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Uy.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&ze()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Jl extends ad{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new cb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cb(e),this._firestoreClient=void 0,await e}}}function IM(n,e){const t=typeof n=="object"?n:oy(),i=typeof n=="string"?n:bh,a=Hh(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=jw("firestore");l&&CM(a,...l)}return a}function qy(n){if(n._terminated)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||OM(n),n._firestoreClient}function OM(n){var e,t,i;const a=n._freezeSettings(),l=function(h,f,m,y){return new Zk(h,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,QR(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new TM(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hl(kn.fromBase64String(e))}catch(t){throw new Re(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hl(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Re(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=/^__.*__$/;class DM{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ga(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mc(e,this.data,t,this.fieldTransforms)}}class XR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ga(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ZR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze()}}class Gy{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Gy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return kh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(ZR(this.Lu)&&xM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class NM{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||nd(e)}ju(e,t,i,a=!1){return new Gy({Lu:e,methodName:t,zu:i,path:Nn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ky(n){const e=n._freezeSettings(),t=nd(n._databaseId);return new NM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kM(n,e,t,i,a,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,a);Qy("Data must be an object, but it was:",c,i);const h=JR(i,c);let f,m;if(l.merge)f=new Rr(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=qg(e,_,t);if(!c.contains(E))throw new Re(he.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);tA(y,E)||y.push(E)}f=new Rr(y),m=c.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,m=c.fieldTransforms;return new DM(new hr(h),f,m)}class ld extends Fy{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ld}}function PM(n,e,t,i){const a=n.ju(1,e,t);Qy("Data must be an object, but it was:",a,i);const l=[],c=hr.empty();$a(i,(f,m)=>{const y=Yy(e,f,t);m=Xt(m);const _=a.Ku(y);if(m instanceof ld)l.push(y);else{const E=jc(m,_);E!=null&&(l.push(y),c.set(y,E))}});const h=new Rr(l);return new XR(c,h,a.fieldTransforms)}function MM(n,e,t,i,a,l){const c=n.ju(1,e,t),h=[qg(e,i,t)],f=[a];if(l.length%2!=0)throw new Re(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(qg(e,l[E])),f.push(l[E+1]);const m=[],y=hr.empty();for(let E=h.length-1;E>=0;--E)if(!tA(m,h[E])){const A=h[E];let k=f[E];k=Xt(k);const G=c.Ku(A);if(k instanceof ld)m.push(A);else{const V=jc(k,G);V!=null&&(m.push(A),y.set(A,V))}}const _=new Rr(m);return new XR(y,_,c.fieldTransforms)}function LM(n,e,t,i=!1){return jc(t,n.ju(i?4:3,e))}function jc(n,e){if(eA(n=Xt(n)))return Qy("Unsupported field value:",e,n),JR(n,e);if(n instanceof Fy)return function(i,a){if(!ZR(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const h of i){let f=jc(h,a.Uu(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Xt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return T2(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=dn.fromDate(i);return{timestampValue:Oh(a.serializer,l)}}if(i instanceof dn){const l=new dn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Oh(a.serializer,l)}}if(i instanceof Hy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Hl)return{bytesValue:pR(a.serializer,i._byteString)};if(i instanceof dr){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Iy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof $y)return function(c,h){return{mapValue:{fields:{[HS]:{stringValue:$S},[wh]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw h.Wu("VectorValues must only contain numeric values.");return Sy(h.serializer,m)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${sd(i)}`)}(n,e)}function JR(n,e){const t={};return VS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$a(n,(i,a)=>{const l=jc(a,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function eA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dn||n instanceof Hy||n instanceof Hl||n instanceof dr||n instanceof Fy||n instanceof $y)}function Qy(n,e,t){if(!eA(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=sd(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function qg(n,e,t){if((e=Xt(e))instanceof od)return e._internalPath;if(typeof e=="string")return Yy(n,e);throw kh("Field path arguments must be of type string or ",n,!1,void 0,t)}const UM=new RegExp("[~\\*/\\[\\]]");function Yy(n,e,t){if(e.search(UM)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new od(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kh(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new Re(he.INVALID_ARGUMENT,h+n+f)}function tA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class VM extends nA{data(){return super.data()}}function Wy(n,e){return typeof e=="string"?Yy(n,e):e instanceof od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Re(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xy{}class rA extends Xy{}function Wu(n,e,...t){let i=[];e instanceof Xy&&i.push(e),i=i.concat(t),function(l){const c=l.filter(f=>f instanceof Zy).length,h=l.filter(f=>f instanceof ud).length;if(c>1||c>0&&h>0)throw new Re(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class ud extends rA{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new ud(e,t,i)}_apply(e){const t=this._parse(e);return iA(e._query,t),new Fo(e.firestore,e.converter,Ng(e._query,t))}_parse(e){const t=Ky(e.firestore);return function(l,c,h,f,m,y,_){let E;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Re(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){db(_,y);const k=[];for(const G of _)k.push(hb(f,l,G));E={arrayValue:{values:k}}}else E=hb(f,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||db(_,y),E=LM(h,c,_,y==="in"||y==="not-in");return an.create(m,y,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Xu(n,e,t){const i=e,a=Wy("where",n);return ud._create(a,i,t)}class Zy extends Xy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:gi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const h=l.getFlattenedFilters();for(const f of h)iA(c,f),c=Ng(c,f)}(e._query,t),new Fo(e.firestore,e.converter,Ng(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jy extends rA{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Jy(e,t,i)}_apply(e){return new Fo(e.firestore,e.converter,Ah(e._query,this._limit,this._limitType))}}function fb(n){return Jy._create("limit",n,"F")}function hb(n,e,t){if(typeof(t=Xt(t))=="string"){if(t==="")throw new Re(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JS(e)&&t.indexOf("/")!==-1)throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Mt.fromString(t));if(!Le.isDocumentKey(i))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return CT(n,new Le(i))}if(t instanceof dr)return CT(n,t._key);throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sd(t)}.`)}function db(n,e){if(!Array.isArray(n)||n.length===0)throw new Re(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iA(n,e){const t=function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Re(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class BM{convertValue(e,t="none"){switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ze()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return $a(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[wh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Wt(c.doubleValue));return new $y(l)}convertGeoPoint(e){return new Hy(Wt(e.latitude),Wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Wh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){const t=Va(e);return new dn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Mt.fromString(e);_t(TR(i));const a=new _c(i.get(1),i.get(3)),l=new Le(i.popFirst(5));return a.isEqual(t)||js(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sA extends nA{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Wy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class fh extends sA{data(e={}){return super.data(e)}}class qM{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new sc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new fh(this._firestore,this._userDataWriter,i.key,i,new sc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(h=>{const f=new fh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new sc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const f=new fh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new sc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:FM(h.type),doc:f,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function FM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(n){n=zs(n,dr);const e=zs(n.firestore,Jl);return SM(qy(e),n._key).then(t=>GM(e,n,t))}class aA extends BM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,t)}}function Rs(n){n=zs(n,Fo);const e=zs(n.firestore,Jl),t=qy(e),i=new aA(e);return jM(n._query),RM(t,n._query).then(a=>new qM(e,i,n,a))}function HM(n,e,t,...i){n=zs(n,dr);const a=zs(n.firestore,Jl),l=Ky(a);let c;return c=typeof(e=Xt(e))=="string"||e instanceof od?MM(l,"updateDoc",n._key,e,t,i):PM(l,"updateDoc",n._key,e),ev(a,[c.toMutation(n._key,mi.exists(!0))])}function $M(n){return ev(zs(n.firestore,Jl),[new Ry(n._key,mi.none())])}function mb(n,e){const t=zs(n.firestore,Jl),i=As(n),a=zM(n.converter,e);return ev(t,[kM(Ky(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,mi.exists(!1))]).then(()=>i)}function ev(n,e){return function(i,a){const l=new Ps;return i.asyncQueue.enqueueAndForget(async()=>hM(await wM(i),a,l)),l.promise}(qy(n),e)}function GM(n,e,t){const i=t.docs.get(e._key),a=new aA(n);return new sA(n,a,e._key,i,new sc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Yl=a})(jo),Do(new La("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new Jl(new Lk(i.getProvider("auth-internal")),new jk(c,i.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Re(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(m.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),$i(gT,yT,e),$i(gT,yT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="firebasestorage.googleapis.com",lA="storageBucket",KM=2*60*1e3,QM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt extends es{constructor(e,t,i=0){super(xp(e),`Firebase Storage: ${t} (${xp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gt||(Gt={}));function xp(n){return"storage/"+n}function tv(){const n="An unknown error occurred, please check the error payload for server response.";return new Kt(Gt.UNKNOWN,n)}function YM(n){return new Kt(Gt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function WM(n){return new Kt(Gt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XM(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kt(Gt.UNAUTHENTICATED,n)}function ZM(){return new Kt(Gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function JM(n){return new Kt(Gt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function eL(){return new Kt(Gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tL(){return new Kt(Gt.CANCELED,"User canceled the upload/download.")}function nL(n){return new Kt(Gt.INVALID_URL,"Invalid URL '"+n+"'.")}function rL(n){return new Kt(Gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function iL(){return new Kt(Gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lA+"' property when initializing the app?")}function sL(){return new Kt(Gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function aL(){return new Kt(Gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function oL(n){return new Kt(Gt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Fg(n){return new Kt(Gt.INVALID_ARGUMENT,n)}function uA(){return new Kt(Gt.APP_DELETED,"The Firebase app was deleted.")}function lL(n){return new Kt(Gt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hc(n,e){return new Kt(Gt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Zu(n){throw new Kt(Gt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Ar.makeFromUrl(e,t)}catch{return new Ar(e,"")}if(i.path==="")return i;throw rL(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function m(J){J.path_=decodeURIComponent(J.path)}const y="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",A=new RegExp(`^https?://${_}/${y}/b/${a}/o${E}`,"i"),k={bucket:1,path:3},G=t===oA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",H=new RegExp(`^https?://${G}/${a}/${V}`,"i"),$=[{regex:h,indices:f,postModify:l},{regex:A,indices:k,postModify:m},{regex:H,indices:{bucket:1,path:2},postModify:m}];for(let J=0;J<$.length;J++){const se=$[J],de=se.regex.exec(e);if(de){const L=de[se.indices.bucket];let P=de[se.indices.path];P||(P=""),i=new Ar(L,P),se.postModify(i);break}}if(i==null)throw nL(e);return i}}class uL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(n,e,t){let i=1,a=null,l=null,c=!1,h=0;function f(){return h===2}let m=!1;function y(...V){m||(m=!0,e.apply(null,V))}function _(V){a=setTimeout(()=>{a=null,n(A,f())},V)}function E(){l&&clearTimeout(l)}function A(V,...H){if(m){E();return}if(V){E(),y.call(null,V,...H);return}if(f()||c){E(),y.call(null,V,...H);return}i<64&&(i*=2);let $;h===1?(h=2,$=0):$=(i+Math.random())*1e3,_($)}let k=!1;function G(V){k||(k=!0,E(),!m&&(a!==null?(V||(h=2),clearTimeout(a),_(0)):V||(h=1)))}return _(0),l=setTimeout(()=>{c=!0,G(!0)},t),G}function fL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(n){return n!==void 0}function dL(n){return typeof n=="object"&&!Array.isArray(n)}function nv(n){return typeof n=="string"||n instanceof String}function pb(n){return rv()&&n instanceof Blob}function rv(){return typeof Blob<"u"}function gb(n,e,t,i){if(i<e)throw Fg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Fg(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function cA(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var Oo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Oo||(Oo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,t,i,a,l,c,h,f,m,y,_,E=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,k)=>{this.resolve_=A,this.reject_=k,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Yf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=h=>{const f=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const h=l.getErrorCode()===Oo.NO_ERROR,f=l.getStatus();if(!h||mL(f,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Oo.ABORT;i(!1,new Yf(!1,null,y));return}const m=this.successCodes_.indexOf(f)!==-1;i(!0,new Yf(m,l))})},t=(i,a)=>{const l=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());hL(f)?l(f):l()}catch(f){c(f)}else if(h!==null){const f=tv();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(a.canceled){const f=this.appDelete_?uA():tL();c(f)}else{const f=eL();c(f)}};this.canceled_?t(!1,new Yf(!1,null,!0)):this.backoffId_=cL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yf{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function gL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function yL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function _L(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function EL(n,e,t,i,a,l,c=!0){const h=cA(n.urlParams),f=n.url+h,m=Object.assign({},n.headers);return vL(m,e),gL(m,t),yL(m,l),_L(m,i),new pL(f,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bL(...n){const e=TL();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(rv())return new Blob(n);throw new Kt(Gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function wL(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(n){if(typeof atob>"u")throw oL("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dp{constructor(e,t){this.data=e,this.contentType=t||null}}function RL(n,e){switch(n){case Hi.RAW:return new Dp(fA(e));case Hi.BASE64:case Hi.BASE64URL:return new Dp(hA(n,e));case Hi.DATA_URL:return new Dp(CL(e),IL(e))}throw tv()}function fA(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function AL(n){let e;try{e=decodeURIComponent(n)}catch{throw hc(Hi.DATA_URL,"Malformed data URL.")}return fA(e)}function hA(n,e){switch(n){case Hi.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw hc(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Hi.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw hc(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=SL(e)}catch(a){throw a.message.includes("polyfill")?a:hc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}class dA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw hc(Hi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=OL(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function CL(n){const e=new dA(n);return e.base64?hA(Hi.BASE64,e.rest):AL(e.rest)}function IL(n){return new dA(n).contentType}function OL(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,t){let i=0,a="";pb(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(pb(this.data_)){const i=this.data_,a=wL(i,e,t);return a===null?null:new Oa(a)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Oa(i,!0)}}static getBlob(...e){if(rv()){const t=e.map(i=>i instanceof Oa?i.data_:i);return new Oa(bL.apply(null,t))}else{const t=e.map(c=>nv(c)?RL(Hi.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)a[l++]=c[h]}),new Oa(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(n){let e;try{e=JSON.parse(n)}catch{return null}return dL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function DL(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function pA(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(n,e){return e}class Xn{constructor(e,t,i,a){this.server=e,this.local=t||e,this.writable=!!i,this.xform=a||NL}}let Wf=null;function kL(n){return!nv(n)||n.length<2?n:pA(n)}function gA(){if(Wf)return Wf;const n=[];n.push(new Xn("bucket")),n.push(new Xn("generation")),n.push(new Xn("metageneration")),n.push(new Xn("name","fullPath",!0));function e(l,c){return kL(c)}const t=new Xn("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const a=new Xn("size");return a.xform=i,n.push(a),n.push(new Xn("timeCreated")),n.push(new Xn("updated")),n.push(new Xn("md5Hash",null,!0)),n.push(new Xn("cacheControl",null,!0)),n.push(new Xn("contentDisposition",null,!0)),n.push(new Xn("contentEncoding",null,!0)),n.push(new Xn("contentLanguage",null,!0)),n.push(new Xn("contentType",null,!0)),n.push(new Xn("metadata","customMetadata",!0)),Wf=n,Wf}function PL(n,e){function t(){const i=n.bucket,a=n.fullPath,l=new Ar(i,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function ML(n,e,t){const i={};i.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return PL(i,n),i}function yA(n,e,t){const i=mA(e);return i===null?null:ML(n,i,t)}function LL(n,e,t,i){const a=mA(e);if(a===null||!nv(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(m=>{const y=n.bucket,_=n.fullPath,E="/b/"+c(y)+"/o/"+c(_),A=iv(E,t,i),k=cA({alt:"media",token:m});return A+k})[0]}function UL(n,e){const t={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class vA{constructor(e,t,i,a){this.url=e,this.method=t,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(n){if(!n)throw tv()}function VL(n,e){function t(i,a){const l=yA(n,a,e);return _A(l!==null),l}return t}function jL(n,e){function t(i,a){const l=yA(n,a,e);return _A(l!==null),LL(l,a,n.host,n._protocol)}return t}function EA(n){function e(t,i){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=ZM():a=XM():t.getStatus()===402?a=WM(n.bucket):t.getStatus()===403?a=JM(n.path):a=i,a.status=t.getStatus(),a.serverResponse=i.serverResponse,a}return e}function BL(n){const e=EA(n);function t(i,a){let l=e(i,a);return i.getStatus()===404&&(l=YM(n.path)),l.serverResponse=a.serverResponse,l}return t}function zL(n,e,t){const i=e.fullServerUrl(),a=iv(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,h=new vA(a,l,jL(n,t),c);return h.errorHandler=BL(e),h}function qL(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function FL(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=qL(null,e)),i}function HL(n,e,t,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let $="";for(let J=0;J<2;J++)$=$+Math.random().toString().slice(2);return $}const f=h();c["Content-Type"]="multipart/related; boundary="+f;const m=FL(e,i,a),y=UL(m,t),_="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,E=`\r
--`+f+"--",A=Oa.getBlob(_,i,E);if(A===null)throw sL();const k={name:m.fullPath},G=iv(l,n.host,n._protocol),V="POST",H=n.maxUploadRetryTime,Y=new vA(G,V,VL(n,t),H);return Y.urlParams=k,Y.headers=c,Y.body=A.uploadData(),Y.errorHandler=EA(e),Y}class $L{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,a){if(this.sent_)throw Zu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class GL extends $L{initXhr(){this.xhr_.responseType="text"}}function TA(){return new GL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t){this._service=e,t instanceof Ar?this._location=t:this._location=Ar.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Lo(e,t)}get root(){const e=new Ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pA(this._location.path)}get storage(){return this._service}get parent(){const e=xL(this._location.path);if(e===null)return null;const t=new Ar(this._location.bucket,e);return new Lo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw lL(e)}}function KL(n,e,t){n._throwIfRoot("uploadBytes");const i=HL(n.storage,n._location,gA(),new Oa(e,!0),t);return n.storage.makeRequestWithTokens(i,TA).then(a=>({metadata:a,ref:n}))}function QL(n){n._throwIfRoot("getDownloadURL");const e=zL(n.storage,n._location,gA());return n.storage.makeRequestWithTokens(e,TA).then(t=>{if(t===null)throw aL();return t})}function YL(n,e){const t=DL(n._location.path,e),i=new Ar(n._location.bucket,t);return new Lo(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(n){return/^[A-Za-z]+:\/\//.test(n)}function XL(n,e){return new Lo(n,e)}function bA(n,e){if(n instanceof sv){const t=n;if(t._bucket==null)throw iL();const i=new Lo(t,t._bucket);return e!=null?bA(i,e):i}else return e!==void 0?YL(n,e):n}function ZL(n,e){if(e&&WL(e)){if(n instanceof sv)return XL(n,e);throw Fg("To use ref(service, url), the first argument must be a Storage instance.")}else return bA(n,e)}function yb(n,e){const t=e==null?void 0:e[lA];return t==null?null:Ar.makeFromBucketSpec(t,n)}function JL(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken=typeof a=="string"?a:qw(a,n.app.options.projectId))}class sv{constructor(e,t,i,a,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=oA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KM,this._maxUploadRetryTime=QM,this._requests=new Set,a!=null?this._bucket=Ar.makeFromBucketSpec(a,this._host):this._bucket=yb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,e):this._bucket=yb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lo(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new uL(uA());{const c=EL(e,this._appId,i,a,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const vb="@firebase/storage",_b="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="storage";function eU(n,e,t){return n=Xt(n),KL(n,e,t)}function tU(n){return n=Xt(n),QL(n)}function Eb(n,e){return n=Xt(n),ZL(n,e)}function nU(n=oy(),e){n=Xt(n);const i=Hh(n,wA).getImmediate({identifier:e}),a=jw("storage");return a&&rU(i,...a),i}function rU(n,e,t,i={}){JL(n,e,t,i)}function iU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new sv(t,i,a,e,jo)}function sU(){Do(new La(wA,iU,"PUBLIC").setMultipleInstances(!0)),$i(vb,_b,""),$i(vb,_b,"esm2017")}sU();var Np,Tb;function aU(){if(Tb)return Np;Tb=1;function n(w,S){return function(){return w.apply(S,arguments)}}const{toString:e}=Object.prototype,{getPrototypeOf:t}=Object,i=(w=>S=>{const x=e.call(S);return w[x]||(w[x]=x.slice(8,-1).toLowerCase())})(Object.create(null)),a=w=>(w=w.toLowerCase(),S=>i(S)===w),l=w=>S=>typeof S===w,{isArray:c}=Array,h=l("undefined");function f(w){return w!==null&&!h(w)&&w.constructor!==null&&!h(w.constructor)&&E(w.constructor.isBuffer)&&w.constructor.isBuffer(w)}const m=a("ArrayBuffer");function y(w){let S;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?S=ArrayBuffer.isView(w):S=w&&w.buffer&&m(w.buffer),S}const _=l("string"),E=l("function"),A=l("number"),k=w=>w!==null&&typeof w=="object",G=w=>w===!0||w===!1,V=w=>{if(i(w)!=="object")return!1;const S=t(w);return(S===null||S===Object.prototype||Object.getPrototypeOf(S)===null)&&!(Symbol.toStringTag in w)&&!(Symbol.iterator in w)},H=a("Date"),Y=a("File"),$=a("Blob"),J=a("FileList"),se=w=>k(w)&&E(w.pipe),de=w=>{let S;return w&&(typeof FormData=="function"&&w instanceof FormData||E(w.append)&&((S=i(w))==="formdata"||S==="object"&&E(w.toString)&&w.toString()==="[object FormData]"))},L=a("URLSearchParams"),[P,D,j,F]=["ReadableStream","Request","Response","Headers"].map(a),B=w=>w.trim?w.trim():w.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function M(w,S,{allOwnKeys:x=!1}={}){if(w===null||typeof w>"u")return;let N,q;if(typeof w!="object"&&(w=[w]),c(w))for(N=0,q=w.length;N<q;N++)S.call(null,w[N],N,w);else{const W=x?Object.getOwnPropertyNames(w):Object.keys(w),Z=W.length;let pe;for(N=0;N<Z;N++)pe=W[N],S.call(null,w[pe],pe,w)}}function Ae(w,S){S=S.toLowerCase();const x=Object.keys(w);let N=x.length,q;for(;N-- >0;)if(q=x[N],S===q.toLowerCase())return q;return null}const Me=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:eI,le=w=>!h(w)&&w!==Me;function Te(){const{caseless:w}=le(this)&&this||{},S={},x=(N,q)=>{const W=w&&Ae(S,q)||q;V(S[W])&&V(N)?S[W]=Te(S[W],N):V(N)?S[W]=Te({},N):c(N)?S[W]=N.slice():S[W]=N};for(let N=0,q=arguments.length;N<q;N++)arguments[N]&&M(arguments[N],x);return S}const ge=(w,S,x,{allOwnKeys:N}={})=>(M(S,(q,W)=>{x&&E(q)?w[W]=n(q,x):w[W]=q},{allOwnKeys:N}),w),Qe=w=>(w.charCodeAt(0)===65279&&(w=w.slice(1)),w),z=(w,S,x,N)=>{w.prototype=Object.create(S.prototype,N),w.prototype.constructor=w,Object.defineProperty(w,"super",{value:S.prototype}),x&&Object.assign(w.prototype,x)},ue=(w,S,x,N)=>{let q,W,Z;const pe={};if(S=S||{},w==null)return S;do{for(q=Object.getOwnPropertyNames(w),W=q.length;W-- >0;)Z=q[W],(!N||N(Z,w,S))&&!pe[Z]&&(S[Z]=w[Z],pe[Z]=!0);w=x!==!1&&t(w)}while(w&&(!x||x(w,S))&&w!==Object.prototype);return S},we=(w,S,x)=>{w=String(w),(x===void 0||x>w.length)&&(x=w.length),x-=S.length;const N=w.indexOf(S,x);return N!==-1&&N===x},ve=w=>{if(!w)return null;if(c(w))return w;let S=w.length;if(!A(S))return null;const x=new Array(S);for(;S-- >0;)x[S]=w[S];return x},_e=(w=>S=>w&&S instanceof w)(typeof Uint8Array<"u"&&t(Uint8Array)),Ue=(w,S)=>{const N=(w&&w[Symbol.iterator]).call(w);let q;for(;(q=N.next())&&!q.done;){const W=q.value;S.call(w,W[0],W[1])}},Fe=(w,S)=>{let x;const N=[];for(;(x=w.exec(S))!==null;)N.push(x);return N},Lt=a("HTMLFormElement"),et=w=>w.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(x,N,q){return N.toUpperCase()+q}),Et=(({hasOwnProperty:w})=>(S,x)=>w.call(S,x))(Object.prototype),rt=a("RegExp"),Zt=(w,S)=>{const x=Object.getOwnPropertyDescriptors(w),N={};M(x,(q,W)=>{let Z;(Z=S(q,W,w))!==!1&&(N[W]=Z||q)}),Object.defineProperties(w,N)},tr=w=>{Zt(w,(S,x)=>{if(E(w)&&["arguments","caller","callee"].indexOf(x)!==-1)return!1;const N=w[x];if(E(N)){if(S.enumerable=!1,"writable"in S){S.writable=!1;return}S.set||(S.set=()=>{throw Error("Can not rewrite read-only method '"+x+"'")})}})},pn=(w,S)=>{const x={},N=q=>{q.forEach(W=>{x[W]=!0})};return c(w)?N(w):N(String(w).split(S)),x},Fn=()=>{},dt=(w,S)=>w!=null&&Number.isFinite(w=+w)?w:S,Pn="abcdefghijklmnopqrstuvwxyz",Ir="0123456789",ts={DIGIT:Ir,ALPHA:Pn,ALPHA_DIGIT:Pn+Pn.toUpperCase()+Ir},$s=(w=16,S=ts.ALPHA_DIGIT)=>{let x="";const{length:N}=S;for(;w--;)x+=S[Math.random()*N|0];return x};function ns(w){return!!(w&&E(w.append)&&w[Symbol.toStringTag]==="FormData"&&w[Symbol.iterator])}const Gs=w=>{const S=new Array(10),x=(N,q)=>{if(k(N)){if(S.indexOf(N)>=0)return;if(!("toJSON"in N)){S[q]=N;const W=c(N)?[]:{};return M(N,(Z,pe)=>{const Ie=x(Z,q+1);!h(Ie)&&(W[pe]=Ie)}),S[q]=void 0,W}}return N};return x(w,0)},ru=a("AsyncFunction"),Ka=w=>w&&(k(w)||E(w))&&E(w.then)&&E(w.catch),Rn=((w,S)=>w?setImmediate:S?((x,N)=>(Me.addEventListener("message",({source:q,data:W})=>{q===Me&&W===x&&N.length&&N.shift()()},!1),q=>{N.push(q),Me.postMessage(x,"*")}))(`axios@${Math.random()}`,[]):x=>setTimeout(x))(typeof setImmediate=="function",E(Me.postMessage)),$o=typeof queueMicrotask<"u"?queueMicrotask.bind(Me):typeof process<"u"&&process.nextTick||Rn;var ne={isArray:c,isArrayBuffer:m,isBuffer:f,isFormData:de,isArrayBufferView:y,isString:_,isNumber:A,isBoolean:G,isObject:k,isPlainObject:V,isReadableStream:P,isRequest:D,isResponse:j,isHeaders:F,isUndefined:h,isDate:H,isFile:Y,isBlob:$,isRegExp:rt,isFunction:E,isStream:se,isURLSearchParams:L,isTypedArray:_e,isFileList:J,forEach:M,merge:Te,extend:ge,trim:B,stripBOM:Qe,inherits:z,toFlatObject:ue,kindOf:i,kindOfTest:a,endsWith:we,toArray:ve,forEachEntry:Ue,matchAll:Fe,isHTMLForm:Lt,hasOwnProperty:Et,hasOwnProp:Et,reduceDescriptors:Zt,freezeMethods:tr,toObjectSet:pn,toCamelCase:et,noop:Fn,toFiniteNumber:dt,findKey:Ae,global:Me,isContextDefined:le,ALPHABET:ts,generateString:$s,isSpecCompliantForm:ns,toJSONObject:Gs,isAsyncFn:ru,isThenable:Ka,setImmediate:Rn,asap:$o};function Oe(w,S,x,N,q){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=w,this.name="AxiosError",S&&(this.code=S),x&&(this.config=x),N&&(this.request=N),q&&(this.response=q,this.status=q.status?q.status:null)}ne.inherits(Oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const Or=Oe.prototype,Qa={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(w=>{Qa[w]={value:w}}),Object.defineProperties(Oe,Qa),Object.defineProperty(Or,"isAxiosError",{value:!0}),Oe.from=(w,S,x,N,q,W)=>{const Z=Object.create(Or);return ne.toFlatObject(w,Z,function(Ie){return Ie!==Error.prototype},pe=>pe!=="isAxiosError"),Oe.call(Z,w.message,S,x,N,q),Z.cause=w,Z.name=w.name,W&&Object.assign(Z,W),Z};var Ya=null;function Wa(w){return ne.isPlainObject(w)||ne.isArray(w)}function yi(w){return ne.endsWith(w,"[]")?w.slice(0,-2):w}function Yr(w,S,x){return w?w.concat(S).map(function(q,W){return q=yi(q),!x&&W?"["+q+"]":q}).join(x?".":""):S}function gn(w){return ne.isArray(w)&&!w.some(Wa)}const Xa=ne.toFlatObject(ne,{},null,function(S){return/^is[A-Z]/.test(S)});function Hn(w,S,x){if(!ne.isObject(w))throw new TypeError("target must be an object");S=S||new FormData,x=ne.toFlatObject(x,{metaTokens:!0,dots:!1,indexes:!1},!1,function(qe,ke){return!ne.isUndefined(ke[qe])});const N=x.metaTokens,q=x.visitor||be,W=x.dots,Z=x.indexes,Ie=(x.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(S);if(!ne.isFunction(q))throw new TypeError("visitor must be a function");function ye(Ne){if(Ne===null)return"";if(ne.isDate(Ne))return Ne.toISOString();if(!Ie&&ne.isBlob(Ne))throw new Oe("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(Ne)||ne.isTypedArray(Ne)?Ie&&typeof Blob=="function"?new Blob([Ne]):Buffer.from(Ne):Ne}function be(Ne,qe,ke){let Ct=Ne;if(Ne&&!ke&&typeof Ne=="object"){if(ne.endsWith(qe,"{}"))qe=N?qe:qe.slice(0,-2),Ne=JSON.stringify(Ne);else if(ne.isArray(Ne)&&gn(Ne)||(ne.isFileList(Ne)||ne.endsWith(qe,"[]"))&&(Ct=ne.toArray(Ne)))return qe=yi(qe),Ct.forEach(function(Ut,lr){!(ne.isUndefined(Ut)||Ut===null)&&S.append(Z===!0?Yr([qe],lr,W):Z===null?qe:qe+"[]",ye(Ut))}),!1}return Wa(Ne)?!0:(S.append(Yr(ke,qe,W),ye(Ne)),!1)}const xe=[],mt=Object.assign(Xa,{defaultVisitor:be,convertValue:ye,isVisitable:Wa});function At(Ne,qe){if(!ne.isUndefined(Ne)){if(xe.indexOf(Ne)!==-1)throw Error("Circular reference detected in "+qe.join("."));xe.push(Ne),ne.forEach(Ne,function(Ct,bt){(!(ne.isUndefined(Ct)||Ct===null)&&q.call(S,Ct,ne.isString(bt)?bt.trim():bt,qe,mt))===!0&&At(Ct,qe?qe.concat(bt):[bt])}),xe.pop()}}if(!ne.isObject(w))throw new TypeError("data must be an object");return At(w),S}function yn(w){const S={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(w).replace(/[!'()~]|%20|%00/g,function(N){return S[N]})}function rs(w,S){this._pairs=[],w&&Hn(w,this,S)}const Za=rs.prototype;Za.append=function(S,x){this._pairs.push([S,x])},Za.toString=function(S){const x=S?function(N){return S.call(this,N,yn)}:yn;return this._pairs.map(function(q){return x(q[0])+"="+x(q[1])},"").join("&")};function Go(w){return encodeURIComponent(w).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mr(w,S,x){if(!S)return w;const N=x&&x.encode||Go;ne.isFunction(x)&&(x={serialize:x});const q=x&&x.serialize;let W;if(q?W=q(S,x):W=ne.isURLSearchParams(S)?S.toString():new rs(S,x).toString(N),W){const Z=w.indexOf("#");Z!==-1&&(w=w.slice(0,Z)),w+=(w.indexOf("?")===-1?"?":"&")+W}return w}class vi{constructor(){this.handlers=[]}use(S,x,N){return this.handlers.push({fulfilled:S,rejected:x,synchronous:N?N.synchronous:!1,runWhen:N?N.runWhen:null}),this.handlers.length-1}eject(S){this.handlers[S]&&(this.handlers[S]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(S){ne.forEach(this.handlers,function(N){N!==null&&S(N)})}}var nr=vi,$n={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_i=typeof URLSearchParams<"u"?URLSearchParams:rs,Ks=typeof FormData<"u"?FormData:null,Ja=typeof Blob<"u"?Blob:null,Ei={isBrowser:!0,classes:{URLSearchParams:_i,FormData:Ks,Blob:Ja},protocols:["http","https","file","blob","url","data"]};const Ti=typeof window<"u"&&typeof document<"u",Dt=typeof navigator=="object"&&navigator||void 0,Ko=Ti&&(!Dt||["ReactNative","NativeScript","NS"].indexOf(Dt.product)<0),bi=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wi=Ti&&window.location.href||"http://localhost";var Qo=Object.freeze({__proto__:null,hasBrowserEnv:Ti,hasStandardBrowserWebWorkerEnv:bi,hasStandardBrowserEnv:Ko,navigator:Dt,origin:wi}),Qt={...Qo,...Ei};function Si(w,S){return Hn(w,new Qt.classes.URLSearchParams,Object.assign({visitor:function(x,N,q,W){return Qt.isNode&&ne.isBuffer(x)?(this.append(N,x.toString("base64")),!1):W.defaultVisitor.apply(this,arguments)}},S))}function xr(w){return ne.matchAll(/\w+|\[(\w*)]/g,w).map(S=>S[0]==="[]"?"":S[1]||S[0])}function Jt(w){const S={},x=Object.keys(w);let N;const q=x.length;let W;for(N=0;N<q;N++)W=x[N],S[W]=w[W];return S}function qt(w){function S(x,N,q,W){let Z=x[W++];if(Z==="__proto__")return!0;const pe=Number.isFinite(+Z),Ie=W>=x.length;return Z=!Z&&ne.isArray(q)?q.length:Z,Ie?(ne.hasOwnProp(q,Z)?q[Z]=[q[Z],N]:q[Z]=N,!pe):((!q[Z]||!ne.isObject(q[Z]))&&(q[Z]=[]),S(x,N,q[Z],W)&&ne.isArray(q[Z])&&(q[Z]=Jt(q[Z])),!pe)}if(ne.isFormData(w)&&ne.isFunction(w.entries)){const x={};return ne.forEachEntry(w,(N,q)=>{S(xr(N),q,x,0)}),x}return null}function Wr(w,S,x){if(ne.isString(w))try{return(S||JSON.parse)(w),ne.trim(w)}catch(N){if(N.name!=="SyntaxError")throw N}return(x||JSON.stringify)(w)}const Xr={transitional:$n,adapter:["xhr","http","fetch"],transformRequest:[function(S,x){const N=x.getContentType()||"",q=N.indexOf("application/json")>-1,W=ne.isObject(S);if(W&&ne.isHTMLForm(S)&&(S=new FormData(S)),ne.isFormData(S))return q?JSON.stringify(qt(S)):S;if(ne.isArrayBuffer(S)||ne.isBuffer(S)||ne.isStream(S)||ne.isFile(S)||ne.isBlob(S)||ne.isReadableStream(S))return S;if(ne.isArrayBufferView(S))return S.buffer;if(ne.isURLSearchParams(S))return x.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),S.toString();let pe;if(W){if(N.indexOf("application/x-www-form-urlencoded")>-1)return Si(S,this.formSerializer).toString();if((pe=ne.isFileList(S))||N.indexOf("multipart/form-data")>-1){const Ie=this.env&&this.env.FormData;return Hn(pe?{"files[]":S}:S,Ie&&new Ie,this.formSerializer)}}return W||q?(x.setContentType("application/json",!1),Wr(S)):S}],transformResponse:[function(S){const x=this.transitional||Xr.transitional,N=x&&x.forcedJSONParsing,q=this.responseType==="json";if(ne.isResponse(S)||ne.isReadableStream(S))return S;if(S&&ne.isString(S)&&(N&&!this.responseType||q)){const Z=!(x&&x.silentJSONParsing)&&q;try{return JSON.parse(S)}catch(pe){if(Z)throw pe.name==="SyntaxError"?Oe.from(pe,Oe.ERR_BAD_RESPONSE,this,null,this.response):pe}}return S}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qt.classes.FormData,Blob:Qt.classes.Blob},validateStatus:function(S){return S>=200&&S<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],w=>{Xr.headers[w]={}});var Ri=Xr;const Dr=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var eo=w=>{const S={};let x,N,q;return w&&w.split(`
`).forEach(function(Z){q=Z.indexOf(":"),x=Z.substring(0,q).trim().toLowerCase(),N=Z.substring(q+1).trim(),!(!x||S[x]&&Dr[x])&&(x==="set-cookie"?S[x]?S[x].push(N):S[x]=[N]:S[x]=S[x]?S[x]+", "+N:N)}),S};const Zr=Symbol("internals");function pr(w){return w&&String(w).trim().toLowerCase()}function Mn(w){return w===!1||w==null?w:ne.isArray(w)?w.map(Mn):String(w)}function Jr(w){const S=Object.create(null),x=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let N;for(;N=x.exec(w);)S[N[1]]=N[2];return S}const Ai=w=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(w.trim());function Nr(w,S,x,N,q){if(ne.isFunction(N))return N.call(this,S,x);if(q&&(S=x),!!ne.isString(S)){if(ne.isString(N))return S.indexOf(N)!==-1;if(ne.isRegExp(N))return N.test(S)}}function Nt(w){return w.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(S,x,N)=>x.toUpperCase()+N)}function to(w,S){const x=ne.toCamelCase(" "+S);["get","set","has"].forEach(N=>{Object.defineProperty(w,N+x,{value:function(q,W,Z){return this[N].call(this,S,q,W,Z)},configurable:!0})})}class ei{constructor(S){S&&this.set(S)}set(S,x,N){const q=this;function W(pe,Ie,ye){const be=pr(Ie);if(!be)throw new Error("header name must be a non-empty string");const xe=ne.findKey(q,be);(!xe||q[xe]===void 0||ye===!0||ye===void 0&&q[xe]!==!1)&&(q[xe||Ie]=Mn(pe))}const Z=(pe,Ie)=>ne.forEach(pe,(ye,be)=>W(ye,be,Ie));if(ne.isPlainObject(S)||S instanceof this.constructor)Z(S,x);else if(ne.isString(S)&&(S=S.trim())&&!Ai(S))Z(eo(S),x);else if(ne.isHeaders(S))for(const[pe,Ie]of S.entries())W(Ie,pe,N);else S!=null&&W(x,S,N);return this}get(S,x){if(S=pr(S),S){const N=ne.findKey(this,S);if(N){const q=this[N];if(!x)return q;if(x===!0)return Jr(q);if(ne.isFunction(x))return x.call(this,q,N);if(ne.isRegExp(x))return x.exec(q);throw new TypeError("parser must be boolean|regexp|function")}}}has(S,x){if(S=pr(S),S){const N=ne.findKey(this,S);return!!(N&&this[N]!==void 0&&(!x||Nr(this,this[N],N,x)))}return!1}delete(S,x){const N=this;let q=!1;function W(Z){if(Z=pr(Z),Z){const pe=ne.findKey(N,Z);pe&&(!x||Nr(N,N[pe],pe,x))&&(delete N[pe],q=!0)}}return ne.isArray(S)?S.forEach(W):W(S),q}clear(S){const x=Object.keys(this);let N=x.length,q=!1;for(;N--;){const W=x[N];(!S||Nr(this,this[W],W,S,!0))&&(delete this[W],q=!0)}return q}normalize(S){const x=this,N={};return ne.forEach(this,(q,W)=>{const Z=ne.findKey(N,W);if(Z){x[Z]=Mn(q),delete x[W];return}const pe=S?Nt(W):String(W).trim();pe!==W&&delete x[W],x[pe]=Mn(q),N[pe]=!0}),this}concat(...S){return this.constructor.concat(this,...S)}toJSON(S){const x=Object.create(null);return ne.forEach(this,(N,q)=>{N!=null&&N!==!1&&(x[q]=S&&ne.isArray(N)?N.join(", "):N)}),x}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([S,x])=>S+": "+x).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(S){return S instanceof this?S:new this(S)}static concat(S,...x){const N=new this(S);return x.forEach(q=>N.set(q)),N}static accessor(S){const N=(this[Zr]=this[Zr]={accessors:{}}).accessors,q=this.prototype;function W(Z){const pe=pr(Z);N[pe]||(to(q,Z),N[pe]=!0)}return ne.isArray(S)?S.forEach(W):W(S),this}}ei.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ne.reduceDescriptors(ei.prototype,({value:w},S)=>{let x=S[0].toUpperCase()+S.slice(1);return{get:()=>w,set(N){this[x]=N}}}),ne.freezeMethods(ei);var kt=ei;function vn(w,S){const x=this||Ri,N=S||x,q=kt.from(N.headers);let W=N.data;return ne.forEach(w,function(pe){W=pe.call(x,W,q.normalize(),S?S.status:void 0)}),q.normalize(),W}function Ln(w){return!!(w&&w.__CANCEL__)}function Ci(w,S,x){Oe.call(this,w??"canceled",Oe.ERR_CANCELED,S,x),this.name="CanceledError"}ne.inherits(Ci,Oe,{__CANCEL__:!0});function Qs(w,S,x){const N=x.config.validateStatus;!x.status||!N||N(x.status)?w(x):S(new Oe("Request failed with status code "+x.status,[Oe.ERR_BAD_REQUEST,Oe.ERR_BAD_RESPONSE][Math.floor(x.status/100)-4],x.config,x.request,x))}function no(w){const S=/^([-+\w]{1,25})(:?\/\/|:)/.exec(w);return S&&S[1]||""}function Yo(w,S){w=w||10;const x=new Array(w),N=new Array(w);let q=0,W=0,Z;return S=S!==void 0?S:1e3,function(Ie){const ye=Date.now(),be=N[W];Z||(Z=ye),x[q]=Ie,N[q]=ye;let xe=W,mt=0;for(;xe!==q;)mt+=x[xe++],xe=xe%w;if(q=(q+1)%w,q===W&&(W=(W+1)%w),ye-Z<S)return;const At=be&&ye-be;return At?Math.round(mt*1e3/At):void 0}}function Ii(w,S){let x=0,N=1e3/S,q,W;const Z=(ye,be=Date.now())=>{x=be,q=null,W&&(clearTimeout(W),W=null),w.apply(null,ye)};return[(...ye)=>{const be=Date.now(),xe=be-x;xe>=N?Z(ye,be):(q=ye,W||(W=setTimeout(()=>{W=null,Z(q)},N-xe)))},()=>q&&Z(q)]}const gr=(w,S,x=3)=>{let N=0;const q=Yo(50,250);return Ii(W=>{const Z=W.loaded,pe=W.lengthComputable?W.total:void 0,Ie=Z-N,ye=q(Ie),be=Z<=pe;N=Z;const xe={loaded:Z,total:pe,progress:pe?Z/pe:void 0,bytes:Ie,rate:ye||void 0,estimated:ye&&pe&&be?(pe-Z)/ye:void 0,event:W,lengthComputable:pe!=null,[S?"download":"upload"]:!0};w(xe)},x)},Gn=(w,S)=>{const x=w!=null;return[N=>S[0]({lengthComputable:x,total:w,loaded:N}),S[1]]},_n=w=>(...S)=>ne.asap(()=>w(...S));var Wo=Qt.hasStandardBrowserEnv?((w,S)=>x=>(x=new URL(x,Qt.origin),w.protocol===x.protocol&&w.host===x.host&&(S||w.port===x.port)))(new URL(Qt.origin),Qt.navigator&&/(msie|trident)/i.test(Qt.navigator.userAgent)):()=>!0,iu=Qt.hasStandardBrowserEnv?{write(w,S,x,N,q,W){const Z=[w+"="+encodeURIComponent(S)];ne.isNumber(x)&&Z.push("expires="+new Date(x).toGMTString()),ne.isString(N)&&Z.push("path="+N),ne.isString(q)&&Z.push("domain="+q),W===!0&&Z.push("secure"),document.cookie=Z.join("; ")},read(w){const S=document.cookie.match(new RegExp("(^|;\\s*)("+w+")=([^;]*)"));return S?decodeURIComponent(S[3]):null},remove(w){this.write(w,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function is(w){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(w)}function ro(w,S){return S?w.replace(/\/?\/$/,"")+"/"+S.replace(/^\/+/,""):w}function ss(w,S){return w&&!is(S)?ro(w,S):S}const kr=w=>w instanceof kt?{...w}:w;function vt(w,S){S=S||{};const x={};function N(ye,be,xe,mt){return ne.isPlainObject(ye)&&ne.isPlainObject(be)?ne.merge.call({caseless:mt},ye,be):ne.isPlainObject(be)?ne.merge({},be):ne.isArray(be)?be.slice():be}function q(ye,be,xe,mt){if(ne.isUndefined(be)){if(!ne.isUndefined(ye))return N(void 0,ye,xe,mt)}else return N(ye,be,xe,mt)}function W(ye,be){if(!ne.isUndefined(be))return N(void 0,be)}function Z(ye,be){if(ne.isUndefined(be)){if(!ne.isUndefined(ye))return N(void 0,ye)}else return N(void 0,be)}function pe(ye,be,xe){if(xe in S)return N(ye,be);if(xe in w)return N(void 0,ye)}const Ie={url:W,method:W,data:W,baseURL:Z,transformRequest:Z,transformResponse:Z,paramsSerializer:Z,timeout:Z,timeoutMessage:Z,withCredentials:Z,withXSRFToken:Z,adapter:Z,responseType:Z,xsrfCookieName:Z,xsrfHeaderName:Z,onUploadProgress:Z,onDownloadProgress:Z,decompress:Z,maxContentLength:Z,maxBodyLength:Z,beforeRedirect:Z,transport:Z,httpAgent:Z,httpsAgent:Z,cancelToken:Z,socketPath:Z,responseEncoding:Z,validateStatus:pe,headers:(ye,be,xe)=>q(kr(ye),kr(be),xe,!0)};return ne.forEach(Object.keys(Object.assign({},w,S)),function(be){const xe=Ie[be]||q,mt=xe(w[be],S[be],be);ne.isUndefined(mt)&&xe!==pe||(x[be]=mt)}),x}var ti=w=>{const S=vt({},w);let{data:x,withXSRFToken:N,xsrfHeaderName:q,xsrfCookieName:W,headers:Z,auth:pe}=S;S.headers=Z=kt.from(Z),S.url=mr(ss(S.baseURL,S.url),w.params,w.paramsSerializer),pe&&Z.set("Authorization","Basic "+btoa((pe.username||"")+":"+(pe.password?unescape(encodeURIComponent(pe.password)):"")));let Ie;if(ne.isFormData(x)){if(Qt.hasStandardBrowserEnv||Qt.hasStandardBrowserWebWorkerEnv)Z.setContentType(void 0);else if((Ie=Z.getContentType())!==!1){const[ye,...be]=Ie?Ie.split(";").map(xe=>xe.trim()).filter(Boolean):[];Z.setContentType([ye||"multipart/form-data",...be].join("; "))}}if(Qt.hasStandardBrowserEnv&&(N&&ne.isFunction(N)&&(N=N(S)),N||N!==!1&&Wo(S.url))){const ye=q&&W&&iu.read(W);ye&&Z.set(q,ye)}return S},Ws=typeof XMLHttpRequest<"u"&&function(w){return new Promise(function(x,N){const q=ti(w);let W=q.data;const Z=kt.from(q.headers).normalize();let{responseType:pe,onUploadProgress:Ie,onDownloadProgress:ye}=q,be,xe,mt,At,Ne;function qe(){At&&At(),Ne&&Ne(),q.cancelToken&&q.cancelToken.unsubscribe(be),q.signal&&q.signal.removeEventListener("abort",be)}let ke=new XMLHttpRequest;ke.open(q.method.toUpperCase(),q.url,!0),ke.timeout=q.timeout;function Ct(){if(!ke)return;const Ut=kt.from("getAllResponseHeaders"in ke&&ke.getAllResponseHeaders()),on={data:!pe||pe==="text"||pe==="json"?ke.responseText:ke.response,status:ke.status,statusText:ke.statusText,headers:Ut,config:w,request:ke};Qs(function(ur){x(ur),qe()},function(ur){N(ur),qe()},on),ke=null}"onloadend"in ke?ke.onloadend=Ct:ke.onreadystatechange=function(){!ke||ke.readyState!==4||ke.status===0&&!(ke.responseURL&&ke.responseURL.indexOf("file:")===0)||setTimeout(Ct)},ke.onabort=function(){ke&&(N(new Oe("Request aborted",Oe.ECONNABORTED,w,ke)),ke=null)},ke.onerror=function(){N(new Oe("Network Error",Oe.ERR_NETWORK,w,ke)),ke=null},ke.ontimeout=function(){let lr=q.timeout?"timeout of "+q.timeout+"ms exceeded":"timeout exceeded";const on=q.transitional||$n;q.timeoutErrorMessage&&(lr=q.timeoutErrorMessage),N(new Oe(lr,on.clarifyTimeoutError?Oe.ETIMEDOUT:Oe.ECONNABORTED,w,ke)),ke=null},W===void 0&&Z.setContentType(null),"setRequestHeader"in ke&&ne.forEach(Z.toJSON(),function(lr,on){ke.setRequestHeader(on,lr)}),ne.isUndefined(q.withCredentials)||(ke.withCredentials=!!q.withCredentials),pe&&pe!=="json"&&(ke.responseType=q.responseType),ye&&([mt,Ne]=gr(ye,!0),ke.addEventListener("progress",mt)),Ie&&ke.upload&&([xe,At]=gr(Ie),ke.upload.addEventListener("progress",xe),ke.upload.addEventListener("loadend",At)),(q.cancelToken||q.signal)&&(be=Ut=>{ke&&(N(!Ut||Ut.type?new Ci(null,w,ke):Ut),ke.abort(),ke=null)},q.cancelToken&&q.cancelToken.subscribe(be),q.signal&&(q.signal.aborted?be():q.signal.addEventListener("abort",be)));const bt=no(q.url);if(bt&&Qt.protocols.indexOf(bt)===-1){N(new Oe("Unsupported protocol "+bt+":",Oe.ERR_BAD_REQUEST,w));return}ke.send(W||null)})},as=(w,S)=>{const{length:x}=w=w?w.filter(Boolean):[];if(S||x){let N=new AbortController,q;const W=function(ye){if(!q){q=!0,pe();const be=ye instanceof Error?ye:this.reason;N.abort(be instanceof Oe?be:new Ci(be instanceof Error?be.message:be))}};let Z=S&&setTimeout(()=>{Z=null,W(new Oe(`timeout ${S} of ms exceeded`,Oe.ETIMEDOUT))},S);const pe=()=>{w&&(Z&&clearTimeout(Z),Z=null,w.forEach(ye=>{ye.unsubscribe?ye.unsubscribe(W):ye.removeEventListener("abort",W)}),w=null)};w.forEach(ye=>ye.addEventListener("abort",W));const{signal:Ie}=N;return Ie.unsubscribe=()=>ne.asap(pe),Ie}};const Oi=function*(w,S){let x=w.byteLength;if(x<S){yield w;return}let N=0,q;for(;N<x;)q=N+S,yield w.slice(N,q),N=q},rr=async function*(w,S){for await(const x of su(w))yield*Oi(x,S)},su=async function*(w){if(w[Symbol.asyncIterator]){yield*w;return}const S=w.getReader();try{for(;;){const{done:x,value:N}=await S.read();if(x)break;yield N}}finally{await S.cancel()}},Xs=(w,S,x,N)=>{const q=rr(w,S);let W=0,Z,pe=Ie=>{Z||(Z=!0,N&&N(Ie))};return new ReadableStream({async pull(Ie){try{const{done:ye,value:be}=await q.next();if(ye){pe(),Ie.close();return}let xe=be.byteLength;if(x){let mt=W+=xe;x(mt)}Ie.enqueue(new Uint8Array(be))}catch(ye){throw pe(ye),ye}},cancel(Ie){return pe(Ie),q.return()}},{highWaterMark:2})},os=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Zs=os&&typeof ReadableStream=="function",au=os&&(typeof TextEncoder=="function"?(w=>S=>w.encode(S))(new TextEncoder):async w=>new Uint8Array(await new Response(w).arrayBuffer())),Xo=(w,...S)=>{try{return!!w(...S)}catch{return!1}},Pr=Zs&&Xo(()=>{let w=!1;const S=new Request(Qt.origin,{body:new ReadableStream,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!S}),Kn=64*1024,xi=Zs&&Xo(()=>ne.isReadableStream(new Response("").body)),ir={stream:xi&&(w=>w.body)};os&&(w=>{["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!ir[S]&&(ir[S]=ne.isFunction(w[S])?x=>x[S]():(x,N)=>{throw new Oe(`Response type '${S}' is not supported`,Oe.ERR_NOT_SUPPORT,N)})})})(new Response);const ni=async w=>{if(w==null)return 0;if(ne.isBlob(w))return w.size;if(ne.isSpecCompliantForm(w))return(await new Request(Qt.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(w)||ne.isArrayBuffer(w))return w.byteLength;if(ne.isURLSearchParams(w)&&(w=w+""),ne.isString(w))return(await au(w)).byteLength},ri=async(w,S)=>{const x=ne.toFiniteNumber(w.getContentLength());return x??ni(S)};var io=os&&(async w=>{let{url:S,method:x,data:N,signal:q,cancelToken:W,timeout:Z,onDownloadProgress:pe,onUploadProgress:Ie,responseType:ye,headers:be,withCredentials:xe="same-origin",fetchOptions:mt}=ti(w);ye=ye?(ye+"").toLowerCase():"text";let At=as([q,W&&W.toAbortSignal()],Z),Ne;const qe=At&&At.unsubscribe&&(()=>{At.unsubscribe()});let ke;try{if(Ie&&Pr&&x!=="get"&&x!=="head"&&(ke=await ri(be,N))!==0){let on=new Request(S,{method:"POST",body:N,duplex:"half"}),vr;if(ne.isFormData(N)&&(vr=on.headers.get("content-type"))&&be.setContentType(vr),on.body){const[ur,en]=Gn(ke,gr(_n(Ie)));N=Xs(on.body,Kn,ur,en)}}ne.isString(xe)||(xe=xe?"include":"omit");const Ct="credentials"in Request.prototype;Ne=new Request(S,{...mt,signal:At,method:x.toUpperCase(),headers:be.normalize().toJSON(),body:N,duplex:"half",credentials:Ct?xe:void 0});let bt=await fetch(Ne);const Ut=xi&&(ye==="stream"||ye==="response");if(xi&&(pe||Ut&&qe)){const on={};["status","statusText","headers"].forEach(so=>{on[so]=bt[so]});const vr=ne.toFiniteNumber(bt.headers.get("content-length")),[ur,en]=pe&&Gn(vr,gr(_n(pe),!0))||[];bt=new Response(Xs(bt.body,Kn,ur,()=>{en&&en(),qe&&qe()}),on)}ye=ye||"text";let lr=await ir[ne.findKey(ir,ye)||"text"](bt,w);return!Ut&&qe&&qe(),await new Promise((on,vr)=>{Qs(on,vr,{data:lr,headers:kt.from(bt.headers),status:bt.status,statusText:bt.statusText,config:w,request:Ne})})}catch(Ct){throw qe&&qe(),Ct&&Ct.name==="TypeError"&&/fetch/i.test(Ct.message)?Object.assign(new Oe("Network Error",Oe.ERR_NETWORK,w,Ne),{cause:Ct.cause||Ct}):Oe.from(Ct,Ct&&Ct.code,w,Ne)}});const Js={http:Ya,xhr:Ws,fetch:io};ne.forEach(Js,(w,S)=>{if(w){try{Object.defineProperty(w,"name",{value:S})}catch{}Object.defineProperty(w,"adapterName",{value:S})}});const Di=w=>`- ${w}`,sr=w=>ne.isFunction(w)||w===null||w===!1;var Ni={getAdapter:w=>{w=ne.isArray(w)?w:[w];const{length:S}=w;let x,N;const q={};for(let W=0;W<S;W++){x=w[W];let Z;if(N=x,!sr(x)&&(N=Js[(Z=String(x)).toLowerCase()],N===void 0))throw new Oe(`Unknown adapter '${Z}'`);if(N)break;q[Z||"#"+W]=N}if(!N){const W=Object.entries(q).map(([pe,Ie])=>`adapter ${pe} `+(Ie===!1?"is not supported by the environment":"is not available in the build"));let Z=S?W.length>1?`since :
`+W.map(Di).join(`
`):" "+Di(W[0]):"as no adapter specified";throw new Oe("There is no suitable adapter to dispatch the request "+Z,"ERR_NOT_SUPPORT")}return N},adapters:Js};function ar(w){if(w.cancelToken&&w.cancelToken.throwIfRequested(),w.signal&&w.signal.aborted)throw new Ci(null,w)}function ii(w){return ar(w),w.headers=kt.from(w.headers),w.data=vn.call(w,w.transformRequest),["post","put","patch"].indexOf(w.method)!==-1&&w.headers.setContentType("application/x-www-form-urlencoded",!1),Ni.getAdapter(w.adapter||Ri.adapter)(w).then(function(N){return ar(w),N.data=vn.call(w,w.transformResponse,N),N.headers=kt.from(N.headers),N},function(N){return Ln(N)||(ar(w),N&&N.response&&(N.response.data=vn.call(w,w.transformResponse,N.response),N.response.headers=kt.from(N.response.headers))),Promise.reject(N)})}const Mr="1.7.9",ki={};["object","boolean","number","function","string","symbol"].forEach((w,S)=>{ki[w]=function(N){return typeof N===w||"a"+(S<1?"n ":" ")+w}});const yr={};ki.transitional=function(S,x,N){function q(W,Z){return"[Axios v"+Mr+"] Transitional option '"+W+"'"+Z+(N?". "+N:"")}return(W,Z,pe)=>{if(S===!1)throw new Oe(q(Z," has been removed"+(x?" in "+x:"")),Oe.ERR_DEPRECATED);return x&&!yr[Z]&&(yr[Z]=!0,console.warn(q(Z," has been deprecated since v"+x+" and will be removed in the near future"))),S?S(W,Z,pe):!0}},ki.spelling=function(S){return(x,N)=>(console.warn(`${N} is likely a misspelling of ${S}`),!0)};function Lr(w,S,x){if(typeof w!="object")throw new Oe("options must be an object",Oe.ERR_BAD_OPTION_VALUE);const N=Object.keys(w);let q=N.length;for(;q-- >0;){const W=N[q],Z=S[W];if(Z){const pe=w[W],Ie=pe===void 0||Z(pe,W,w);if(Ie!==!0)throw new Oe("option "+W+" must be "+Ie,Oe.ERR_BAD_OPTION_VALUE);continue}if(x!==!0)throw new Oe("Unknown option "+W,Oe.ERR_BAD_OPTION)}}var Pi={assertOptions:Lr,validators:ki};const Tt=Pi.validators;class it{constructor(S){this.defaults=S,this.interceptors={request:new nr,response:new nr}}async request(S,x){try{return await this._request(S,x)}catch(N){if(N instanceof Error){let q={};Error.captureStackTrace?Error.captureStackTrace(q):q=new Error;const W=q.stack?q.stack.replace(/^.+\n/,""):"";try{N.stack?W&&!String(N.stack).endsWith(W.replace(/^.+\n.+\n/,""))&&(N.stack+=`
`+W):N.stack=W}catch{}}throw N}}_request(S,x){typeof S=="string"?(x=x||{},x.url=S):x=S||{},x=vt(this.defaults,x);const{transitional:N,paramsSerializer:q,headers:W}=x;N!==void 0&&Pi.assertOptions(N,{silentJSONParsing:Tt.transitional(Tt.boolean),forcedJSONParsing:Tt.transitional(Tt.boolean),clarifyTimeoutError:Tt.transitional(Tt.boolean)},!1),q!=null&&(ne.isFunction(q)?x.paramsSerializer={serialize:q}:Pi.assertOptions(q,{encode:Tt.function,serialize:Tt.function},!0)),Pi.assertOptions(x,{baseUrl:Tt.spelling("baseURL"),withXsrfToken:Tt.spelling("withXSRFToken")},!0),x.method=(x.method||this.defaults.method||"get").toLowerCase();let Z=W&&ne.merge(W.common,W[x.method]);W&&ne.forEach(["delete","get","head","post","put","patch","common"],Ne=>{delete W[Ne]}),x.headers=kt.concat(Z,W);const pe=[];let Ie=!0;this.interceptors.request.forEach(function(qe){typeof qe.runWhen=="function"&&qe.runWhen(x)===!1||(Ie=Ie&&qe.synchronous,pe.unshift(qe.fulfilled,qe.rejected))});const ye=[];this.interceptors.response.forEach(function(qe){ye.push(qe.fulfilled,qe.rejected)});let be,xe=0,mt;if(!Ie){const Ne=[ii.bind(this),void 0];for(Ne.unshift.apply(Ne,pe),Ne.push.apply(Ne,ye),mt=Ne.length,be=Promise.resolve(x);xe<mt;)be=be.then(Ne[xe++],Ne[xe++]);return be}mt=pe.length;let At=x;for(xe=0;xe<mt;){const Ne=pe[xe++],qe=pe[xe++];try{At=Ne(At)}catch(ke){qe.call(this,ke);break}}try{be=ii.call(this,At)}catch(Ne){return Promise.reject(Ne)}for(xe=0,mt=ye.length;xe<mt;)be=be.then(ye[xe++],ye[xe++]);return be}getUri(S){S=vt(this.defaults,S);const x=ss(S.baseURL,S.url);return mr(x,S.params,S.paramsSerializer)}}ne.forEach(["delete","get","head","options"],function(S){it.prototype[S]=function(x,N){return this.request(vt(N||{},{method:S,url:x,data:(N||{}).data}))}}),ne.forEach(["post","put","patch"],function(S){function x(N){return function(W,Z,pe){return this.request(vt(pe||{},{method:S,headers:N?{"Content-Type":"multipart/form-data"}:{},url:W,data:Z}))}}it.prototype[S]=x(),it.prototype[S+"Form"]=x(!0)});var si=it;class ai{constructor(S){if(typeof S!="function")throw new TypeError("executor must be a function.");let x;this.promise=new Promise(function(W){x=W});const N=this;this.promise.then(q=>{if(!N._listeners)return;let W=N._listeners.length;for(;W-- >0;)N._listeners[W](q);N._listeners=null}),this.promise.then=q=>{let W;const Z=new Promise(pe=>{N.subscribe(pe),W=pe}).then(q);return Z.cancel=function(){N.unsubscribe(W)},Z},S(function(W,Z,pe){N.reason||(N.reason=new Ci(W,Z,pe),x(N.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(S){if(this.reason){S(this.reason);return}this._listeners?this._listeners.push(S):this._listeners=[S]}unsubscribe(S){if(!this._listeners)return;const x=this._listeners.indexOf(S);x!==-1&&this._listeners.splice(x,1)}toAbortSignal(){const S=new AbortController,x=N=>{S.abort(N)};return this.subscribe(x),S.signal.unsubscribe=()=>this.unsubscribe(x),S.signal}static source(){let S;return{token:new ai(function(q){S=q}),cancel:S}}}var Zo=ai;function ea(w){return function(x){return w.apply(null,x)}}function ta(w){return ne.isObject(w)&&w.isAxiosError===!0}const or={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(or).forEach(([w,S])=>{or[S]=w});var ls=or;function Qn(w){const S=new si(w),x=n(si.prototype.request,S);return ne.extend(x,si.prototype,S,{allOwnKeys:!0}),ne.extend(x,S,null,{allOwnKeys:!0}),x.create=function(q){return Qn(vt(w,q))},x}const Pt=Qn(Ri);return Pt.Axios=si,Pt.CanceledError=Ci,Pt.CancelToken=Zo,Pt.isCancel=Ln,Pt.VERSION=Mr,Pt.toFormData=Hn,Pt.AxiosError=Oe,Pt.Cancel=Pt.CanceledError,Pt.all=function(S){return Promise.all(S)},Pt.spread=ea,Pt.isAxiosError=ta,Pt.mergeConfig=vt,Pt.AxiosHeaders=kt,Pt.formToJSON=w=>qt(ne.isHTMLForm(w)?new FormData(w):w),Pt.getAdapter=Ni.getAdapter,Pt.HttpStatusCode=ls,Pt.default=Pt,Np=Pt,Np}var kp,bb;function oU(){if(bb)return kp;bb=1;var n=function(t,i){return i?t.then(function(a){i(null,a.data)}).catch(function(a){i(a,null)}):t.then(function(a){return a.data})};return kp=n,kp}const lU={},uU=Object.freeze(Object.defineProperty({__proto__:null,default:lU},Symbol.toStringTag,{value:"Module"})),cU=tI(uU);var Pp,wb;function Jn(){if(wb)return Pp;wb=1;var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E};function e(E){return+new Date(E)/1e3}function t(E){return i(E)?E:e(E)}function i(E){return!isNaN(Number(E))}function a(E){return!!E&&(typeof E>"u"?"undefined":n(E))==="object"&&!Array.isArray(E)}function l(E){return E===void 0?E:E?1:0}function c(E){return typeof E<"u"}function h(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A={};for(var k in E)A["notes["+k+"]"]=E[k];return A}function f(E){return JSON.stringify(E,null,2)}function m(E,A,k){return new Error(`
`+E+`
`+("Expected("+(typeof A>"u"?"undefined":n(A))+`)
`+f(A)+`

`)+("Got("+(typeof k>"u"?"undefined":n(k))+`)
`+f(k)))}function y(E,A,k){var G=cU;if(!c(E)||!c(A)||!c(k))throw Error("Invalid Parameters: Please give request body,signature sent in X-Razorpay-Signature header and webhook secret from dashboard as parameters");E=E.toString();var V=G.createHmac("sha256",k).update(E).digest("hex");return V===A}function _(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=arguments[1],k=arguments[2],G=E.payment_id;if(!k)throw new Error("secret is mandatory");if(c(E.order_id)===!0)var V=E.order_id,H=V+"|"+G;else if(c(E.subscription_id)===!0)var Y=E.subscription_id,H=G+"|"+Y;else if(c(E.payment_link_id)===!0)var $=E.payment_link_id,J=E.payment_link_reference_id,se=E.payment_link_status,H=$+"|"+J+"|"+se+"|"+G;else throw new Error("Either order_id or subscription_id is mandatory");return y(H,A,k)}return Pp={normalizeNotes:h,normalizeDate:t,normalizeBoolean:l,isNumber:i,getDateInSecs:e,prettify:f,isDefined:c,isNonNullObject:a,getTestError:m,validateWebhookSignature:y,validatePaymentVerification:_},Pp}var Mp,Sb;function fU(){if(Sb)return Mp;Sb=1;var n=function(){function y(_,E){for(var A=0;A<E.length;A++){var k=E[A];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,E,A){return E&&y(_.prototype,E),A&&y(_,A),_}}();function e(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}var t=aU().default,i=oU(),a=Jn(),l=a.isNonNullObject,c={"X-Razorpay-Account":"","Content-Type":"application/json"};function h(y){var _={};return l(y)?Object.keys(y).reduce(function(E,A){return c.hasOwnProperty(A)&&(E[A]=y[A]),E},_):_}function f(y){throw{statusCode:y.response.status,error:y.response.data.error}}var m=function(){function y(_){e(this,y),this.version="v1",this.rq=t.create({baseURL:_.hostUrl,auth:{username:_.key_id,password:_.key_secret},headers:Object.assign({"User-Agent":_.ua},h(_.headers))})}return n(y,[{key:"getEntityUrl",value:function(E){return E.hasOwnProperty("version")?"/"+E.version+E.url:"/"+this.version+E.url}},{key:"get",value:function(E,A){return i(this.rq.get(this.getEntityUrl(E),{params:E.data}).catch(f),A)}},{key:"post",value:function(E,A){return i(this.rq.post(this.getEntityUrl(E),E.data).catch(f),A)}},{key:"postFormData",value:function(E,A){return i(this.rq.post(this.getEntityUrl(E),E.formData,{headers:{"Content-Type":"multipart/form-data"}}).catch(f),A)}},{key:"put",value:function(E,A){return i(this.rq.put(this.getEntityUrl(E),E.data).catch(f),A)}},{key:"patch",value:function(E,A){return i(this.rq.patch(this.getEntityUrl(E),E.data).catch(f),A)}},{key:"delete",value:function(E,A){return i(this.rq.delete(this.getEntityUrl(E)).catch(f),A)}}]),y}();return Mp=m,Mp}const hU="2.9.5",dU={version:hU};var Lp,Rb;function mU(){if(Rb)return Lp;Rb=1;var n=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t};function e(t,i){var a={};for(var l in t)i.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(t,l)&&(a[l]=t[l]);return a}return Lp=function(t){var i="/accounts";return{create:function(l,c){return t.post({version:"v2",url:""+i,data:l},c)},edit:function(l,c,h){return t.patch({version:"v2",url:i+"/"+l,data:c},h)},fetch:function(l,c){return t.get({version:"v2",url:i+"/"+l},c)},delete:function(l,c){return t.delete({version:"v2",url:i+"/"+l},c)},uploadAccountDoc:function(l,c,h){var f=c.file,m=e(c,["file"]);return t.postFormData({version:"v2",url:i+"/"+l+"/documents",formData:n({file:f.value},m)},h)},fetchAccountDoc:function(l,c){return t.get({version:"v2",url:i+"/"+l+"/documents"},c)}}},Lp}var Up,Ab;function pU(){if(Ab)return Up;Ab=1;var n=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t};function e(t,i){var a={};for(var l in t)i.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(t,l)&&(a[l]=t[l]);return a}return Up=function(t){var i="/accounts";return{create:function(l,c,h){return t.post({version:"v2",url:i+"/"+l+"/stakeholders",data:c},h)},edit:function(l,c,h,f){return t.patch({version:"v2",url:i+"/"+l+"/stakeholders/"+c,data:h},f)},fetch:function(l,c,h){return t.get({version:"v2",url:i+"/"+l+"/stakeholders/"+c},h)},all:function(l,c){return t.get({version:"v2",url:i+"/"+l+"/stakeholders"},c)},uploadStakeholderDoc:function(l,c,h,f){var m=h.file,y=e(h,["file"]);return t.postFormData({version:"v2",url:i+"/"+l+"/stakeholders/"+c+"/documents",formData:n({file:m.value},y)},f)},fetchStakeholderDoc:function(l,c,h){return t.get({version:"v2",url:i+"/"+l+"/stakeholders/"+c+"/documents"},h)}}},Up}var Vp,Cb;function gU(){if(Cb)return Vp;Cb=1;var n=Object.assign||function(c){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(c[m]=f[m])}return c};function e(c,h){var f={};for(var m in c)h.indexOf(m)>=0||Object.prototype.hasOwnProperty.call(c,m)&&(f[m]=c[m]);return f}var t=Jn(),i=t.normalizeDate,a="`payment_id` is mandatory",l="/payments";return Vp=function(c){return{all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=f.from,_=f.to,E=f.count,A=f.skip,k=void 0;return y&&(y=i(y)),_&&(_=i(_)),f.hasOwnProperty("expand[]")&&(k={"expand[]":f["expand[]"]}),E=Number(E)||10,A=Number(A)||0,c.get({url:""+l,data:{from:y,to:_,count:E,skip:A,expand:k}},m)},fetch:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],_=void 0;if(!f)throw new Error("`payment_id` is mandatory");return m.hasOwnProperty("expand[]")&&(_={"expand[]":m["expand[]"]}),c.get({url:l+"/"+f,data:{expand:_}},y)},capture:function(f,m,y,_){if(!f)throw new Error("`payment_id` is mandatory");if(!m)throw new Error("`amount` is mandatory");var E={amount:m};return typeof y=="function"&&!_?(_=y,y=void 0):typeof y=="string"&&(E.currency=y),c.post({url:l+"/"+f+"/capture",data:E},_)},createPaymentJson:function(f,m){var y=l+"/create/json",_=e(f,[]),E=Object.assign(_);return c.post({url:y,data:E},m)},createRecurringPayment:function(f,m){return c.post({url:l+"/create/recurring",data:f},m)},edit:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];if(!f)throw new Error("`payment_id` is mandatory");return c.patch({url:l+"/"+f,data:m},y)},refund:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];if(!f)throw new Error("`payment_id` is mandatory");return c.post({url:l+"/"+f+"/refund",data:m},y)},fetchMultipleRefund:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],_=m.from,E=m.to,A=m.count,k=m.skip,G=l+"/"+f+"/refunds";return c.get({url:G,data:n({},m,{from:_,to:E,count:A,skip:k})},y)},fetchRefund:function(f,m,y){if(!f)throw new Error("payment Id` is mandatory");if(!m)throw new Error("refund Id` is mandatory");return c.get({url:l+"/"+f+"/refunds/"+m},y)},fetchTransfer:function(f,m){if(!f)throw new Error("payment Id` is mandatory");return c.get({url:l+"/"+f+"/transfers"},m)},transfer:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];if(!f)throw new Error("`payment_id` is mandatory");return c.post({url:l+"/"+f+"/transfers",data:m},y)},bankTransfer:function(f,m){return f?c.get({url:l+"/"+f+"/bank_transfer"},m):Promise.reject(a)},fetchCardDetails:function(f,m){return f?c.get({url:l+"/"+f+"/card"},m):Promise.reject(a)},fetchPaymentDowntime:function(f){return c.get({url:l+"/downtimes"},f)},fetchPaymentDowntimeById:function(f,m){return f?c.get({url:l+"/downtimes/"+f},m):Promise.reject("Downtime Id is mandatory")},otpGenerate:function(f,m){return f?c.post({url:l+"/"+f+"/otp_generate"},m):Promise.reject("payment Id is mandatory")},otpSubmit:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];return f?c.post({url:l+"/"+f+"/otp/submit",data:m},y):Promise.reject("payment Id is mandatory")},otpResend:function(f,m){return f?c.post({url:l+"/"+f+"/otp/resend"},m):Promise.reject("payment Id is mandatory")},createUpi:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=l+"/create/upi",_=e(f,[]),E=Object.assign(_);return c.post({url:y,data:E},m)},validateVpa:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=l+"/validate/vpa",_=e(f,[]),E=Object.assign(_);return c.post({url:y,data:E},m)},fetchPaymentMethods:function(f){var m="/methods";return c.get({url:m},f)}}},Vp}var jp,Ib;function yU(){if(Ib)return jp;Ib=1;var n=Jn(),e=n.normalizeDate;return n.normalizeNotes,jp=function(t){return{all:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=a.from,h=a.to,f=a.count,m=a.skip,y=a.payment_id,_="/refunds";return y&&(_="/payments/"+y+"/refunds"),c&&(c=e(c)),h&&(h=e(h)),f=Number(f)||10,m=Number(m)||0,t.get({url:_,data:{from:c,to:h,count:f,skip:m}},l)},edit:function(a,l,c){if(!a)throw new Error("refund Id is mandatory");return t.patch({url:"/refunds/"+a,data:l},c)},fetch:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments[2],h=l.payment_id;if(!a)throw new Error("`refund_id` is mandatory");var f="/refunds/"+a;return h&&(f="/payments/"+h+f),t.get({url:f},c)}}},jp}var Bp,Ob;function vU(){if(Ob)return Bp;Ob=1;var n=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])}return a};function e(a,l){var c={};for(var h in a)l.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(a,h)&&(c[h]=a[h]);return c}var t=Jn(),i=t.normalizeDate;return Bp=function(a){return{all:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=c.from,m=c.to,y=c.count,_=c.skip,E=c.authorized,A=c.receipt,k=void 0;return f&&(f=i(f)),m&&(m=i(m)),c.hasOwnProperty("expand[]")&&(k={"expand[]":c["expand[]"]}),y=Number(y)||10,_=Number(_)||0,E=E,a.get({url:"/orders",data:{from:f,to:m,count:y,skip:_,authorized:E,receipt:A,expand:k}},h)},fetch:function(c,h){if(!c)throw new Error("`order_id` is mandatory");return a.get({url:"/orders/"+c},h)},create:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=c.currency,m=e(c,["currency"]);f=f||"INR";var y=Object.assign(n({currency:f},m));return a.post({url:"/orders",data:y},h)},edit:function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments[2];if(!c)throw new Error("`order_id` is mandatory");return a.patch({url:"/orders/"+c,data:h},f)},fetchPayments:function(c,h){if(!c)throw new Error("`order_id` is mandatory");return a.get({url:"/orders/"+c+"/payments"},h)},fetchTransferOrder:function(c,h){if(!c)throw new Error("`order_id` is mandatory");return a.get({url:"/orders/"+c+"/?expand[]=transfers&status"},h)},viewRtoReview:function(c,h){return a.post({url:"/orders/"+c+"/rto_review"},h)},editFulfillment:function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.post({url:"/orders/"+c+"/fulfillment",data:h})}}},Bp}var zp,xb;function _U(){return xb||(xb=1,zp=function(n){return{create:function(t,i){return n.post({url:"/customers",data:t},i)},edit:function(t,i,a){return n.put({url:"/customers/"+t,data:i},a)},fetch:function(t,i){return n.get({url:"/customers/"+t},i)},all:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments[1],a=t.count,l=t.skip;return a=Number(a)||10,l=Number(l)||0,n.get({url:"/customers",data:{count:a,skip:l}},i)},fetchTokens:function(t,i){return n.get({url:"/customers/"+t+"/tokens"},i)},fetchToken:function(t,i,a){return n.get({url:"/customers/"+t+"/tokens/"+i},a)},deleteToken:function(t,i,a){return n.delete({url:"/customers/"+t+"/tokens/"+i},a)},addBankAccount:function(t,i,a){return n.post({url:"/customers/"+t+"/bank_account",data:i},a)},deleteBankAccount:function(t,i,a){return n.delete({url:"/customers/"+t+"/bank_account/"+i},a)},requestEligibilityCheck:function(t,i){return n.post({url:"/customers/eligibility",data:t},i)},fetchEligibility:function(t,i){return n.get({url:"/customers/eligibility/"+t},i)}}}),zp}var qp,Db;function EU(){if(Db)return qp;Db=1;var n=Jn(),e=n.normalizeDate;return qp=function(t){return{all:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=a.from,h=a.to,f=a.count,m=a.skip,y=a.payment_id,_=a.recipient_settlement_id,E="/transfers";return y&&(E="/payments/"+y+"/transfers"),c&&(c=e(c)),h&&(h=e(h)),f=Number(f)||10,m=Number(m)||0,t.get({url:E,data:{from:c,to:h,count:f,skip:m,recipient_settlement_id:_}},l)},fetch:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments[2];if(l.payment_id,!a)throw new Error("`transfer_id` is mandatory");var h="/transfers/"+a;return t.get({url:h},c)},create:function(a,l){return t.post({url:"/transfers",data:a},l)},edit:function(a,l,c){return t.patch({url:"/transfers/"+a,data:l},c)},reverse:function(a,l,c){if(!a)throw new Error("`transfer_id` is mandatory");var h="/transfers/"+a+"/reversals";return t.post({url:h,data:l},c)},fetchSettlements:function(a){return t.get({url:"/transfers?expand[]=recipient_settlement"},a)}}},qp}var Fp,Nb;function TU(){if(Nb)return Fp;Nb=1;var n=Jn();return n.normalizeNotes,Fp=function(e){var t="/tokens";return{create:function(a,l){return e.post({url:""+t,data:a},l)},fetch:function(a,l){return e.post({url:t+"/fetch",data:a},l)},delete:function(a,l){return e.post({url:t+"/delete",data:a},l)},processPaymentOnAlternatePAorPG:function(a,l){return e.post({url:t+"/service_provider_tokens/token_transactional_data",data:a},l)}}},Fp}var Hp,kb;function bU(){if(kb)return Hp;kb=1;var n=Object.assign||function(c){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(c[m]=f[m])}return c};function e(c,h){var f={};for(var m in c)h.indexOf(m)>=0||Object.prototype.hasOwnProperty.call(c,m)&&(f[m]=c[m]);return f}var t=Jn(),i=t.normalizeDate;t.normalizeNotes;var a="/virtual_accounts",l="`virtual_account_id` is mandatory";return Hp=function(c){return{all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=f.from,_=f.to,E=f.count,A=f.skip,k=e(f,["from","to","count","skip"]),G=a;return y&&(y=i(y)),_&&(_=i(_)),E=Number(E)||10,A=Number(A)||0,c.get({url:G,data:n({from:y,to:_,count:E,skip:A},k)},m)},fetch:function(f,m){if(!f)return Promise.reject(l);var y=a+"/"+f;return c.get({url:y},m)},create:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1];return c.post({url:a,data:f},m)},close:function(f,m){return f?c.post({url:a+"/"+f+"/close"},m):Promise.reject(l)},fetchPayments:function(f,m){if(!f)return Promise.reject(l);var y=a+"/"+f+"/payments";return c.get({url:y},m)},addReceiver:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];return f?c.post({url:a+"/"+f+"/receivers",data:m},y):Promise.reject(l)},allowedPayer:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2];return f?c.post({url:a+"/"+f+"/allowed_payers",data:m},y):Promise.reject(l)},deleteAllowedPayer:function(f,m,y){return f?m?c.delete({url:a+"/"+f+"/allowed_payers/"+m},y):Promise.reject("allowed payer id is mandatory"):Promise.reject(l)}}},Hp}var $p,Pb;function wU(){if(Pb)return $p;Pb=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=Jn(),t=e.normalizeDate;return $p=function(a){var l="/invoices",c="Invoice ID is mandatory";return{create:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=l;return a.post({url:y,data:f},m)},edit:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],_=l+"/"+f;return f?a.patch({url:_,data:m},y):Promise.reject("Invoice ID is mandatory")},issue:function(f,m){if(!f)return Promise.reject(c);var y=l+"/"+f+"/issue";return a.post({url:y},m)},delete:function(f,m){if(!f)return Promise.reject(c);var y=l+"/"+f;return a.delete({url:y},m)},cancel:function(f,m){if(!f)return Promise.reject(c);var y=l+"/"+f+"/cancel";return a.post({url:y},m)},fetch:function(f,m){if(!f)return Promise.reject(c);var y=l+"/"+f;return a.get({url:y},m)},all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=f.from,_=f.to,E=f.count,A=f.skip,k=l;return y&&(y=t(y)),_&&(_=t(_)),E=Number(E)||10,A=Number(A)||0,a.get({url:k,data:n({},f,{from:y,to:_,count:E,skip:A})},m)},notifyBy:function(f,m,y){if(!f)return Promise.reject(c);if(!m)return Promise.reject("`medium` is required");var _=l+"/"+f+"/notify_by/"+m;return a.post({url:_},y)}}},$p}var Gp,Mb;function SU(){return Mb||(Mb=1,Gp=function(n){var e="/iins";return{fetch:function(i,a){return n.get({url:e+"/"+i},a)},all:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments[1];return n.get({url:e+"/list",data:i},a)}}}),Gp}var Kp,Lb;function RU(){if(Lb)return Kp;Lb=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=Jn(),t=e.normalizeDate;return Kp=function(a){var l="/payment_links",c="Payment Link ID is mandatory";return{create:function(f,m){var y=l;return a.post({url:y,data:f},m)},cancel:function(f,m){if(!f)return Promise.reject(c);var y=l+"/"+f+"/cancel";return a.post({url:y},m)},fetch:function(f,m){if(!f)return Promise.reject(c);var y=l+"/"+f;return a.get({url:y},m)},all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=f.from,_=f.to,E=f.count,A=f.skip,k=l;return y&&(y=t(y)),_&&(_=t(_)),E=Number(E)||10,A=Number(A)||0,a.get({url:k,data:n({},f,{from:y,to:_,count:E,skip:A})},m)},edit:function(f,m,y){return a.patch({url:l+"/"+f,data:m},y)},notifyBy:function(f,m,y){if(!f)return Promise.reject(c);if(!m)return Promise.reject("`medium` is required");var _=l+"/"+f+"/notify_by/"+m;return a.post({url:_},y)}}},Kp}var Qp,Ub;function AU(){if(Ub)return Qp;Ub=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=Jn(),t=e.normalizeDate;return Qp=function(a){var l="/plans",c="Plan ID is mandatory";return{create:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=l;return a.post({url:y,data:f},m)},fetch:function(f,m){if(!f)return Promise.reject(c);var y=l+"/"+f;return a.get({url:y},m)},all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=f.from,_=f.to,E=f.count,A=f.skip,k=l;return y&&(y=t(y)),_&&(_=t(_)),E=Number(E)||10,A=Number(A)||0,a.get({url:k,data:n({},f,{from:y,to:_,count:E,skip:A})},m)}}},Qp}var Yp,Vb;function CU(){return Vb||(Vb=1,Yp=function(n){var e="/accounts";return{requestProductConfiguration:function(i,a,l){return n.post({version:"v2",url:e+"/"+i+"/products",data:a},l)},edit:function(i,a,l,c){return n.patch({version:"v2",url:e+"/"+i+"/products/"+a,data:l},c)},fetch:function(i,a,l){return n.get({version:"v2",url:e+"/"+i+"/products/"+a},l)},fetchTnc:function(i,a){return n.get({version:"v2",url:"/products/"+i+"/tnc"},a)}}}),Yp}var Wp,jb;function IU(){if(jb)return Wp;jb=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=Jn(),t=e.normalizeDate;return Wp=function(a){var l="/subscriptions",c="Subscription ID is mandatory";return{create:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=l;return a.post({url:y,data:f},m)},fetch:function(f,m){if(!f)return Promise.reject(c);var y=l+"/"+f;return a.get({url:y},m)},update:function(f,m,y){var _=l+"/"+f;return f?a.patch({url:_,data:m},y):Promise.reject(c)},pendingUpdate:function(f,m){var y=l+"/"+f+"/retrieve_scheduled_changes";return f?a.get({url:y},m):Promise.reject(c)},cancelScheduledChanges:function(f,m){var y=l+"/"+f+"/cancel_scheduled_changes";return f?a.post({url:y},m):Promise.reject("Subscription Id is mandatory")},pause:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],_=l+"/"+f+"/pause";return f?a.post({url:_,data:m},y):Promise.reject("Subscription Id is mandatory")},resume:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments[2],_=l+"/"+f+"/resume";return f?a.post({url:_,data:m},y):Promise.reject("Subscription Id is mandatory")},deleteOffer:function(f,m,y){var _=l+"/"+f+"/"+m;return f?a.delete({url:_},y):Promise.reject("Subscription Id is mandatory")},all:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1],y=f.from,_=f.to,E=f.count,A=f.skip,k=l;return y&&(y=t(y)),_&&(_=t(_)),E=Number(E)||10,A=Number(A)||0,a.get({url:k,data:n({},f,{from:y,to:_,count:E,skip:A})},m)},cancel:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=arguments[2],_=l+"/"+f+"/cancel";return f?a.post(n({url:_},m&&{data:{cancel_at_cycle_end:1}}),y):Promise.reject(c)},createAddon:function(f,m,y){var _=l+"/"+f+"/addons";return f?a.post({url:_,data:n({},m)},y):Promise.reject(c)},createRegistrationLink:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments[1];return a.post({url:"/subscription_registration/auth_links",data:f},m)}}},Wp}var Xp,Bb;function OU(){if(Bb)return Xp;Bb=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=Jn(),t=e.normalizeDate;return Xp=function(i){var a="/addons",l="Addon ID is mandatory";return{fetch:function(h,f){if(!h)return Promise.reject(l);var m=a+"/"+h;return i.get({url:m},f)},delete:function(h,f){if(!h)return Promise.reject(l);var m=a+"/"+h;return i.delete({url:m},f)},all:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments[1],m=h.from,y=h.to,_=h.count,E=h.skip,A=a;return m&&(m=t(m)),y&&(y=t(y)),_=Number(_)||10,E=Number(E)||0,i.get({url:A,data:n({},h,{from:m,to:y,count:_,skip:E})},f)}}},Xp}var Zp,zb;function xU(){if(zb)return Zp;zb=1;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};return Zp=function(e){var t="/settlements";return{createOndemandSettlement:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=t+"/ondemand";return e.post({url:c,data:a},l)},all:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=a.from,h=a.to,f=a.count,m=a.skip,y=t;return e.get({url:y,data:n({},a,{from:c,to:h,count:f,skip:m})},l)},fetch:function(a,l){return a?e.get({url:t+"/"+a},l):Promise.reject("settlement Id is mandatroy")},fetchOndemandSettlementById:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments[2],h=void 0;return a?(l.hasOwnProperty("expand[]")&&(h={"expand[]":l["expand[]"]}),e.get({url:t+"/ondemand/"+a,data:{expand:h}},c)):Promise.reject("settlment Id is mandatroy")},fetchAllOndemandSettlement:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=void 0,h=a.from,f=a.to,m=a.count,y=a.skip,_=t+"/ondemand";return a.hasOwnProperty("expand[]")&&(c={"expand[]":a["expand[]"]}),e.get({url:_,data:n({},a,{from:h,to:f,count:m,skip:y,expand:c})},l)},reports:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=a.day,h=a.count,f=a.skip,m=t+"/recon/combined";return e.get({url:m,data:n({},a,{day:c,count:h,skip:f})},l)}}},Zp}var Jp,qb;function DU(){if(qb)return Jp;qb=1;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};return Jp=function(e){var t="/payments/qr_codes";return{create:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=t;return e.post({url:c,data:a},l)},all:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments[1],c=a.from,h=a.to,f=a.count,m=a.skip,y=t;return e.get({url:y,data:n({},a,{from:c,to:h,count:f,skip:m})},l)},fetchAllPayments:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments[2],h=l.from,f=l.to,m=l.count,y=l.skip,_=t+"/"+a+"/payments";return e.get({url:_,data:n({},l,{from:h,to:f,count:m,skip:y})},c)},fetch:function(a,l){return a?e.get({url:t+"/"+a},l):Promise.reject("qrCode Id is mandatroy")},close:function(a,l){if(!a)return Promise.reject("qrCode Id is mandatroy");var c=t+"/"+a+"/close";return e.post({url:c},l)}}},Jp}var eg,Fb;function NU(){if(Fb)return eg;Fb=1;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e};return eg=function(e){return{create:function(i,a){return e.post({url:"/fund_accounts",data:n({},i)},a)},fetch:function(i,a){return i?e.get({url:"/fund_accounts?customer_id="+i},a):Promise.reject("Customer Id is mandatroy")}}},eg}var tg,Hb;function kU(){if(Hb)return tg;Hb=1;var n=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])}return a};function e(a,l){var c={};for(var h in a)l.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(a,h)&&(c[h]=a[h]);return c}var t=Jn(),i=t.normalizeDate;return tg=function(a){return{all:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=c.from,m=c.to,y=c.count,_=c.skip,E=c.authorized,A=c.receipt;return f&&(f=i(f)),m&&(m=i(m)),y=Number(y)||10,_=Number(_)||0,a.get({url:"/items",data:{from:f,to:m,count:y,skip:_,authorized:E,receipt:A}},h)},fetch:function(c,h){if(!c)throw new Error("`item_id` is mandatory");return a.get({url:"/items/"+c},h)},create:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=c.amount,m=c.currency,y=e(c,["amount","currency"]);if(m=m||"INR",!f)throw new Error("`amount` is mandatory");var _=Object.assign(n({currency:m,amount:f},y));return a.post({url:"/items",data:_},h)},edit:function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments[2];if(!c)throw new Error("`item_id` is mandatory");var m="/items/"+c;return a.patch({url:m,data:h},f)},delete:function(c,h){if(!c)throw new Error("`item_id` is mandatory");return a.delete({url:"/items/"+c},h)}}},tg}var ng,$b;function PU(){return $b||($b=1,ng=function(n){return{fetch:function(t,i){if(!t)throw new Error("`card_id` is mandatory");return n.get({url:"/cards/"+t},i)},requestCardReference:function(t,i){return n.post({url:"/cards/fingerprints",data:t},i)}}}),ng}var rg,Gb;function MU(){if(Gb)return rg;Gb=1;var n=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e=Jn(),t=e.normalizeDate;return rg=function(i){var a="/accounts";return{create:function(c,h,f){var m={url:"/webhooks",data:c};return h&&(m={version:"v2",url:a+"/"+h+"/webhooks",data:c}),i.post(m,f)},edit:function(c,h,f,m){return f&&h?i.patch({version:"v2",url:a+"/"+f+"/webhooks/"+h,data:c},m):i.put({url:"/webhooks/"+h,data:c},m)},all:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments[1],f=arguments[2],m=c.from,y=c.to,_=c.count,E=c.skip;m&&(m=t(m)),y&&(y=t(y)),_=Number(_)||10,E=Number(E)||0;var A=n({},c,{from:m,to:y,count:_,skip:E});return h?i.get({version:"v2",url:a+"/"+h+"/webhooks/",data:A},f):i.get({url:"/webhooks",data:A},f)},fetch:function(c,h,f){return i.get({version:"v2",url:a+"/"+h+"/webhooks/"+c},f)},delete:function(c,h,f){return i.delete({version:"v2",url:a+"/"+h+"/webhooks/"+c},f)}}},rg}var ig,Kb;function LU(){if(Kb)return ig;Kb=1;var n=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t};function e(t,i){var a={};for(var l in t)i.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(t,l)&&(a[l]=t[l]);return a}return ig=function(t){var i="/documents";return{create:function(l,c){var h=l.file,f=e(l,["file"]);return t.postFormData({url:""+i,formData:n({file:h.value},f)},c)},fetch:function(l,c){return t.get({url:i+"/"+l},c)}}},ig}var sg,Qb;function UU(){return Qb||(Qb=1,sg=function(n){var e="/disputes";return{fetch:function(i,a){return n.get({url:e+"/"+i},a)},all:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments[1],l=i.count,c=i.skip;return l=Number(l)||10,c=Number(c)||0,n.get({url:""+e,data:{count:l,skip:c}},a)},accept:function(i,a){return n.post({url:e+"/"+i+"/accept"},a)},contest:function(i,a,l){return n.patch({url:e+"/"+i+"/contest",data:a},l)}}}),sg}var ag,Yb;function VU(){if(Yb)return ag;Yb=1;var n=function(){function h(f,m){for(var y=0;y<m.length;y++){var _=m[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}return function(f,m,y){return m&&h(f.prototype,m),y&&h(f,y),f}}();function e(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}var t=fU(),i=dU,a=Jn(),l=a.validateWebhookSignature,c=function(){n(h,null,[{key:"validateWebhookSignature",value:function(){return l.apply(void 0,arguments)}}]);function h(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e(this,h);var m=f.key_id,y=f.key_secret,_=f.headers;if(!m)throw new Error("`key_id` is mandatory");this.key_id=m,this.key_secret=y,this.api=new t({hostUrl:"https://api.razorpay.com",ua:"razorpay-node@"+h.VERSION,key_id:m,key_secret:y,headers:_}),this.addResources()}return n(h,[{key:"addResources",value:function(){Object.assign(this,{accounts:mU()(this.api),stakeholders:pU()(this.api),payments:gU()(this.api),refunds:yU()(this.api),orders:vU()(this.api),customers:_U()(this.api),transfers:EU()(this.api),tokens:TU()(this.api),virtualAccounts:bU()(this.api),invoices:wU()(this.api),iins:SU()(this.api),paymentLink:RU()(this.api),plans:AU()(this.api),products:CU()(this.api),subscriptions:IU()(this.api),addons:OU()(this.api),settlements:xU()(this.api),qrCode:DU()(this.api),fundAccount:NU()(this.api),items:kU()(this.api),cards:PU()(this.api),webhooks:MU()(this.api),documents:LU()(this.api),disputes:UU()(this.api)})}}]),h}();return c.VERSION=i.version,ag=c,ag}VU();function SA(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=SA(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function xo(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=SA(n))&&(i&&(i+=" "),i+=e);return i}function jU(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}jU(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Bc=n=>typeof n=="number"&&!isNaN(n),Uo=n=>typeof n=="string",qs=n=>typeof n=="function",BU=n=>Uo(n)||Bc(n),Hg=n=>Uo(n)||qs(n)?n:null,zU=(n,e)=>n===!1||Bc(n)&&n>0?n:e,$g=n=>R.isValidElement(n)||Uo(n)||qs(n)||Bc(n);function qU(n,e,t=300){let{scrollHeight:i,style:a}=n;requestAnimationFrame(()=>{a.minHeight="initial",a.height=i+"px",a.transition=`all ${t}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,t)})})}function FU({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:a=300}){return function({children:l,position:c,preventExitTransition:h,done:f,nodeRef:m,isIn:y,playToast:_}){let E=t?`${n}--${c}`:n,A=t?`${e}--${c}`:e,k=R.useRef(0);return R.useLayoutEffect(()=>{let G=m.current,V=E.split(" "),H=Y=>{Y.target===m.current&&(_(),G.removeEventListener("animationend",H),G.removeEventListener("animationcancel",H),k.current===0&&Y.type!=="animationcancel"&&G.classList.remove(...V))};G.classList.add(...V),G.addEventListener("animationend",H),G.addEventListener("animationcancel",H)},[]),R.useEffect(()=>{let G=m.current,V=()=>{G.removeEventListener("animationend",V),i?qU(G,f,a):f()};y||(h?V():(k.current=1,G.className+=` ${A}`,G.addEventListener("animationend",V)))},[y]),ft.createElement(ft.Fragment,null,l)}}function Wb(n,e){return{content:RA(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function RA(n,e,t=!1){return R.isValidElement(n)&&!Uo(n.type)?R.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):qs(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function HU({closeToast:n,theme:e,ariaLabel:t="close"}){return ft.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},ft.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ft.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function $U({delay:n,isRunning:e,closeToast:t,type:i="default",hide:a,className:l,controlledProgress:c,progress:h,rtl:f,isIn:m,theme:y}){let _=a||c&&h===0,E={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};c&&(E.transform=`scaleX(${h})`);let A=xo("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),k=qs(l)?l({rtl:f,type:i,defaultClassName:A}):xo(A,l),G={[c&&h>=1?"onTransitionEnd":"onAnimationEnd"]:c&&h<1?null:()=>{m&&t()}};return ft.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},ft.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${i}`}),ft.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:k,style:E,...G}))}var GU=1,AA=()=>`${GU++}`;function KU(n,e,t){let i=1,a=0,l=[],c=[],h=e,f=new Map,m=new Set,y=Y=>(m.add(Y),()=>m.delete(Y)),_=()=>{c=Array.from(f.values()),m.forEach(Y=>Y())},E=({containerId:Y,toastId:$,updateId:J})=>{let se=Y?Y!==n:n!==1,de=f.has($)&&J==null;return se||de},A=(Y,$)=>{f.forEach(J=>{var se;($==null||$===J.props.toastId)&&((se=J.toggle)==null||se.call(J,Y))})},k=Y=>{var $,J;(J=($=Y.props)==null?void 0:$.onClose)==null||J.call($,Y.removalReason),Y.isActive=!1},G=Y=>{if(Y==null)f.forEach(k);else{let $=f.get(Y);$&&k($)}_()},V=()=>{a-=l.length,l=[]},H=Y=>{var $,J;let{toastId:se,updateId:de}=Y.props,L=de==null;Y.staleId&&f.delete(Y.staleId),Y.isActive=!0,f.set(se,Y),_(),t(Wb(Y,L?"added":"updated")),L&&((J=($=Y.props).onOpen)==null||J.call($))};return{id:n,props:h,observe:y,toggle:A,removeToast:G,toasts:f,clearQueue:V,buildToast:(Y,$)=>{if(E($))return;let{toastId:J,updateId:se,data:de,staleId:L,delay:P}=$,D=se==null;D&&a++;let j={...h,style:h.toastStyle,key:i++,...Object.fromEntries(Object.entries($).filter(([B,M])=>M!=null)),toastId:J,updateId:se,data:de,isIn:!1,className:Hg($.className||h.toastClassName),progressClassName:Hg($.progressClassName||h.progressClassName),autoClose:$.isLoading?!1:zU($.autoClose,h.autoClose),closeToast(B){f.get(J).removalReason=B,G(J)},deleteToast(){let B=f.get(J);if(B!=null){if(t(Wb(B,"removed")),f.delete(J),a--,a<0&&(a=0),l.length>0){H(l.shift());return}_()}}};j.closeButton=h.closeButton,$.closeButton===!1||$g($.closeButton)?j.closeButton=$.closeButton:$.closeButton===!0&&(j.closeButton=$g(h.closeButton)?h.closeButton:!0);let F={content:Y,props:j,staleId:L};h.limit&&h.limit>0&&a>h.limit&&D?l.push(F):Bc(P)?setTimeout(()=>{H(F)},P):H(F)},setProps(Y){h=Y},setToggle:(Y,$)=>{let J=f.get(Y);J&&(J.toggle=$)},isToastActive:Y=>{var $;return($=f.get(Y))==null?void 0:$.isActive},getSnapshot:()=>c}}var Zn=new Map,wc=[],Gg=new Set,QU=n=>Gg.forEach(e=>e(n)),CA=()=>Zn.size>0;function YU(){wc.forEach(n=>OA(n.content,n.options)),wc=[]}var WU=(n,{containerId:e})=>{var t;return(t=Zn.get(e||1))==null?void 0:t.toasts.get(n)};function IA(n,e){var t;if(e)return!!((t=Zn.get(e))!=null&&t.isToastActive(n));let i=!1;return Zn.forEach(a=>{a.isToastActive(n)&&(i=!0)}),i}function XU(n){if(!CA()){wc=wc.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||BU(n))Zn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Zn.get(n.containerId);e?e.removeToast(n.id):Zn.forEach(t=>{t.removeToast(n.id)})}}var ZU=(n={})=>{Zn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function OA(n,e){$g(n)&&(CA()||wc.push({content:n,options:e}),Zn.forEach(t=>{t.buildToast(n,e)}))}function JU(n){var e;(e=Zn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function xA(n,e){Zn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function eV(n){let e=n.containerId||1;return{subscribe(t){let i=KU(e,n,QU);Zn.set(e,i);let a=i.observe(t);return YU(),()=>{a(),Zn.delete(e)}},setProps(t){var i;(i=Zn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=Zn.get(e))==null?void 0:t.getSnapshot()}}}function tV(n){return Gg.add(n),()=>{Gg.delete(n)}}function nV(n){return n&&(Uo(n.toastId)||Bc(n.toastId))?n.toastId:AA()}function zc(n,e){return OA(n,e),e.toastId}function cd(n,e){return{...e,type:e&&e.type||n,toastId:nV(e)}}function fd(n){return(e,t)=>zc(e,cd(n,t))}function Rt(n,e){return zc(n,cd("default",e))}Rt.loading=(n,e)=>zc(n,cd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function rV(n,{pending:e,error:t,success:i},a){let l;e&&(l=Uo(e)?Rt.loading(e,a):Rt.loading(e.render,{...a,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(m,y,_)=>{if(y==null){Rt.dismiss(l);return}let E={type:m,...c,...a,data:_},A=Uo(y)?{render:y}:y;return l?Rt.update(l,{...E,...A}):Rt(A.render,{...E,...A}),_},f=qs(n)?n():n;return f.then(m=>h("success",i,m)).catch(m=>h("error",t,m)),f}Rt.promise=rV;Rt.success=fd("success");Rt.info=fd("info");Rt.error=fd("error");Rt.warning=fd("warning");Rt.warn=Rt.warning;Rt.dark=(n,e)=>zc(n,cd("default",{theme:"dark",...e}));function iV(n){XU(n)}Rt.dismiss=iV;Rt.clearWaitingQueue=ZU;Rt.isActive=IA;Rt.update=(n,e={})=>{let t=WU(n,e);if(t){let{props:i,content:a}=t,l={delay:100,...i,...e,toastId:e.toastId||n,updateId:AA()};l.toastId!==n&&(l.staleId=n);let c=l.render||a;delete l.render,zc(c,l)}};Rt.done=n=>{Rt.update(n,{progress:1})};Rt.onChange=tV;Rt.play=n=>xA(!0,n);Rt.pause=n=>xA(!1,n);function sV(n){var e;let{subscribe:t,getSnapshot:i,setProps:a}=R.useRef(eV(n)).current;a(n);let l=(e=R.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function c(h){if(!l)return[];let f=new Map;return n.newestOnTop&&l.reverse(),l.forEach(m=>{let{position:y}=m.props;f.has(y)||f.set(y,[]),f.get(y).push(m)}),Array.from(f,m=>h(m[0],m[1]))}return{getToastToRender:c,isToastActive:IA,count:l==null?void 0:l.length}}function aV(n){let[e,t]=R.useState(!1),[i,a]=R.useState(!1),l=R.useRef(null),c=R.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:f,closeToast:m,onClick:y,closeOnClick:_}=n;JU({id:n.toastId,containerId:n.containerId,fn:t}),R.useEffect(()=>{if(n.pauseOnFocusLoss)return E(),()=>{A()}},[n.pauseOnFocusLoss]);function E(){document.hasFocus()||H(),window.addEventListener("focus",V),window.addEventListener("blur",H)}function A(){window.removeEventListener("focus",V),window.removeEventListener("blur",H)}function k(L){if(n.draggable===!0||n.draggable===L.pointerType){Y();let P=l.current;c.canCloseOnClick=!0,c.canDrag=!0,P.style.transition="none",n.draggableDirection==="x"?(c.start=L.clientX,c.removalDistance=P.offsetWidth*(n.draggablePercent/100)):(c.start=L.clientY,c.removalDistance=P.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function G(L){let{top:P,bottom:D,left:j,right:F}=l.current.getBoundingClientRect();L.nativeEvent.type!=="touchend"&&n.pauseOnHover&&L.clientX>=j&&L.clientX<=F&&L.clientY>=P&&L.clientY<=D?H():V()}function V(){t(!0)}function H(){t(!1)}function Y(){c.didMove=!1,document.addEventListener("pointermove",J),document.addEventListener("pointerup",se)}function $(){document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",se)}function J(L){let P=l.current;if(c.canDrag&&P){c.didMove=!0,e&&H(),n.draggableDirection==="x"?c.delta=L.clientX-c.start:c.delta=L.clientY-c.start,c.start!==L.clientX&&(c.canCloseOnClick=!1);let D=n.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;P.style.transform=`translate3d(${D},0)`,P.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function se(){$();let L=l.current;if(c.canDrag&&c.didMove&&L){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),n.closeToast(!0),n.collapseAll();return}L.style.transition="transform 0.2s, opacity 0.2s",L.style.removeProperty("transform"),L.style.removeProperty("opacity")}}let de={onPointerDown:k,onPointerUp:G};return h&&f&&(de.onMouseEnter=H,n.stacked||(de.onMouseLeave=V)),_&&(de.onClick=L=>{y&&y(L),c.canCloseOnClick&&m(!0)}),{playToast:V,pauseToast:H,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:de}}var oV=typeof window<"u"?R.useLayoutEffect:R.useEffect,hd=({theme:n,type:e,isLoading:t,...i})=>ft.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function lV(n){return ft.createElement(hd,{...n},ft.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function uV(n){return ft.createElement(hd,{...n},ft.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function cV(n){return ft.createElement(hd,{...n},ft.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function fV(n){return ft.createElement(hd,{...n},ft.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function hV(){return ft.createElement("div",{className:"Toastify__spinner"})}var Kg={info:uV,warning:lV,success:cV,error:fV,spinner:hV},dV=n=>n in Kg;function mV({theme:n,type:e,isLoading:t,icon:i}){let a=null,l={theme:n,type:e};return i===!1||(qs(i)?a=i({...l,isLoading:t}):R.isValidElement(i)?a=R.cloneElement(i,l):t?a=Kg.spinner():dV(e)&&(a=Kg[e](l))),a}var pV=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:a,playToast:l}=aV(n),{closeButton:c,children:h,autoClose:f,onClick:m,type:y,hideProgressBar:_,closeToast:E,transition:A,position:k,className:G,style:V,progressClassName:H,updateId:Y,role:$,progress:J,rtl:se,toastId:de,deleteToast:L,isIn:P,isLoading:D,closeOnClick:j,theme:F,ariaLabel:B}=n,M=xo("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":se},{"Toastify__toast--close-on-click":j}),Ae=qs(G)?G({rtl:se,position:k,type:y,defaultClassName:M}):xo(M,G),Me=mV(n),le=!!J||!f,Te={closeToast:E,type:y,theme:F},ge=null;return c===!1||(qs(c)?ge=c(Te):R.isValidElement(c)?ge=R.cloneElement(c,Te):ge=HU(Te)),ft.createElement(A,{isIn:P,done:L,position:k,preventExitTransition:t,nodeRef:i,playToast:l},ft.createElement("div",{id:de,tabIndex:0,onClick:m,"data-in":P,className:Ae,...a,style:V,ref:i,...P&&{role:$,"aria-label":B}},Me!=null&&ft.createElement("div",{className:xo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},Me),RA(h,n,!e),ge,!n.customProgressBar&&ft.createElement($U,{...Y&&!le?{key:`p-${Y}`}:{},rtl:se,theme:F,delay:f,isRunning:e,isIn:P,closeToast:E,hide:_,type:y,className:H,controlledProgress:le,progress:J||0})))},gV=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),yV=FU(gV("bounce",!0)),vV={position:"top-right",transition:yV,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function _V(n){let e={...vV,...n},t=n.stacked,[i,a]=R.useState(!0),l=R.useRef(null),{getToastToRender:c,isToastActive:h,count:f}=sV(e),{className:m,style:y,rtl:_,containerId:E,hotKeys:A}=e;function k(V){let H=xo("Toastify__toast-container",`Toastify__toast-container--${V}`,{"Toastify__toast-container--rtl":_});return qs(m)?m({position:V,rtl:_,defaultClassName:H}):xo(H,Hg(m))}function G(){t&&(a(!0),Rt.play())}return oV(()=>{var V;if(t){let H=l.current.querySelectorAll('[data-in="true"]'),Y=12,$=(V=e.position)==null?void 0:V.includes("top"),J=0,se=0;Array.from(H).reverse().forEach((de,L)=>{let P=de;P.classList.add("Toastify__toast--stacked"),L>0&&(P.dataset.collapsed=`${i}`),P.dataset.pos||(P.dataset.pos=$?"top":"bot");let D=J*(i?.2:1)+(i?0:Y*L);P.style.setProperty("--y",`${$?D:D*-1}px`),P.style.setProperty("--g",`${Y}`),P.style.setProperty("--s",`${1-(i?se:0)}`),J+=P.offsetHeight,se+=.025})}},[i,f,t]),R.useEffect(()=>{function V(H){var Y;let $=l.current;A(H)&&((Y=$.querySelector('[tabIndex="0"]'))==null||Y.focus(),a(!1),Rt.pause()),H.key==="Escape"&&(document.activeElement===$||$!=null&&$.contains(document.activeElement))&&(a(!0),Rt.play())}return document.addEventListener("keydown",V),()=>{document.removeEventListener("keydown",V)}},[A]),ft.createElement("section",{ref:l,className:"Toastify",id:E,onMouseEnter:()=>{t&&(a(!1),Rt.pause())},onMouseLeave:G,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((V,H)=>{let Y=H.length?{...y}:{...y,pointerEvents:"none"};return ft.createElement("div",{tabIndex:-1,className:k(V),"data-stacked":t,style:Y,key:`c-${V}`},H.map(({content:$,props:J})=>ft.createElement(pV,{...J,stacked:t,collapseAll:G,isIn:h(J.toastId,J.containerId),key:`t-${J.key}`},$)))}))}const DA=R.createContext(null),EV={apiKey:"AIzaSyBB5YbvvoBIG3HtqgAx8iRBSqR-8EvhAYM",authDomain:"hotel-bites.firebaseapp.com",projectId:"hotel-bites",storageBucket:"hotel-bites.firebasestorage.app",messagingSenderId:"1088802123792",appId:"1:1088802123792:web:e6e2ba513ce6847c6a1a95"},er=()=>R.useContext(DA),av=$w(EV),Xf=Nk(av),hn=IM(av),Xb=nU(av),TV=n=>{const e=(B,M)=>yN(Xf,B,M),t=(B,M)=>vN(Xf,B,M),i=async(B,M)=>{var le;let Ae="";if(B&&(B!=null&&B.productImage)){const{productImage:Te}=B,ge=Eb(Xb,`uploads/images/${Date.now()}-${Te.name}`);Ae=await eU(ge,Te),B={...B,productImage:((le=Ae==null?void 0:Ae.ref)==null?void 0:le.fullPath)||""}}let Me;return Me=await mb(fi(hn,M),{...B,userId:(J==null?void 0:J.uid)||""}),Me},a=async B=>{const{productId:M}=B,Ae=fi(hn,"products",M,"variants");return await mb(Ae,{...B,userId:(J==null?void 0:J.uid)||""})},l=async B=>await Rs(fi(hn,B)),c=async(B,M,Ae)=>{const Me=fi(hn,B,M,Ae);return await Rs(Me)},h=async(B,M)=>{const Ae=As(hn,M,B);return await Rl(Ae)},f=async()=>{try{const Ae=(await Rs(fi(hn,"products"))).docs.map(le=>({id:le.id,...le.data()})).map(async le=>{const Te=Wu(fi(hn,`products/${le.id}/variants`),fb(1)),ge=await Rs(Te),Qe=ge.docs.length>0?{id:ge.docs[0].id,...ge.docs[0].data()}:null;return{...le,firstVariant:Qe}});return await Promise.all(Ae)}catch(B){console.error("Error fetching products with variants:",B)}},m=async(B,M)=>{try{if(!B||!M)throw new Error("Collection name and document ID are required.");const Ae=As(hn,B,M);await $M(Ae)}catch(Ae){console.error("Error deleting document:",Ae)}},y=async B=>{try{if(!J)return null;const M=fi(hn,B),Ae=Wu(M,Xu("userId","==",J.uid)),le=(await Rs(Ae)).docs.map(we=>({id:we.id,...we.data()})),Te=le.map(we=>Rl(As(hn,"products",we.productId))),ge=le.map(we=>Rl(As(hn,`products/${we.productId}/variants`,we.variantId))),Qe=await Promise.all(Te),z=await Promise.all(ge);return le.map((we,ve)=>({...we,product:Qe[ve].exists()?{id:Qe[ve].id,...Qe[ve].data()}:null,variant:z[ve].exists()?{id:z[ve].id,...z[ve].data()}:null}))}catch(M){console.error("Error fetching cart details:",M)}},_=async B=>{try{if(!J||!(B!=null&&B.length))return null;const M=B.map(z=>Rl(As(hn,"purchasedItems",z)));let Ae=await Promise.all(M);Ae=Ae.map((z,ue)=>z.data());const Me=Ae.map(z=>Rl(As(hn,"products",z.productId))),le=Ae.map(z=>Rl(As(hn,`products/${z.productId}/variants`,z.variantId))),Te=await Promise.all(Me),ge=await Promise.all(le);return Ae.map((z,ue)=>({...z,product:Te[ue].exists()?{id:Te[ue].id,...Te[ue].data()}:null,variant:ge[ue].exists()?{id:ge[ue].id,...ge[ue].data()}:null}))}catch(M){console.error("Error fetching cart details:",M)}},E=async(B,M,Ae)=>{try{const Me=fi(hn,B),le=Wu(Me,Xu("productId","==",M),Xu("variantId","==",Ae),fb(1)),Te=await Rs(le);return Te.empty?null:Te.docs[0]}catch(Me){return console.error("Error checking cart item:",Me),null}},A=async()=>{try{if(!(J!=null&&J.uid))return console.error("User is not logged in"),[];const B=fi(hn,"orders"),M=Wu(B,Xu("userId","==",J.uid));return(await Rs(M)).docs.map(le=>({id:le.id,...le.data()}))}catch(B){return console.error("Error fetching orders:",B),[]}},k=async B=>{try{if(!B)return console.error("No delivery partner found"),[];const M=fi(hn,"orders"),Ae=Wu(M,Xu("deliveryPartnerId","==",B));return(await Rs(Ae)).docs.map(Te=>({id:Te.id,...Te.data()}))}catch(M){return console.error("Error fetching orders:",M),[]}},G=async()=>{try{if(!J||!(J!=null&&J.uid))return console.error("User is not logged in"),[];const B=fi(hn,"orders");return(await Rs(B)).docs.map(Me=>({id:Me.id,...Me.data()}))}catch(B){return console.error("Error fetching orders:",B),[]}},V=B=>tU(Eb(Xb,B)),H=B=>{Rt(B)},Y=async(B,M)=>{try{if(!B||!M)throw new Error("Order ID and new status are required.");const Ae=As(hn,"orders",B);await HM(Ae,{status:M}),console.log(`Order ${B} status updated to ${M}`)}catch(Ae){console.error("Error updating order status:",Ae)}},$=async()=>{},[J,se]=R.useState(null),[de,L]=R.useState(!1),[P,D]=R.useState(!1);R.useEffect(()=>{TN(Xf,B=>{se(B||null)})},[]);const j=!!J,F=async()=>{try{await Xf.signOut(),console.log("User signed out successfully"),se(null)}catch(B){console.error("Sign Out Error",B)}};return R.useEffect(()=>{J?(J==null?void 0:J.uid)=="ukEdfieQ7FaI4rpITgxbtWyBuZZ2"?L(!0):(J==null?void 0:J.uid)=="EEqRTrY732ZaK27XRkjkJbjMq5E2"&&D(!0):(de&&L(!1),P&&D(!1))},[J]),C.jsx(DA.Provider,{value:{isLoggedIn:j,user:J,isAdmin:de,isDeliveryPartner:P,fetchOrdersForDeliveryAgent:k,singinUserWithEmailAndPass:t,signupUserWithEmailAndPassword:e,getDocById:h,getDocuments:l,handleCreateNewDoc:i,handleCreateNewVariant:a,getSubCollectionAllDocuments:c,removeDocumentWithId:m,getImageURL:V,fetchOrders:A,fetchAllOrders:G,updateOrderStatus:Y,fetchProductsWithFirstVariant:f,fetchCartWithDetails:y,fetchPurchasedItemWithDetails:_,logoutUser:F,displayToastMessage:H,checkIsItemAlreadyInCart:E,createOrder:$},children:n.children})},bV=["as","disabled"];function wV(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function SV(n){return!n||n.trim()==="#"}function ov({tagName:n,disabled:e,href:t,target:i,rel:a,role:l,onClick:c,tabIndex:h=0,type:f}){n||(t!=null||i!=null||a!=null?n="a":n="button");const m={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},m];const y=E=>{if((e||n==="a"&&SV(t))&&E.preventDefault(),e){E.stopPropagation();return}c==null||c(E)},_=E=>{E.key===" "&&(E.preventDefault(),y(E))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:h,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?a:void 0,onClick:y,onKeyDown:_},m]}const NA=R.forwardRef((n,e)=>{let{as:t,disabled:i}=n,a=wV(n,bV);const[l,{tagName:c}]=ov(Object.assign({tagName:t,disabled:i},a));return C.jsx(c,Object.assign({},a,l,{ref:e}))});NA.displayName="Button";const Qr=R.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:i,active:a=!1,disabled:l=!1,className:c,...h},f)=>{const m=Ge(e,"btn"),[y,{tagName:_}]=ov({tagName:n,disabled:l,...h}),E=_;return C.jsx(E,{...y,...h,ref:f,disabled:l,className:je(c,m,a&&"active",t&&`${m}-${t}`,i&&`${m}-${i}`,h.href&&l&&"disabled")})});Qr.displayName="Button";const lv=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Ge(e,"card-body"),C.jsx(t,{ref:a,className:je(n,e),...i})));lv.displayName="CardBody";const kA=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Ge(e,"card-footer"),C.jsx(t,{ref:a,className:je(n,e),...i})));kA.displayName="CardFooter";const uv=R.createContext(null);uv.displayName="CardHeaderContext";const PA=R.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},a)=>{const l=Ge(n,"card-header"),c=R.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return C.jsx(uv.Provider,{value:c,children:C.jsx(t,{ref:a,...i,className:je(e,l)})})});PA.displayName="CardHeader";const MA=R.forwardRef(({bsPrefix:n,className:e,variant:t,as:i="img",...a},l)=>{const c=Ge(n,"card-img");return C.jsx(i,{ref:l,className:je(t?`${c}-${t}`:c,e),...a})});MA.displayName="CardImg";const LA=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Ge(e,"card-img-overlay"),C.jsx(t,{ref:a,className:je(n,e),...i})));LA.displayName="CardImgOverlay";const UA=R.forwardRef(({className:n,bsPrefix:e,as:t="a",...i},a)=>(e=Ge(e,"card-link"),C.jsx(t,{ref:a,className:je(n,e),...i})));UA.displayName="CardLink";const dd=n=>R.forwardRef((e,t)=>C.jsx("div",{...e,ref:t,className:je(e.className,n)})),RV=dd("h6"),VA=R.forwardRef(({className:n,bsPrefix:e,as:t=RV,...i},a)=>(e=Ge(e,"card-subtitle"),C.jsx(t,{ref:a,className:je(n,e),...i})));VA.displayName="CardSubtitle";const jA=R.forwardRef(({className:n,bsPrefix:e,as:t="p",...i},a)=>(e=Ge(e,"card-text"),C.jsx(t,{ref:a,className:je(n,e),...i})));jA.displayName="CardText";const AV=dd("h5"),BA=R.forwardRef(({className:n,bsPrefix:e,as:t=AV,...i},a)=>(e=Ge(e,"card-title"),C.jsx(t,{ref:a,className:je(n,e),...i})));BA.displayName="CardTitle";const zA=R.forwardRef(({bsPrefix:n,className:e,bg:t,text:i,border:a,body:l=!1,children:c,as:h="div",...f},m)=>{const y=Ge(n,"card");return C.jsx(h,{ref:m,...f,className:je(e,y,t&&`bg-${t}`,i&&`text-${i}`,a&&`border-${a}`),children:l?C.jsx(lv,{children:c}):c})});zA.displayName="Card";const yt=Object.assign(zA,{Img:MA,Title:BA,Subtitle:VA,Body:lv,Link:UA,Text:jA,Header:PA,Footer:kA,ImgOverlay:LA}),CV=n=>{const{id:e,name:t,description:i,status:a,firstVariant:l,productImage:c}=n,h=er(),f=Cr(),[m,y]=R.useState(null);R.useEffect(()=>{c&&h.getImageURL(c).then(E=>y(E))},[c]);const _=E=>{const A=e;let k="";E==="detail"?k=`/products/${A}`:k=`/products/${A}/variants/new`,f(k)};return C.jsxs(yt,{style:{width:"18rem",margin:"25px"},children:[m&&C.jsx(yt.Img,{variant:"top",src:m,alt:t}),C.jsxs(yt.Body,{children:[C.jsx(yt.Title,{children:t}),C.jsx(yt.Text,{children:i}),C.jsxs(yt.Text,{children:["Status: ",C.jsx("strong",{children:a})]}),C.jsxs(yt.Text,{children:["Price: ",C.jsx("strong",{children:(l==null?void 0:l.priceOriginal)||(l==null?void 0:l.priceOffer)})]}),C.jsx(Qr,{onClick:()=>_("detail"),variant:"primary",children:"Details"}),h.isAdmin&&C.jsx(Qr,{onClick:()=>_("variant"),variant:"primary",children:"Add New Variant"})]})]})};function Qg(){return Qg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qg.apply(null,arguments)}function qA(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Zb(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function IV(n){var e=OV(n,"string");return typeof e=="symbol"?e:String(e)}function OV(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function xV(n,e,t){var i=R.useRef(n!==void 0),a=R.useState(e),l=a[0],c=a[1],h=n!==void 0,f=i.current;return i.current=h,!h&&f&&l!==e&&c(e),[h?n:l,R.useCallback(function(m){for(var y=arguments.length,_=new Array(y>1?y-1:0),E=1;E<y;E++)_[E-1]=arguments[E];t&&t.apply(void 0,[m].concat(_)),c(m)},[t])]}function md(n,e){return Object.keys(e).reduce(function(t,i){var a,l=t,c=l[Zb(i)],h=l[i],f=qA(l,[Zb(i),i].map(IV)),m=e[i],y=xV(h,c,n[m]),_=y[0],E=y[1];return Qg({},f,(a={},a[i]=_,a[m]=E,a))},n)}function Yg(n,e){return Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Yg(n,e)}function DV(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Yg(n,e)}function cv(n){return n&&n.ownerDocument||document}function NV(n){var e=cv(n);return e&&e.defaultView||window}function kV(n,e){return NV(n).getComputedStyle(n,e)}var PV=/([A-Z])/g;function MV(n){return n.replace(PV,"-$1").toLowerCase()}var LV=/^ms-/;function Zf(n){return MV(n).replace(LV,"-ms-")}var UV=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function VV(n){return!!(n&&UV.test(n))}function Ms(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(Zf(e))||kV(n).getPropertyValue(Zf(e));Object.keys(e).forEach(function(a){var l=e[a];!l&&l!==0?n.style.removeProperty(Zf(a)):VV(a)?i+=a+"("+l+") ":t+=Zf(a)+": "+l+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}var og={exports:{}},lg,Jb;function jV(){if(Jb)return lg;Jb=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return lg=n,lg}var ug,ew;function BV(){if(ew)return ug;ew=1;var n=jV();function e(){}function t(){}return t.resetWarningCache=e,ug=function(){function i(c,h,f,m,y,_){if(_!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},ug}var tw;function zV(){return tw||(tw=1,og.exports=BV()()),og.exports}var qV=zV();const Ls=jh(qV),nw={disabled:!1},FA=ft.createContext(null);var FV=function(e){return e.scrollTop},ac="unmounted",Sa="exited",di="entering",Cs="entered",Sc="exiting",Hs=function(n){DV(e,n);function e(i,a){var l;l=n.call(this,i,a)||this;var c=a,h=c&&!c.isMounting?i.enter:i.appear,f;return l.appearStatus=null,i.in?h?(f=Sa,l.appearStatus=di):f=Cs:i.unmountOnExit||i.mountOnEnter?f=ac:f=Sa,l.state={status:f},l.nextCallback=null,l}e.getDerivedStateFromProps=function(a,l){var c=a.in;return c&&l.status===ac?{status:Sa}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(a){var l=null;if(a!==this.props){var c=this.state.status;this.props.in?c!==di&&c!==Cs&&(l=di):(c===di||c===Cs)&&(l=Sc)}this.updateStatus(!1,l)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var a=this.props.timeout,l,c,h;return l=c=h=a,a!=null&&typeof a!="number"&&(l=a.exit,c=a.enter,h=a.appear!==void 0?a.appear:c),{exit:l,enter:c,appear:h}},t.updateStatus=function(a,l){if(a===void 0&&(a=!1),l!==null)if(this.cancelNextCallback(),l===di){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:Nl.findDOMNode(this);c&&FV(c)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Sa&&this.setState({status:ac})},t.performEnter=function(a){var l=this,c=this.props.enter,h=this.context?this.context.isMounting:a,f=this.props.nodeRef?[h]:[Nl.findDOMNode(this),h],m=f[0],y=f[1],_=this.getTimeouts(),E=h?_.appear:_.enter;if(!a&&!c||nw.disabled){this.safeSetState({status:Cs},function(){l.props.onEntered(m)});return}this.props.onEnter(m,y),this.safeSetState({status:di},function(){l.props.onEntering(m,y),l.onTransitionEnd(E,function(){l.safeSetState({status:Cs},function(){l.props.onEntered(m,y)})})})},t.performExit=function(){var a=this,l=this.props.exit,c=this.getTimeouts(),h=this.props.nodeRef?void 0:Nl.findDOMNode(this);if(!l||nw.disabled){this.safeSetState({status:Sa},function(){a.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:Sc},function(){a.props.onExiting(h),a.onTransitionEnd(c.exit,function(){a.safeSetState({status:Sa},function(){a.props.onExited(h)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(a,l){l=this.setNextCallback(l),this.setState(a,l)},t.setNextCallback=function(a){var l=this,c=!0;return this.nextCallback=function(h){c&&(c=!1,l.nextCallback=null,a(h))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(a,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:Nl.findDOMNode(this),h=a==null&&!this.props.addEndListener;if(!c||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],m=f[0],y=f[1];this.props.addEndListener(m,y)}a!=null&&setTimeout(this.nextCallback,a)},t.render=function(){var a=this.state.status;if(a===ac)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var h=qA(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ft.createElement(FA.Provider,{value:null},typeof c=="function"?c(a,h):ft.cloneElement(ft.Children.only(c),h))},e}(ft.Component);Hs.contextType=FA;Hs.propTypes={};function Al(){}Hs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Al,onEntering:Al,onEntered:Al,onExit:Al,onExiting:Al,onExited:Al};Hs.UNMOUNTED=ac;Hs.EXITED=Sa;Hs.ENTERING=di;Hs.ENTERED=Cs;Hs.EXITING=Sc;function HV(n){return n.code==="Escape"||n.keyCode===27}function $V(){const n=R.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function eu(n){if(!n||typeof n=="function")return null;const{major:e}=$V();return e>=19?n.props.ref:n.ref}const pd=!!(typeof window<"u"&&window.document&&window.document.createElement);var Wg=!1,Xg=!1;try{var cg={get passive(){return Wg=!0},get once(){return Xg=Wg=!0}};pd&&(window.addEventListener("test",cg,cg),window.removeEventListener("test",cg,!0))}catch{}function GV(n,e,t,i){if(i&&typeof i!="boolean"&&!Xg){var a=i.once,l=i.capture,c=t;!Xg&&a&&(c=t.__once||function h(f){this.removeEventListener(e,h,l),t.call(this,f)},t.__once=c),n.addEventListener(e,c,Wg?i:l)}n.addEventListener(e,t,i)}function KV(n,e,t,i){var a=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,a),t.__once&&n.removeEventListener(e,t.__once,a)}function Ph(n,e,t,i){return GV(n,e,t,i),function(){KV(n,e,t,i)}}function QV(n,e,t,i){if(i===void 0&&(i=!0),n){var a=document.createEvent("HTMLEvents");a.initEvent(e,t,i),n.dispatchEvent(a)}}function YV(n){var e=Ms(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function WV(n,e,t){t===void 0&&(t=5);var i=!1,a=setTimeout(function(){i||QV(n,"transitionend",!0)},e+t),l=Ph(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(a),l()}}function XV(n,e,t,i){t==null&&(t=YV(n)||0);var a=WV(n,t,i),l=Ph(n,"transitionend",e);return function(){a(),l()}}function rw(n,e){const t=Ms(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function fv(n,e){const t=rw(n,"transitionDuration"),i=rw(n,"transitionDelay"),a=XV(n,l=>{l.target===n&&(a(),e(l))},t+i)}function Ju(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...a){e.apply(this,a),t.apply(this,a)}},null)}function HA(n){n.offsetHeight}const iw=n=>!n||typeof n=="function"?n:e=>{n.current=e};function ZV(n,e){const t=iw(n),i=iw(e);return a=>{t&&t(a),i&&i(a)}}function JV(n,e){return R.useMemo(()=>ZV(n,e),[n,e])}function e4(n){return n&&"setState"in n?Nl.findDOMNode(n):n??null}const hv=ft.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:a,onExited:l,addEndListener:c,children:h,childRef:f,...m},y)=>{const _=R.useRef(null),E=JV(_,f),A=de=>{E(e4(de))},k=de=>L=>{de&&_.current&&de(_.current,L)},G=R.useCallback(k(n),[n]),V=R.useCallback(k(e),[e]),H=R.useCallback(k(t),[t]),Y=R.useCallback(k(i),[i]),$=R.useCallback(k(a),[a]),J=R.useCallback(k(l),[l]),se=R.useCallback(k(c),[c]);return C.jsx(Hs,{ref:y,...m,onEnter:G,onEntered:H,onEntering:V,onExit:Y,onExited:J,onExiting:$,addEndListener:se,nodeRef:_,children:typeof h=="function"?(de,L)=>h(de,{...L,ref:A}):ft.cloneElement(h,{ref:A})})}),t4={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function n4(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,i=e[t],a=t4[n];return i+parseInt(Ms(e,a[0]),10)+parseInt(Ms(e,a[1]),10)}const r4={[Sa]:"collapse",[Sc]:"collapsing",[di]:"collapsing",[Cs]:"collapse show"},i4=ft.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:a,className:l,children:c,dimension:h="height",in:f=!1,timeout:m=300,mountOnEnter:y=!1,unmountOnExit:_=!1,appear:E=!1,getDimensionValue:A=n4,...k},G)=>{const V=typeof h=="function"?h():h,H=R.useMemo(()=>Ju(de=>{de.style[V]="0"},n),[V,n]),Y=R.useMemo(()=>Ju(de=>{const L=`scroll${V[0].toUpperCase()}${V.slice(1)}`;de.style[V]=`${de[L]}px`},e),[V,e]),$=R.useMemo(()=>Ju(de=>{de.style[V]=null},t),[V,t]),J=R.useMemo(()=>Ju(de=>{de.style[V]=`${A(V,de)}px`,HA(de)},i),[i,A,V]),se=R.useMemo(()=>Ju(de=>{de.style[V]=null},a),[V,a]);return C.jsx(hv,{ref:G,addEndListener:fv,...k,"aria-expanded":k.role?f:null,onEnter:H,onEntering:Y,onEntered:$,onExit:J,onExiting:se,childRef:eu(c),in:f,timeout:m,mountOnEnter:y,unmountOnExit:_,appear:E,children:(de,L)=>ft.cloneElement(c,{...L,className:je(l,c.props.className,r4[de],V==="width"&&"collapse-horizontal")})})});function s4(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n},[n]),e}function tu(n){const e=s4(n);return R.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const $A=dd("h4");$A.displayName="DivStyledAsH4";const GA=R.forwardRef(({className:n,bsPrefix:e,as:t=$A,...i},a)=>(e=Ge(e,"alert-heading"),C.jsx(t,{ref:a,className:je(n,e),...i})));GA.displayName="AlertHeading";function a4(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n},[n]),e}function Is(n){const e=a4(n);return R.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function o4(){const n=R.useRef(!0),e=R.useRef(()=>n.current);return R.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function l4(n){const e=R.useRef(null);return R.useEffect(()=>{e.current=n}),e.current}const u4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",c4=typeof document<"u",sw=c4||u4?R.useLayoutEffect:R.useEffect,f4=["onKeyDown"];function h4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function d4(n){return!n||n.trim()==="#"}const dv=R.forwardRef((n,e)=>{let{onKeyDown:t}=n,i=h4(n,f4);const[a]=ov(Object.assign({tagName:"a"},i)),l=Is(c=>{a.onKeyDown(c),t==null||t(c)});return d4(i.href)||i.role==="button"?C.jsx("a",Object.assign({ref:e},i,a,{onKeyDown:l})):C.jsx("a",Object.assign({ref:e},i,{onKeyDown:t}))});dv.displayName="Anchor";const KA=R.forwardRef(({className:n,bsPrefix:e,as:t=dv,...i},a)=>(e=Ge(e,"alert-link"),C.jsx(t,{ref:a,className:je(n,e),...i})));KA.displayName="AlertLink";const m4={[di]:"show",[Cs]:"show"},Mh=R.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:i,...a},l)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},h=R.useCallback((f,m)=>{HA(f),i==null||i(f,m)},[i]);return C.jsx(hv,{ref:l,addEndListener:fv,...c,onEnter:h,childRef:eu(e),children:(f,m)=>R.cloneElement(e,{...m,className:je("fade",n,e.props.className,m4[f],t[f])})})});Mh.displayName="Fade";const p4={"aria-label":Ls.string,onClick:Ls.func,variant:Ls.oneOf(["white"])},gd=R.forwardRef(({className:n,variant:e,"aria-label":t="Close",...i},a)=>C.jsx("button",{ref:a,type:"button",className:je("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...i}));gd.displayName="CloseButton";gd.propTypes=p4;const QA=R.forwardRef((n,e)=>{const{bsPrefix:t,show:i=!0,closeLabel:a="Close alert",closeVariant:l,className:c,children:h,variant:f="primary",onClose:m,dismissible:y,transition:_=Mh,...E}=md(n,{show:"onClose"}),A=Ge(t,"alert"),k=tu(H=>{m&&m(!1,H)}),G=_===!0?Mh:_,V=C.jsxs("div",{role:"alert",...G?void 0:E,ref:e,className:je(c,A,f&&`${A}-${f}`,y&&`${A}-dismissible`),children:[y&&C.jsx(gd,{onClick:k,"aria-label":a,variant:l}),h]});return G?C.jsx(G,{unmountOnExit:!0,...E,ref:void 0,in:i,children:V}):i?V:null});QA.displayName="Alert";const qc=Object.assign(QA,{Link:KA,Heading:GA});function g4(n,e){return R.Children.toArray(n).some(t=>R.isValidElement(t)&&t.type===e)}function y4({as:n,bsPrefix:e,className:t,...i}){e=Ge(e,"col");const a=jO(),l=BO(),c=[],h=[];return a.forEach(f=>{const m=i[f];delete i[f];let y,_,E;typeof m=="object"&&m!=null?{span:y,offset:_,order:E}=m:y=m;const A=f!==l?`-${f}`:"";y&&c.push(y===!0?`${e}${A}`:`${e}${A}-${y}`),E!=null&&h.push(`order${A}-${E}`),_!=null&&h.push(`offset${A}-${_}`)}),[{...i,className:je(t,...c,...h)},{as:n,bsPrefix:e,spans:c}]}const YA=R.forwardRef((n,e)=>{const[{className:t,...i},{as:a="div",bsPrefix:l,spans:c}]=y4(n);return C.jsx(a,{...i,ref:e,className:je(t,!c.length&&l)})});YA.displayName="Col";const WA=R.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:i,...a},l)=>{const c=Ge(n,"container"),h=typeof e=="string"?`-${e}`:"-fluid";return C.jsx(t,{ref:l,...a,className:je(i,e?`${c}${h}`:c)})});WA.displayName="Container";var v4=Function.prototype.bind.call(Function.prototype.call,[].slice);function Co(n,e){return v4(n.querySelectorAll(e))}function _4(){const[,n]=R.useReducer(e=>e+1,0);return n}function aw(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const Lh=R.createContext(null),yd=(n,e=null)=>n!=null?String(n):e||null,mv=R.createContext(null);mv.displayName="NavContext";const E4="data-rr-ui-",T4="rrUi";function vd(n){return`${E4}${n}`}function b4(n){return`${T4}${n}`}const XA=R.createContext(pd?window:void 0);XA.Provider;function pv(){return R.useContext(XA)}const w4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",S4=typeof document<"u",R4=S4||w4?R.useLayoutEffect:R.useEffect,nu=R.createContext(null);nu.displayName="NavbarContext";const A4={type:Ls.string,tooltip:Ls.bool,as:Ls.elementType},_d=R.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:i=!1,...a},l)=>C.jsx(n,{...a,ref:l,className:je(e,`${t}-${i?"tooltip":"feedback"}`)}));_d.displayName="Feedback";_d.propTypes=A4;const Fs=R.createContext({}),gv=R.forwardRef(({id:n,bsPrefix:e,className:t,type:i="checkbox",isValid:a=!1,isInvalid:l=!1,as:c="input",...h},f)=>{const{controlId:m}=R.useContext(Fs);return e=Ge(e,"form-check-input"),C.jsx(c,{...h,ref:f,type:i,id:n||m,className:je(t,e,a&&"is-valid",l&&"is-invalid")})});gv.displayName="FormCheckInput";const Uh=R.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...i},a)=>{const{controlId:l}=R.useContext(Fs);return n=Ge(n,"form-check-label"),C.jsx("label",{...i,ref:a,htmlFor:t||l,className:je(e,n)})});Uh.displayName="FormCheckLabel";const ZA=R.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:i=!1,reverse:a=!1,disabled:l=!1,isValid:c=!1,isInvalid:h=!1,feedbackTooltip:f=!1,feedback:m,feedbackType:y,className:_,style:E,title:A="",type:k="checkbox",label:G,children:V,as:H="input",...Y},$)=>{e=Ge(e,"form-check"),t=Ge(t,"form-switch");const{controlId:J}=R.useContext(Fs),se=R.useMemo(()=>({controlId:n||J}),[J,n]),de=!V&&G!=null&&G!==!1||g4(V,Uh),L=C.jsx(gv,{...Y,type:k==="switch"?"checkbox":k,ref:$,isValid:c,isInvalid:h,disabled:l,as:H});return C.jsx(Fs.Provider,{value:se,children:C.jsx("div",{style:E,className:je(_,de&&e,i&&`${e}-inline`,a&&`${e}-reverse`,k==="switch"&&t),children:V||C.jsxs(C.Fragment,{children:[L,de&&C.jsx(Uh,{title:A,children:G}),m&&C.jsx(_d,{type:y,tooltip:f,children:m})]})})})});ZA.displayName="FormCheck";const Vh=Object.assign(ZA,{Input:gv,Label:Uh}),JA=R.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:i,id:a,className:l,isValid:c=!1,isInvalid:h=!1,plaintext:f,readOnly:m,as:y="input",..._},E)=>{const{controlId:A}=R.useContext(Fs);return n=Ge(n,"form-control"),C.jsx(y,{..._,type:e,size:i,ref:E,readOnly:m,id:a||A,className:je(l,f?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,c&&"is-valid",h&&"is-invalid")})});JA.displayName="FormControl";const C4=Object.assign(JA,{Feedback:_d}),e1=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Ge(e,"form-floating"),C.jsx(t,{ref:a,className:je(n,e),...i})));e1.displayName="FormFloating";const yv=R.forwardRef(({controlId:n,as:e="div",...t},i)=>{const a=R.useMemo(()=>({controlId:n}),[n]);return C.jsx(Fs.Provider,{value:a,children:C.jsx(e,{...t,ref:i})})});yv.displayName="FormGroup";const t1=R.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:i=!1,className:a,htmlFor:l,...c},h)=>{const{controlId:f}=R.useContext(Fs);e=Ge(e,"form-label");let m="col-form-label";typeof t=="string"&&(m=`${m} ${m}-${t}`);const y=je(a,e,i&&"visually-hidden",t&&m);return l=l||f,t?C.jsx(YA,{ref:h,as:"label",className:y,htmlFor:l,...c}):C.jsx(n,{ref:h,className:y,htmlFor:l,...c})});t1.displayName="FormLabel";const n1=R.forwardRef(({bsPrefix:n,className:e,id:t,...i},a)=>{const{controlId:l}=R.useContext(Fs);return n=Ge(n,"form-range"),C.jsx("input",{...i,type:"range",ref:a,className:je(e,n),id:t||l})});n1.displayName="FormRange";const r1=R.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:i,isValid:a=!1,isInvalid:l=!1,id:c,...h},f)=>{const{controlId:m}=R.useContext(Fs);return n=Ge(n,"form-select"),C.jsx("select",{...h,size:t,ref:f,className:je(i,n,e&&`${n}-${e}`,a&&"is-valid",l&&"is-invalid"),id:c||m})});r1.displayName="FormSelect";const i1=R.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:i,...a},l)=>(n=Ge(n,"form-text"),C.jsx(t,{...a,ref:l,className:je(e,n,i&&"text-muted")})));i1.displayName="FormText";const s1=R.forwardRef((n,e)=>C.jsx(Vh,{...n,ref:e,type:"switch"}));s1.displayName="Switch";const I4=Object.assign(s1,{Input:Vh.Input,Label:Vh.Label}),a1=R.forwardRef(({bsPrefix:n,className:e,children:t,controlId:i,label:a,...l},c)=>(n=Ge(n,"form-floating"),C.jsxs(yv,{ref:c,className:je(e,n),controlId:i,...l,children:[t,C.jsx("label",{htmlFor:i,children:a})]})));a1.displayName="FloatingLabel";const O4={_ref:Ls.any,validated:Ls.bool,as:Ls.elementType},vv=R.forwardRef(({className:n,validated:e,as:t="form",...i},a)=>C.jsx(t,{...i,ref:a,className:je(n,e&&"was-validated")}));vv.displayName="Form";vv.propTypes=O4;const Je=Object.assign(vv,{Group:yv,Control:C4,Floating:e1,Check:Vh,Switch:I4,Label:t1,Text:i1,Range:n1,Select:r1,FloatingLabel:a1}),ow=n=>!n||typeof n=="function"?n:e=>{n.current=e};function x4(n,e){const t=ow(n),i=ow(e);return a=>{t&&t(a),i&&i(a)}}function Ed(n,e){return R.useMemo(()=>x4(n,e),[n,e])}const o1=R.createContext(null),D4=["as","active","eventKey"];function N4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function _v({key:n,onClick:e,active:t,id:i,role:a,disabled:l}){const c=R.useContext(Lh),h=R.useContext(mv),f=R.useContext(o1);let m=t;const y={role:a};if(h){!a&&h.role==="tablist"&&(y.role="tab");const _=h.getControllerId(n??null),E=h.getControlledId(n??null);y[vd("event-key")]=n,y.id=_||i,m=t==null&&n!=null?h.activeKey===n:t,(m||!(f!=null&&f.unmountOnExit)&&!(f!=null&&f.mountOnEnter))&&(y["aria-controls"]=E)}return y.role==="tab"&&(y["aria-selected"]=m,m||(y.tabIndex=-1),l&&(y.tabIndex=-1,y["aria-disabled"]=!0)),y.onClick=Is(_=>{l||(e==null||e(_),n!=null&&c&&!_.isPropagationStopped()&&c(n,_))}),[y,{isActive:m}]}const l1=R.forwardRef((n,e)=>{let{as:t=NA,active:i,eventKey:a}=n,l=N4(n,D4);const[c,h]=_v(Object.assign({key:yd(a,l.href),active:i},l));return c[vd("active")]=h.isActive,C.jsx(t,Object.assign({},l,c,{ref:e}))});l1.displayName="NavItem";const k4=["as","onSelect","activeKey","role","onKeyDown"];function P4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const lw=()=>{},uw=vd("event-key"),u1=R.forwardRef((n,e)=>{let{as:t="div",onSelect:i,activeKey:a,role:l,onKeyDown:c}=n,h=P4(n,k4);const f=_4(),m=R.useRef(!1),y=R.useContext(Lh),_=R.useContext(o1);let E,A;_&&(l=l||"tablist",a=_.activeKey,E=_.getControlledId,A=_.getControllerId);const k=R.useRef(null),G=$=>{const J=k.current;if(!J)return null;const se=Co(J,`[${uw}]:not([aria-disabled=true])`),de=J.querySelector("[aria-selected=true]");if(!de||de!==document.activeElement)return null;const L=se.indexOf(de);if(L===-1)return null;let P=L+$;return P>=se.length&&(P=0),P<0&&(P=se.length-1),se[P]},V=($,J)=>{$!=null&&(i==null||i($,J),y==null||y($,J))},H=$=>{if(c==null||c($),!_)return;let J;switch($.key){case"ArrowLeft":case"ArrowUp":J=G(-1);break;case"ArrowRight":case"ArrowDown":J=G(1);break;default:return}J&&($.preventDefault(),V(J.dataset[b4("EventKey")]||null,$),m.current=!0,f())};R.useEffect(()=>{if(k.current&&m.current){const $=k.current.querySelector(`[${uw}][aria-selected=true]`);$==null||$.focus()}m.current=!1});const Y=Ed(e,k);return C.jsx(Lh.Provider,{value:V,children:C.jsx(mv.Provider,{value:{role:l,activeKey:yd(a),getControlledId:E||lw,getControllerId:A||lw},children:C.jsx(t,Object.assign({},h,{onKeyDown:H,ref:Y,role:l}))})})});u1.displayName="Nav";const c1=Object.assign(u1,{Item:l1}),f1=R.forwardRef(({bsPrefix:n,active:e,disabled:t,eventKey:i,className:a,variant:l,action:c,as:h,...f},m)=>{n=Ge(n,"list-group-item");const[y,_]=_v({key:yd(i,f.href),active:e,...f}),E=tu(k=>{if(t){k.preventDefault(),k.stopPropagation();return}y.onClick(k)});t&&f.tabIndex===void 0&&(f.tabIndex=-1,f["aria-disabled"]=!0);const A=h||(c?f.href?"a":"button":"div");return C.jsx(A,{ref:m,...f,...y,onClick:E,className:je(a,n,_.isActive&&"active",t&&"disabled",l&&`${n}-${l}`,c&&`${n}-action`)})});f1.displayName="ListGroupItem";const h1=R.forwardRef((n,e)=>{const{className:t,bsPrefix:i,variant:a,horizontal:l,numbered:c,as:h="div",...f}=md(n,{activeKey:"onSelect"}),m=Ge(i,"list-group");let y;return l&&(y=l===!0?"horizontal":`horizontal-${l}`),C.jsx(c1,{ref:e,...f,as:h,className:je(t,m,a&&`${m}-${a}`,y&&`${m}-${y}`,c&&`${m}-numbered`)})});h1.displayName="ListGroup";const $l=Object.assign(h1,{Item:f1});function fg(n){n===void 0&&(n=cv());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function M4(n){const e=R.useRef(n);return e.current=n,e}function L4(n){const e=M4(n);R.useEffect(()=>()=>e.current(),[])}function U4(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const cw=vd("modal-open");class Ev{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:i=!1}={}){this.handleContainerOverflow=t,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return U4(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[i]:a.style[i]},e.scrollBarWidth&&(t[i]=`${parseInt(Ms(a,i)||"0",10)+e.scrollBarWidth}px`),a.setAttribute(cw,""),Ms(a,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(cw),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const hg=(n,e)=>pd?n==null?(e||cv()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function V4(n,e){const t=pv(),[i,a]=R.useState(()=>hg(n,t==null?void 0:t.document));if(!i){const l=hg(n);l&&a(l)}return R.useEffect(()=>{},[e,i]),R.useEffect(()=>{const l=hg(n);l!==i&&a(l)},[n,i]),i}function j4({children:n,in:e,onExited:t,mountOnEnter:i,unmountOnExit:a}){const l=R.useRef(null),c=R.useRef(e),h=Is(t);R.useEffect(()=>{e?c.current=!0:h(l.current)},[e,h]);const f=Ed(l,eu(n)),m=R.cloneElement(n,{ref:f});return e?m:a||!c.current&&i?null:m}const B4=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function z4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function q4(n){let{onEnter:e,onEntering:t,onEntered:i,onExit:a,onExiting:l,onExited:c,addEndListener:h,children:f}=n,m=z4(n,B4);const y=R.useRef(null),_=Ed(y,eu(f)),E=J=>se=>{J&&y.current&&J(y.current,se)},A=R.useCallback(E(e),[e]),k=R.useCallback(E(t),[t]),G=R.useCallback(E(i),[i]),V=R.useCallback(E(a),[a]),H=R.useCallback(E(l),[l]),Y=R.useCallback(E(c),[c]),$=R.useCallback(E(h),[h]);return Object.assign({},m,{nodeRef:y},e&&{onEnter:A},t&&{onEntering:k},i&&{onEntered:G},a&&{onExit:V},l&&{onExiting:H},c&&{onExited:Y},h&&{addEndListener:$},{children:typeof f=="function"?(J,se)=>f(J,Object.assign({},se,{ref:_})):R.cloneElement(f,{ref:_})})}const F4=["component"];function H4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const $4=R.forwardRef((n,e)=>{let{component:t}=n,i=H4(n,F4);const a=q4(i);return C.jsx(t,Object.assign({ref:e},a))});function G4({in:n,onTransition:e}){const t=R.useRef(null),i=R.useRef(!0),a=Is(e);return sw(()=>{if(!t.current)return;let l=!1;return a({in:n,element:t.current,initial:i.current,isStale:()=>l}),()=>{l=!0}},[n,a]),sw(()=>(i.current=!1,()=>{i.current=!0}),[]),t}function K4({children:n,in:e,onExited:t,onEntered:i,transition:a}){const[l,c]=R.useState(!e);e&&l&&c(!1);const h=G4({in:!!e,onTransition:m=>{const y=()=>{m.isStale()||(m.in?i==null||i(m.element,m.initial):(c(!0),t==null||t(m.element)))};Promise.resolve(a(m)).then(y,_=>{throw m.in||c(!0),_})}}),f=Ed(h,eu(n));return l&&!e?null:R.cloneElement(n,{ref:f})}function fw(n,e,t){return n?C.jsx($4,Object.assign({},t,{component:n})):e?C.jsx(K4,Object.assign({},t,{transition:e})):C.jsx(j4,Object.assign({},t))}const Q4=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Y4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}let dg;function W4(n){return dg||(dg=new Ev({ownerDocument:n==null?void 0:n.document})),dg}function X4(n){const e=pv(),t=n||W4(e),i=R.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>t.add(i.current),remove:()=>t.remove(i.current),isTopModal:()=>t.isTopModal(i.current),setDialogRef:R.useCallback(a=>{i.current.dialog=a},[]),setBackdropRef:R.useCallback(a=>{i.current.backdrop=a},[])})}const d1=R.forwardRef((n,e)=>{let{show:t=!1,role:i="dialog",className:a,style:l,children:c,backdrop:h=!0,keyboard:f=!0,onBackdropClick:m,onEscapeKeyDown:y,transition:_,runTransition:E,backdropTransition:A,runBackdropTransition:k,autoFocus:G=!0,enforceFocus:V=!0,restoreFocus:H=!0,restoreFocusOptions:Y,renderDialog:$,renderBackdrop:J=dt=>C.jsx("div",Object.assign({},dt)),manager:se,container:de,onShow:L,onHide:P=()=>{},onExit:D,onExited:j,onExiting:F,onEnter:B,onEntering:M,onEntered:Ae}=n,Me=Y4(n,Q4);const le=pv(),Te=V4(de),ge=X4(se),Qe=o4(),z=l4(t),[ue,we]=R.useState(!t),ve=R.useRef(null);R.useImperativeHandle(e,()=>ge,[ge]),pd&&!z&&t&&(ve.current=fg(le==null?void 0:le.document)),t&&ue&&we(!1);const _e=Is(()=>{if(ge.add(),rt.current=Ph(document,"keydown",et),Et.current=Ph(document,"focus",()=>setTimeout(Fe),!0),L&&L(),G){var dt,Pn;const Ir=fg((dt=(Pn=ge.dialog)==null?void 0:Pn.ownerDocument)!=null?dt:le==null?void 0:le.document);ge.dialog&&Ir&&!aw(ge.dialog,Ir)&&(ve.current=Ir,ge.dialog.focus())}}),Ue=Is(()=>{if(ge.remove(),rt.current==null||rt.current(),Et.current==null||Et.current(),H){var dt;(dt=ve.current)==null||dt.focus==null||dt.focus(Y),ve.current=null}});R.useEffect(()=>{!t||!Te||_e()},[t,Te,_e]),R.useEffect(()=>{ue&&Ue()},[ue,Ue]),L4(()=>{Ue()});const Fe=Is(()=>{if(!V||!Qe()||!ge.isTopModal())return;const dt=fg(le==null?void 0:le.document);ge.dialog&&dt&&!aw(ge.dialog,dt)&&ge.dialog.focus()}),Lt=Is(dt=>{dt.target===dt.currentTarget&&(m==null||m(dt),h===!0&&P())}),et=Is(dt=>{f&&HV(dt)&&ge.isTopModal()&&(y==null||y(dt),dt.defaultPrevented||P())}),Et=R.useRef(),rt=R.useRef(),Zt=(...dt)=>{we(!0),j==null||j(...dt)};if(!Te)return null;const tr=Object.assign({role:i,ref:ge.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},Me,{style:l,className:a,tabIndex:-1});let pn=$?$(tr):C.jsx("div",Object.assign({},tr,{children:R.cloneElement(c,{role:"document"})}));pn=fw(_,E,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:D,onExiting:F,onExited:Zt,onEnter:B,onEntering:M,onEntered:Ae,children:pn});let Fn=null;return h&&(Fn=J({ref:ge.setBackdropRef,onClick:Lt}),Fn=fw(A,k,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Fn})),C.jsx(C.Fragment,{children:Nl.createPortal(C.jsxs(C.Fragment,{children:[Fn,pn]}),Te)})});d1.displayName="Modal";const Z4=Object.assign(d1,{Manager:Ev});function J4(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function ej(n,e){n.classList?n.classList.add(e):J4(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function hw(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function tj(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=hw(n.className,e):n.setAttribute("class",hw(n.className&&n.className.baseVal||"",e))}const Cl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class m1 extends Ev{adjustAndStore(e,t,i){const a=t.style[e];t.dataset[e]=a,Ms(t,{[e]:`${parseFloat(Ms(t,e))+i}px`})}restore(e,t){const i=t.dataset[e];i!==void 0&&(delete t.dataset[e],Ms(t,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(ej(t,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Co(t,Cl.FIXED_CONTENT).forEach(l=>this.adjustAndStore(i,l,e.scrollBarWidth)),Co(t,Cl.STICKY_CONTENT).forEach(l=>this.adjustAndStore(a,l,-e.scrollBarWidth)),Co(t,Cl.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(a,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();tj(t,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Co(t,Cl.FIXED_CONTENT).forEach(l=>this.restore(i,l)),Co(t,Cl.STICKY_CONTENT).forEach(l=>this.restore(a,l)),Co(t,Cl.NAVBAR_TOGGLER).forEach(l=>this.restore(a,l))}}let mg;function nj(n){return mg||(mg=new m1(n)),mg}const p1=R.createContext({onHide(){}}),rj=R.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:i,children:a,...l},c)=>{const h=R.useContext(p1),f=tu(()=>{h==null||h.onHide(),i==null||i()});return C.jsxs("div",{ref:c,...l,children:[a,t&&C.jsx(gd,{"aria-label":n,variant:e,onClick:f})]})}),g1=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Ge(e,"nav-item"),C.jsx(t,{ref:a,className:je(n,e),...i})));g1.displayName="NavItem";const y1=R.forwardRef(({bsPrefix:n,className:e,as:t=dv,active:i,eventKey:a,disabled:l=!1,...c},h)=>{n=Ge(n,"nav-link");const[f,m]=_v({key:yd(a,c.href),active:i,disabled:l,...c});return C.jsx(t,{...c,...f,ref:h,disabled:l,className:je(e,n,l&&"disabled",m.isActive&&"active")})});y1.displayName="NavLink";const v1=R.forwardRef((n,e)=>{const{as:t="div",bsPrefix:i,variant:a,fill:l=!1,justify:c=!1,navbar:h,navbarScroll:f,className:m,activeKey:y,..._}=md(n,{activeKey:"onSelect"}),E=Ge(i,"nav");let A,k,G=!1;const V=R.useContext(nu),H=R.useContext(uv);return V?(A=V.bsPrefix,G=h??!0):H&&({cardHeaderBsPrefix:k}=H),C.jsx(c1,{as:t,ref:e,activeKey:y,className:je(m,{[E]:!G,[`${A}-nav`]:G,[`${A}-nav-scroll`]:G&&f,[`${k}-${a}`]:!!k,[`${E}-${a}`]:!!a,[`${E}-fill`]:l,[`${E}-justified`]:c}),..._})});v1.displayName="Nav";const wa=Object.assign(v1,{Item:g1,Link:y1}),_1=R.forwardRef(({bsPrefix:n,className:e,as:t,...i},a)=>{n=Ge(n,"navbar-brand");const l=t||(i.href?"a":"span");return C.jsx(l,{...i,ref:a,className:je(e,n)})});_1.displayName="NavbarBrand";const E1=R.forwardRef(({children:n,bsPrefix:e,...t},i)=>{e=Ge(e,"navbar-collapse");const a=R.useContext(nu);return C.jsx(i4,{in:!!(a&&a.expanded),...t,children:C.jsx("div",{ref:i,className:e,children:n})})});E1.displayName="NavbarCollapse";const T1=R.forwardRef(({bsPrefix:n,className:e,children:t,label:i="Toggle navigation",as:a="button",onClick:l,...c},h)=>{n=Ge(n,"navbar-toggler");const{onToggle:f,expanded:m}=R.useContext(nu)||{},y=tu(_=>{l&&l(_),f&&f()});return a==="button"&&(c.type="button"),C.jsx(a,{...c,ref:h,onClick:y,"aria-label":i,className:je(e,n,!m&&"collapsed"),children:t||C.jsx("span",{className:`${n}-icon`})})});T1.displayName="NavbarToggle";const Zg=new WeakMap,dw=(n,e)=>{if(!n||!e)return;const t=Zg.get(e)||new Map;Zg.set(e,t);let i=t.get(n);return i||(i=e.matchMedia(n),i.refCount=0,t.set(i.media,i)),i};function ij(n,e=typeof window>"u"?void 0:window){const t=dw(n,e),[i,a]=R.useState(()=>t?t.matches:!1);return R4(()=>{let l=dw(n,e);if(!l)return a(!1);let c=Zg.get(e);const h=()=>{a(l.matches)};return l.refCount++,l.addListener(h),h(),()=>{l.removeListener(h),l.refCount--,l.refCount<=0&&(c==null||c.delete(l.media)),l=void 0}},[n]),i}function sj(n){const e=Object.keys(n);function t(h,f){return h===f?f:h?`${h} and ${f}`:f}function i(h){return e[Math.min(e.indexOf(h)+1,e.length-1)]}function a(h){const f=i(h);let m=n[f];return typeof m=="number"?m=`${m-.2}px`:m=`calc(${m} - 0.2px)`,`(max-width: ${m})`}function l(h){let f=n[h];return typeof f=="number"&&(f=`${f}px`),`(min-width: ${f})`}function c(h,f,m){let y;typeof h=="object"?(y=h,m=f,f=!0):(f=f||!0,y={[h]:f});let _=R.useMemo(()=>Object.entries(y).reduce((E,[A,k])=>((k==="up"||k===!0)&&(E=t(E,l(A))),(k==="down"||k===!0)&&(E=t(E,a(A))),E),""),[JSON.stringify(y)]);return ij(_,m)}return c}const aj=sj({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),b1=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Ge(e,"offcanvas-body"),C.jsx(t,{ref:a,className:je(n,e),...i})));b1.displayName="OffcanvasBody";const oj={[di]:"show",[Cs]:"show"},w1=R.forwardRef(({bsPrefix:n,className:e,children:t,in:i=!1,mountOnEnter:a=!1,unmountOnExit:l=!1,appear:c=!1,...h},f)=>(n=Ge(n,"offcanvas"),C.jsx(hv,{ref:f,addEndListener:fv,in:i,mountOnEnter:a,unmountOnExit:l,appear:c,...h,childRef:eu(t),children:(m,y)=>R.cloneElement(t,{...y,className:je(e,t.props.className,(m===di||m===Sc)&&`${n}-toggling`,oj[m])})})));w1.displayName="OffcanvasToggling";const S1=R.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...a},l)=>(n=Ge(n,"offcanvas-header"),C.jsx(rj,{ref:l,...a,className:je(e,n),closeLabel:t,closeButton:i})));S1.displayName="OffcanvasHeader";const lj=dd("h5"),R1=R.forwardRef(({className:n,bsPrefix:e,as:t=lj,...i},a)=>(e=Ge(e,"offcanvas-title"),C.jsx(t,{ref:a,className:je(n,e),...i})));R1.displayName="OffcanvasTitle";function uj(n){return C.jsx(w1,{...n})}function cj(n){return C.jsx(Mh,{...n})}const A1=R.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":i,placement:a="start",responsive:l,show:c=!1,backdrop:h=!0,keyboard:f=!0,scroll:m=!1,onEscapeKeyDown:y,onShow:_,onHide:E,container:A,autoFocus:k=!0,enforceFocus:G=!0,restoreFocus:V=!0,restoreFocusOptions:H,onEntered:Y,onExit:$,onExiting:J,onEnter:se,onEntering:de,onExited:L,backdropClassName:P,manager:D,renderStaticNode:j=!1,...F},B)=>{const M=R.useRef();n=Ge(n,"offcanvas");const[Ae,Me]=R.useState(!1),le=tu(E),Te=aj(l||"xs","up");R.useEffect(()=>{Me(l?c&&!Te:c)},[c,l,Te]);const ge=R.useMemo(()=>({onHide:le}),[le]);function Qe(){return D||(m?(M.current||(M.current=new m1({handleContainerOverflow:!1})),M.current):nj())}const z=(_e,...Ue)=>{_e&&(_e.style.visibility="visible"),se==null||se(_e,...Ue)},ue=(_e,...Ue)=>{_e&&(_e.style.visibility=""),L==null||L(...Ue)},we=R.useCallback(_e=>C.jsx("div",{..._e,className:je(`${n}-backdrop`,P)}),[P,n]),ve=_e=>C.jsx("div",{..._e,...F,className:je(e,l?`${n}-${l}`:n,`${n}-${a}`),"aria-labelledby":i,children:t});return C.jsxs(C.Fragment,{children:[!Ae&&(l||j)&&ve({}),C.jsx(p1.Provider,{value:ge,children:C.jsx(Z4,{show:Ae,ref:B,backdrop:h,container:A,keyboard:f,autoFocus:k,enforceFocus:G&&!m,restoreFocus:V,restoreFocusOptions:H,onEscapeKeyDown:y,onShow:_,onHide:le,onEnter:z,onEntering:de,onEntered:Y,onExit:$,onExiting:J,onExited:ue,manager:Qe(),transition:uj,backdropTransition:cj,renderBackdrop:we,renderDialog:ve})})]})});A1.displayName="Offcanvas";const fj=Object.assign(A1,{Body:b1,Header:S1,Title:R1}),C1=R.forwardRef(({onHide:n,...e},t)=>{const i=R.useContext(nu),a=tu(()=>{i==null||i.onToggle==null||i.onToggle(),n==null||n()});return C.jsx(fj,{ref:t,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:a})});C1.displayName="NavbarOffcanvas";const I1=R.forwardRef(({className:n,bsPrefix:e,as:t="span",...i},a)=>(e=Ge(e,"navbar-text"),C.jsx(t,{ref:a,className:je(n,e),...i})));I1.displayName="NavbarText";const O1=R.forwardRef((n,e)=>{const{bsPrefix:t,expand:i=!0,variant:a="light",bg:l,fixed:c,sticky:h,className:f,as:m="nav",expanded:y,onToggle:_,onSelect:E,collapseOnSelect:A=!1,...k}=md(n,{expanded:"onToggle"}),G=Ge(t,"navbar"),V=R.useCallback((...$)=>{E==null||E(...$),A&&y&&(_==null||_(!1))},[E,A,y,_]);k.role===void 0&&m!=="nav"&&(k.role="navigation");let H=`${G}-expand`;typeof i=="string"&&(H=`${H}-${i}`);const Y=R.useMemo(()=>({onToggle:()=>_==null?void 0:_(!y),bsPrefix:G,expanded:!!y,expand:i}),[G,y,i,_]);return C.jsx(nu.Provider,{value:Y,children:C.jsx(Lh.Provider,{value:V,children:C.jsx(m,{ref:e,...k,className:je(f,G,i&&H,a&&`${G}-${a}`,l&&`bg-${l}`,h&&`sticky-${h}`,c&&`fixed-${c}`)})})})});O1.displayName="Navbar";const mw=Object.assign(O1,{Brand:_1,Collapse:E1,Offcanvas:C1,Text:I1,Toggle:T1}),Ho=R.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:i,as:a="div",className:l,...c},h)=>{n=Ge(n,"spinner");const f=`${n}-${t}`;return C.jsx(a,{ref:h,...c,className:je(l,f,i&&`${f}-${i}`,e&&`text-${e}`)})});Ho.displayName="Spinner";const pw=()=>{const n=er(),[e,t]=R.useState([]),[i,a]=R.useState(!0);return R.useEffect(()=>{(async()=>{await n.fetchProductsWithFirstVariant().then(c=>t(c)),a(!1)})()},[]),i?C.jsxs("div",{className:"text-center mt-5",children:[C.jsx(Ho,{animation:"border"}),C.jsx("p",{children:"Welcome! We are loading products for you.."})]}):C.jsxs("div",{className:"home-page",children:[C.jsx("div",{className:"ad-container",children:"Advertising space"}),C.jsxs("div",{className:"header",children:[C.jsx("div",{className:"menu-title",children:"Menu"}),C.jsx("div",{className:"cart-icon-container",children:C.jsx("div",{className:"cart-icon",children:""})})]}),C.jsx("div",{className:"search-container",children:C.jsx("input",{type:"text",className:"search-input",placeholder:"Search for food..."})}),C.jsx("div",{className:"menu-container",children:C.jsx("div",{className:"menu-list",children:e==null?void 0:e.map(l=>C.jsx(CV,{...l},l.id))})})]})},hj=()=>{const n=er(),e=Cr(),[t,i]=R.useState(""),[a,l]=R.useState("");R.useEffect(()=>{n.isLoggedIn&&e("/")},[n,e]);const c=async h=>{h.preventDefault();try{console.log("login in a user...");const f=await n.singinUserWithEmailAndPass(t,a);console.log("Successfull",f)}catch(f){console.log("Unsuccessfull",f.message,f),n.displayToastMessage(f.message)}};return C.jsx("div",{className:"container mt-5",children:C.jsxs(Je,{onSubmit:c,children:[C.jsxs(Je.Group,{className:"mb-3",controlId:"formBasicEmail",children:[C.jsx(Je.Label,{children:"Email address"}),C.jsx(Je.Control,{onChange:h=>i(h.target.value),value:t,type:"email",placeholder:"Enter email"})]}),C.jsxs(Je.Group,{className:"mb-3",controlId:"formBasicPassword",children:[C.jsx(Je.Label,{children:"Password"}),C.jsx(Je.Control,{onChange:h=>l(h.target.value),value:a,type:"password",placeholder:"Password"})]}),C.jsx(Qr,{variant:"primary",type:"submit",children:"Login"})]})})},dj=()=>{const n=er(),e=Cr(),[t,i]=R.useState(""),[a,l]=R.useState("");R.useEffect(()=>{n.isLoggedIn&&e("/")},[n,e]);const c=async h=>{h.preventDefault();try{console.log("Signin up a user...");const f=await n.signupUserWithEmailAndPassword(t,a);console.log("Successfull",f)}catch(f){console.log("Unsuccessfull",f.message,f),n.displayToastMessage(f.message)}};return C.jsx("div",{className:"container mt-5",children:C.jsxs(Je,{onSubmit:c,children:[C.jsxs(Je.Group,{className:"mb-3",controlId:"formBasicEmail",children:[C.jsx(Je.Label,{children:"Email address"}),C.jsx(Je.Control,{onChange:h=>i(h.target.value),value:t,type:"email",placeholder:"Enter email"}),C.jsx(Je.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),C.jsxs(Je.Group,{className:"mb-3",controlId:"formBasicPassword",children:[C.jsx(Je.Label,{children:"Password"}),C.jsx(Je.Control,{onChange:h=>l(h.target.value),value:a,type:"password",placeholder:"Password"})]}),C.jsx(Qr,{variant:"primary",type:"submit",children:"Create Account"})]})})},mj=()=>{const n=er(),{isAdmin:e,isDeliveryPartner:t}=n;return C.jsx(mw,{bg:"dark",variant:"dark",children:C.jsxs(WA,{children:[C.jsx(mw.Brand,{as:qi,to:"/",children:"Menu"}),C.jsxs(wa,{className:"me-auto",children:[e&&C.jsx(wa.Link,{as:qi,to:"/products/new",children:"Add New Product"}),t&&C.jsx(wa.Link,{as:qi,to:"/orders/delivery-partner",children:"Orders!"}),!e&&!t&&C.jsx(wa.Link,{as:qi,to:"/cart",children:"Cart"}),!(n!=null&&n.user)&&C.jsx(wa.Link,{as:qi,to:"/register",children:"Register"}),!(n!=null&&n.user)&&C.jsx(wa.Link,{as:qi,to:"/login",children:"Login"}),(n==null?void 0:n.user)&&!e&&!t&&C.jsx(wa.Link,{as:qi,to:"/orders",children:"My orders"}),(n==null?void 0:n.isAdmin)&&C.jsx(wa.Link,{as:qi,to:"/orders/all",children:"All orders"}),(n==null?void 0:n.user)&&C.jsx("button",{onClick:async()=>{await n.logoutUser()},children:"logout"})]})]})})},pj=({label:n,options:e,selected:t,onChange:i})=>C.jsxs(Je.Group,{className:"mb-3",children:[C.jsx(Je.Label,{children:n}),C.jsx(Je.Select,{value:(t==null?void 0:t.id)||"",onChange:i,children:e.length===0?C.jsx("option",{disabled:!0,children:"No variants available"}):e.map(a=>C.jsxs("option",{value:a.id,children:[a.data().title," - ",a.data().name," (",a.data().priceOffer||a.data().priceOriginal,")"]},a.id))})]}),gj=()=>{const n=Cr(),e=Cw(),t=er(),[i,a]=R.useState(1),[l,c]=R.useState(null),[h,f]=R.useState([]),[m,y]=R.useState(null),[_,E]=R.useState(null),[A,k]=R.useState(!0);R.useEffect(()=>{(async()=>{A||k(!0);const Y="products",$="variants",J=await t.getDocById(e.productId,Y);c(J.data());const se=await t.getSubCollectionAllDocuments(Y,e.productId,$);f(se.docs),se.docs.length>0&&y({id:se.docs[0].id,...se.docs[0].data()}),k(!1)})()},[e.productId,t]);const G=H=>{const Y=H.target.value,$=h.find(J=>J.id===Y);y({id:$.id,...$.data()})},V=async()=>{if(!m)return alert("Please select a variant");if(await t.checkIsItemAlreadyInCart("shoppingCartItems",e.productId,m.id)===null){const Y={quantity:i,productId:e.productId,variantId:m.id};await t.handleCreateNewDoc(Y,"shoppingCartItems"),t.displayToastMessage("Added to cart successfully!")}else t.displayToastMessage("Item already in cart!");n("/")};return A?C.jsxs("div",{className:"text-center mt-5",children:[C.jsx(Ho,{animation:"border"}),C.jsx("p",{children:"loading detials.."})]}):!l||!h||!m?C.jsx("div",{className:"container mt-5",children:C.jsx(qc,{variant:"info",children:"No data found"},"info")}):C.jsxs("div",{className:"container mt-5",children:[C.jsx("h1",{children:l.name}),C.jsx("img",{src:_,width:"50%",style:{borderRadius:"10px"},alt:"Product"}),C.jsx("h1",{children:"Details"}),C.jsxs("p",{children:["Price: Rs. ",(m==null?void 0:m.priceOffer)||(m==null?void 0:m.priceOriginal)||"N/A"]}),C.jsx(pj,{label:"Select Variant",options:h,selected:m,onChange:G}),C.jsxs(Je.Group,{className:"mb-3",children:[C.jsx(Je.Label,{children:"Quantity"}),C.jsx(Je.Control,{type:"number",min:"1",value:i,onChange:H=>a(H.target.value)})]}),C.jsx(Qr,{onClick:V,variant:"primary",disabled:!(t!=null&&t.user),children:"Add to Cart"}),C.jsx("div",{className:"not-logged-in-text",children:!(t!=null&&t.user)&&"Please Login to start adding items to cart"})]})},Ro=({label:n,name:e,value:t,onChange:i,placeholder:a,type:l="text"})=>C.jsxs(Je.Group,{className:"mb-3",children:[C.jsx(Je.Label,{children:n}),C.jsx(Je.Control,{type:l,name:e,value:t,onChange:i,placeholder:a})]}),yj=()=>{const n=er(),e=Cr();R.useEffect(()=>{n.isAdmin||e("/")},[n,e]);const t=Cw(),[i,a]=R.useState({SKU:"",title:"",name:"",priceOffer:"",priceOriginal:"",inventoryQuantity:"",status:"",productImages:[]}),l=h=>{const{name:f,value:m,type:y}=h.target;a({...i,[f]:y==="number"?parseFloat(m)||"":m})},c=async h=>{h.preventDefault();const{productId:f}=t,m={...i,productId:f};await n.handleCreateNewVariant(m),e("/")};return C.jsx("div",{className:"container mt-5",children:C.jsxs(Je,{onSubmit:c,children:[C.jsx(Ro,{label:"SKU",name:"SKU",value:i.SKU,onChange:l,placeholder:"Enter SKU"}),C.jsx(Ro,{label:"Title (Weight/Size)",name:"title",value:i.title,onChange:l,placeholder:"Enter Weight/Size"}),C.jsx(Ro,{label:"Variant Name (200gm/..)",name:"name",value:i.name,onChange:l,placeholder:"Enter Variant Name"}),C.jsx(Ro,{label:"Offer Price",name:"priceOffer",value:i.priceOffer,onChange:l,placeholder:"Enter Offer Price",type:"number"}),C.jsx(Ro,{label:"Original Price",name:"priceOriginal",value:i.priceOriginal,onChange:l,placeholder:"Enter Original Price",type:"number"}),C.jsx(Ro,{label:"Inventory Quantity",name:"inventoryQuantity",value:i.inventoryQuantity,onChange:l,placeholder:"Enter Inventory Quantity",type:"number"}),C.jsx(Ro,{label:"Status",name:"status",value:i.status,onChange:l,placeholder:"Enter Status (active/non-active)"}),C.jsx(Qr,{variant:"primary",type:"submit",children:"Create"})]})})},Jf=({label:n,name:e,value:t,onChange:i,placeholder:a})=>C.jsxs(Je.Group,{className:"mb-3",children:[C.jsx(Je.Label,{children:n}),C.jsx(Je.Control,{type:"text",name:e,value:t,onChange:i,placeholder:a})]}),vj=()=>{const n=er(),e=Cr();R.useEffect(()=>{n.isAdmin||e("/")},[n,e]);const[t,i]=R.useState(""),a={SKU:"",name:"",description:"",productImage:"",status:""},[l,c]=R.useState(a),h=m=>{c({...l,[m.target.name]:m.target.value})},f=async m=>{m.preventDefault();const y={...l,productImage:t};await n.handleCreateNewDoc(y,"products"),c(a),n.displayToastMessage("product created successfully!"),e("/")};return C.jsx("div",{className:"container mt-5",children:C.jsxs(Je,{onSubmit:f,children:[C.jsx(Jf,{label:"SKU",name:"SKU",value:l.SKU,onChange:h,placeholder:"Enter SKU"}),C.jsx(Jf,{label:"Product Name",name:"name",value:l.name,onChange:h,placeholder:"Enter Product Name"}),C.jsx(Jf,{label:"Description",name:"description",value:l.description,onChange:h,placeholder:"Enter Description"}),C.jsxs(Je.Group,{className:"mb-3",controlId:"formBasicPassword",children:[C.jsx(Je.Label,{children:"Cover Pic"}),C.jsx(Je.Control,{onChange:m=>i(m.target.files[0]),type:"file"})]}),C.jsx(Jf,{label:"Status",name:"status",value:l.status,onChange:h,placeholder:"Enter Status (active/non-active)"}),C.jsx(Qr,{variant:"primary",type:"submit",children:"Create"})]})})},_j=n=>{const{id:e,handleRemoveDocument:t,quantity:i}=n,{name:a,description:l,status:c,productImage:h}=n==null?void 0:n.product,{variant:f}=n,m=er();Cr();const[y,_]=R.useState(null);return R.useEffect(()=>{h&&m.getImageURL(h).then(E=>_(E))},[h]),C.jsxs(yt,{style:{width:"18rem",margin:"25px"},children:[y&&C.jsx(yt.Img,{variant:"top",src:y,alt:a}),C.jsxs(yt.Body,{children:[C.jsx(yt.Title,{children:a}),C.jsx(yt.Text,{children:l}),C.jsxs(yt.Text,{children:["Status: ",C.jsx("strong",{children:c})]}),C.jsxs(yt.Text,{children:["quantity: ",i]}),C.jsxs(yt.Text,{children:["Price: ",C.jsx("strong",{children:(f==null?void 0:f.priceOriginal)||(f==null?void 0:f.priceOffer)})]}),C.jsxs(yt.Text,{children:["Total Price: ",C.jsxs("strong",{children:["INR ",i*((f==null?void 0:f.priceOriginal)||(f==null?void 0:f.priceOffer))]})]}),C.jsx(Qr,{onClick:async()=>{await t(e),m.displayToastMessage("removed successfully!")},variant:"primary",children:"Remove"})]})]})},xn=[];for(let n=0;n<256;++n)xn.push((n+256).toString(16).slice(1));function Ej(n,e=0){return(xn[n[e+0]]+xn[n[e+1]]+xn[n[e+2]]+xn[n[e+3]]+"-"+xn[n[e+4]]+xn[n[e+5]]+"-"+xn[n[e+6]]+xn[n[e+7]]+"-"+xn[n[e+8]]+xn[n[e+9]]+"-"+xn[n[e+10]]+xn[n[e+11]]+xn[n[e+12]]+xn[n[e+13]]+xn[n[e+14]]+xn[n[e+15]]).toLowerCase()}let pg;const Tj=new Uint8Array(16);function bj(){if(!pg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");pg=crypto.getRandomValues.bind(crypto)}return pg(Tj)}const wj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gw={randomUUID:wj};function Sj(n,e,t){var a;if(gw.randomUUID&&!n)return gw.randomUUID();n=n||{};const i=n.random??((a=n.rng)==null?void 0:a.call(n))??bj();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Ej(i)}const Rj=["123, MG Road, Bangalore, Karnataka - 560001","456, Connaught Place, New Delhi, Delhi - 110001","789, Koregaon Park, Pune, Maharashtra - 411001","101, Park Street, Kolkata, West Bengal - 700016","55, Anna Salai, Chennai, Tamil Nadu - 600002"],Aj=()=>{const n=er(),[e,t]=R.useState([]),[i,a]=R.useState(0),[l,c]=R.useState(""),[h,f]=R.useState(Rj),[m,y]=R.useState(!0),_=async()=>{await n.fetchCartWithDetails("shoppingCartItems").then(H=>t(H)),y(!1)},E=async H=>{await n.removeDocumentWithId("shoppingCartItems",H),await _()};R.useEffect(()=>{_()},[]);const A=()=>{const H=e.reduce((Y,$)=>{var se,de;const J=((se=$==null?void 0:$.variant)==null?void 0:se.priceOffer)||((de=$==null?void 0:$.variant)==null?void 0:de.priceOriginal)||0;return Y+$.quantity*J},0);a(H)};R.useEffect(()=>{e?A():a("Not found")},[e]);const k=Cr(),G=()=>Sj(),V=async()=>{var H;if(!l){n.displayToastMessage("Please select an address before placing the order.","error");return}if(e.length!==0)try{const Y=await Promise.all(e.map(async se=>{const de={productId:se==null?void 0:se.productId,variantId:se==null?void 0:se.variantId,quantity:se==null?void 0:se.quantity};return(await n.handleCreateNewDoc(de,"purchasedItems")).id})),$={orderId:G(),status:"created",finalPrice:parseFloat(i),userId:((H=n==null?void 0:n.user)==null?void 0:H.uid)||"",purchasedItems:Y,address:l,_createdDate:new Date().toISOString(),deliveryPartnerId:"EEqRTrY732ZaK27XRkjkJbjMq5E2"},J=await n.handleCreateNewDoc($,"orders");await Promise.all(e.map(se=>n.removeDocumentWithId("shoppingCartItems",se.id))),k("/orders"),n.displayToastMessage("Order Placed successfully!")}catch(Y){console.error("Error placing order:",Y)}};return m?C.jsxs("div",{className:"text-center mt-5",children:[C.jsx(Ho,{animation:"border"}),C.jsx("p",{children:"loading Cart.."})]}):C.jsxs("div",{className:"home-page",children:[C.jsx("div",{className:"ad-container",children:"Advertising space"}),C.jsx("div",{className:"header",children:C.jsx("div",{className:"order-summary",children:"Cart"})}),!e||(e==null?void 0:e.length)===0?C.jsx(qc,{variant:"info",children:"Cart Empty!"},"info"):C.jsxs(C.Fragment,{children:[C.jsx(Pw,{children:e==null?void 0:e.map(H=>C.jsx(_j,{id:H.id,handleRemoveDocument:E,...H},H.id))}),C.jsxs(Je.Group,{className:"mt-3",children:[C.jsx(Je.Label,{children:"Select Delivery Address"}),C.jsxs(Je.Select,{value:l,onChange:H=>c(H.target.value),children:[C.jsx("option",{value:"",children:"-- Select Address --"}),h.map((H,Y)=>C.jsx("option",{value:H,children:H},Y))]})]}),C.jsxs("div",{className:"final-price",children:["final price : ",i]}),C.jsx(Qr,{onClick:()=>V(),variant:"primary",children:"Place Order"})]})]})},Tv=n=>{const{id:e,handleRemoveDocument:t,quantity:i}=n,{name:a,description:l,status:c,productImage:h}=n==null?void 0:n.product,{variant:f,finalPrice:m}=n,y=er();Cr();const[_,E]=R.useState(null);return R.useEffect(()=>{h&&y.getImageURL(h).then(A=>E(A))},[h]),C.jsxs(yt,{style:{width:"18rem",margin:"25px"},children:[_&&C.jsx(yt.Img,{variant:"top",src:_,alt:a}),C.jsxs(yt.Body,{children:[C.jsx(yt.Title,{children:a}),C.jsxs(yt.Text,{children:["quantity: ",i]}),C.jsxs(yt.Text,{children:["Price: ",C.jsx("strong",{children:(f==null?void 0:f.priceOriginal)||(f==null?void 0:f.priceOffer)})]}),C.jsxs(yt.Text,{children:["Total Price: ",C.jsxs("strong",{children:["INR ",m]})]})]})]})},Cj=["Created","Preparing","Ready for Pickup","Out for Delivery","Delivered","Cancelled"],Ij=()=>{const n=er(),[e,t]=R.useState([]),[i,a]=R.useState(!0);Cr();const l=async()=>{try{const f=await n.fetchOrders(),y=(await Promise.all(f.map(async _=>{const E=await n.fetchPurchasedItemWithDetails(_.purchasedItems);return{..._,purchasedItems:E}}))).sort((_,E)=>new Date(E._createdDate)-new Date(_._createdDate));t(y)}catch(f){console.error("Error fetching orders:",f)}finally{a(!1)}};R.useEffect(()=>{l()},[n]);const c=async(f,m)=>{a(!0),await n.updateOrderStatus(f,m),await l(),a(!1)},h=f=>f?new Date(f).toLocaleString("en-GB",{year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"";return i?C.jsxs("div",{className:"text-center mt-5",children:[C.jsx(Ho,{animation:"border"}),C.jsx("p",{children:"Loading orders..."})]}):e!=null&&e.length?C.jsxs("div",{className:"container mt-5",children:[C.jsx("h3",{className:"mb-4",children:"My Orders"}),e==null?void 0:e.map(f=>{var m;return C.jsxs(yt,{className:"mb-3",children:[C.jsx(yt.Header,{children:C.jsxs("h5",{children:["Order ID: ",f.orderId]})}),C.jsxs(yt.Body,{children:[C.jsxs("h6",{children:["Status:",n!=null&&n.isAdmin?C.jsx(Je.Select,{value:f.status,onChange:y=>c(f.id,y.target.value),className:"ms-2 d-inline w-auto",children:Cj.map(y=>C.jsx("option",{value:y,children:y},y))}):C.jsx("span",{className:"text-primary ms-2",children:f.status})]}),C.jsxs("h6",{children:["Final Price: ",f.finalPrice]}),C.jsxs("h6",{children:["Address: ",f==null?void 0:f.address]}),(f==null?void 0:f._createdDate)&&C.jsxs("h6",{children:["Created Date:"," ",h(f==null?void 0:f._createdDate)]}),C.jsx("hr",{}),C.jsx("h6",{children:"Purchased Items:"}),C.jsx($l,{children:(m=f.purchasedItems)==null?void 0:m.map((y,_)=>C.jsx($l.Item,{children:C.jsx(Tv,{id:y.id,...y},y.id)},_))})]})]},f.orderId)})]}):C.jsx(qc,{variant:"warning",className:"mt-5 text-center",children:"No orders found."})},Oj=["Created","Preparing","Ready for Pickup","Out for Delivery","Delivered","Cancelled"],xj=()=>{const n=er(),[e,t]=R.useState([]),[i,a]=R.useState(!0),l=Cr();R.useEffect(()=>{n!=null&&n.isAdmin||l("/")},[n,l]);const c=async()=>{try{const m=await n.fetchAllOrders(),_=(await Promise.all(m.map(async E=>{const A=await n.fetchPurchasedItemWithDetails(E.purchasedItems);return{...E,purchasedItems:A}}))).sort((E,A)=>new Date(A._createdDate)-new Date(E._createdDate));t(_)}catch(m){console.error("Error fetching orders:",m)}finally{a(!1)}};R.useEffect(()=>{c()},[n]);const h=async(m,y)=>{a(!0),await n.updateOrderStatus(m,y),await c(),a(!1)},f=m=>m?new Date(m).toLocaleString("en-GB",{year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"";return i?C.jsxs("div",{className:"text-center mt-5",children:[C.jsx(Ho,{animation:"border"}),C.jsx("p",{children:"Loading orders..."})]}):e!=null&&e.length?C.jsxs("div",{className:"container mt-5",children:[C.jsx("h3",{className:"mb-4",children:"All Orders"}),e==null?void 0:e.map(m=>{var y;return C.jsxs(yt,{className:"mb-3",children:[C.jsx(yt.Header,{children:C.jsxs("h5",{children:["Order ID: ",m.orderId]})}),C.jsxs(yt.Body,{children:[C.jsxs("h6",{children:["Status:",n!=null&&n.isAdmin?C.jsx(Je.Select,{value:m.status,onChange:_=>h(m.id,_.target.value),className:"ms-2 d-inline w-auto",children:Oj.map(_=>C.jsx("option",{value:_,children:_},_))}):C.jsx("span",{className:"text-primary ms-2",children:m.status})]}),C.jsxs("h6",{children:["Final Price: ",m.finalPrice]}),(m==null?void 0:m._createdDate)&&C.jsxs("h6",{children:["Created Date:"," ",f(m==null?void 0:m._createdDate)]}),C.jsxs("h6",{children:["address: ",m==null?void 0:m.address]}),C.jsxs("h6",{children:["deliveryPartnerId: ",m==null?void 0:m.deliveryPartnerId]}),C.jsx("hr",{}),C.jsx("h6",{children:"Purchased Items:"}),C.jsx($l,{children:(y=m.purchasedItems)==null?void 0:y.map((_,E)=>C.jsx($l.Item,{children:C.jsx(Tv,{id:_.id,..._},_.id)},E))})]})]},m.orderId)})]}):C.jsx(qc,{variant:"warning",className:"mt-5 text-center",children:"No orders found."})},hi=({children:n,status:e})=>{const t=er(),i=(e==null?void 0:e.requiresAdmin)||!1,a=(e==null?void 0:e.requiresLogin)||!1,l=(e==null?void 0:e.deliveryScreen)||!1;return i&&(t!=null&&t.isAdmin)||a&&(t!=null&&t.user)||l&&(t!=null&&t.isDeliveryPartner)||!i&&!a?n:C.jsx("div",{className:"text-center mt-5",children:C.jsx("h3",{children:"Please Login to view content"})})},Dj=()=>{const n=er(),[e,t]=R.useState([]),[i,a]=R.useState(!0);Cr();const l=async()=>{var f;try{const m=(f=n==null?void 0:n.user)==null?void 0:f.uid,y=await n.fetchOrdersForDeliveryAgent(m),E=(await Promise.all(y.map(async A=>{const k=await n.fetchPurchasedItemWithDetails(A.purchasedItems);return{...A,purchasedItems:k}}))).sort((A,k)=>new Date(k._createdDate)-new Date(A._createdDate));t(E)}catch(m){console.error("Error fetching orders:",m)}finally{a(!1)}};R.useEffect(()=>{l()},[n]);const c=async(f,m)=>{a(!0),await n.updateOrderStatus(f,m),await l(),a(!1)},h=f=>f?new Date(f).toLocaleString("en-GB",{year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"";return i?C.jsxs("div",{className:"text-center mt-5",children:[C.jsx(Ho,{animation:"border"}),C.jsx("p",{children:"Loading orders..."})]}):e!=null&&e.length?C.jsxs("div",{className:"container mt-5",children:[C.jsx("h3",{className:"mb-4",children:"My Orders"}),e==null?void 0:e.map(f=>{var m;return C.jsxs(yt,{className:"mb-3",children:[C.jsx(yt.Header,{children:C.jsxs("h5",{children:["Order ID: ",f.orderId]})}),C.jsxs(yt.Body,{children:[C.jsxs("h6",{children:["Status: ",f.status]}),C.jsxs("h6",{children:["Final Price: ",f.finalPrice]}),C.jsxs("h6",{children:["Address: ",f==null?void 0:f.address]}),(f==null?void 0:f._createdDate)&&C.jsxs("h6",{children:["Created Date:"," ",h(f==null?void 0:f._createdDate)]}),C.jsx("hr",{}),C.jsx("h6",{children:"Purchased Items:"}),C.jsx($l,{children:(m=f.purchasedItems)==null?void 0:m.map((y,_)=>C.jsx($l.Item,{children:C.jsx(Tv,{id:y.id,...y},y.id)},_))}),C.jsx(Qr,{onClick:()=>{c(f.id,"Delivered")},variant:"success",disabled:f.status==="Delivered"||f.status==="Cancelled",children:"Order delivered"}),C.jsx(Qr,{onClick:()=>{c(f.id,"Cancelled")},variant:"danger",disabled:f.status==="Delivered"||f.status==="Cancelled",children:"Order Cancelled"})]})]},f.orderId)})]}):C.jsx(qc,{variant:"warning",className:"mt-5 text-center",children:"No orders found."})};function Nj(){return C.jsxs("div",{children:[C.jsx(mj,{}),C.jsx(_V,{}),C.jsxs(eO,{children:[C.jsx(Kr,{path:"/",element:C.jsx(hi,{children:C.jsx(pw,{})})}),C.jsx(Kr,{path:"/login",element:C.jsx(hi,{children:C.jsx(hj,{})})}),C.jsx(Kr,{path:"/register",element:C.jsx(hi,{children:C.jsx(dj,{})})}),C.jsx(Kr,{path:"/products",element:C.jsx(hi,{children:C.jsx(pw,{})})}),C.jsx(Kr,{path:"/products/new",element:C.jsx(hi,{status:{requiresAdmin:!0},children:C.jsx(vj,{})})}),C.jsx(Kr,{path:"/products/:productId",element:C.jsx(hi,{status:{},children:C.jsx(gj,{})})}),C.jsx(Kr,{path:"/products/:productId/variants/new",element:C.jsx(hi,{status:{requiresAdmin:!0},children:C.jsx(yj,{})})}),C.jsx(Kr,{path:"/cart",element:C.jsx(hi,{status:{requiresLogin:!0},children:C.jsx(Aj,{})})}),C.jsx(Kr,{path:"/orders/delivery-partner",element:C.jsx(hi,{status:{deliveryScreen:!0},children:C.jsx(Dj,{})})}),C.jsx(Kr,{path:"/orders",element:C.jsx(hi,{status:{requiresLogin:!0},children:C.jsx(Ij,{})})}),C.jsx(Kr,{path:"/orders/all",element:C.jsx(hi,{status:{requiresAdmin:!0},children:C.jsx(xj,{})})})]})]})}const kj="/hotel-bites";cI.createRoot(document.getElementById("root")).render(C.jsx(SO,{basename:kj,children:C.jsx(TV,{children:C.jsx(Nj,{})})}));
