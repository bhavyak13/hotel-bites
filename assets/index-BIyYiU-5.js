(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Hh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gm={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function eR(){if(M_)return Bl;M_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Bl.Fragment=e,Bl.jsx=t,Bl.jsxs=t,Bl}var V_;function tR(){return V_||(V_=1,gm.exports=eR()),gm.exports}var k=tR(),ym={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function nR(){if(k_)return Ie;k_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,G={};function j(V,te,de){this.props=V,this.context=te,this.refs=G,this.updater=de||D}j.prototype.isReactComponent={},j.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function K(){}K.prototype=j.prototype;function J(V,te,de){this.props=V,this.context=te,this.refs=G,this.updater=de||D}var Y=J.prototype=new K;Y.constructor=J,x(Y,j.prototype),Y.isPureReactComponent=!0;var oe=Array.isArray,ae={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function M(V,te,de,ue,se,Ee){return de=Ee.ref,{$$typeof:i,type:V,key:te,ref:de!==void 0?de:null,props:Ee}}function C(V,te){return M(V.type,te,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function O(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return te[de]})}var P=/\/+/g;function z(V,te){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):te.toString(36)}function N(){}function it(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(N,N):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function rt(V,te,de,ue,se){var Ee=typeof V;(Ee==="undefined"||Ee==="boolean")&&(V=null);var Ce=!1;if(V===null)Ce=!0;else switch(Ee){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(V.$$typeof){case i:case e:Ce=!0;break;case E:return Ce=V._init,rt(Ce(V._payload),te,de,ue,se)}}if(Ce)return se=se(V),Ce=ue===""?"."+z(V,0):ue,oe(se)?(de="",Ce!=null&&(de=Ce.replace(P,"$&/")+"/"),rt(se,te,de,"",function(et){return et})):se!=null&&(R(se)&&(se=C(se,de+(se.key==null||V&&V.key===se.key?"":(""+se.key).replace(P,"$&/")+"/")+Ce)),te.push(se)),1;Ce=0;var ht=ue===""?".":ue+":";if(oe(V))for(var je=0;je<V.length;je++)ue=V[je],Ee=ht+z(ue,je),Ce+=rt(ue,te,de,Ee,se);else if(je=b(V),typeof je=="function")for(V=je.call(V),je=0;!(ue=V.next()).done;)ue=ue.value,Ee=ht+z(ue,je++),Ce+=rt(ue,te,de,Ee,se);else if(Ee==="object"){if(typeof V.then=="function")return rt(it(V),te,de,ue,se);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function ie(V,te,de){if(V==null)return V;var ue=[],se=0;return rt(V,ue,"","",function(Ee){return te.call(de,Ee,se++)}),ue}function pe(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var ce=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ue(){}return Ie.Children={map:ie,forEach:function(V,te,de){ie(V,function(){te.apply(this,arguments)},de)},count:function(V){var te=0;return ie(V,function(){te++}),te},toArray:function(V){return ie(V,function(te){return te})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ie.Component=j,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=J,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ie.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ie.cache=function(V){return function(){return V.apply(null,arguments)}},Ie.cloneElement=function(V,te,de){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=x({},V.props),se=V.key,Ee=void 0;if(te!=null)for(Ce in te.ref!==void 0&&(Ee=void 0),te.key!==void 0&&(se=""+te.key),te)!le.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(ue[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=de;else if(1<Ce){for(var ht=Array(Ce),je=0;je<Ce;je++)ht[je]=arguments[je+2];ue.children=ht}return M(V.type,se,void 0,void 0,Ee,ue)},Ie.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ie.createElement=function(V,te,de){var ue,se={},Ee=null;if(te!=null)for(ue in te.key!==void 0&&(Ee=""+te.key),te)le.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(se[ue]=te[ue]);var Ce=arguments.length-2;if(Ce===1)se.children=de;else if(1<Ce){for(var ht=Array(Ce),je=0;je<Ce;je++)ht[je]=arguments[je+2];se.children=ht}if(V&&V.defaultProps)for(ue in Ce=V.defaultProps,Ce)se[ue]===void 0&&(se[ue]=Ce[ue]);return M(V,Ee,void 0,void 0,null,se)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:d,render:V}},Ie.isValidElement=R,Ie.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:pe}},Ie.memo=function(V,te){return{$$typeof:g,type:V,compare:te===void 0?null:te}},Ie.startTransition=function(V){var te=ae.T,de={};ae.T=de;try{var ue=V(),se=ae.S;se!==null&&se(de,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ue,ce)}catch(Ee){ce(Ee)}finally{ae.T=te}},Ie.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ie.use=function(V){return ae.H.use(V)},Ie.useActionState=function(V,te,de){return ae.H.useActionState(V,te,de)},Ie.useCallback=function(V,te){return ae.H.useCallback(V,te)},Ie.useContext=function(V){return ae.H.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V,te){return ae.H.useDeferredValue(V,te)},Ie.useEffect=function(V,te){return ae.H.useEffect(V,te)},Ie.useId=function(){return ae.H.useId()},Ie.useImperativeHandle=function(V,te,de){return ae.H.useImperativeHandle(V,te,de)},Ie.useInsertionEffect=function(V,te){return ae.H.useInsertionEffect(V,te)},Ie.useLayoutEffect=function(V,te){return ae.H.useLayoutEffect(V,te)},Ie.useMemo=function(V,te){return ae.H.useMemo(V,te)},Ie.useOptimistic=function(V,te){return ae.H.useOptimistic(V,te)},Ie.useReducer=function(V,te,de){return ae.H.useReducer(V,te,de)},Ie.useRef=function(V){return ae.H.useRef(V)},Ie.useState=function(V){return ae.H.useState(V)},Ie.useSyncExternalStore=function(V,te,de){return ae.H.useSyncExternalStore(V,te,de)},Ie.useTransition=function(){return ae.H.useTransition()},Ie.version="19.0.0",Ie}var P_;function Sp(){return P_||(P_=1,ym.exports=nR()),ym.exports}var w=Sp();const Zi=Hh(w);var vm={exports:{}},zl={},_m={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function iR(){return L_||(L_=1,function(i){function e(ie,pe){var ce=ie.length;ie.push(pe);e:for(;0<ce;){var Ue=ce-1>>>1,V=ie[Ue];if(0<o(V,pe))ie[Ue]=pe,ie[ce]=V,ce=Ue;else break e}}function t(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var pe=ie[0],ce=ie.pop();if(ce!==pe){ie[0]=ce;e:for(var Ue=0,V=ie.length,te=V>>>1;Ue<te;){var de=2*(Ue+1)-1,ue=ie[de],se=de+1,Ee=ie[se];if(0>o(ue,ce))se<V&&0>o(Ee,ue)?(ie[Ue]=Ee,ie[se]=ce,Ue=se):(ie[Ue]=ue,ie[de]=ce,Ue=de);else if(se<V&&0>o(Ee,ce))ie[Ue]=Ee,ie[se]=ce,Ue=se;else break e}}return pe}function o(ie,pe){var ce=ie.sortIndex-pe.sortIndex;return ce!==0?ce:ie.id-pe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],E=1,T=null,b=3,D=!1,x=!1,G=!1,j=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function Y(ie){for(var pe=t(g);pe!==null;){if(pe.callback===null)s(g);else if(pe.startTime<=ie)s(g),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=t(g)}}function oe(ie){if(G=!1,Y(ie),!x)if(t(p)!==null)x=!0,it();else{var pe=t(g);pe!==null&&rt(oe,pe.startTime-ie)}}var ae=!1,le=-1,M=5,C=-1;function R(){return!(i.unstable_now()-C<M)}function O(){if(ae){var ie=i.unstable_now();C=ie;var pe=!0;try{e:{x=!1,G&&(G=!1,K(le),le=-1),D=!0;var ce=b;try{t:{for(Y(ie),T=t(p);T!==null&&!(T.expirationTime>ie&&R());){var Ue=T.callback;if(typeof Ue=="function"){T.callback=null,b=T.priorityLevel;var V=Ue(T.expirationTime<=ie);if(ie=i.unstable_now(),typeof V=="function"){T.callback=V,Y(ie),pe=!0;break t}T===t(p)&&s(p),Y(ie)}else s(p);T=t(p)}if(T!==null)pe=!0;else{var te=t(g);te!==null&&rt(oe,te.startTime-ie),pe=!1}}break e}finally{T=null,b=ce,D=!1}pe=void 0}}finally{pe?P():ae=!1}}}var P;if(typeof J=="function")P=function(){J(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,N=z.port2;z.port1.onmessage=O,P=function(){N.postMessage(null)}}else P=function(){j(O,0)};function it(){ae||(ae=!0,P())}function rt(ie,pe){le=j(function(){ie(i.unstable_now())},pe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ie){ie.callback=null},i.unstable_continueExecution=function(){x||D||(x=!0,it())},i.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ie?Math.floor(1e3/ie):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(ie){switch(b){case 1:case 2:case 3:var pe=3;break;default:pe=b}var ce=b;b=pe;try{return ie()}finally{b=ce}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ie,pe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ce=b;b=ie;try{return pe()}finally{b=ce}},i.unstable_scheduleCallback=function(ie,pe,ce){var Ue=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ue+ce:Ue):ce=Ue,ie){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ce+V,ie={id:E++,callback:pe,priorityLevel:ie,startTime:ce,expirationTime:V,sortIndex:-1},ce>Ue?(ie.sortIndex=ce,e(g,ie),t(p)===null&&ie===t(g)&&(G?(K(le),le=-1):G=!0,rt(oe,ce-Ue))):(ie.sortIndex=V,e(p,ie),x||D||(x=!0,it())),ie},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(ie){var pe=b;return function(){var ce=b;b=pe;try{return ie.apply(this,arguments)}finally{b=ce}}}}(Em)),Em}var U_;function rR(){return U_||(U_=1,_m.exports=iR()),_m.exports}var Tm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function sR(){if(j_)return Wt;j_=1;var i=Sp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Wt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:D}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var B_;function BT(){if(B_)return Tm.exports;B_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Tm.exports=sR(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function aR(){if(z_)return zl;z_=1;var i=rR(),e=Sp(),t=BT();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),D=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),oe=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function le(n){return n===null||typeof n!="object"?null:(n=ae&&n[ae]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function C(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case G:return"Suspense";case j:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case D:return(n.displayName||"Context")+".Provider";case b:return(n._context.displayName||"Context")+".Consumer";case x:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case K:return r=n.displayName||null,r!==null?r:C(n.type)||"Memo";case J:r=n._payload,n=n._init;try{return C(n(r))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,P,z;function N(n){if(P===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);P=r&&r[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+n+z}var it=!1;function rt(n,r){if(!n||it)return"";it=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var F=Q}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(Q){F=Q}n.call(ee.prototype)}}else{try{throw Error()}catch(Q){F=Q}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],S=m[1];if(_&&S){var I=_.split(`
`),U=S.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===U.length)for(l=I.length-1,f=U.length-1;1<=l&&0<=f&&I[l]!==U[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==U[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==U[f]){var X=`
`+I[l].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=l&&0<=f);break}}}finally{it=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?N(a):""}function ie(n){switch(n.tag){case 26:case 27:case 5:return N(n.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return n=rt(n.type,!1),n;case 11:return n=rt(n.type.render,!1),n;case 1:return n=rt(n.type,!0),n;default:return""}}function pe(n){try{var r="";do r+=ie(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ce(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,r.flags&4098&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Ue(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function V(n){if(ce(n)!==n)throw Error(s(188))}function te(n){var r=n.alternate;if(!r){if(r=ce(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return V(f),n;if(m===l)return V(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=m;break}if(S===l){_=!0,l=f,a=m;break}S=S.sibling}if(!_){for(S=m.child;S;){if(S===a){_=!0,a=m,l=f;break}if(S===l){_=!0,l=m,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function de(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=de(n),r!==null)return r;n=n.sibling}return null}var ue=Array.isArray,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Ce=[],ht=-1;function je(n){return{current:n}}function et(n){0>ht||(n.current=Ce[ht],Ce[ht]=null,ht--)}function Fe(n,r){ht++,Ce[ht]=n.current,n.current=r}var Bt=je(null),Tn=je(null),Qt=je(null),fn=je(null);function Qe(n,r){switch(Fe(Qt,r),Fe(Tn,n),Fe(Bt,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?l_(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=l_(n),r=u_(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}et(Bt),Fe(Bt,r)}function Sn(){et(Bt),et(Tn),et(Qt)}function Ai(n){n.memoizedState!==null&&Fe(fn,n);var r=Bt.current,a=u_(r,n.type);r!==a&&(Fe(Tn,n),Fe(Bt,a))}function da(n){Tn.current===n&&(et(Bt),et(Tn)),fn.current===n&&(et(fn),kl._currentValue=Ee)}var ma=Object.prototype.hasOwnProperty,_s=i.unstable_scheduleCallback,pa=i.unstable_cancelCallback,vf=i.unstable_shouldYield,Po=i.unstable_requestPaint,ln=i.unstable_now,Iu=i.unstable_getCurrentPriorityLevel,At=i.unstable_ImmediatePriority,xt=i.unstable_UserBlockingPriority,bi=i.unstable_NormalPriority,Du=i.unstable_LowPriority,Lo=i.unstable_IdlePriority,_f=i.log,Es=i.unstable_setDisableYieldValue,pr=null,Yt=null;function Uo(n){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(pr,n,void 0,(n.current.flags&128)===128)}catch{}}function Wn(n){if(typeof _f=="function"&&Es(n),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(pr,n)}catch{}}var nn=Math.clz32?Math.clz32:Ou,jo=Math.log,Nu=Math.LN2;function Ou(n){return n>>>=0,n===0?32:31-(jo(n)/Nu|0)|0}var Zn=128,gr=4194304;function Hn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function An(n,r){var a=n.pendingLanes;if(a===0)return 0;var l=0,f=n.suspendedLanes,m=n.pingedLanes,_=n.warmLanes;n=n.finishedLanes!==0;var S=a&134217727;return S!==0?(a=S&~f,a!==0?l=Hn(a):(m&=S,m!==0?l=Hn(m):n||(_=S&~_,_!==0&&(l=Hn(_))))):(S=a&~f,S!==0?l=Hn(S):m!==0?l=Hn(m):n||(_=a&~_,_!==0&&(l=Hn(_)))),l===0?0:r!==0&&r!==l&&!(r&f)&&(f=l&-l,_=r&-r,f>=_||f===32&&(_&4194176)!==0)?r:l}function yr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ga(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var n=Zn;return Zn<<=1,!(Zn&4194176)&&(Zn=128),n}function vr(){var n=gr;return gr<<=1,!(gr&62914560)&&(gr=4194304),n}function ya(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function gt(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function xu(n,r,a,l,f,m){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,I=n.expirationTimes,U=n.hiddenUpdates;for(a=_&~a;0<a;){var X=31-nn(a),ee=1<<X;S[X]=0,I[X]=-1;var F=U[X];if(F!==null)for(U[X]=null,X=0;X<F.length;X++){var Q=F[X];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&_r(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(_&~r))}function _r(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-nn(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function Er(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-nn(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function Mu(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function Vu(){var n=se.p;return n!==0?n:(n=window.event,n===void 0?32:C_(n.type))}function Tr(n,r){var a=se.p;try{return se.p=n,r()}finally{se.p=a}}var Jn=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Jn,bt="__reactProps$"+Jn,wi="__reactContainer$"+Jn,Ts="__reactEvents$"+Jn,va="__reactListeners$"+Jn,ei="__reactHandles$"+Jn,zo="__reactResources$"+Jn,Sr="__reactMarker$"+Jn;function Ss(n){delete n[Mt],delete n[bt],delete n[Ts],delete n[va],delete n[ei]}function qn(n){var r=n[Mt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[wi]||a[Mt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=f_(n);n!==null;){if(a=n[Mt])return a;n=f_(n)}return r}n=a,a=n.parentNode}return null}function Ri(n){if(n=n[Mt]||n[wi]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Ar(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function br(n){var r=n[zo];return r||(r=n[zo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function at(n){n[Sr]=!0}var Ho=new Set,_a={};function dn(n,r){un(n,r),un(n+"Capture",r)}function un(n,r){for(_a[n]=r,n=0;n<r.length;n++)Ho.add(r[n])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ef=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qo={},Fo={};function ku(n){return ma.call(Fo,n)?!0:ma.call(qo,n)?!1:Ef.test(n)?Fo[n]=!0:(qo[n]=!0,!1)}function wr(n,r,a){if(ku(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Rr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function bn(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Pu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Tf(n){var r=Pu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){l=""+_,m.call(this,_)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function As(n){n._valueTracker||(n._valueTracker=Tf(n))}function Go(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Pu(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ea(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ci=/[\n"\\]/g;function ft(n){return n.replace(Ci,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Cr(n,r,a,l,f,m,_,S){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+rn(r)):n.value!==""+rn(r)&&(n.value=""+rn(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?Ta(n,_,rn(r)):a!=null?Ta(n,_,rn(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+rn(S):n.removeAttribute("name")}function bs(n,r,a,l,f,m,_,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+rn(a):"",r=r!=null?""+rn(r):a,S||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function Ta(n,r,a){r==="number"&&Ea(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ge(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+rn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function ws(n,r,a){if(r!=null&&(r=""+rn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+rn(a):""}function Ir(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ue(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=rn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function wn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Sf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Sf.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Lu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&$o(n,f,l)}else for(var m in r)r.hasOwnProperty(m)&&$o(n,m,r[m])}function Ko(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Af=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ti(n){return bf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Rn=null;function Sa(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ii=null,Di=null;function Ni(n){var r=Ri(n);if(r&&(n=r.stateNode)){var a=n[bt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Cr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ft(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[bt]||null;if(!f)throw Error(s(90));Cr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Go(l)}break e;case"textarea":ws(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ge(n,!!a.multiple,r,!1)}}}var Qo=!1;function Uu(n,r,a){if(Qo)return n(r,a);Qo=!0;try{var l=n(r);return l}finally{if(Qo=!1,(Ii!==null||Di!==null)&&(Dc(),Ii&&(r=Ii,n=Di,Di=Ii=null,Ni(r),n)))for(r=0;r<n.length;r++)Ni(n[r])}}function Rs(n,r){var a=n.stateNode;if(a===null)return null;var l=a[bt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Cn=!1;if(mn)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Cn=!1}var ni=null,Dr=null,Oi=null;function Yo(){if(Oi)return Oi;var n,r=Dr,a=r.length,l,f="value"in ni?ni.value:ni.textContent,m=f.length;for(n=0;n<a&&r[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&r[a-l]===f[m-l];l++);return Oi=f.slice(n,1<l?1-l:void 0)}function ii(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ri(){return!0}function Xo(){return!1}function Vt(n){function r(a,l,f,m,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ri:Xo,this.isPropagationStopped=Xo,this}return O(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),r}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=Vt(Ye),Is=O({},Ye,{view:0,detail:0}),ju=Vt(Is),ba,wa,si,Ds=O({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==si&&(si&&n.type==="mousemove"?(ba=n.screenX-si.screenX,wa=n.screenY-si.screenY):wa=ba=0,si=n),ba)},movementY:function(n){return"movementY"in n?n.movementY:wa}}),In=Vt(Ds),Bu=O({},Ds,{dataTransfer:0}),wf=Vt(Bu),Ns=O({},Is,{relatedTarget:0}),Ra=Vt(Ns),Wo=O({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),Ca=Vt(Wo),zu=O({},Ye,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ia=Vt(zu),Rf=O({},Ye,{data:0}),Zo=Vt(Rf),Os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=qu[n])?!!r[n]:!1}function xs(){return Jo}var Fu=O({},Is,{key:function(n){if(n.key){var r=Os[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ii(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Hu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(n){return n.type==="keypress"?ii(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ii(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Da=Vt(Fu),Gu=O({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Vt(Gu),xi=O({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),$u=Vt(xi),Ku=O({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=Vt(Ku),Yu=O({},Ds,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Na=Vt(Yu),sn=O({},Ye,{newState:0,oldState:0}),Xu=Vt(sn),Wu=[9,13,27,32],ai=mn&&"CompositionEvent"in window,c=null;mn&&"documentMode"in document&&(c=document.documentMode);var y=mn&&"TextEvent"in window&&!c,v=mn&&(!ai||c&&8<c&&11>=c),A=" ",H=!1;function $(n,r){switch(n){case"keyup":return Wu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Be=!1;function wt(n,r){switch(n){case"compositionend":return re(r);case"keypress":return r.which!==32?null:(H=!0,A);case"textInput":return n=r.data,n===A&&H?null:n;default:return null}}function ze(n,r){if(Be)return n==="compositionend"||!ai&&$(n,r)?(n=Yo(),Oi=Dr=ni=null,Be=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!kt[n.type]:r==="textarea"}function Mi(n,r,a,l){Ii?Di?Di.push(l):Di=[l]:Ii=l,r=Vc(r,"onChange"),0<r.length&&(a=new Aa("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var zt=null,oi=null;function tl(n){i_(n,0)}function Zu(n){var r=Ar(n);if(Go(r))return n}function xg(n,r){if(n==="change")return r}var Mg=!1;if(mn){var Cf;if(mn){var If="oninput"in document;if(!If){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),If=typeof Vg.oninput=="function"}Cf=If}else Cf=!1;Mg=Cf&&(!document.documentMode||9<document.documentMode)}function kg(){zt&&(zt.detachEvent("onpropertychange",Pg),oi=zt=null)}function Pg(n){if(n.propertyName==="value"&&Zu(oi)){var r=[];Mi(r,oi,n,Sa(n)),Uu(tl,r)}}function Nb(n,r,a){n==="focusin"?(kg(),zt=r,oi=a,zt.attachEvent("onpropertychange",Pg)):n==="focusout"&&kg()}function Ob(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Zu(oi)}function xb(n,r){if(n==="click")return Zu(r)}function Mb(n,r){if(n==="input"||n==="change")return Zu(r)}function Vb(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var pn=typeof Object.is=="function"?Object.is:Vb;function nl(n,r){if(pn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ma.call(r,f)||!pn(n[f],r[f]))return!1}return!0}function Lg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ug(n,r){var a=Lg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Lg(a)}}function jg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?jg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Bg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ea(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ea(n.document)}return r}function Df(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function kb(n,r){var a=Bg(r);r=n.focusedElem;var l=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&jg(r.ownerDocument.documentElement,r)){if(l!==null&&Df(r)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,m=Math.min(l.start,f);l=l.end===void 0?m:Math.min(l.end,f),!a.extend&&m>l&&(f=l,l=m,m=f),f=Ug(r,m);var _=Ug(r,l);f&&_&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),m>l?(a.addRange(n),a.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Pb=mn&&"documentMode"in document&&11>=document.documentMode,Oa=null,Nf=null,il=null,Of=!1;function zg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Of||Oa==null||Oa!==Ea(l)||(l=Oa,"selectionStart"in l&&Df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=Vc(Nf,"onSelect"),0<l.length&&(r=new Aa("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Oa)))}function Ms(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var xa={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},xf={},Hg={};mn&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Vs(n){if(xf[n])return xf[n];if(!xa[n])return n;var r=xa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Hg)return xf[n]=r[a];return n}var qg=Vs("animationend"),Fg=Vs("animationiteration"),Gg=Vs("animationstart"),Lb=Vs("transitionrun"),Ub=Vs("transitionstart"),jb=Vs("transitioncancel"),$g=Vs("transitionend"),Kg=new Map,Qg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Fn(n,r){Kg.set(n,r),dn(r,[n])}var Dn=[],Ma=0,Mf=0;function Ju(){for(var n=Ma,r=Mf=Ma=0;r<n;){var a=Dn[r];Dn[r++]=null;var l=Dn[r];Dn[r++]=null;var f=Dn[r];Dn[r++]=null;var m=Dn[r];if(Dn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}m!==0&&Yg(a,f,m)}}function ec(n,r,a,l){Dn[Ma++]=n,Dn[Ma++]=r,Dn[Ma++]=a,Dn[Ma++]=l,Mf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Vf(n,r,a,l){return ec(n,r,a,l),tc(n)}function Nr(n,r){return ec(n,null,null,r),tc(n)}function Yg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;f&&r!==null&&n.tag===3&&(m=n.stateNode,f=31-nn(a),m=m.hiddenUpdates,n=m[f],n===null?m[f]=[r]:n.push(r),r.lane=a|536870912)}function tc(n){if(50<Il)throw Il=0,Bd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Va={},Xg=new WeakMap;function Nn(n,r){if(typeof n=="object"&&n!==null){var a=Xg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:pe(r)},Xg.set(n,r),r)}return{value:n,source:r,stack:pe(r)}}var ka=[],Pa=0,nc=null,ic=0,On=[],xn=0,ks=null,Vi=1,ki="";function Ps(n,r){ka[Pa++]=ic,ka[Pa++]=nc,nc=n,ic=r}function Wg(n,r,a){On[xn++]=Vi,On[xn++]=ki,On[xn++]=ks,ks=n;var l=Vi;n=ki;var f=32-nn(l)-1;l&=~(1<<f),a+=1;var m=32-nn(r)+f;if(30<m){var _=f-f%5;m=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Vi=1<<32-nn(r)+f|a<<f|l,ki=m+n}else Vi=1<<m|a<<f|l,ki=n}function kf(n){n.return!==null&&(Ps(n,1),Wg(n,1,0))}function Pf(n){for(;n===nc;)nc=ka[--Pa],ka[Pa]=null,ic=ka[--Pa],ka[Pa]=null;for(;n===ks;)ks=On[--xn],On[xn]=null,ki=On[--xn],On[xn]=null,Vi=On[--xn],On[xn]=null}var an=null,Ht=null,$e=!1,Gn=null,li=!1,Lf=Error(s(519));function Ls(n){var r=Error(s(418,""));throw al(Nn(r,n)),Lf}function Zg(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Mt]=n,r[bt]=l,a){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(a=0;a<Nl.length;a++)ke(Nl[a],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),bs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),As(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Ir(r,l.value,l.defaultValue,l.children),As(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||o_(r.textContent,a)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=kc),r=!0):r=!1,r||Ls(n)}function Jg(n){for(an=n.return;an;)switch(an.tag){case 3:case 27:li=!0;return;case 5:case 13:li=!1;return;default:an=an.return}}function rl(n){if(n!==an)return!1;if(!$e)return Jg(n),$e=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||im(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&Ht&&Ls(n),Jg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Ht=Kn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Ht=null}}else Ht=an?Kn(n.stateNode.nextSibling):null;return!0}function sl(){Ht=an=null,$e=!1}function al(n){Gn===null?Gn=[n]:Gn.push(n)}var ol=Error(s(460)),ey=Error(s(474)),Uf={then:function(){}};function ty(n){return n=n.status,n==="fulfilled"||n==="rejected"}function rc(){}function ny(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(rc,rc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===ol?Error(s(483)):n;default:if(typeof r.status=="string")r.then(rc,rc);else{if(n=tt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===ol?Error(s(483)):n}throw ll=r,ol}}var ll=null;function iy(){if(ll===null)throw Error(s(459));var n=ll;return ll=null,n}var La=null,ul=0;function sc(n){var r=ul;return ul+=1,La===null&&(La=[]),ny(La,n,r)}function cl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function ac(n,r){throw r.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function ry(n){var r=n._init;return r(n._payload)}function sy(n){function r(B,L){if(n){var q=B.deletions;q===null?(B.deletions=[L],B.flags|=16):q.push(L)}}function a(B,L){if(!n)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=Hr(B,L),B.index=0,B.sibling=null,B}function m(B,L,q){return B.index=q,n?(q=B.alternate,q!==null?(q=q.index,q<L?(B.flags|=33554434,L):q):(B.flags|=33554434,L)):(B.flags|=1048576,L)}function _(B){return n&&B.alternate===null&&(B.flags|=33554434),B}function S(B,L,q,W){return L===null||L.tag!==6?(L=xd(q,B.mode,W),L.return=B,L):(L=f(L,q),L.return=B,L)}function I(B,L,q,W){var fe=q.type;return fe===p?X(B,L,q.props.children,W,q.key):L!==null&&(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===J&&ry(fe)===L.type)?(L=f(L,q.props),cl(L,q),L.return=B,L):(L=bc(q.type,q.key,q.props,null,B.mode,W),cl(L,q),L.return=B,L)}function U(B,L,q,W){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=Md(q,B.mode,W),L.return=B,L):(L=f(L,q.children||[]),L.return=B,L)}function X(B,L,q,W,fe){return L===null||L.tag!==7?(L=Ks(q,B.mode,W,fe),L.return=B,L):(L=f(L,q),L.return=B,L)}function ee(B,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=xd(""+L,B.mode,q),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case h:return q=bc(L.type,L.key,L.props,null,B.mode,q),cl(q,L),q.return=B,q;case d:return L=Md(L,B.mode,q),L.return=B,L;case J:var W=L._init;return L=W(L._payload),ee(B,L,q)}if(ue(L)||le(L))return L=Ks(L,B.mode,q,null),L.return=B,L;if(typeof L.then=="function")return ee(B,sc(L),q);if(L.$$typeof===D)return ee(B,Tc(B,L),q);ac(B,L)}return null}function F(B,L,q,W){var fe=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return fe!==null?null:S(B,L,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return q.key===fe?I(B,L,q,W):null;case d:return q.key===fe?U(B,L,q,W):null;case J:return fe=q._init,q=fe(q._payload),F(B,L,q,W)}if(ue(q)||le(q))return fe!==null?null:X(B,L,q,W,null);if(typeof q.then=="function")return F(B,L,sc(q),W);if(q.$$typeof===D)return F(B,L,Tc(B,q),W);ac(B,q)}return null}function Q(B,L,q,W,fe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return B=B.get(q)||null,S(L,B,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case h:return B=B.get(W.key===null?q:W.key)||null,I(L,B,W,fe);case d:return B=B.get(W.key===null?q:W.key)||null,U(L,B,W,fe);case J:var Ne=W._init;return W=Ne(W._payload),Q(B,L,q,W,fe)}if(ue(W)||le(W))return B=B.get(q)||null,X(L,B,W,fe,null);if(typeof W.then=="function")return Q(B,L,q,sc(W),fe);if(W.$$typeof===D)return Q(B,L,q,Tc(L,W),fe);ac(L,W)}return null}function me(B,L,q,W){for(var fe=null,Ne=null,ge=L,_e=L=0,Ut=null;ge!==null&&_e<q.length;_e++){ge.index>_e?(Ut=ge,ge=null):Ut=ge.sibling;var Ke=F(B,ge,q[_e],W);if(Ke===null){ge===null&&(ge=Ut);break}n&&ge&&Ke.alternate===null&&r(B,ge),L=m(Ke,L,_e),Ne===null?fe=Ke:Ne.sibling=Ke,Ne=Ke,ge=Ut}if(_e===q.length)return a(B,ge),$e&&Ps(B,_e),fe;if(ge===null){for(;_e<q.length;_e++)ge=ee(B,q[_e],W),ge!==null&&(L=m(ge,L,_e),Ne===null?fe=ge:Ne.sibling=ge,Ne=ge);return $e&&Ps(B,_e),fe}for(ge=l(ge);_e<q.length;_e++)Ut=Q(ge,B,_e,q[_e],W),Ut!==null&&(n&&Ut.alternate!==null&&ge.delete(Ut.key===null?_e:Ut.key),L=m(Ut,L,_e),Ne===null?fe=Ut:Ne.sibling=Ut,Ne=Ut);return n&&ge.forEach(function(Yr){return r(B,Yr)}),$e&&Ps(B,_e),fe}function be(B,L,q,W){if(q==null)throw Error(s(151));for(var fe=null,Ne=null,ge=L,_e=L=0,Ut=null,Ke=q.next();ge!==null&&!Ke.done;_e++,Ke=q.next()){ge.index>_e?(Ut=ge,ge=null):Ut=ge.sibling;var Yr=F(B,ge,Ke.value,W);if(Yr===null){ge===null&&(ge=Ut);break}n&&ge&&Yr.alternate===null&&r(B,ge),L=m(Yr,L,_e),Ne===null?fe=Yr:Ne.sibling=Yr,Ne=Yr,ge=Ut}if(Ke.done)return a(B,ge),$e&&Ps(B,_e),fe;if(ge===null){for(;!Ke.done;_e++,Ke=q.next())Ke=ee(B,Ke.value,W),Ke!==null&&(L=m(Ke,L,_e),Ne===null?fe=Ke:Ne.sibling=Ke,Ne=Ke);return $e&&Ps(B,_e),fe}for(ge=l(ge);!Ke.done;_e++,Ke=q.next())Ke=Q(ge,B,_e,Ke.value,W),Ke!==null&&(n&&Ke.alternate!==null&&ge.delete(Ke.key===null?_e:Ke.key),L=m(Ke,L,_e),Ne===null?fe=Ke:Ne.sibling=Ke,Ne=Ke);return n&&ge.forEach(function(Jw){return r(B,Jw)}),$e&&Ps(B,_e),fe}function pt(B,L,q,W){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case h:e:{for(var fe=q.key;L!==null;){if(L.key===fe){if(fe=q.type,fe===p){if(L.tag===7){a(B,L.sibling),W=f(L,q.props.children),W.return=B,B=W;break e}}else if(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===J&&ry(fe)===L.type){a(B,L.sibling),W=f(L,q.props),cl(W,q),W.return=B,B=W;break e}a(B,L);break}else r(B,L);L=L.sibling}q.type===p?(W=Ks(q.props.children,B.mode,W,q.key),W.return=B,B=W):(W=bc(q.type,q.key,q.props,null,B.mode,W),cl(W,q),W.return=B,B=W)}return _(B);case d:e:{for(fe=q.key;L!==null;){if(L.key===fe)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){a(B,L.sibling),W=f(L,q.children||[]),W.return=B,B=W;break e}else{a(B,L);break}else r(B,L);L=L.sibling}W=Md(q,B.mode,W),W.return=B,B=W}return _(B);case J:return fe=q._init,q=fe(q._payload),pt(B,L,q,W)}if(ue(q))return me(B,L,q,W);if(le(q)){if(fe=le(q),typeof fe!="function")throw Error(s(150));return q=fe.call(q),be(B,L,q,W)}if(typeof q.then=="function")return pt(B,L,sc(q),W);if(q.$$typeof===D)return pt(B,L,Tc(B,q),W);ac(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(a(B,L.sibling),W=f(L,q),W.return=B,B=W):(a(B,L),W=xd(q,B.mode,W),W.return=B,B=W),_(B)):a(B,L)}return function(B,L,q,W){try{ul=0;var fe=pt(B,L,q,W);return La=null,fe}catch(ge){if(ge===ol)throw ge;var Ne=Pn(29,ge,null,B.mode);return Ne.lanes=W,Ne.return=B,Ne}finally{}}}var Us=sy(!0),ay=sy(!1),Ua=je(null),oc=je(0);function oy(n,r){n=$i,Fe(oc,n),Fe(Ua,r),$i=n|r.baseLanes}function jf(){Fe(oc,$i),Fe(Ua,Ua.current)}function Bf(){$i=oc.current,et(Ua),et(oc)}var Mn=je(null),ui=null;function Or(n){var r=n.alternate;Fe(Ct,Ct.current&1),Fe(Mn,n),ui===null&&(r===null||Ua.current!==null||r.memoizedState!==null)&&(ui=n)}function ly(n){if(n.tag===22){if(Fe(Ct,Ct.current),Fe(Mn,n),ui===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(ui=n)}}else xr()}function xr(){Fe(Ct,Ct.current),Fe(Mn,Mn.current)}function Pi(n){et(Mn),ui===n&&(ui=null),et(Ct)}var Ct=je(0);function lc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Bb=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},zb=i.unstable_scheduleCallback,Hb=i.unstable_NormalPriority,It={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zf(){return{controller:new Bb,data:new Map,refCount:0}}function hl(n){n.refCount--,n.refCount===0&&zb(Hb,function(){n.controller.abort()})}var fl=null,Hf=0,ja=0,Ba=null;function qb(n,r){if(fl===null){var a=fl=[];Hf=0,ja=Qd(),Ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,r.then(uy,uy),r}function uy(){if(--Hf===0&&fl!==null){Ba!==null&&(Ba.status="fulfilled");var n=fl;fl=null,ja=0,Ba=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Fb(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var cy=R.S;R.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&qb(n,r),cy!==null&&cy(n,r)};var js=je(null);function qf(){var n=js.current;return n!==null?n:tt.pooledCache}function uc(n,r){r===null?Fe(js,js.current):Fe(js,r.pool)}function hy(){var n=qf();return n===null?null:{parent:It._currentValue,pool:n}}var Mr=0,De=null,We=null,_t=null,cc=!1,za=!1,Bs=!1,hc=0,dl=0,Ha=null,Gb=0;function yt(){throw Error(s(321))}function Ff(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!pn(n[a],r[a]))return!1;return!0}function Gf(n,r,a,l,f,m){return Mr=m,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,R.H=n===null||n.memoizedState===null?zs:Vr,Bs=!1,m=a(l,f),Bs=!1,za&&(m=dy(r,a,l,f)),fy(n),m}function fy(n){R.H=ci;var r=We!==null&&We.next!==null;if(Mr=0,_t=We=De=null,cc=!1,dl=0,Ha=null,r)throw Error(s(300));n===null||Pt||(n=n.dependencies,n!==null&&Ec(n)&&(Pt=!0))}function dy(n,r,a,l){De=n;var f=0;do{if(za&&(Ha=null),dl=0,za=!1,25<=f)throw Error(s(301));if(f+=1,_t=We=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}R.H=Hs,m=r(a,l)}while(za);return m}function $b(){var n=R.H,r=n.useState()[0];return r=typeof r.then=="function"?ml(r):r,n=n.useState()[0],(We!==null?We.memoizedState:null)!==n&&(De.flags|=1024),r}function $f(){var n=hc!==0;return hc=0,n}function Kf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Qf(n){if(cc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}cc=!1}Mr=0,_t=We=De=null,za=!1,dl=hc=0,Ha=null}function cn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?De.memoizedState=_t=n:_t=_t.next=n,_t}function Et(){if(We===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var r=_t===null?De.memoizedState:_t.next;if(r!==null)_t=r,We=n;else{if(n===null)throw De.alternate===null?Error(s(467)):Error(s(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},_t===null?De.memoizedState=_t=n:_t=_t.next=n}return _t}var fc;fc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ml(n){var r=dl;return dl+=1,Ha===null&&(Ha=[]),n=ny(Ha,n,r),r=De,(_t===null?r.memoizedState:_t.next)===null&&(r=r.alternate,R.H=r===null||r.memoizedState===null?zs:Vr),n}function dc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ml(n);if(n.$$typeof===D)return Xt(n)}throw Error(s(438,String(n)))}function Yf(n){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=fc(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=oe;return r.index++,a}function Li(n,r){return typeof r=="function"?r(n):r}function mc(n){var r=Et();return Xf(r,We,n)}function Xf(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}r.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var S=_=null,I=null,U=r,X=!1;do{var ee=U.lane&-536870913;if(ee!==U.lane?(He&ee)===ee:(Mr&ee)===ee){var F=U.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ee===ja&&(X=!0);else if((Mr&F)===F){U=U.next,F===ja&&(X=!0);continue}else ee={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(S=I=ee,_=m):I=I.next=ee,De.lanes|=F,qr|=F;ee=U.action,Bs&&a(m,ee),m=U.hasEagerState?U.eagerState:a(m,ee)}else F={lane:ee,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(S=I=F,_=m):I=I.next=F,De.lanes|=ee,qr|=ee;U=U.next}while(U!==null&&U!==r);if(I===null?_=m:I.next=S,!pn(m,n.memoizedState)&&(Pt=!0,X&&(a=Ba,a!==null)))throw a;n.memoizedState=m,n.baseState=_,n.baseQueue=I,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Wf(n){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=n(m,_.action),_=_.next;while(_!==f);pn(m,r.memoizedState)||(Pt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function my(n,r,a){var l=De,f=Et(),m=$e;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!pn((We||f).memoizedState,a);if(_&&(f.memoizedState=a,Pt=!0),f=f.queue,ed(yy.bind(null,l,f,n),[n]),f.getSnapshot!==r||_||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,qa(9,gy.bind(null,l,f,a,r),{destroy:void 0},null),tt===null)throw Error(s(349));m||Mr&60||py(l,r,a)}return a}function py(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=fc(),De.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function gy(n,r,a,l){r.value=a,r.getSnapshot=l,vy(r)&&_y(n)}function yy(n,r,a){return a(function(){vy(r)&&_y(n)})}function vy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!pn(n,a)}catch{return!0}}function _y(n){var r=Nr(n,2);r!==null&&on(r,n,2)}function Zf(n){var r=cn();if(typeof n=="function"){var a=n;if(n=a(),Bs){Wn(!0);try{a()}finally{Wn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:n},r}function Ey(n,r,a,l){return n.baseState=a,Xf(n,We,typeof l=="function"?l:Li)}function Kb(n,r,a,l,f){if(yc(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};R.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Ty(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Ty(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var m=R.T,_={};R.T=_;try{var S=a(f,l),I=R.S;I!==null&&I(_,S),Sy(n,r,S)}catch(U){Jf(n,r,U)}finally{R.T=m}}else try{m=a(f,l),Sy(n,r,m)}catch(U){Jf(n,r,U)}}function Sy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ay(n,r,l)},function(l){return Jf(n,r,l)}):Ay(n,r,a)}function Ay(n,r,a){r.status="fulfilled",r.value=a,by(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Ty(n,a)))}function Jf(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,by(r),r=r.next;while(r!==l)}n.action=null}function by(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function wy(n,r){return r}function Ry(n,r){if($e){var a=tt.formState;if(a!==null){e:{var l=De;if($e){if(Ht){t:{for(var f=Ht,m=li;f.nodeType!==8;){if(!m){f=null;break t}if(f=Kn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Ht=Kn(f.nextSibling),l=f.data==="F!";break e}}Ls(l)}l=!1}l&&(r=a[0])}}return a=cn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wy,lastRenderedState:r},a.queue=l,a=Fy.bind(null,De,l),l.dispatch=a,l=Zf(!1),m=sd.bind(null,De,!1,l.queue),l=cn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=Kb.bind(null,De,f,m,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Cy(n){var r=Et();return Iy(r,We,n)}function Iy(n,r,a){r=Xf(n,r,wy)[0],n=mc(Li)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?ml(r):r;var l=Et(),f=l.queue,m=f.dispatch;return a!==l.memoizedState&&(De.flags|=2048,qa(9,Qb.bind(null,f,a),{destroy:void 0},null)),[r,m,n]}function Qb(n,r){n.action=r}function Dy(n){var r=Et(),a=We;if(a!==null)return Iy(r,a,n);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function qa(n,r,a,l){return n={tag:n,create:r,inst:a,deps:l,next:null},r=De.updateQueue,r===null&&(r=fc(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Ny(){return Et().memoizedState}function pc(n,r,a,l){var f=cn();De.flags|=n,f.memoizedState=qa(1|r,a,{destroy:void 0},l===void 0?null:l)}function gc(n,r,a,l){var f=Et();l=l===void 0?null:l;var m=f.memoizedState.inst;We!==null&&l!==null&&Ff(l,We.memoizedState.deps)?f.memoizedState=qa(r,a,m,l):(De.flags|=n,f.memoizedState=qa(1|r,a,m,l))}function Oy(n,r){pc(8390656,8,n,r)}function ed(n,r){gc(2048,8,n,r)}function xy(n,r){return gc(4,2,n,r)}function My(n,r){return gc(4,4,n,r)}function Vy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function ky(n,r,a){a=a!=null?a.concat([n]):null,gc(4,4,Vy.bind(null,r,n),a)}function td(){}function Py(n,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Ff(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Ly(n,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Ff(r,l[1]))return l[0];if(l=n(),Bs){Wn(!0);try{n()}finally{Wn(!1)}}return a.memoizedState=[l,r],l}function nd(n,r,a){return a===void 0||Mr&1073741824?n.memoizedState=r:(n.memoizedState=a,n=jv(),De.lanes|=n,qr|=n,a)}function Uy(n,r,a,l){return pn(a,r)?a:Ua.current!==null?(n=nd(n,a,l),pn(n,r)||(Pt=!0),n):Mr&42?(n=jv(),De.lanes|=n,qr|=n,r):(Pt=!0,n.memoizedState=a)}function jy(n,r,a,l,f){var m=se.p;se.p=m!==0&&8>m?m:8;var _=R.T,S={};R.T=S,sd(n,!1,r,a);try{var I=f(),U=R.S;if(U!==null&&U(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=Fb(I,l);pl(n,r,X,_n(n))}else pl(n,r,l,_n(n))}catch(ee){pl(n,r,{then:function(){},status:"rejected",reason:ee},_n())}finally{se.p=m,R.T=_}}function Yb(){}function id(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=By(n).queue;jy(n,f,r,Ee,a===null?Yb:function(){return zy(n),a(l)})}function By(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:Ee},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function zy(n){var r=By(n).next.queue;pl(n,r,{},_n())}function rd(){return Xt(kl)}function Hy(){return Et().memoizedState}function qy(){return Et().memoizedState}function Xb(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=_n();n=Lr(a);var l=Ur(r,n,a);l!==null&&(on(l,r,a),vl(l,r,a)),r={cache:zf()},n.payload=r;return}r=r.return}}function Wb(n,r,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},yc(n)?Gy(r,a):(a=Vf(n,r,a,l),a!==null&&(on(a,n,l),$y(a,r,l)))}function Fy(n,r,a){var l=_n();pl(n,r,a,l)}function pl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(yc(n))Gy(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,S=m(_,a);if(f.hasEagerState=!0,f.eagerState=S,pn(S,_))return ec(n,r,f,0),tt===null&&Ju(),!1}catch{}finally{}if(a=Vf(n,r,f,l),a!==null)return on(a,n,l),$y(a,r,l),!0}return!1}function sd(n,r,a,l){if(l={lane:2,revertLane:Qd(),action:l,hasEagerState:!1,eagerState:null,next:null},yc(n)){if(r)throw Error(s(479))}else r=Vf(n,a,l,2),r!==null&&on(r,n,2)}function yc(n){var r=n.alternate;return n===De||r!==null&&r===De}function Gy(n,r){za=cc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function $y(n,r,a){if(a&4194176){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Er(n,a)}}var ci={readContext:Xt,use:dc,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt};ci.useCacheRefresh=yt,ci.useMemoCache=yt,ci.useHostTransitionStatus=yt,ci.useFormState=yt,ci.useActionState=yt,ci.useOptimistic=yt;var zs={readContext:Xt,use:dc,useCallback:function(n,r){return cn().memoizedState=[n,r===void 0?null:r],n},useContext:Xt,useEffect:Oy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,pc(4194308,4,Vy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return pc(4194308,4,n,r)},useInsertionEffect:function(n,r){pc(4,2,n,r)},useMemo:function(n,r){var a=cn();r=r===void 0?null:r;var l=n();if(Bs){Wn(!0);try{n()}finally{Wn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=cn();if(a!==void 0){var f=a(r);if(Bs){Wn(!0);try{a(r)}finally{Wn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=Wb.bind(null,De,n),[l.memoizedState,n]},useRef:function(n){var r=cn();return n={current:n},r.memoizedState=n},useState:function(n){n=Zf(n);var r=n.queue,a=Fy.bind(null,De,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:td,useDeferredValue:function(n,r){var a=cn();return nd(a,n,r)},useTransition:function(){var n=Zf(!1);return n=jy.bind(null,De,n.queue,!0,!1),cn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=De,f=cn();if($e){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));He&60||py(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Oy(yy.bind(null,l,m,n),[n]),l.flags|=2048,qa(9,gy.bind(null,l,m,a,r),{destroy:void 0},null),a},useId:function(){var n=cn(),r=tt.identifierPrefix;if($e){var a=ki,l=Vi;a=(l&~(1<<32-nn(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=hc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=Gb++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return cn().memoizedState=Xb.bind(null,De)}};zs.useMemoCache=Yf,zs.useHostTransitionStatus=rd,zs.useFormState=Ry,zs.useActionState=Ry,zs.useOptimistic=function(n){var r=cn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=sd.bind(null,De,!0,a),a.dispatch=r,[n,r]};var Vr={readContext:Xt,use:dc,useCallback:Py,useContext:Xt,useEffect:ed,useImperativeHandle:ky,useInsertionEffect:xy,useLayoutEffect:My,useMemo:Ly,useReducer:mc,useRef:Ny,useState:function(){return mc(Li)},useDebugValue:td,useDeferredValue:function(n,r){var a=Et();return Uy(a,We.memoizedState,n,r)},useTransition:function(){var n=mc(Li)[0],r=Et().memoizedState;return[typeof n=="boolean"?n:ml(n),r]},useSyncExternalStore:my,useId:Hy};Vr.useCacheRefresh=qy,Vr.useMemoCache=Yf,Vr.useHostTransitionStatus=rd,Vr.useFormState=Cy,Vr.useActionState=Cy,Vr.useOptimistic=function(n,r){var a=Et();return Ey(a,We,n,r)};var Hs={readContext:Xt,use:dc,useCallback:Py,useContext:Xt,useEffect:ed,useImperativeHandle:ky,useInsertionEffect:xy,useLayoutEffect:My,useMemo:Ly,useReducer:Wf,useRef:Ny,useState:function(){return Wf(Li)},useDebugValue:td,useDeferredValue:function(n,r){var a=Et();return We===null?nd(a,n,r):Uy(a,We.memoizedState,n,r)},useTransition:function(){var n=Wf(Li)[0],r=Et().memoizedState;return[typeof n=="boolean"?n:ml(n),r]},useSyncExternalStore:my,useId:Hy};Hs.useCacheRefresh=qy,Hs.useMemoCache=Yf,Hs.useHostTransitionStatus=rd,Hs.useFormState=Dy,Hs.useActionState=Dy,Hs.useOptimistic=function(n,r){var a=Et();return We!==null?Ey(a,We,n,r):(a.baseState=n,[n,a.queue.dispatch])};function ad(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:O({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var od={isMounted:function(n){return(n=n._reactInternals)?ce(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var l=_n(),f=Lr(l);f.payload=r,a!=null&&(f.callback=a),r=Ur(n,f,l),r!==null&&(on(r,n,l),vl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=_n(),f=Lr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Ur(n,f,l),r!==null&&(on(r,n,l),vl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=_n(),l=Lr(a);l.tag=2,r!=null&&(l.callback=r),r=Ur(n,l,a),r!==null&&(on(r,n,a),vl(r,n,a))}};function Ky(n,r,a,l,f,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,_):r.prototype&&r.prototype.isPureReactComponent?!nl(a,l)||!nl(f,m):!0}function Qy(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&od.enqueueReplaceState(r,r.state,null)}function qs(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=O({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var vc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Yy(n){vc(n)}function Xy(n){console.error(n)}function Wy(n){vc(n)}function _c(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Zy(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ld(n,r,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){_c(n,r)},a}function Jy(n){return n=Lr(n),n.tag=3,n}function ev(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){Zy(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Zy(r,a,l),typeof f!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Zb(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&yl(r,a,f,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return ui===null?qd():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Uf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Gd(n,l,f)),!1;case 22:return a.flags|=65536,l===Uf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Gd(n,l,f)),!1}throw Error(s(435,a.tag))}return Gd(n,l,f),qd(),!1}if($e)return r=Mn.current,r!==null?(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Lf&&(n=Error(s(422),{cause:l}),al(Nn(n,a)))):(l!==Lf&&(r=Error(s(423),{cause:l}),al(Nn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Nn(l,a),f=ld(n.stateNode,l,f),Ad(n,f),mt!==4&&(mt=2)),!1;var m=Error(s(520),{cause:l});if(m=Nn(m,a),Rl===null?Rl=[m]:Rl.push(m),mt!==4&&(mt=2),r===null)return!0;l=Nn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=ld(a.stateNode,l,n),Ad(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Fr===null||!Fr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Jy(f),ev(f,n,a,l),Ad(a,f),!1}a=a.return}while(a!==null);return!1}var tv=Error(s(461)),Pt=!1;function qt(n,r,a,l){r.child=n===null?ay(r,null,a,l):Us(r,n.child,a,l)}function nv(n,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Gs(r),l=Gf(n,r,a,_,m,f),S=$f(),n!==null&&!Pt?(Kf(n,r,f),Ui(n,r,f)):($e&&S&&kf(r),r.flags|=1,qt(n,r,l,f),r.child)}function iv(n,r,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!Od(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,rv(n,r,m,l,f)):(n=bc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!yd(n,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(_,l)&&n.ref===r.ref)return Ui(n,r,f)}return r.flags|=1,n=Hr(m,l),n.ref=r.ref,n.return=r,r.child=n}function rv(n,r,a,l,f){if(n!==null){var m=n.memoizedProps;if(nl(m,l)&&n.ref===r.ref)if(Pt=!1,r.pendingProps=l=m,yd(n,f))n.flags&131072&&(Pt=!0);else return r.lanes=n.lanes,Ui(n,r,f)}return ud(n,r,a,l,f)}function sv(n,r,a){var l=r.pendingProps,f=l.children,m=(r.stateNode._pendingVisibility&2)!==0,_=n!==null?n.memoizedState:null;if(gl(n,r),l.mode==="hidden"||m){if(r.flags&128){if(l=_!==null?_.baseLanes|a:a,n!==null){for(f=r.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return av(n,r,l,a)}if(a&536870912)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&uc(r,_!==null?_.cachePool:null),_!==null?oy(r,_):jf(),ly(r);else return r.lanes=r.childLanes=536870912,av(n,r,_!==null?_.baseLanes|a:a,a)}else _!==null?(uc(r,_.cachePool),oy(r,_),xr(),r.memoizedState=null):(n!==null&&uc(r,null),jf(),xr());return qt(n,r,f,a),r.child}function av(n,r,a,l){var f=qf();return f=f===null?null:{parent:It._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&uc(r,null),jf(),ly(r),n!==null&&yl(n,r,l,!0),null}function gl(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function ud(n,r,a,l,f){return Gs(r),a=Gf(n,r,a,l,void 0,f),l=$f(),n!==null&&!Pt?(Kf(n,r,f),Ui(n,r,f)):($e&&l&&kf(r),r.flags|=1,qt(n,r,a,f),r.child)}function ov(n,r,a,l,f,m){return Gs(r),r.updateQueue=null,a=dy(r,l,a,f),fy(n),l=$f(),n!==null&&!Pt?(Kf(n,r,m),Ui(n,r,m)):($e&&l&&kf(r),r.flags|=1,qt(n,r,a,m),r.child)}function lv(n,r,a,l,f){if(Gs(r),r.stateNode===null){var m=Va,_=a.contextType;typeof _=="object"&&_!==null&&(m=Xt(_)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=od,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Td(r),_=a.contextType,m.context=typeof _=="object"&&_!==null?Xt(_):Va,m.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ad(r,a,_,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&od.enqueueReplaceState(m,m.state,null),El(r,l,m,f),_l(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){m=r.stateNode;var S=r.memoizedProps,I=qs(a,S);m.props=I;var U=m.context,X=a.contextType;_=Va,typeof X=="object"&&X!==null&&(_=Xt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||U!==_)&&Qy(r,m,l,_),Pr=!1;var F=r.memoizedState;m.state=F,El(r,l,m,f),_l(),U=r.memoizedState,S||F!==U||Pr?(typeof ee=="function"&&(ad(r,a,ee,l),U=r.memoizedState),(I=Pr||Ky(r,a,I,l,F,U,_))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=U),m.props=l,m.state=U,m.context=_,l=I):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Sd(n,r),_=r.memoizedProps,X=qs(a,_),m.props=X,ee=r.pendingProps,F=m.context,U=a.contextType,I=Va,typeof U=="object"&&U!==null&&(I=Xt(U)),S=a.getDerivedStateFromProps,(U=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ee||F!==I)&&Qy(r,m,l,I),Pr=!1,F=r.memoizedState,m.state=F,El(r,l,m,f),_l();var Q=r.memoizedState;_!==ee||F!==Q||Pr||n!==null&&n.dependencies!==null&&Ec(n.dependencies)?(typeof S=="function"&&(ad(r,a,S,l),Q=r.memoizedState),(X=Pr||Ky(r,a,X,l,F,Q,I)||n!==null&&n.dependencies!==null&&Ec(n.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,I)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),m.props=l,m.state=Q,m.context=I,l=X):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),l=!1)}return m=l,gl(n,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&l?(r.child=Us(r,n.child,null,f),r.child=Us(r,null,a,f)):qt(n,r,a,f),r.memoizedState=m.state,n=r.child):n=Ui(n,r,f),n}function uv(n,r,a,l){return sl(),r.flags|=256,qt(n,r,a,l),r.child}var cd={dehydrated:null,treeContext:null,retryLane:0};function hd(n){return{baseLanes:n,cachePool:hy()}}function fd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Ln),n}function cv(n,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,_;if((_=m)||(_=n!==null&&n.memoizedState===null?!1:(Ct.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if($e){if(f?Or(r):xr(),$e){var S=Ht,I;if(I=S){e:{for(I=S,S=li;I.nodeType!==8;){if(!S){S=null;break e}if(I=Kn(I.nextSibling),I===null){S=null;break e}}S=I}S!==null?(r.memoizedState={dehydrated:S,treeContext:ks!==null?{id:Vi,overflow:ki}:null,retryLane:536870912},I=Pn(18,null,null,0),I.stateNode=S,I.return=r,r.child=I,an=r,Ht=null,I=!0):I=!1}I||Ls(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?r.lanes=16:r.lanes=536870912,null;Pi(r)}return S=l.children,l=l.fallback,f?(xr(),f=r.mode,S=md({mode:"hidden",children:S},f),l=Ks(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,f=r.child,f.memoizedState=hd(a),f.childLanes=fd(n,_,a),r.memoizedState=cd,l):(Or(r),dd(r,S))}if(I=n.memoizedState,I!==null&&(S=I.dehydrated,S!==null)){if(m)r.flags&256?(Or(r),r.flags&=-257,r=pd(n,r,a)):r.memoizedState!==null?(xr(),r.child=n.child,r.flags|=128,r=null):(xr(),f=l.fallback,S=r.mode,l=md({mode:"visible",children:l.children},S),f=Ks(f,S,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Us(r,n.child,null,a),l=r.child,l.memoizedState=hd(a),l.childLanes=fd(n,_,a),r.memoizedState=cd,r=f);else if(Or(r),S.data==="$!"){if(_=S.nextSibling&&S.nextSibling.dataset,_)var U=_.dgst;_=U,l=Error(s(419)),l.stack="",l.digest=_,al({value:l,source:null,stack:null}),r=pd(n,r,a)}else if(Pt||yl(n,r,a,!1),_=(a&n.childLanes)!==0,Pt||_){if(_=tt,_!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(_.suspendedLanes|a)?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,Nr(n,l),on(_,n,l),tv}S.data==="$?"||qd(),r=pd(n,r,a)}else S.data==="$?"?(r.flags|=128,r.child=n.child,r=dw.bind(null,n),S._reactRetry=r,r=null):(n=I.treeContext,Ht=Kn(S.nextSibling),an=r,$e=!0,Gn=null,li=!1,n!==null&&(On[xn++]=Vi,On[xn++]=ki,On[xn++]=ks,Vi=n.id,ki=n.overflow,ks=r),r=dd(r,l.children),r.flags|=4096);return r}return f?(xr(),f=l.fallback,S=r.mode,I=n.child,U=I.sibling,l=Hr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,U!==null?f=Hr(U,f):(f=Ks(f,S,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,S=n.child.memoizedState,S===null?S=hd(a):(I=S.cachePool,I!==null?(U=It._currentValue,I=I.parent!==U?{parent:U,pool:U}:I):I=hy(),S={baseLanes:S.baseLanes|a,cachePool:I}),f.memoizedState=S,f.childLanes=fd(n,_,a),r.memoizedState=cd,l):(Or(r),a=n.child,n=a.sibling,a=Hr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=a,r.memoizedState=null,a)}function dd(n,r){return r=md({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function md(n,r){return Pv(n,r,0,null)}function pd(n,r,a){return Us(r,n.child,null,a),n=dd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function hv(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),_d(n.return,r,a)}function gd(n,r,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function fv(n,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(qt(n,r,l.children,a),l=Ct.current,l&2)l=l&1|2,r.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&hv(n,a,r);else if(n.tag===19)hv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Fe(Ct,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&lc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),gd(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&lc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}gd(r,!0,a,null,m);break;case"together":gd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ui(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),qr|=r.lanes,!(a&r.childLanes))if(n!==null){if(yl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Hr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Hr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function yd(n,r){return n.lanes&r?!0:(n=n.dependencies,!!(n!==null&&Ec(n)))}function Jb(n,r,a){switch(r.tag){case 3:Qe(r,r.stateNode.containerInfo),kr(r,It,n.memoizedState.cache),sl();break;case 27:case 5:Ai(r);break;case 4:Qe(r,r.stateNode.containerInfo);break;case 10:kr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Or(r),r.flags|=128,null):a&r.child.childLanes?cv(n,r,a):(Or(r),n=Ui(n,r,a),n!==null?n.sibling:null);Or(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(yl(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return fv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Fe(Ct,Ct.current),l)break;return null;case 22:case 23:return r.lanes=0,sv(n,r,a);case 24:kr(r,It,n.memoizedState.cache)}return Ui(n,r,a)}function dv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Pt=!0;else{if(!yd(n,a)&&!(r.flags&128))return Pt=!1,Jb(n,r,a);Pt=!!(n.flags&131072)}else Pt=!1,$e&&r.flags&1048576&&Wg(r,ic,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Od(l)?(n=qs(l,n),r.tag=1,r=lv(null,r,l,n,a)):(r.tag=0,r=ud(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===x){r.tag=11,r=nv(null,r,l,n,a);break e}else if(f===K){r.tag=14,r=iv(null,r,l,n,a);break e}}throw r=C(l)||l,Error(s(306,r,""))}}return r;case 0:return ud(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=qs(l,r.pendingProps),lv(n,r,l,f,a);case 3:e:{if(Qe(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var m=r.pendingProps;f=r.memoizedState,l=f.element,Sd(n,r),El(r,m,null,a);var _=r.memoizedState;if(m=_.cache,kr(r,It,m),m!==f.cache&&Ed(r,[It],a,!0),_l(),m=_.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=uv(n,r,m,a);break e}else if(m!==l){l=Nn(Error(s(424)),r),al(l),r=uv(n,r,m,a);break e}else for(Ht=Kn(r.stateNode.containerInfo.firstChild),an=r,$e=!0,Gn=null,li=!0,a=ay(r,null,m,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(sl(),m===l){r=Ui(n,r,a);break e}qt(n,r,m,a)}r=r.child}return r;case 26:return gl(n,r),n===null?(a=g_(r.type,null,r.pendingProps,null))?r.memoizedState=a:$e||(a=r.type,n=r.pendingProps,l=Pc(Qt.current).createElement(a),l[Mt]=r,l[bt]=n,Ft(l,a,n),at(l),r.stateNode=l):r.memoizedState=g_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Ai(r),n===null&&$e&&(l=r.stateNode=d_(r.type,r.pendingProps,Qt.current),an=r,li=!0,Ht=Kn(l.firstChild)),l=r.pendingProps.children,n!==null||$e?qt(n,r,l,a):r.child=Us(r,null,l,a),gl(n,r),r.child;case 5:return n===null&&$e&&((f=l=Ht)&&(l=Dw(l,r.type,r.pendingProps,li),l!==null?(r.stateNode=l,an=r,Ht=Kn(l.firstChild),li=!1,f=!0):f=!1),f||Ls(r)),Ai(r),f=r.type,m=r.pendingProps,_=n!==null?n.memoizedProps:null,l=m.children,im(f,m)?l=null:_!==null&&im(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=Gf(n,r,$b,null,null,a),kl._currentValue=f),gl(n,r),qt(n,r,l,a),r.child;case 6:return n===null&&$e&&((n=a=Ht)&&(a=Nw(a,r.pendingProps,li),a!==null?(r.stateNode=a,an=r,Ht=null,n=!0):n=!1),n||Ls(r)),null;case 13:return cv(n,r,a);case 4:return Qe(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Us(r,null,l,a):qt(n,r,l,a),r.child;case 11:return nv(n,r,r.type,r.pendingProps,a);case 7:return qt(n,r,r.pendingProps,a),r.child;case 8:return qt(n,r,r.pendingProps.children,a),r.child;case 12:return qt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,kr(r,r.type,l.value),qt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Gs(r),f=Xt(f),l=l(f),r.flags|=1,qt(n,r,l,a),r.child;case 14:return iv(n,r,r.type,r.pendingProps,a);case 15:return rv(n,r,r.type,r.pendingProps,a);case 19:return fv(n,r,a);case 22:return sv(n,r,a);case 24:return Gs(r),l=Xt(It),n===null?(f=qf(),f===null&&(f=tt,m=zf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},Td(r),kr(r,It,f)):(n.lanes&a&&(Sd(n,r),El(r,null,null,a),_l()),f=n.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),kr(r,It,l)):(l=m.cache,kr(r,It,l),l!==f.cache&&Ed(r,[It],a,!0))),qt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var vd=je(null),Fs=null,ji=null;function kr(n,r,a){Fe(vd,r._currentValue),r._currentValue=a}function Bi(n){n._currentValue=vd.current,et(vd)}function _d(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Ed(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var I=0;I<r.length;I++)if(S.context===r[I]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),_d(m.return,a,n),l||(_=null);break e}m=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),_d(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function yl(n,r,a,l){n=null;for(var f=r,m=!1;f!==null;){if(!m){if(f.flags&524288)m=!0;else if(f.flags&262144)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;pn(f.pendingProps.value,_.value)||(n!==null?n.push(S):n=[S])}}else if(f===fn.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(kl):n=[kl])}f=f.return}n!==null&&Ed(r,n,a,l),r.flags|=262144}function Ec(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Gs(n){Fs=n,ji=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xt(n){return mv(Fs,n)}function Tc(n,r){return Fs===null&&Gs(n),mv(n,r)}function mv(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ji===null){if(n===null)throw Error(s(308));ji=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else ji=ji.next=r;return a}var Pr=!1;function Td(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Lr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ur(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,lt&2){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=tc(n),Yg(n,null,a),r}return ec(n,l,r,a),tc(n)}function vl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Er(n,a)}}function Ad(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var bd=!1;function _l(){if(bd){var n=Ba;if(n!==null)throw n}}function El(n,r,a,l){bd=!1;var f=n.updateQueue;Pr=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var I=S,U=I.next;I.next=null,_===null?m=U:_.next=U,_=I;var X=n.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=U:S.next=U,X.lastBaseUpdate=I))}if(m!==null){var ee=f.baseState;_=0,X=U=I=null,S=m;do{var F=S.lane&-536870913,Q=F!==S.lane;if(Q?(He&F)===F:(l&F)===F){F!==0&&F===ja&&(bd=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=n,be=S;F=r;var pt=a;switch(be.tag){case 1:if(me=be.payload,typeof me=="function"){ee=me.call(pt,ee,F);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=be.payload,F=typeof me=="function"?me.call(pt,ee,F):me,F==null)break e;ee=O({},ee,F);break e;case 2:Pr=!0}}F=S.callback,F!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(U=X=Q,I=ee):X=X.next=Q,_|=F;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);X===null&&(I=ee),f.baseState=I,f.firstBaseUpdate=U,f.lastBaseUpdate=X,m===null&&(f.shared.lanes=0),qr|=_,n.lanes=_,n.memoizedState=ee}}function pv(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function gv(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)pv(a[n],r)}function Tl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,_=a.inst;l=m(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){Je(r,r.return,S)}}function jr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=r;var I=a;try{S()}catch(U){Je(f,I,U)}}}l=l.next}while(l!==m)}}catch(U){Je(r,r.return,U)}}function yv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{gv(r,a)}catch(l){Je(n,n.return,l)}}}function vv(n,r,a){a.props=qs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Je(n,r,l)}}function $s(n,r){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(m){Je(n,r,m)}}function gn(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(n,r,f)}else a.current=null}function _v(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(n,n.return,f)}}function Ev(n,r,a){try{var l=n.stateNode;bw(l,n.type,a,r),l[bt]=r}catch(f){Je(n,n.return,f)}}function Tv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function wd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Tv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Rd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=kc));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Rd(n,r,a),n=n.sibling;n!==null;)Rd(n,r,a),n=n.sibling}function Sc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Sc(n,r,a),n=n.sibling;n!==null;)Sc(n,r,a),n=n.sibling}var zi=!1,dt=!1,Cd=!1,Sv=typeof WeakSet=="function"?WeakSet:Set,Lt=null,Av=!1;function ew(n,r){if(n=n.containerInfo,tm=Hc,n=Bg(n),Df(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,S=-1,I=-1,U=0,X=0,ee=n,F=null;t:for(;;){for(var Q;ee!==a||f!==0&&ee.nodeType!==3||(S=_+f),ee!==m||l!==0&&ee.nodeType!==3||(I=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)F=ee,ee=Q;for(;;){if(ee===n)break t;if(F===a&&++U===f&&(S=_),F===m&&++X===l&&(I=_),(Q=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=Q}a=S===-1||I===-1?null:{start:S,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:n,selectionRange:a},Hc=!1,Lt=r;Lt!==null;)if(r=Lt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Lt=n;else for(;Lt!==null;){switch(r=Lt,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&m!==null){n=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var me=qs(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(me,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(be){Je(a,a.return,be)}}break;case 3:if(n&1024){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)am(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":am(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Lt=n;break}Lt=r.return}return me=Av,Av=!1,me}function bv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qi(n,a),l&4&&Tl(5,a);break;case 1:if(qi(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(S){Je(a,a.return,S)}else{var f=qs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(S){Je(a,a.return,S)}}l&64&&yv(a),l&512&&$s(a,a.return);break;case 3:if(qi(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{gv(l,n)}catch(S){Je(a,a.return,S)}}break;case 26:qi(n,a),l&512&&$s(a,a.return);break;case 27:case 5:qi(n,a),r===null&&l&4&&_v(a),l&512&&$s(a,a.return);break;case 12:qi(n,a);break;case 13:qi(n,a),l&4&&Cv(n,a);break;case 22:if(f=a.memoizedState!==null||zi,!f){r=r!==null&&r.memoizedState!==null||dt;var m=zi,_=dt;zi=f,(dt=r)&&!_?Br(n,a,(a.subtreeFlags&8772)!==0):qi(n,a),zi=m,dt=_}l&512&&(a.memoizedProps.mode==="manual"?$s(a,a.return):gn(a,a.return));break;default:qi(n,a)}}function wv(n){var r=n.alternate;r!==null&&(n.alternate=null,wv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Ss(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Tt=null,yn=!1;function Hi(n,r,a){for(a=a.child;a!==null;)Rv(n,r,a),a=a.sibling}function Rv(n,r,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(pr,a)}catch{}switch(a.tag){case 26:dt||gn(a,r),Hi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||gn(a,r);var l=Tt,f=yn;for(Tt=a.stateNode,Hi(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Ss(a),Tt=l,yn=f;break;case 5:dt||gn(a,r);case 6:f=Tt;var m=yn;if(Tt=null,Hi(n,r,a),Tt=f,yn=m,Tt!==null)if(yn)try{n=Tt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(_){Je(a,r,_)}else try{Tt.removeChild(a.stateNode)}catch(_){Je(a,r,_)}break;case 18:Tt!==null&&(yn?(r=Tt,a=a.stateNode,r.nodeType===8?sm(r.parentNode,a):r.nodeType===1&&sm(r,a),jl(r)):sm(Tt,a.stateNode));break;case 4:l=Tt,f=yn,Tt=a.stateNode.containerInfo,yn=!0,Hi(n,r,a),Tt=l,yn=f;break;case 0:case 11:case 14:case 15:dt||jr(2,a,r),dt||jr(4,a,r),Hi(n,r,a);break;case 1:dt||(gn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vv(a,r,l)),Hi(n,r,a);break;case 21:Hi(n,r,a);break;case 22:dt||gn(a,r),dt=(l=dt)||a.memoizedState!==null,Hi(n,r,a),dt=l;break;default:Hi(n,r,a)}}function Cv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{jl(n)}catch(a){Je(r,r.return,a)}}function tw(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Sv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Sv),r;default:throw Error(s(435,n.tag))}}function Id(n,r){var a=tw(n);r.forEach(function(l){var f=mw.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Vn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:case 5:Tt=S.stateNode,yn=!1;break e;case 3:Tt=S.stateNode.containerInfo,yn=!0;break e;case 4:Tt=S.stateNode.containerInfo,yn=!0;break e}S=S.return}if(Tt===null)throw Error(s(160));Rv(m,_,f),Tt=null,yn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Iv(r,n),r=r.sibling}var $n=null;function Iv(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Vn(r,n),kn(n),l&4&&(jr(3,n,n.return),Tl(3,n),jr(5,n,n.return));break;case 1:Vn(r,n),kn(n),l&512&&(dt||a===null||gn(a,a.return)),l&64&&zi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=$n;if(Vn(r,n),kn(n),l&512&&(dt||a===null||gn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Sr]||m[Mt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Ft(m,l,a),m[Mt]=n,at(m),l=m;break e;case"link":var _=__("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(m=_[S],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}m=f.createElement(l),Ft(m,l,a),f.head.appendChild(m);break;case"meta":if(_=__("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(m=_[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}m=f.createElement(l),Ft(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Mt]=n,at(m),l=m}n.stateNode=l}else E_(f,n.type,n.stateNode);else n.stateNode=v_(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?E_(f,n.type,n.stateNode):v_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Ev(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){f=n.stateNode,m=n.memoizedProps;try{for(var I=f.firstChild;I;){var U=I.nextSibling,X=I.nodeName;I[Sr]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&I.rel.toLowerCase()==="stylesheet"||f.removeChild(I),I=U}for(var ee=n.type,F=f.attributes;F.length;)f.removeAttributeNode(F[0]);Ft(f,ee,m),f[Mt]=n,f[bt]=m}catch(me){Je(n,n.return,me)}}case 5:if(Vn(r,n),kn(n),l&512&&(dt||a===null||gn(a,a.return)),n.flags&32){f=n.stateNode;try{wn(f,"")}catch(me){Je(n,n.return,me)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Ev(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Cd=!0);break;case 6:if(Vn(r,n),kn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(me){Je(n,n.return,me)}}break;case 3:if(jc=null,f=$n,$n=Lc(r.containerInfo),Vn(r,n),$n=f,kn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(r.containerInfo)}catch(me){Je(n,n.return,me)}Cd&&(Cd=!1,Dv(n));break;case 4:l=$n,$n=Lc(n.stateNode.containerInfo),Vn(r,n),kn(n),$n=l;break;case 12:Vn(r,n),kn(n);break;case 13:Vn(r,n),kn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ld=ln()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Id(n,l)));break;case 22:if(l&512&&(dt||a===null||gn(a,a.return)),I=n.memoizedState!==null,U=a!==null&&a.memoizedState!==null,X=zi,ee=dt,zi=X||I,dt=ee||U,Vn(r,n),dt=ee,zi=X,kn(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=I?r._visibility&-2:r._visibility|1,I&&(r=zi||dt,a===null||U||r||Fa(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){U=a=r;try{if(f=U.stateNode,I)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=U.stateNode,S=U.memoizedProps.style;var Q=S!=null&&S.hasOwnProperty("display")?S.display:null;_.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(me){Je(U,U.return,me)}}}else if(r.tag===6){if(a===null){U=r;try{U.stateNode.nodeValue=I?"":U.memoizedProps}catch(me){Je(U,U.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Id(n,a))));break;case 19:Vn(r,n),kn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Id(n,l)));break;case 21:break;default:Vn(r,n),kn(n)}}function kn(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(Tv(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,m=wd(n);Sc(n,m,f);break;case 5:var _=l.stateNode;l.flags&32&&(wn(_,""),l.flags&=-33);var S=wd(n);Sc(n,S,_);break;case 3:case 4:var I=l.stateNode.containerInfo,U=wd(n);Rd(n,U,I);break;default:throw Error(s(161))}}}catch(X){Je(n,n.return,X)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Dv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Dv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function qi(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)bv(n,r.alternate,r),r=r.sibling}function Fa(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:jr(4,r,r.return),Fa(r);break;case 1:gn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&vv(r,r.return,a),Fa(r);break;case 26:case 27:case 5:gn(r,r.return),Fa(r);break;case 22:gn(r,r.return),r.memoizedState===null&&Fa(r);break;default:Fa(r)}n=n.sibling}}function Br(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,m=r,_=m.flags;switch(m.tag){case 0:case 11:case 15:Br(f,m,a),Tl(4,m);break;case 1:if(Br(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){Je(l,l.return,U)}if(l=m,f=l.updateQueue,f!==null){var S=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)pv(I[f],S)}catch(U){Je(l,l.return,U)}}a&&_&64&&yv(m),$s(m,m.return);break;case 26:case 27:case 5:Br(f,m,a),a&&l===null&&_&4&&_v(m),$s(m,m.return);break;case 12:Br(f,m,a);break;case 13:Br(f,m,a),a&&_&4&&Cv(f,m);break;case 22:m.memoizedState===null&&Br(f,m,a),$s(m,m.return);break;default:Br(f,m,a)}r=r.sibling}}function Dd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&hl(a))}function Nd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&hl(n))}function zr(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Nv(n,r,a,l),r=r.sibling}function Nv(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:zr(n,r,a,l),f&2048&&Tl(9,r);break;case 3:zr(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&hl(n)));break;case 12:if(f&2048){zr(n,r,a,l),n=r.stateNode;try{var m=r.memoizedProps,_=m.id,S=m.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){Je(r,r.return,I)}}else zr(n,r,a,l);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?zr(n,r,a,l):Sl(n,r):m._visibility&4?zr(n,r,a,l):(m._visibility|=4,Ga(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Dd(r.alternate,r);break;case 24:zr(n,r,a,l),f&2048&&Nd(r.alternate,r);break;default:zr(n,r,a,l)}}function Ga(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,_=r,S=a,I=l,U=_.flags;switch(_.tag){case 0:case 11:case 15:Ga(m,_,S,I,f),Tl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&4?Ga(m,_,S,I,f):Sl(m,_):(X._visibility|=4,Ga(m,_,S,I,f)),f&&U&2048&&Dd(_.alternate,_);break;case 24:Ga(m,_,S,I,f),f&&U&2048&&Nd(_.alternate,_);break;default:Ga(m,_,S,I,f)}r=r.sibling}}function Sl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Sl(a,l),f&2048&&Dd(l.alternate,l);break;case 24:Sl(a,l),f&2048&&Nd(l.alternate,l);break;default:Sl(a,l)}r=r.sibling}}var Al=8192;function $a(n){if(n.subtreeFlags&Al)for(n=n.child;n!==null;)Ov(n),n=n.sibling}function Ov(n){switch(n.tag){case 26:$a(n),n.flags&Al&&n.memoizedState!==null&&qw($n,n.memoizedState,n.memoizedProps);break;case 5:$a(n);break;case 3:case 4:var r=$n;$n=Lc(n.stateNode.containerInfo),$a(n),$n=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Al,Al=16777216,$a(n),Al=r):$a(n));break;default:$a(n)}}function xv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function bl(n){var r=n.deletions;if(n.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,Vv(l,n)}xv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Mv(n),n=n.sibling}function Mv(n){switch(n.tag){case 0:case 11:case 15:bl(n),n.flags&2048&&jr(9,n,n.return);break;case 3:bl(n);break;case 12:bl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Ac(n)):bl(n);break;default:bl(n)}}function Ac(n){var r=n.deletions;if(n.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,Vv(l,n)}xv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:jr(8,r,r.return),Ac(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Ac(r));break;default:Ac(r)}n=n.sibling}}function Vv(n,r){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:jr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=n;Lt!==null;){l=Lt;var f=l.sibling,m=l.return;if(wv(l),l===a){Lt=null;break e}if(f!==null){f.return=m,Lt=f;break e}Lt=m}}}function nw(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(n,r,a,l){return new nw(n,r,a,l)}function Od(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hr(n,r){var a=n.alternate;return a===null?(a=Pn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function kv(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function bc(n,r,a,l,f,m){var _=0;if(l=n,typeof n=="function")Od(n)&&(_=1);else if(typeof n=="string")_=zw(n,a,Bt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return Ks(a.children,f,m,r);case g:_=8,f|=24;break;case E:return n=Pn(12,a,r,f|2),n.elementType=E,n.lanes=m,n;case G:return n=Pn(13,a,r,f),n.elementType=G,n.lanes=m,n;case j:return n=Pn(19,a,r,f),n.elementType=j,n.lanes=m,n;case Y:return Pv(a,f,m,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case D:_=10;break e;case b:_=9;break e;case x:_=11;break e;case K:_=14;break e;case J:_=16,l=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Pn(_,a,r,f),r.elementType=n,r.type=l,r.lanes=m,r}function Ks(n,r,a,l){return n=Pn(7,n,l,r),n.lanes=a,n}function Pv(n,r,a,l){n=Pn(22,n,l,r),n.elementType=Y,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if(!(f._pendingVisibility&2)){var _=Nr(m,2);_!==null&&(f._pendingVisibility|=2,on(_,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if(f._pendingVisibility&2){var _=Nr(m,2);_!==null&&(f._pendingVisibility&=-3,on(_,m,2))}}};return n.stateNode=f,n}function xd(n,r,a){return n=Pn(6,n,null,r),n.lanes=a,n}function Md(n,r,a){return r=Pn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Fi(n){n.flags|=4}function Lv(n,r){if(r.type!=="stylesheet"||r.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!T_(r)){if(r=Mn.current,r!==null&&((He&4194176)===He?ui!==null:(He&62914560)!==He&&!(He&536870912)||r!==ui))throw ll=Uf,ey;n.flags|=8192}}function wc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?vr():536870912,n.lanes|=r,Qa|=r)}function wl(n,r){if(!$e)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ot(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function iw(n,r,a){var l=r.pendingProps;switch(Pf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Bi(It),Sn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(rl(r)?Fi(r):n===null||n.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Gn!==null&&(zd(Gn),Gn=null))),ot(r),null;case 26:return a=r.memoizedState,n===null?(Fi(r),a!==null?(ot(r),Lv(r,a)):(ot(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Fi(r),ot(r),Lv(r,a)):(ot(r),r.flags&=-16777217):(n.memoizedProps!==l&&Fi(r),ot(r),r.flags&=-16777217),null;case 27:da(r),a=Qt.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Fi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}n=Bt.current,rl(r)?Zg(r):(n=d_(f,l,a),r.stateNode=n,Fi(r))}return ot(r),null;case 5:if(da(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Fi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(n=Bt.current,rl(r))Zg(r);else{switch(f=Pc(Qt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Mt]=r,n[bt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Ft(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Fi(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Fi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Qt.current,rl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=an,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Mt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||o_(n.nodeValue,a)),n||Ls(r)}else n=Pc(n).createTextNode(l),n[Mt]=r,r.stateNode=n}return ot(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=rl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Mt]=r}else sl(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;ot(r),f=!1}else Gn!==null&&(zd(Gn),Gn=null),f=!0;if(!f)return r.flags&256?(Pi(r),r):(Pi(r),null)}if(Pi(r),r.flags&128)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),wc(r,r.updateQueue),ot(r),null;case 4:return Sn(),n===null&&Zd(r.stateNode.containerInfo),ot(r),null;case 10:return Bi(r.type),ot(r),null;case 19:if(et(Ct),f=r.memoizedState,f===null)return ot(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)wl(f,!1);else{if(mt!==0||n!==null&&n.flags&128)for(n=r.child;n!==null;){if(m=lc(n),m!==null){for(r.flags|=128,wl(f,!1),n=m.updateQueue,r.updateQueue=n,wc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)kv(a,n),a=a.sibling;return Fe(Ct,Ct.current&1|2),r.child}n=n.sibling}f.tail!==null&&ln()>Rc&&(r.flags|=128,l=!0,wl(f,!1),r.lanes=4194304)}else{if(!l)if(n=lc(m),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,wc(r,n),wl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!$e)return ot(r),null}else 2*ln()-f.renderingStartTime>Rc&&a!==536870912&&(r.flags|=128,l=!0,wl(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(n=f.last,n!==null?n.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=ln(),r.sibling=null,n=Ct.current,Fe(Ct,l?n&1|2:n&1),r):(ot(r),null);case 22:case 23:return Pi(r),Bf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?a&536870912&&!(r.flags&128)&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&wc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&et(js),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Bi(It),ot(r),null;case 25:return null}throw Error(s(156,r.tag))}function rw(n,r){switch(Pf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Bi(It),Sn(),n=r.flags,n&65536&&!(n&128)?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return da(r),null;case 13:if(Pi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));sl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return et(Ct),null;case 4:return Sn(),null;case 10:return Bi(r.type),null;case 22:case 23:return Pi(r),Bf(),n!==null&&et(js),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Bi(It),null;case 25:return null;default:return null}}function Uv(n,r){switch(Pf(r),r.tag){case 3:Bi(It),Sn();break;case 26:case 27:case 5:da(r);break;case 4:Sn();break;case 13:Pi(r);break;case 19:et(Ct);break;case 10:Bi(r.type);break;case 22:case 23:Pi(r),Bf(),n!==null&&et(js);break;case 24:Bi(It)}}var sw={getCacheForType:function(n){var r=Xt(It),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},aw=typeof WeakMap=="function"?WeakMap:Map,lt=0,tt=null,xe=null,He=0,nt=0,vn=null,Gi=!1,Ka=!1,Vd=!1,$i=0,mt=0,qr=0,Qs=0,kd=0,Ln=0,Qa=0,Rl=null,hi=null,Pd=!1,Ld=0,Rc=1/0,Cc=null,Fr=null,Ic=!1,Ys=null,Cl=0,Ud=0,jd=null,Il=0,Bd=null;function _n(){if(lt&2&&He!==0)return He&-He;if(R.T!==null){var n=ja;return n!==0?n:Qd()}return Vu()}function jv(){Ln===0&&(Ln=!(He&536870912)||$e?Bo():536870912);var n=Mn.current;return n!==null&&(n.flags|=32),Ln}function on(n,r,a){(n===tt&&nt===2||n.cancelPendingCommit!==null)&&(Ya(n,0),Ki(n,He,Ln,!1)),gt(n,a),(!(lt&2)||n!==tt)&&(n===tt&&(!(lt&2)&&(Qs|=a),mt===4&&Ki(n,He,Ln,!1)),fi(n))}function Bv(n,r,a){if(lt&6)throw Error(s(327));var l=!a&&(r&60)===0&&(r&n.expiredLanes)===0||yr(n,r),f=l?uw(n,r):Fd(n,r,!0),m=l;do{if(f===0){Ka&&!l&&Ki(n,r,0,!1);break}else if(f===6)Ki(n,r,0,!Gi);else{if(a=n.current.alternate,m&&!ow(a)){f=Fd(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=n;f=Rl;var I=S.current.memoizedState.isDehydrated;if(I&&(Ya(S,_).flags|=256),_=Fd(S,_,!1),_!==2){if(Vd&&!I){S.errorRecoveryDisabledLanes|=m,Qs|=m,f=4;break e}m=hi,hi=f,m!==null&&zd(m)}f=_}if(m=!1,f!==2)continue}}if(f===1){Ya(n,0),Ki(n,r,0,!0);break}e:{switch(l=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){Ki(l,r,Ln,!Gi);break e}break;case 2:hi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(m=Ld+300-ln(),10<m)){if(Ki(l,r,Ln,!Gi),An(l,0)!==0)break e;l.timeoutHandle=c_(zv.bind(null,l,a,hi,Cc,Pd,r,Ln,Qs,Qa,Gi,2,-0,0),m);break e}zv(l,a,hi,Cc,Pd,r,Ln,Qs,Qa,Gi,0,-0,0)}}break}while(!0);fi(n)}function zd(n){hi===null?hi=n:hi.push.apply(hi,n)}function zv(n,r,a,l,f,m,_,S,I,U,X,ee,F){var Q=r.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:Hw},Ov(r),r=Fw(),r!==null)){n.cancelPendingCommit=r(Qv.bind(null,n,a,l,f,_,S,I,1,ee,F)),Ki(n,m,_,!U);return}Qv(n,a,l,f,_,S,I,X,ee,F)}function ow(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!pn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ki(n,r,a,l){r&=~kd,r&=~Qs,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var m=31-nn(f),_=1<<m;l[m]=-1,f&=~_}a!==0&&_r(n,a,r)}function Dc(){return lt&6?!0:(Dl(0),!1)}function Hd(){if(xe!==null){if(nt===0)var n=xe.return;else n=xe,ji=Fs=null,Qf(n),La=null,ul=0,n=xe;for(;n!==null;)Uv(n.alternate,n),n=n.return;xe=null}}function Ya(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Rw(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Hd(),tt=n,xe=a=Hr(n.current,null),He=r,nt=0,vn=null,Gi=!1,Ka=yr(n,r),Vd=!1,Qa=Ln=kd=Qs=qr=mt=0,hi=Rl=null,Pd=!1,r&8&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-nn(l),m=1<<f;r|=n[f],l&=~m}return $i=r,Ju(),a}function Hv(n,r){De=null,R.H=ci,r===ol?(r=iy(),nt=3):r===ey?(r=iy(),nt=4):nt=r===tv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,xe===null&&(mt=1,_c(n,Nn(r,n.current)))}function qv(){var n=R.H;return R.H=ci,n===null?ci:n}function Fv(){var n=R.A;return R.A=sw,n}function qd(){mt=4,Gi||(He&4194176)!==He&&Mn.current!==null||(Ka=!0),!(qr&134217727)&&!(Qs&134217727)||tt===null||Ki(tt,He,Ln,!1)}function Fd(n,r,a){var l=lt;lt|=2;var f=qv(),m=Fv();(tt!==n||He!==r)&&(Cc=null,Ya(n,r)),r=!1;var _=mt;e:do try{if(nt!==0&&xe!==null){var S=xe,I=vn;switch(nt){case 8:Hd(),_=6;break e;case 3:case 2:case 6:Mn.current===null&&(r=!0);var U=nt;if(nt=0,vn=null,Xa(n,S,I,U),a&&Ka){_=0;break e}break;default:U=nt,nt=0,vn=null,Xa(n,S,I,U)}}lw(),_=mt;break}catch(X){Hv(n,X)}while(!0);return r&&n.shellSuspendCounter++,ji=Fs=null,lt=l,R.H=f,R.A=m,xe===null&&(tt=null,He=0,Ju()),_}function lw(){for(;xe!==null;)Gv(xe)}function uw(n,r){var a=lt;lt|=2;var l=qv(),f=Fv();tt!==n||He!==r?(Cc=null,Rc=ln()+500,Ya(n,r)):Ka=yr(n,r);e:do try{if(nt!==0&&xe!==null){r=xe;var m=vn;t:switch(nt){case 1:nt=0,vn=null,Xa(n,r,m,1);break;case 2:if(ty(m)){nt=0,vn=null,$v(r);break}r=function(){nt===2&&tt===n&&(nt=7),fi(n)},m.then(r,r);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:ty(m)?(nt=0,vn=null,$v(r)):(nt=0,vn=null,Xa(n,r,m,7));break;case 5:var _=null;switch(xe.tag){case 26:_=xe.memoizedState;case 5:case 27:var S=xe;if(!_||T_(_)){nt=0,vn=null;var I=S.sibling;if(I!==null)xe=I;else{var U=S.return;U!==null?(xe=U,Nc(U)):xe=null}break t}}nt=0,vn=null,Xa(n,r,m,5);break;case 6:nt=0,vn=null,Xa(n,r,m,6);break;case 8:Hd(),mt=6;break e;default:throw Error(s(462))}}cw();break}catch(X){Hv(n,X)}while(!0);return ji=Fs=null,R.H=l,R.A=f,lt=a,xe!==null?0:(tt=null,He=0,Ju(),mt)}function cw(){for(;xe!==null&&!vf();)Gv(xe)}function Gv(n){var r=dv(n.alternate,n,$i);n.memoizedProps=n.pendingProps,r===null?Nc(n):xe=r}function $v(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=ov(a,r,r.pendingProps,r.type,void 0,He);break;case 11:r=ov(a,r,r.pendingProps,r.type.render,r.ref,He);break;case 5:Qf(r);default:Uv(a,r),r=xe=kv(r,$i),r=dv(a,r,$i)}n.memoizedProps=n.pendingProps,r===null?Nc(n):xe=r}function Xa(n,r,a,l){ji=Fs=null,Qf(r),La=null,ul=0;var f=r.return;try{if(Zb(n,f,r,a,He)){mt=1,_c(n,Nn(a,n.current)),xe=null;return}}catch(m){if(f!==null)throw xe=f,m;mt=1,_c(n,Nn(a,n.current)),xe=null;return}r.flags&32768?($e||l===1?n=!0:Ka||He&536870912?n=!1:(Gi=n=!0,(l===2||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Kv(r,n)):Nc(r)}function Nc(n){var r=n;do{if(r.flags&32768){Kv(r,Gi);return}n=r.return;var a=iw(r.alternate,r,$i);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=n}while(r!==null);mt===0&&(mt=5)}function Kv(n,r){do{var a=rw(n.alternate,n);if(a!==null){a.flags&=32767,xe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){xe=n;return}xe=n=a}while(n!==null);mt=6,xe=null}function Qv(n,r,a,l,f,m,_,S,I,U){var X=R.T,ee=se.p;try{se.p=2,R.T=null,hw(n,r,a,l,ee,f,m,_,S,I,U)}finally{R.T=X,se.p=ee}}function hw(n,r,a,l,f,m,_,S){do Wa();while(Ys!==null);if(lt&6)throw Error(s(327));var I=n.finishedWork;if(l=n.finishedLanes,I===null)return null;if(n.finishedWork=null,n.finishedLanes=0,I===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var U=I.lanes|I.childLanes;if(U|=Mf,xu(n,l,U,m,_,S),n===tt&&(xe=tt=null,He=0),!(I.subtreeFlags&10256)&&!(I.flags&10256)||Ic||(Ic=!0,Ud=U,jd=a,pw(bi,function(){return Wa(),null})),a=(I.flags&15990)!==0,I.subtreeFlags&15990||a?(a=R.T,R.T=null,m=se.p,se.p=2,_=lt,lt|=4,ew(n,I),Iv(I,n),kb(nm,n.containerInfo),Hc=!!tm,nm=tm=null,n.current=I,bv(n,I.alternate,I),Po(),lt=_,se.p=m,R.T=a):n.current=I,Ic?(Ic=!1,Ys=n,Cl=l):Yv(n,U),U=n.pendingLanes,U===0&&(Fr=null),Uo(I.stateNode),fi(n),r!==null)for(f=n.onRecoverableError,I=0;I<r.length;I++)U=r[I],f(U.value,{componentStack:U.stack});return Cl&3&&Wa(),U=n.pendingLanes,l&4194218&&U&42?n===Bd?Il++:(Il=0,Bd=n):Il=0,Dl(0),null}function Yv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,hl(r)))}function Wa(){if(Ys!==null){var n=Ys,r=Ud;Ud=0;var a=Mu(Cl),l=R.T,f=se.p;try{if(se.p=32>a?32:a,R.T=null,Ys===null)var m=!1;else{a=jd,jd=null;var _=Ys,S=Cl;if(Ys=null,Cl=0,lt&6)throw Error(s(331));var I=lt;if(lt|=4,Mv(_.current),Nv(_,_.current,S,a),lt=I,Dl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(pr,_)}catch{}m=!0}return m}finally{se.p=f,R.T=l,Yv(n,r)}}return!1}function Xv(n,r,a){r=Nn(a,r),r=ld(n.stateNode,r,2),n=Ur(n,r,2),n!==null&&(gt(n,2),fi(n))}function Je(n,r,a){if(n.tag===3)Xv(n,n,a);else for(;r!==null;){if(r.tag===3){Xv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){n=Nn(a,n),a=Jy(2),l=Ur(r,a,2),l!==null&&(ev(a,l,r,n),gt(l,2),fi(l));break}}r=r.return}}function Gd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new aw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Vd=!0,f.add(a),n=fw.bind(null,n,r,a),r.then(n,n))}function fw(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tt===n&&(He&a)===a&&(mt===4||mt===3&&(He&62914560)===He&&300>ln()-Ld?!(lt&2)&&Ya(n,0):kd|=a,Qa===He&&(Qa=0)),fi(n)}function Wv(n,r){r===0&&(r=vr()),n=Nr(n,r),n!==null&&(gt(n,r),fi(n))}function dw(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Wv(n,a)}function mw(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Wv(n,a)}function pw(n,r){return _s(n,r)}var Oc=null,Za=null,$d=!1,xc=!1,Kd=!1,Xs=0;function fi(n){n!==Za&&n.next===null&&(Za===null?Oc=Za=n:Za=Za.next=n),xc=!0,$d||($d=!0,yw(gw))}function Dl(n,r){if(!Kd&&xc){Kd=!0;do for(var a=!1,l=Oc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var _=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-nn(42|n)+1)-1,m&=f&~(_&~S),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,e_(l,m))}else m=He,m=An(l,l===tt?m:0),!(m&3)||yr(l,m)||(a=!0,e_(l,m));l=l.next}while(a);Kd=!1}}function gw(){xc=$d=!1;var n=0;Xs!==0&&(ww()&&(n=Xs),Xs=0);for(var r=ln(),a=null,l=Oc;l!==null;){var f=l.next,m=Zv(l,r);m===0?(l.next=null,a===null?Oc=f:a.next=f,f===null&&(Za=a)):(a=l,(n!==0||m&3)&&(xc=!0)),l=f}Dl(n)}function Zv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var _=31-nn(m),S=1<<_,I=f[_];I===-1?(!(S&a)||S&l)&&(f[_]=ga(S,r)):I<=r&&(n.expiredLanes|=S),m&=~S}if(r=tt,a=He,a=An(n,n===r?a:0),l=n.callbackNode,a===0||n===r&&nt===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&pa(l),n.callbackNode=null,n.callbackPriority=0;if(!(a&3)||yr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&pa(l),Mu(a)){case 2:case 8:a=xt;break;case 32:a=bi;break;case 268435456:a=Lo;break;default:a=bi}return l=Jv.bind(null,n),a=_s(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&pa(l),n.callbackPriority=2,n.callbackNode=null,2}function Jv(n,r){var a=n.callbackNode;if(Wa()&&n.callbackNode!==a)return null;var l=He;return l=An(n,n===tt?l:0),l===0?null:(Bv(n,l,r),Zv(n,ln()),n.callbackNode!=null&&n.callbackNode===a?Jv.bind(null,n):null)}function e_(n,r){if(Wa())return null;Bv(n,r,!0)}function yw(n){Cw(function(){lt&6?_s(At,n):n()})}function Qd(){return Xs===0&&(Xs=Bo()),Xs}function t_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ti(""+n)}function n_(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function vw(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=t_((f[bt]||null).action),_=l.submitter;_&&(r=(r=_[bt]||null)?t_(r.formAction):_.getAttribute("formAction"),r!==null&&(m=r,_=null));var S=new Aa("action","action",null,l,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var I=_?n_(f,_):new FormData(f);id(a,{pending:!0,data:I,method:f.method,action:m},null,I)}}else typeof m=="function"&&(S.preventDefault(),I=_?n_(f,_):new FormData(f),id(a,{pending:!0,data:I,method:f.method,action:m},m,I))},currentTarget:f}]})}}for(var Yd=0;Yd<Qg.length;Yd++){var Xd=Qg[Yd],_w=Xd.toLowerCase(),Ew=Xd[0].toUpperCase()+Xd.slice(1);Fn(_w,"on"+Ew)}Fn(qg,"onAnimationEnd"),Fn(Fg,"onAnimationIteration"),Fn(Gg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(Lb,"onTransitionRun"),Fn(Ub,"onTransitionStart"),Fn(jb,"onTransitionCancel"),Fn($g,"onTransitionEnd"),un("onMouseEnter",["mouseout","mouseover"]),un("onMouseLeave",["mouseout","mouseover"]),un("onPointerEnter",["pointerout","pointerover"]),un("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function i_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var _=l.length-1;0<=_;_--){var S=l[_],I=S.instance,U=S.currentTarget;if(S=S.listener,I!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=U;try{m(f)}catch(X){vc(X)}f.currentTarget=null,m=I}else for(_=0;_<l.length;_++){if(S=l[_],I=S.instance,U=S.currentTarget,S=S.listener,I!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=U;try{m(f)}catch(X){vc(X)}f.currentTarget=null,m=I}}}}function ke(n,r){var a=r[Ts];a===void 0&&(a=r[Ts]=new Set);var l=n+"__bubble";a.has(l)||(r_(r,n,2,!1),a.add(l))}function Wd(n,r,a){var l=0;r&&(l|=4),r_(a,n,l,r)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Zd(n){if(!n[Mc]){n[Mc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(Tw.has(a)||Wd(a,!1,n),Wd(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Mc]||(r[Mc]=!0,Wd("selectionchange",!1,r))}}function r_(n,r,a,l){switch(C_(r)){case 2:var f=Kw;break;case 8:f=Qw;break;default:f=hm}a=f.bind(null,r,a,n),f=void 0,!Cn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Jd(n,r,a,l,f){var m=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&(I=_.stateNode.containerInfo,I===f||I.nodeType===8&&I.parentNode===f))return;_=_.return}for(;S!==null;){if(_=qn(S),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=m=_;continue e}S=S.parentNode}}l=l.return}Uu(function(){var U=m,X=Sa(a),ee=[];e:{var F=Kg.get(n);if(F!==void 0){var Q=Aa,me=n;switch(n){case"keypress":if(ii(a)===0)break e;case"keydown":case"keyup":Q=Da;break;case"focusin":me="focus",Q=Ra;break;case"focusout":me="blur",Q=Ra;break;case"beforeblur":case"afterblur":Q=Ra;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=$u;break;case qg:case Fg:case Gg:Q=Ca;break;case $g:Q=Qu;break;case"scroll":case"scrollend":Q=ju;break;case"wheel":Q=Na;break;case"copy":case"cut":case"paste":Q=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=el;break;case"toggle":case"beforetoggle":Q=Xu}var be=(r&4)!==0,pt=!be&&(n==="scroll"||n==="scrollend"),B=be?F!==null?F+"Capture":null:F;be=[];for(var L=U,q;L!==null;){var W=L;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||B===null||(W=Rs(L,B),W!=null&&be.push(Ol(L,W,q))),pt)break;L=L.return}0<be.length&&(F=new Q(F,me,null,a,X),ee.push({event:F,listeners:be}))}}if(!(r&7)){e:{if(F=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",F&&a!==Rn&&(me=a.relatedTarget||a.fromElement)&&(qn(me)||me[wi]))break e;if((Q||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(me=a.relatedTarget||a.toElement,Q=U,me=me?qn(me):null,me!==null&&(pt=ce(me),be=me.tag,me!==pt||be!==5&&be!==27&&be!==6)&&(me=null)):(Q=null,me=U),Q!==me)){if(be=In,W="onMouseLeave",B="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(be=el,W="onPointerLeave",B="onPointerEnter",L="pointer"),pt=Q==null?F:Ar(Q),q=me==null?F:Ar(me),F=new be(W,L+"leave",Q,a,X),F.target=pt,F.relatedTarget=q,W=null,qn(X)===U&&(be=new be(B,L+"enter",me,a,X),be.target=q,be.relatedTarget=pt,W=be),pt=W,Q&&me)t:{for(be=Q,B=me,L=0,q=be;q;q=Ja(q))L++;for(q=0,W=B;W;W=Ja(W))q++;for(;0<L-q;)be=Ja(be),L--;for(;0<q-L;)B=Ja(B),q--;for(;L--;){if(be===B||B!==null&&be===B.alternate)break t;be=Ja(be),B=Ja(B)}be=null}else be=null;Q!==null&&s_(ee,F,Q,be,!1),me!==null&&pt!==null&&s_(ee,pt,me,be,!0)}}e:{if(F=U?Ar(U):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var fe=xg;else if(Rt(F))if(Mg)fe=Mb;else{fe=Ob;var Ne=Nb}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?U&&Ko(U.elementType)&&(fe=xg):fe=xb;if(fe&&(fe=fe(n,U))){Mi(ee,fe,a,X);break e}Ne&&Ne(n,F,U),n==="focusout"&&U&&F.type==="number"&&U.memoizedProps.value!=null&&Ta(F,"number",F.value)}switch(Ne=U?Ar(U):window,n){case"focusin":(Rt(Ne)||Ne.contentEditable==="true")&&(Oa=Ne,Nf=U,il=null);break;case"focusout":il=Nf=Oa=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,zg(ee,a,X);break;case"selectionchange":if(Pb)break;case"keydown":case"keyup":zg(ee,a,X)}var ge;if(ai)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Be?$(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(v&&a.locale!=="ko"&&(Be||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Be&&(ge=Yo()):(ni=X,Dr="value"in ni?ni.value:ni.textContent,Be=!0)),Ne=Vc(U,_e),0<Ne.length&&(_e=new Zo(_e,n,null,a,X),ee.push({event:_e,listeners:Ne}),ge?_e.data=ge:(ge=re(a),ge!==null&&(_e.data=ge)))),(ge=y?wt(n,a):ze(n,a))&&(_e=Vc(U,"onBeforeInput"),0<_e.length&&(Ne=new Zo("onBeforeInput","beforeinput",null,a,X),ee.push({event:Ne,listeners:_e}),Ne.data=ge)),vw(ee,n,U,a,X)}i_(ee,r)})}function Ol(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Vc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Rs(n,a),f!=null&&l.unshift(Ol(n,f,m)),f=Rs(n,r),f!=null&&l.push(Ol(n,f,m))),n=n.return}return l}function Ja(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function s_(n,r,a,l,f){for(var m=r._reactName,_=[];a!==null&&a!==l;){var S=a,I=S.alternate,U=S.stateNode;if(S=S.tag,I!==null&&I===l)break;S!==5&&S!==26&&S!==27||U===null||(I=U,f?(U=Rs(a,m),U!=null&&_.unshift(Ol(a,U,I))):f||(U=Rs(a,m),U!=null&&_.push(Ol(a,U,I)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var Sw=/\r\n?/g,Aw=/\u0000|\uFFFD/g;function a_(n){return(typeof n=="string"?n:""+n).replace(Sw,`
`).replace(Aw,"")}function o_(n,r){return r=a_(r),a_(n)===r}function kc(){}function Ze(n,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||wn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&wn(n,""+l);break;case"className":Rr(n,"class",l);break;case"tabIndex":Rr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(n,a,l);break;case"style":Lu(n,l,m);break;case"data":if(r!=="object"){Rr(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ti(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Ze(n,r,"name",f.name,f,null),Ze(n,r,"formEncType",f.formEncType,f,null),Ze(n,r,"formMethod",f.formMethod,f,null),Ze(n,r,"formTarget",f.formTarget,f,null)):(Ze(n,r,"encType",f.encType,f,null),Ze(n,r,"method",f.method,f,null),Ze(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ti(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=kc);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ti(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":ke("beforetoggle",n),ke("toggle",n),wr(n,"popover",l);break;case"xlinkActuate":bn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Af.get(a)||a,wr(n,a,l))}}function em(n,r,a,l,f,m){switch(a){case"style":Lu(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?wn(n,l):(typeof l=="number"||typeof l=="bigint")&&wn(n,""+l);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"onClick":l!=null&&(n.onclick=kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_a.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=n[bt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):wr(n,a,l)}}}function Ft(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",n),ke("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,m,_,a,null)}}f&&Ze(n,r,"srcSet",a.srcSet,a,null),l&&Ze(n,r,"src",a.src,a,null);return;case"input":ke("invalid",n);var S=m=_=f=null,I=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":_=X;break;case"checked":I=X;break;case"defaultChecked":U=X;break;case"value":m=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Ze(n,r,l,X,a,null)}}bs(n,m,S,I,U,_,f,!1),As(n);return;case"select":ke("invalid",n),l=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Ze(n,r,f,S,a,null)}r=m,a=_,n.multiple=!!l,r!=null?Ge(n,!!l,r,!1):a!=null&&Ge(n,!!l,a,!0);return;case"textarea":ke("invalid",n),m=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ze(n,r,_,S,a,null)}Ir(n,l,f,m),As(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(n,r,I,l,a,null)}return;case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":ke("load",n);break;case"video":case"audio":for(l=0;l<Nl.length;l++)ke(Nl[l],n);break;case"image":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"embed":case"source":case"link":ke("error",n),ke("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,U,l,a,null)}return;default:if(Ko(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&em(n,r,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ze(n,r,S,l,a,null))}function bw(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,S=null,I=null,U=null,X=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(Q)||Ze(n,r,Q,null,l,ee)}}for(var F in l){var Q=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(Q!=null||ee!=null))switch(F){case"type":m=Q;break;case"name":f=Q;break;case"checked":U=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ee&&Ze(n,r,F,Q,l,ee)}}Cr(n,_,S,I,U,X,m,f);return;case"select":Q=_=S=F=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(m)||Ze(n,r,m,null,l,I)}for(f in l)if(m=l[f],I=a[f],l.hasOwnProperty(f)&&(m!=null||I!=null))switch(f){case"value":F=m;break;case"defaultValue":S=m;break;case"multiple":_=m;default:m!==I&&Ze(n,r,f,m,l,I)}r=S,a=_,l=Q,F!=null?Ge(n,!!a,F,!1):!!l!=!!a&&(r!=null?Ge(n,!!a,r,!0):Ge(n,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(n,r,S,null,l,f)}for(_ in l)if(f=l[_],m=a[_],l.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":F=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Ze(n,r,_,f,l,m)}ws(n,F,Q);return;case"option":for(var me in a)if(F=a[me],a.hasOwnProperty(me)&&F!=null&&!l.hasOwnProperty(me))switch(me){case"selected":n.selected=!1;break;default:Ze(n,r,me,null,l,F)}for(I in l)if(F=l[I],Q=a[I],l.hasOwnProperty(I)&&F!==Q&&(F!=null||Q!=null))switch(I){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ze(n,r,I,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)F=a[be],a.hasOwnProperty(be)&&F!=null&&!l.hasOwnProperty(be)&&Ze(n,r,be,null,l,F);for(U in l)if(F=l[U],Q=a[U],l.hasOwnProperty(U)&&F!==Q&&(F!=null||Q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Ze(n,r,U,F,l,Q)}return;default:if(Ko(r)){for(var pt in a)F=a[pt],a.hasOwnProperty(pt)&&F!==void 0&&!l.hasOwnProperty(pt)&&em(n,r,pt,void 0,l,F);for(X in l)F=l[X],Q=a[X],!l.hasOwnProperty(X)||F===Q||F===void 0&&Q===void 0||em(n,r,X,F,l,Q);return}}for(var B in a)F=a[B],a.hasOwnProperty(B)&&F!=null&&!l.hasOwnProperty(B)&&Ze(n,r,B,null,l,F);for(ee in l)F=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||F===Q||F==null&&Q==null||Ze(n,r,ee,F,l,Q)}var tm=null,nm=null;function Pc(n){return n.nodeType===9?n:n.ownerDocument}function l_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function im(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var rm=null;function ww(){var n=window.event;return n&&n.type==="popstate"?n===rm?!1:(rm=n,!0):(rm=null,!1)}var c_=typeof setTimeout=="function"?setTimeout:void 0,Rw=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,Cw=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(n){return h_.resolve(null).then(n).catch(Iw)}:c_;function Iw(n){setTimeout(function(){throw n})}function sm(n,r){var a=r,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){n.removeChild(f),jl(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);jl(r)}function am(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":am(a),Ss(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Dw(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Sr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Kn(n.nextSibling),n===null)break}return null}function Nw(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Kn(n.nextSibling),n===null))return null;return n}function Kn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function f_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function d_(n,r,a){switch(r=Pc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Un=new Map,m_=new Set;function Lc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Qi=se.d;se.d={f:Ow,r:xw,D:Mw,C:Vw,L:kw,m:Pw,X:Uw,S:Lw,M:jw};function Ow(){var n=Qi.f(),r=Dc();return n||r}function xw(n){var r=Ri(n);r!==null&&r.tag===5&&r.type==="form"?zy(r):Qi.r(n)}var eo=typeof document>"u"?null:document;function p_(n,r,a){var l=eo;if(l&&typeof r=="string"&&r){var f=ft(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),m_.has(f)||(m_.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ft(r,"link",n),at(r),l.head.appendChild(r)))}}function Mw(n){Qi.D(n),p_("dns-prefetch",n,null)}function Vw(n,r){Qi.C(n,r),p_("preconnect",n,r)}function kw(n,r,a){Qi.L(n,r,a);var l=eo;if(l&&n&&r){var f='link[rel="preload"][as="'+ft(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ft(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ft(a.imageSizes)+'"]')):f+='[href="'+ft(n)+'"]';var m=f;switch(r){case"style":m=to(n);break;case"script":m=no(n)}Un.has(m)||(n=O({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Un.set(m,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(xl(m))||r==="script"&&l.querySelector(Ml(m))||(r=l.createElement("link"),Ft(r,"link",n),at(r),l.head.appendChild(r)))}}function Pw(n,r){Qi.m(n,r);var a=eo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ft(l)+'"][href="'+ft(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=no(n)}if(!Un.has(m)&&(n=O({rel:"modulepreload",href:n},r),Un.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(m)))return}l=a.createElement("link"),Ft(l,"link",n),at(l),a.head.appendChild(l)}}}function Lw(n,r,a){Qi.S(n,r,a);var l=eo;if(l&&n){var f=br(l).hoistableStyles,m=to(n);r=r||"default";var _=f.get(m);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(xl(m)))S.loading=5;else{n=O({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Un.get(m))&&om(n,a);var I=_=l.createElement("link");at(I),Ft(I,"link",n),I._p=new Promise(function(U,X){I.onload=U,I.onerror=X}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Uc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(m,_)}}}function Uw(n,r){Qi.X(n,r);var a=eo;if(a&&n){var l=br(a).hoistableScripts,f=no(n),m=l.get(f);m||(m=a.querySelector(Ml(f)),m||(n=O({src:n,async:!0},r),(r=Un.get(f))&&lm(n,r),m=a.createElement("script"),at(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function jw(n,r){Qi.M(n,r);var a=eo;if(a&&n){var l=br(a).hoistableScripts,f=no(n),m=l.get(f);m||(m=a.querySelector(Ml(f)),m||(n=O({src:n,async:!0,type:"module"},r),(r=Un.get(f))&&lm(n,r),m=a.createElement("script"),at(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function g_(n,r,a,l){var f=(f=Qt.current)?Lc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=to(a.href),a=br(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=to(a.href);var m=br(f).hoistableStyles,_=m.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,_),(m=f.querySelector(xl(n)))&&!m._p&&(_.instance=m,_.state.loading=5),Un.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(n,a),m||Bw(f,n,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=no(a),a=br(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function to(n){return'href="'+ft(n)+'"'}function xl(n){return'link[rel="stylesheet"]['+n+"]"}function y_(n){return O({},n,{"data-precedence":n.precedence,precedence:null})}function Bw(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ft(r,"link",a),at(r),n.head.appendChild(r))}function no(n){return'[src="'+ft(n)+'"]'}function Ml(n){return"script[async]"+n}function v_(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+ft(a.href)+'"]');if(l)return r.instance=l,at(l),l;var f=O({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),at(l),Ft(l,"style",f),Uc(l,a.precedence,n),r.instance=l;case"stylesheet":f=to(a.href);var m=n.querySelector(xl(f));if(m)return r.state.loading|=4,r.instance=m,at(m),m;l=y_(a),(f=Un.get(f))&&om(l,f),m=(n.ownerDocument||n).createElement("link"),at(m);var _=m;return _._p=new Promise(function(S,I){_.onload=S,_.onerror=I}),Ft(m,"link",l),r.state.loading|=4,Uc(m,a.precedence,n),r.instance=m;case"script":return m=no(a.src),(f=n.querySelector(Ml(m)))?(r.instance=f,at(f),f):(l=a,(f=Un.get(m))&&(l=O({},a),lm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),at(f),Ft(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(l=r.instance,r.state.loading|=4,Uc(l,a.precedence,n));return r.instance}function Uc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===r)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function om(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function lm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var jc=null;function __(n,r,a){if(jc===null){var l=new Map,f=jc=new Map;f.set(a,l)}else f=jc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Sr]||m[Mt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(r)||"";_=n+_;var S=l.get(_);S?S.push(m):l.set(_,[m])}}return l}function E_(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function zw(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function T_(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var Vl=null;function Hw(){}function qw(n,r,a){if(Vl===null)throw Error(s(475));var l=Vl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var f=to(a.href),m=n.querySelector(xl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Bc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=m,at(m);return}m=n.ownerDocument||n,a=y_(a),(f=Un.get(f))&&om(a,f),m=m.createElement("link"),at(m);var _=m;_._p=new Promise(function(S,I){_.onload=S,_.onerror=I}),Ft(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&!(r.state.loading&3)&&(l.count++,r=Bc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function Fw(){if(Vl===null)throw Error(s(475));var n=Vl;return n.stylesheets&&n.count===0&&um(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&um(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Bc(){if(this.count--,this.count===0){if(this.stylesheets)um(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var zc=null;function um(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,zc=new Map,r.forEach(Gw,n),zc=null,Bc.call(n))}function Gw(n,r){if(!(r.state.loading&4)){var a=zc.get(n);if(a)var l=a.get(null);else{a=new Map,zc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||l,m===l&&a.set(null,f),a.set(_,f),this.count++,l=Bc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var kl={$$typeof:D,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function $w(n,r,a,l,f,m,_,S){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.hiddenUpdates=ya(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function S_(n,r,a,l,f,m,_,S,I,U,X,ee){return n=new $w(n,r,a,_,S,I,U,ee),r=1,m===!0&&(r|=24),m=Pn(3,null,null,r),n.current=m,m.stateNode=n,r=zf(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},Td(m),n}function A_(n){return n?(n=Va,n):Va}function b_(n,r,a,l,f,m){f=A_(f),l.context===null?l.context=f:l.pendingContext=f,l=Lr(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Ur(n,l,r),a!==null&&(on(a,n,r),vl(a,n,r))}function w_(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function cm(n,r){w_(n,r),(n=n.alternate)&&w_(n,r)}function R_(n){if(n.tag===13){var r=Nr(n,67108864);r!==null&&on(r,n,67108864),cm(n,67108864)}}var Hc=!0;function Kw(n,r,a,l){var f=R.T;R.T=null;var m=se.p;try{se.p=2,hm(n,r,a,l)}finally{se.p=m,R.T=f}}function Qw(n,r,a,l){var f=R.T;R.T=null;var m=se.p;try{se.p=8,hm(n,r,a,l)}finally{se.p=m,R.T=f}}function hm(n,r,a,l){if(Hc){var f=fm(l);if(f===null)Jd(n,r,l,qc,a),I_(n,l);else if(Xw(f,n,r,a,l))l.stopPropagation();else if(I_(n,l),r&4&&-1<Yw.indexOf(n)){for(;f!==null;){var m=Ri(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Hn(m.pendingLanes);if(_!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var I=1<<31-nn(_);S.entanglements[1]|=I,_&=~I}fi(m),!(lt&6)&&(Rc=ln()+500,Dl(0))}}break;case 13:S=Nr(m,2),S!==null&&on(S,m,2),Dc(),cm(m,2)}if(m=fm(l),m===null&&Jd(n,r,l,qc,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Jd(n,r,l,null,a)}}function fm(n){return n=Sa(n),dm(n)}var qc=null;function dm(n){if(qc=null,n=qn(n),n!==null){var r=ce(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=Ue(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return qc=n,null}function C_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Iu()){case At:return 2;case xt:return 8;case bi:case Du:return 32;case Lo:return 268435456;default:return 32}default:return 32}}var mm=!1,Gr=null,$r=null,Kr=null,Pl=new Map,Ll=new Map,Qr=[],Yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(n,r){switch(n){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Pl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(r.pointerId)}}function Ul(n,r,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Ri(r),r!==null&&R_(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function Xw(n,r,a,l,f){switch(r){case"focusin":return Gr=Ul(Gr,n,r,a,l,f),!0;case"dragenter":return $r=Ul($r,n,r,a,l,f),!0;case"mouseover":return Kr=Ul(Kr,n,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return Pl.set(m,Ul(Pl.get(m)||null,n,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Ll.set(m,Ul(Ll.get(m)||null,n,r,a,l,f)),!0}return!1}function D_(n){var r=qn(n.target);if(r!==null){var a=ce(r);if(a!==null){if(r=a.tag,r===13){if(r=Ue(a),r!==null){n.blockedOn=r,Tr(n.priority,function(){if(a.tag===13){var l=_n(),f=Nr(a,l);f!==null&&on(f,a,l),cm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Fc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=fm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Rn=l,a.target.dispatchEvent(l),Rn=null}else return r=Ri(a),r!==null&&R_(r),n.blockedOn=a,!1;r.shift()}return!0}function N_(n,r,a){Fc(n)&&a.delete(r)}function Ww(){mm=!1,Gr!==null&&Fc(Gr)&&(Gr=null),$r!==null&&Fc($r)&&($r=null),Kr!==null&&Fc(Kr)&&(Kr=null),Pl.forEach(N_),Ll.forEach(N_)}function Gc(n,r){n.blockedOn===r&&(n.blockedOn=null,mm||(mm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ww)))}var $c=null;function O_(n){$c!==n&&($c=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){$c===n&&($c=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var m=Ri(a);m!==null&&(n.splice(r,3),r-=3,id(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function jl(n){function r(I){return Gc(I,n)}Gr!==null&&Gc(Gr,n),$r!==null&&Gc($r,n),Kr!==null&&Gc(Kr,n),Pl.forEach(r),Ll.forEach(r);for(var a=0;a<Qr.length;a++){var l=Qr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Qr.length&&(a=Qr[0],a.blockedOn===null);)D_(a),a.blockedOn===null&&Qr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],_=f[bt]||null;if(typeof m=="function")_||O_(a);else if(_){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[bt]||null)S=_.formAction;else if(dm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),O_(a)}}}function pm(n){this._internalRoot=n}Kc.prototype.render=pm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=_n();b_(a,l,n,r,null,null)},Kc.prototype.unmount=pm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&Wa(),b_(n.current,2,null,n,null,null),Dc(),r[wi]=null}};function Kc(n){this._internalRoot=n}Kc.prototype.unstable_scheduleHydration=function(n){if(n){var r=Vu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Qr.length&&r!==0&&r<Qr[a].priority;a++);Qr.splice(a,0,n),a===0&&D_(n)}};var x_=e.version;if(x_!=="19.0.0")throw Error(s(527,x_,"19.0.0"));se.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=te(r),n=n!==null?de(n):null,n=n===null?null:n.stateNode,n};var Zw={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:qn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{pr=Qc.inject(Zw),Yt=Qc}catch{}}return zl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=Yy,m=Xy,_=Wy,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=S_(n,1,!1,null,null,a,l,f,m,_,S,null),n[wi]=r.current,Zd(n.nodeType===8?n.parentNode:n),new pm(r)},zl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",m=Yy,_=Xy,S=Wy,I=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),r=S_(n,1,!0,r,a??null,l,f,m,_,S,I,U),r.context=A_(null),a=r.current,l=_n(),f=Lr(l),f.callback=null,Ur(a,f,l),r.current.lanes=l,gt(r,l),fi(r),n[wi]=r.current,Zd(n),new Kc(r)},zl.version="19.0.0",zl}var H_;function oR(){if(H_)return vm.exports;H_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),vm.exports=aR(),vm.exports}var lR=oR(),Hl={},q_;function uR(){if(q_)return Hl;q_=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.parse=h,Hl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function h(b,D){const x=new u,G=b.length;if(G<2)return x;const j=(D==null?void 0:D.decode)||E;let K=0;do{const J=b.indexOf("=",K);if(J===-1)break;const Y=b.indexOf(";",K),oe=Y===-1?G:Y;if(J>oe){K=b.lastIndexOf(";",J-1)+1;continue}const ae=d(b,K,J),le=p(b,J,ae),M=b.slice(ae,le);if(x[M]===void 0){let C=d(b,J+1,oe),R=p(b,oe,C);const O=j(b.slice(C,R));x[M]=O}K=oe+1}while(K<G);return x}function d(b,D,x){do{const G=b.charCodeAt(D);if(G!==32&&G!==9)return D}while(++D<x);return x}function p(b,D,x){for(;D>x;){const G=b.charCodeAt(--D);if(G!==32&&G!==9)return D+1}return x}function g(b,D,x){const G=(x==null?void 0:x.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const j=G(D);if(!e.test(j))throw new TypeError(`argument val is invalid: ${D}`);let K=b+"="+j;if(!x)return K;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);K+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);K+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);K+="; Path="+x.path}if(x.expires){if(!T(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);K+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(K+="; HttpOnly"),x.secure&&(K+="; Secure"),x.partitioned&&(K+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return K}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function T(b){return o.call(b)==="[object Date]"}return Hl}uR();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var F_="popstate";function cR(i={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return Gm("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:ru(o)}return fR(e,t,null,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function vi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hR(){return Math.random().toString(36).substring(2,10)}function G_(i,e){return{usr:i.state,key:i.key,idx:e}}function Gm(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ro(e):e,state:t,key:e&&e.key||s||hR()}}function ru({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Ro(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function fR(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){d="POP";let j=E(),K=j==null?null:j-g;g=j,p&&p({action:d,location:G.location,delta:K})}function b(j,K){d="PUSH";let J=Gm(G.location,j,K);g=E()+1;let Y=G_(J,g),oe=G.createHref(J);try{h.pushState(Y,"",oe)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(oe)}u&&p&&p({action:d,location:G.location,delta:1})}function D(j,K){d="REPLACE";let J=Gm(G.location,j,K);g=E();let Y=G_(J,g),oe=G.createHref(J);h.replaceState(Y,"",oe),u&&p&&p({action:d,location:G.location,delta:0})}function x(j){let K=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof j=="string"?j:ru(j);return J=J.replace(/ $/,"%20"),ut(K,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,K)}let G={get action(){return d},get location(){return i(o,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(F_,T),p=j,()=>{o.removeEventListener(F_,T),p=null}},createHref(j){return e(o,j)},createURL:x,encodeLocation(j){let K=x(j);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:b,replace:D,go(j){return h.go(j)}};return G}function zT(i,e,t="/"){return dR(i,e,t,!1)}function dR(i,e,t,s){let o=typeof e=="string"?Ro(e):e,u=ls(o.pathname||"/",t);if(u==null)return null;let h=HT(i);mR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=wR(u);d=AR(h[p],g,s)}return d}function HT(i,e=[],t=[],s=""){let o=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(ut(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=nr([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),HT(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:TR(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let p of qT(u.path))o(u,h,p)}),e}function qT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=qT(s.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function mR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:SR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var pR=/^:[\w-]+$/,gR=3,yR=2,vR=1,_R=10,ER=-2,$_=i=>i==="*";function TR(i,e){let t=i.split("/"),s=t.length;return t.some($_)&&(s+=ER),e&&(s+=yR),t.filter(o=>!$_(o)).reduce((o,u)=>o+(pR.test(u)?gR:u===""?vR:_R),s)}function SR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function AR(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:nr([u,T.pathname]),pathnameBase:DR(nr([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=nr([u,T.pathnameBase]))}return h}function yh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=bR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},b)=>{if(E==="*"){let x=d[b]||"";h=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const D=d[b];return T&&!D?g[E]=void 0:g[E]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function bR(i,e=!1,t=!0){vi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function wR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ls(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function RR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Ro(i):i;return{pathname:t?t.startsWith("/")?t:CR(t,e):e,search:NR(s),hash:OR(o)}}function CR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Sm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function FT(i){let e=IR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function GT(i,e,t,s=!1){let o;typeof i=="string"?o=Ro(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}d=T>=0?e[T]:"/"}let p=RR(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var nr=i=>i.join("/").replace(/\/\/+/g,"/"),DR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),NR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,OR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function xR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var $T=["POST","PUT","PATCH","DELETE"];new Set($T);var MR=["GET",...$T];new Set(MR);var Co=w.createContext(null);Co.displayName="DataRouter";var qh=w.createContext(null);qh.displayName="DataRouterState";var KT=w.createContext({isTransitioning:!1});KT.displayName="ViewTransition";var VR=w.createContext(new Map);VR.displayName="Fetchers";var kR=w.createContext(null);kR.displayName="Await";var Ti=w.createContext(null);Ti.displayName="Navigation";var pu=w.createContext(null);pu.displayName="Location";var Si=w.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var Ap=w.createContext(null);Ap.displayName="RouteError";function PR(i,{relative:e}={}){ut(gu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=w.useContext(Ti),{hash:o,pathname:u,search:h}=yu(i,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:nr([t,u])),s.createHref({pathname:d,search:h,hash:o})}function gu(){return w.useContext(pu)!=null}function oa(){return ut(gu(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(pu).location}var QT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YT(i){w.useContext(Ti).static||w.useLayoutEffect(i)}function Fh(){let{isDataRoute:i}=w.useContext(Si);return i?YR():LR()}function LR(){ut(gu(),"useNavigate() may be used only in the context of a <Router> component.");let i=w.useContext(Co),{basename:e,navigator:t}=w.useContext(Ti),{matches:s}=w.useContext(Si),{pathname:o}=oa(),u=JSON.stringify(FT(s)),h=w.useRef(!1);return YT(()=>{h.current=!0}),w.useCallback((p,g={})=>{if(vi(h.current,QT),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=GT(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:nr([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,i])}w.createContext(null);function XT(){let{matches:i}=w.useContext(Si),e=i[i.length-1];return e?e.params:{}}function yu(i,{relative:e}={}){let{matches:t}=w.useContext(Si),{pathname:s}=oa(),o=JSON.stringify(FT(t));return w.useMemo(()=>GT(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function UR(i,e){return WT(i,e)}function WT(i,e,t,s){var J;ut(gu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=w.useContext(Ti),{matches:h}=w.useContext(Si),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",T=d&&d.route;{let Y=T&&T.path||"";ZT(g,!T||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let b=oa(),D;if(e){let Y=typeof e=="string"?Ro(e):e;ut(E==="/"||((J=Y.pathname)==null?void 0:J.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),D=Y}else D=b;let x=D.pathname||"/",G=x;if(E!=="/"){let Y=E.replace(/^\//,"").split("/");G="/"+x.replace(/^\//,"").split("/").slice(Y.length).join("/")}let j=!u&&t&&t.matches&&t.matches.length>0?t.matches:zT(i,{pathname:G});vi(T||j!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),vi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=qR(j&&j.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:nr([E,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?E:nr([E,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),h,t,s);return e&&K?w.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},K):K}function jR(){let i=QR(),e=xR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:u},"ErrorBoundary")," or"," ",w.createElement("code",{style:u},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:o},t):null,h)}var BR=w.createElement(jR,null),zR=class extends w.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?w.createElement(Si.Provider,{value:this.props.routeContext},w.createElement(Ap.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HR({routeContext:i,match:e,children:t}){let s=w.useContext(Co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Si.Provider,{value:i},t)}function qR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ut(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:E,errors:T}=t,b=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||b){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let T,b=!1,D=null,x=null;t&&(T=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||BR,h&&(d<0&&E===0?(ZT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):d===E&&(b=!0,x=g.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,E+1)),j=()=>{let K;return T?K=D:b?K=x:g.route.Component?K=w.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=p,w.createElement(HR,{match:g,routeContext:{outlet:p,matches:G,isDataRoute:t!=null},children:K})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?w.createElement(zR,{location:t.location,revalidation:t.revalidation,component:D,error:T,children:j(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):j()},null)}function bp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FR(i){let e=w.useContext(Co);return ut(e,bp(i)),e}function GR(i){let e=w.useContext(qh);return ut(e,bp(i)),e}function $R(i){let e=w.useContext(Si);return ut(e,bp(i)),e}function wp(i){let e=$R(i),t=e.matches[e.matches.length-1];return ut(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function KR(){return wp("useRouteId")}function QR(){var s;let i=w.useContext(Ap),e=GR("useRouteError"),t=wp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function YR(){let{router:i}=FR("useNavigate"),e=wp("useNavigate"),t=w.useRef(!1);return YT(()=>{t.current=!0}),w.useCallback(async(o,u={})=>{vi(t.current,QT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var K_={};function ZT(i,e,t){!e&&!K_[i]&&(K_[i]=!0,vi(!1,t))}w.memo(XR);function XR({routes:i,future:e,state:t}){return WT(i,void 0,t,e)}function Yi(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ut(!gu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Ro(t));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:b="default"}=t,D=w.useMemo(()=>{let x=ls(p,h);return x==null?null:{location:{pathname:x,search:g,hash:E,state:T,key:b},navigationType:s}},[h,p,g,E,T,b,s]);return vi(D!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:w.createElement(Ti.Provider,{value:d},w.createElement(pu.Provider,{children:e,value:D}))}function ZR({children:i,location:e}){return UR($m(i),e)}function $m(i,e=[]){let t=[];return w.Children.forEach(i,(s,o)=>{if(!w.isValidElement(s))return;let u=[...e,o];if(s.type===w.Fragment){t.push.apply(t,$m(s.props.children,u));return}ut(s.type===Yi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=$m(s.props.children,u)),t.push(h)}),t}var sh="get",ah="application/x-www-form-urlencoded";function Gh(i){return i!=null&&typeof i.tagName=="string"}function JR(i){return Gh(i)&&i.tagName.toLowerCase()==="button"}function eC(i){return Gh(i)&&i.tagName.toLowerCase()==="form"}function tC(i){return Gh(i)&&i.tagName.toLowerCase()==="input"}function nC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function iC(i,e){return i.button===0&&(!e||e==="_self")&&!nC(i)}var Yc=null;function rC(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var sC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(i){return i!=null&&!sC.has(i)?(vi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):i}function aC(i,e){let t,s,o,u,h;if(eC(i)){let d=i.getAttribute("action");s=d?ls(d,e):null,t=i.getAttribute("method")||sh,o=Am(i.getAttribute("enctype"))||ah,u=new FormData(i)}else if(JR(i)||tC(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?ls(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||sh,o=Am(i.getAttribute("formenctype"))||Am(d.getAttribute("enctype"))||ah,u=new FormData(d,i),!rC()){let{name:g,type:E,value:T}=i;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,T)}}else{if(Gh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sh,s=null,o=ah,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Rp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function oC(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function uC(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await oC(u,t);return h.links?h.links():[]}return[]}));return dC(s.flat(1).filter(lC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Q_(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function cC(i,e){return hC(i.map(t=>{let s=e.routes[t.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function hC(i){return[...new Set(i)]}function fC(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function dC(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(fC(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function mC(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function pC(){let i=w.useContext(Co);return Rp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function gC(){let i=w.useContext(qh);return Rp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Cp=w.createContext(void 0);Cp.displayName="FrameworkContext";function JT(){let i=w.useContext(Cp);return Rp(i,"You must render this element inside a <HydratedRouter> element"),i}function yC(i,e){let t=w.useContext(Cp),[s,o]=w.useState(!1),[u,h]=w.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,b=w.useRef(null);w.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let G=K=>{K.forEach(J=>{h(J.isIntersecting)})},j=new IntersectionObserver(G,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[i]),w.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let D=()=>{o(!0)},x=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,b,{}]:[u,b,{onFocus:ql(d,D),onBlur:ql(p,x),onMouseEnter:ql(g,D),onMouseLeave:ql(E,x),onTouchStart:ql(T,D)}]:[!1,b,{}]}function ql(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function vC({page:i,...e}){let{router:t}=pC(),s=w.useMemo(()=>zT(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?w.createElement(EC,{page:i,matches:s,...e}):null}function _C(i){let{manifest:e,routeModules:t}=JT(),[s,o]=w.useState([]);return w.useEffect(()=>{let u=!1;return uC(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function EC({page:i,matches:e,...t}){let s=oa(),{manifest:o,routeModules:u}=JT(),{loaderData:h,matches:d}=gC(),p=w.useMemo(()=>Q_(i,e,d,o,s,"data"),[i,e,d,o,s]),g=w.useMemo(()=>Q_(i,e,d,o,s,"assets"),[i,e,d,o,s]),E=w.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let D=new Set,x=!1;if(e.forEach(j=>{var J;let K=o.routes[j.route.id];!K||!K.hasLoader||(!p.some(Y=>Y.route.id===j.route.id)&&j.route.id in h&&((J=u[j.route.id])!=null&&J.shouldRevalidate)||K.hasClientLoader?x=!0:D.add(j.route.id))}),D.size===0)return[];let G=mC(i);return x&&D.size>0&&G.searchParams.set("_routes",e.filter(j=>D.has(j.route.id)).map(j=>j.route.id).join(",")),[G.pathname+G.search]},[h,s,o,p,e,i,u]),T=w.useMemo(()=>cC(g,o),[g,o]),b=_C(g);return w.createElement(w.Fragment,null,E.map(D=>w.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),T.map(D=>w.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),b.map(({key:D,link:x})=>w.createElement("link",{key:D,...x})))}function TC(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var e0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e0&&(window.__reactRouterVersion="7.1.5")}catch{}function SC({basename:i,children:e,window:t}){let s=w.useRef();s.current==null&&(s.current=cR({window:t,v5Compat:!0}));let o=s.current,[u,h]=w.useState({action:o.action,location:o.location}),d=w.useCallback(p=>{w.startTransition(()=>h(p))},[h]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.createElement(WR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var t0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n0=w.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:E,viewTransition:T,...b},D){let{basename:x}=w.useContext(Ti),G=typeof g=="string"&&t0.test(g),j,K=!1;if(typeof g=="string"&&G&&(j=g,e0))try{let R=new URL(window.location.href),O=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=ls(O.pathname,x);O.origin===R.origin&&P!=null?g=P+O.search+O.hash:K=!0}catch{vi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=PR(g,{relative:o}),[Y,oe,ae]=yC(s,b),le=RC(g,{replace:h,state:d,target:p,preventScrollReset:E,relative:o,viewTransition:T});function M(R){e&&e(R),R.defaultPrevented||le(R)}let C=w.createElement("a",{...b,...ae,href:j||J,onClick:K||u?e:M,ref:TC(D,oe),target:p,"data-discover":!G&&t==="render"?"true":void 0});return Y&&!G?w.createElement(w.Fragment,null,C,w.createElement(vC,{page:J})):C});n0.displayName="Link";var AC=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},E){let T=yu(h,{relative:g.relative}),b=oa(),D=w.useContext(qh),{navigator:x,basename:G}=w.useContext(Ti),j=D!=null&&OC(T)&&d===!0,K=x.encodeLocation?x.encodeLocation(T).pathname:T.pathname,J=b.pathname,Y=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(J=J.toLowerCase(),Y=Y?Y.toLowerCase():null,K=K.toLowerCase()),Y&&G&&(Y=ls(Y,G)||Y);const oe=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ae=J===K||!o&&J.startsWith(K)&&J.charAt(oe)==="/",le=Y!=null&&(Y===K||!o&&Y.startsWith(K)&&Y.charAt(K.length)==="/"),M={isActive:ae,isPending:le,isTransitioning:j},C=ae?e:void 0,R;typeof s=="function"?R=s(M):R=[s,ae?"active":null,le?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(M):u;return w.createElement(n0,{...g,"aria-current":C,className:R,ref:E,style:O,to:h,viewTransition:d},typeof p=="function"?p(M):p)});AC.displayName="NavLink";var bC=w.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=sh,action:d,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...b},D)=>{let x=DC(),G=NC(d,{relative:g}),j=h.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&t0.test(d),J=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let oe=Y.nativeEvent.submitter,ae=(oe==null?void 0:oe.getAttribute("formmethod"))||h;x(oe||Y.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return w.createElement("form",{ref:D,method:j,action:G,onSubmit:s?p:J,...b,"data-discover":!K&&i==="render"?"true":void 0})});bC.displayName="Form";function wC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i0(i){let e=w.useContext(Co);return ut(e,wC(i)),e}function RC(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=Fh(),p=oa(),g=yu(i,{relative:u});return w.useCallback(E=>{if(iC(E,e)){E.preventDefault();let T=t!==void 0?t:ru(p)===ru(g);d(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,t,s,e,i,o,u,h])}var CC=0,IC=()=>`__${String(++CC)}__`;function DC(){let{router:i}=i0("useSubmit"),{basename:e}=w.useContext(Ti),t=KR();return w.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=aC(s,e);if(o.navigate===!1){let E=o.fetcherKey||IC();await i.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function NC(i,{relative:e}={}){let{basename:t}=w.useContext(Ti),s=w.useContext(Si);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...yu(i||".",{relative:e})},h=oa();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(E=>E==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let E=d.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:nr([t,u.pathname])),ru(u)}function OC(i,e={}){let t=w.useContext(KT);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=i0("useViewTransitionState"),o=yu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ls(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=ls(t.nextLocation.pathname,s)||t.nextLocation.pathname;return yh(o.pathname,h)!=null||yh(o.pathname,u)!=null}new TextEncoder;var xC=BT();const co=Hh(xC);var bm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Y_;function MC(){return Y_||(Y_=1,function(i){(function(){var e={}.hasOwnProperty;function t(){for(var u="",h=0;h<arguments.length;h++){var d=arguments[h];d&&(u=o(u,s(d)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return t.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var d in u)e.call(u,d)&&u[d]&&(h=o(h,d));return h}function o(u,h){return h?u?u+" "+h:u+h:u}i.exports?(t.default=t,i.exports=t):window.classNames=t})()}(bm)),bm.exports}var VC=MC();const we=Hh(VC),kC=["xxl","xl","lg","md","sm","xs"],PC="xs",$h=w.createContext({prefixes:{},breakpoints:kC,minBreakpoint:PC}),{Consumer:XV,Provider:WV}=$h;function Oe(i,e){const{prefixes:t}=w.useContext($h);return i||t[e]||e}function LC(){const{breakpoints:i}=w.useContext($h);return i}function UC(){const{minBreakpoint:i}=w.useContext($h);return i}const Ip=w.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Oe(e,"card-group"),k.jsx(t,{ref:o,className:we(i,e),...s})));Ip.displayName="CardGroup";var X_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},jC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],d=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},s0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|d>>4;let b=(d&15)<<2|g>>6,D=g&63;p||(D=64,h||(b=64)),s.push(t[E],t[T],t[b],t[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(r0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):jC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new BC;const b=u<<2|d>>4;if(s.push(b),g!==64){const D=d<<4&240|g>>2;if(s.push(D),T!==64){const x=g<<6&192|T;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class BC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zC=function(i){const e=r0(i);return s0.encodeByteArray(e,!0)},vh=function(i){return zC(i).replace(/\./g,"")},a0=function(i){try{return s0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=()=>HC().__FIREBASE_DEFAULTS__,FC=()=>{if(typeof process>"u"||typeof X_>"u")return;const i=X_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},GC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&a0(i[1]);return e&&JSON.parse(e)},Kh=()=>{try{return qC()||FC()||GC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},o0=i=>{var e,t;return(t=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},$C=i=>{const e=o0(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},l0=()=>{var i;return(i=Kh())===null||i===void 0?void 0:i.config},u0=i=>{var e;return(e=Kh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[vh(JSON.stringify(t)),vh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function XC(){var i;const e=(i=Kh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function JC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eI(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function tI(){return!XC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nI(){try{return typeof indexedDB=="object"}catch{return!1}}function iI(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="FirebaseError";class dr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=rI,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?sI(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new dr(o,d,s)}}function sI(i,e){return i.replace(aI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const aI=/\{\$([^}]+)}/g;function oI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function _h(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(W_(u)&&W_(h)){if(!_h(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function W_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $l(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Kl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function lI(i,e){const t=new uI(i,e);return t.subscribe.bind(t)}class uI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");cI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(i){return i&&i._delegate?i._delegate:i}class na{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new KC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dI(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:fI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fI(i){return i===Js?void 0:i}function dI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new hI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const pI={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},gI=Me.INFO,yI={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},vI=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=yI[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dp{constructor(e){this.name=e,this._logLevel=gI,this._logHandler=vI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const _I=(i,e)=>e.some(t=>i instanceof t);let Z_,J_;function EI(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TI(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c0=new WeakMap,Km=new WeakMap,h0=new WeakMap,Rm=new WeakMap,Np=new WeakMap;function SI(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(is(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&c0.set(t,i)}).catch(()=>{}),Np.set(e,i),e}function AI(i){if(Km.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Km.set(i,e)}let Qm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Km.get(i);if(e==="objectStoreNames")return i.objectStoreNames||h0.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return is(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function bI(i){Qm=i(Qm)}function wI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Cm(this),e,...t);return h0.set(s,e.sort?e.sort():[e]),is(s)}:TI().includes(i)?function(...e){return i.apply(Cm(this),e),is(c0.get(this))}:function(...e){return is(i.apply(Cm(this),e))}}function RI(i){return typeof i=="function"?wI(i):(i instanceof IDBTransaction&&AI(i),_I(i,EI())?new Proxy(i,Qm):i)}function is(i){if(i instanceof IDBRequest)return SI(i);if(Rm.has(i))return Rm.get(i);const e=RI(i);return e!==i&&(Rm.set(i,e),Np.set(e,i)),e}const Cm=i=>Np.get(i);function CI(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=is(h);return s&&h.addEventListener("upgradeneeded",p=>{s(is(h.result),p.oldVersion,p.newVersion,is(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const II=["get","getKey","getAll","getAllKeys","count"],DI=["put","add","delete","clear"],Im=new Map;function eE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=DI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||II.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Im.set(e,u),u}bI(i=>({...i,get:(e,t,s)=>eE(e,t)||i.get(e,t,s),has:(e,t)=>!!eE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(OI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function OI(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ym="@firebase/app",tE="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Dp("@firebase/app"),xI="@firebase/app-compat",MI="@firebase/analytics-compat",VI="@firebase/analytics",kI="@firebase/app-check-compat",PI="@firebase/app-check",LI="@firebase/auth",UI="@firebase/auth-compat",jI="@firebase/database",BI="@firebase/data-connect",zI="@firebase/database-compat",HI="@firebase/functions",qI="@firebase/functions-compat",FI="@firebase/installations",GI="@firebase/installations-compat",$I="@firebase/messaging",KI="@firebase/messaging-compat",QI="@firebase/performance",YI="@firebase/performance-compat",XI="@firebase/remote-config",WI="@firebase/remote-config-compat",ZI="@firebase/storage",JI="@firebase/storage-compat",e1="@firebase/firestore",t1="@firebase/vertexai",n1="@firebase/firestore-compat",i1="firebase",r1="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="[DEFAULT]",s1={[Ym]:"fire-core",[xI]:"fire-core-compat",[VI]:"fire-analytics",[MI]:"fire-analytics-compat",[PI]:"fire-app-check",[kI]:"fire-app-check-compat",[LI]:"fire-auth",[UI]:"fire-auth-compat",[jI]:"fire-rtdb",[BI]:"fire-data-connect",[zI]:"fire-rtdb-compat",[HI]:"fire-fn",[qI]:"fire-fn-compat",[FI]:"fire-iid",[GI]:"fire-iid-compat",[$I]:"fire-fcm",[KI]:"fire-fcm-compat",[QI]:"fire-perf",[YI]:"fire-perf-compat",[XI]:"fire-rc",[WI]:"fire-rc-compat",[ZI]:"fire-gcs",[JI]:"fire-gcs-compat",[e1]:"fire-fst",[n1]:"fire-fst-compat",[t1]:"fire-vertex","fire-js":"fire-js",[i1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,a1=new Map,Wm=new Map;function nE(i,e){try{i.container.addComponent(e)}catch(t){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function yo(i){const e=i.name;if(Wm.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;Wm.set(e,i);for(const t of Eh.values())nE(t,i);for(const t of a1.values())nE(t,i);return!0}function Op(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function jn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new vu("app","Firebase",o1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=r1;function f0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Xm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(t||(t=l0()),!t)throw rs.create("no-options");const u=Eh.get(o);if(u){if(_h(t,u.options)&&_h(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const h=new mI(o);for(const p of Wm.values())h.addComponent(p);const d=new l1(t,s,h);return Eh.set(o,d),d}function d0(i=Xm){const e=Eh.get(i);if(!e&&i===Xm&&l0())return f0();if(!e)throw rs.create("no-app",{appName:i});return e}function ss(i,e,t){var s;let o=(s=s1[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(d.join(" "));return}yo(new na(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="firebase-heartbeat-database",c1=1,su="firebase-heartbeat-store";let Dm=null;function m0(){return Dm||(Dm=CI(u1,c1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(su)}catch(t){console.warn(t)}}}}).catch(i=>{throw rs.create("idb-open",{originalErrorMessage:i.message})})),Dm}async function h1(i){try{const t=(await m0()).transaction(su),s=await t.objectStore(su).get(p0(i));return await t.done,s}catch(e){if(e instanceof dr)lr.warn(e.message);else{const t=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lr.warn(t.message)}}}async function iE(i,e){try{const s=(await m0()).transaction(su,"readwrite");await s.objectStore(su).put(e,p0(i)),await s.done}catch(t){if(t instanceof dr)lr.warn(t.message);else{const s=rs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});lr.warn(s.message)}}}function p0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=1024,d1=30;class m1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new g1(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=rE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>d1){const h=y1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){lr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=rE(),{heartbeatsToSend:s,unsentEntries:o}=p1(this._heartbeatsCache.heartbeats),u=vh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return lr.warn(t),""}}}function rE(){return new Date().toISOString().substring(0,10)}function p1(i,e=f1){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),sE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),sE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class g1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nI()?iI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await h1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return iE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return iE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function sE(i){return vh(JSON.stringify({version:2,heartbeats:i})).length}function y1(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(i){yo(new na("platform-logger",e=>new NI(e),"PRIVATE")),yo(new na("heartbeat",e=>new m1(e),"PRIVATE")),ss(Ym,tE,i),ss(Ym,tE,"esm2017"),ss("fire-js","")}v1("");var _1="firebase",E1="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss(_1,E1,"app");function xp(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function g0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T1=g0,y0=new vu("auth","Firebase",g0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Dp("@firebase/auth");function S1(i,...e){Th.logLevel<=Me.WARN&&Th.warn(`Auth (${Io}): ${i}`,...e)}function oh(i,...e){Th.logLevel<=Me.ERROR&&Th.error(`Auth (${Io}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(i,...e){throw Mp(i,...e)}function mi(i,...e){return Mp(i,...e)}function v0(i,e,t){const s=Object.assign(Object.assign({},T1()),{[e]:t});return new vu("auth","Firebase",s).create(e,{appName:i.name})}function ir(i){return v0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return y0.create(i,...e)}function Te(i,e,...t){if(!i)throw Mp(e,...t)}function Ji(i){const e="INTERNAL ASSERTION FAILED: "+i;throw oh(e),new Error(e)}function ur(i,e){i||Ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function A1(){return aE()==="http:"||aE()==="https:"}function aE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A1()||ZC()||"connection"in navigator)?navigator.onLine:!0}function w1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ur(t>e,"Short delay should be less than long delay!"),this.isMobile=YC()||JC()}get(){return b1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(i,e){ur(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=new Eu(3e4,6e4);function gs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ys(i,e,t,s,o={}){return E0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=_u(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return WC()||(g.referrerPolicy="no-referrer"),_0.fetch()(T0(i,i.config.apiHost,t,d),g)})}async function E0(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},R1),e);try{const o=new D1(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Xc(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Xc(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Xc(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw v0(i,E,g);Xn(i,E)}}catch(o){if(o instanceof dr)throw o;Xn(i,"network-request-failed",{message:String(o)})}}async function Tu(i,e,t,s,o={}){const u=await ys(i,e,t,s,o);return"mfaPendingCredential"in u&&Xn(i,"multi-factor-auth-required",{_serverResponse:u}),u}function T0(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?Vp(i.config,o):`${i.config.apiScheme}://${o}`}function I1(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(mi(this.auth,"network-request-failed")),C1.get())})}}function Xc(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=mi(i,e,s);return o.customData._tokenResponse=t,o}function oE(i){return i!==void 0&&i.enterprise!==void 0}class N1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return I1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O1(i,e){return ys(i,"GET","/v2/recaptchaConfig",gs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(i,e){return ys(i,"POST","/v1/accounts:delete",e)}async function S0(i,e){return ys(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M1(i,e=!1){const t=En(i),s=await t.getIdToken(e),o=kp(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Jl(Nm(o.auth_time)),issuedAtTime:Jl(Nm(o.iat)),expirationTime:Jl(Nm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Nm(i){return Number(i)*1e3}function kp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=a0(t);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function lE(i){const e=kp(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof dr&&V1(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function V1({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await au(i,S0(t,{idToken:s}));Te(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?A0(u.providerUserInfo):[],d=L1(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(d!=null&&d.length),E=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new Jm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,T)}async function P1(i){const e=En(i);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function L1(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function A0(i){return i.map(e=>{var{providerId:t}=e,s=xp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(i,e){const t=await E0(i,{},async()=>{const s=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=T0(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",_0.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function j1(i,e){return ys(i,"POST","/v2/accounts:revokeToken",gs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=lE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await U1(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new fo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class er{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=xp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new k1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Jm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await au(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return M1(this,e)}reload(){return P1(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Sh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(ir(this.auth));const e=await this.getIdToken();return await au(this,x1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,d,p,g,E;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,b=(o=t.email)!==null&&o!==void 0?o:void 0,D=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,x=(h=t.photoURL)!==null&&h!==void 0?h:void 0,G=(d=t.tenantId)!==null&&d!==void 0?d:void 0,j=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,K=(g=t.createdAt)!==null&&g!==void 0?g:void 0,J=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Y,emailVerified:oe,isAnonymous:ae,providerData:le,stsTokenManager:M}=t;Te(Y&&M,e,"internal-error");const C=fo.fromJSON(this.name,M);Te(typeof Y=="string",e,"internal-error"),Xr(T,e.name),Xr(b,e.name),Te(typeof oe=="boolean",e,"internal-error"),Te(typeof ae=="boolean",e,"internal-error"),Xr(D,e.name),Xr(x,e.name),Xr(G,e.name),Xr(j,e.name),Xr(K,e.name),Xr(J,e.name);const R=new er({uid:Y,auth:e,email:b,emailVerified:oe,displayName:T,isAnonymous:ae,photoURL:x,phoneNumber:D,tenantId:G,stsTokenManager:C,createdAt:K,lastLoginAt:J});return le&&Array.isArray(le)&&(R.providerData=le.map(O=>Object.assign({},O))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new fo;o.updateFromServerResponse(t);const u=new er({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Sh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?A0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new fo;d.updateFromIdToken(s);const p=new er({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=new Map;function tr(i){ur(i instanceof Function,"Expected a class definition");let e=uE.get(i);return e?(ur(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,uE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}b0.type="NONE";const cE=b0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(i,e,t){return`firebase:${i}:${e}:${t}`}class mo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?er._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new mo(tr(cE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||tr(cE);const h=lh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const E=await g._get(h);if(E){const T=er._fromJSON(e,E);g!==u&&(d=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new mo(u,e,s):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new mo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N0(e))return"Blackberry";if(O0(e))return"Webos";if(R0(e))return"Safari";if((e.includes("chrome/")||C0(e))&&!e.includes("edge/"))return"Chrome";if(D0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function w0(i=tn()){return/firefox\//i.test(i)}function R0(i=tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C0(i=tn()){return/crios\//i.test(i)}function I0(i=tn()){return/iemobile/i.test(i)}function D0(i=tn()){return/android/i.test(i)}function N0(i=tn()){return/blackberry/i.test(i)}function O0(i=tn()){return/webos/i.test(i)}function Pp(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function B1(i=tn()){var e;return Pp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function z1(){return eI()&&document.documentMode===10}function x0(i=tn()){return Pp(i)||D0(i)||O0(i)||N0(i)||/windows phone/i.test(i)||I0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(i,e=[]){let t;switch(i){case"Browser":t=hE(tn());break;case"Worker":t=`${hE(tn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1(i,e={}){return ys(i,"GET","/v2/passwordPolicy",gs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=6;class G1{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:F1,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fE(this),this.idTokenSubscription=new fE(this),this.beforeStateQueue=new H1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=tr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await S0(this,{idToken:e}),s=await er._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(jn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(ir(this));const t=e?En(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await q1(this),t=new G1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await j1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&tr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[tr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&S1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function la(i){return En(i)}class fE{constructor(e){this.auth=e,this.observer=null,this.addObserver=lI(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function K1(i){Qh=i}function V0(i){return Qh.loadJS(i)}function Q1(){return Qh.recaptchaEnterpriseScript}function Y1(){return Qh.gapiScript}function X1(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class W1{constructor(){this.enterprise=new Z1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Z1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const J1="recaptcha-enterprise",k0="NO_RECAPTCHA";class eD{constructor(e){this.type=J1,this.auth=la(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{O1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new N1(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;oE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(k0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new W1().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&oE(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Q1();p.length!==0&&(p+=d),V0(p).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function dE(i,e,t,s=!1,o=!1){const u=new eD(i);let h;if(o)h=k0;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ep(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await dE(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await dE(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(i,e){const t=Op(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(_h(u,e??{}))return o;Xn(o,"already-initialized")}return t.initialize({options:e})}function nD(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(tr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function iD(i,e,t){const s=la(i);Te(s._canInitEmulator,s,"emulator-config-failed"),Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=P0(e),{host:h,port:d}=rD(e),p=d===null?"":`:${d}`;s.config.emulator={url:`${u}//${h}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),sD()}function P0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function rD(i){const e=P0(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:mE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:mE(h)}}}function mE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function sD(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,t){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function aD(i,e){return ys(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(i,e){return Tu(i,"POST","/v1/accounts:signInWithPassword",gs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(i,e){return Tu(i,"POST","/v1/accounts:signInWithEmailLink",gs(i,e))}async function uD(i,e){return Tu(i,"POST","/v1/accounts:signInWithEmailLink",gs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Lp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new ou(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new ou(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ep(e,t,"signInWithPassword",oD);case"emailLink":return lD(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ep(e,s,"signUpPassword",aD);case"emailLink":return uD(e,{idToken:t,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(i,e){return Tu(i,"POST","/v1/accounts:signInWithIdp",gs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="http://localhost";class ia extends Lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=xp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ia(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return po(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,po(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,po(e,t)}buildRequest(){const e={requestUri:cD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_u(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fD(i){const e=$l(Kl(i)).link,t=e?$l(Kl(e)).deep_link_id:null,s=$l(Kl(i)).deep_link_id;return(s?$l(Kl(s)).link:null)||s||t||e||i}class Up{constructor(e){var t,s,o,u,h,d;const p=$l(Kl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,T=hD((o=p.mode)!==null&&o!==void 0?o:null);Te(g&&E&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=fD(e);try{return new Up(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,t){return ou._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Up.parseLink(t);return Te(s,"argument-error"),ou._fromEmailAndCode(e,s.code,s.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends L0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Su{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ia._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Jr.credential(t,s)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Su{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Su{constructor(){super("twitter.com")}static credential(e,t){return ia._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ts.credential(t,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(i,e){return Tu(i,"POST","/v1/accounts:signUp",gs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await er._fromIdTokenResponse(e,s,o),h=pE(s);return new ra({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=pE(s);return new ra({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function pE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends dr{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Ah(e,t,s,o)}}function U0(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(i,u,e,s):u})}async function mD(i,e,t=!1){const s=await au(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ra._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(i,e,t=!1){const{auth:s}=i;if(jn(s.app))return Promise.reject(ir(s));const o="reauthenticate";try{const u=await au(i,U0(s,o,e,i),t);Te(u.idToken,s,"internal-error");const h=kp(u.idToken);Te(h,s,"internal-error");const{sub:d}=h;return Te(i.uid===d,s,"user-mismatch"),ra._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Xn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j0(i,e,t=!1){if(jn(i.app))return Promise.reject(ir(i));const s="signIn",o=await U0(i,s,e),u=await ra._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function gD(i,e){return j0(la(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B0(i){const e=la(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yD(i,e,t){if(jn(i.app))return Promise.reject(ir(i));const s=la(i),h=await ep(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&B0(i),p}),d=await ra._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function vD(i,e,t){return jn(i.app)?Promise.reject(ir(i)):gD(En(i),Do.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&B0(i),s})}function _D(i,e,t,s){return En(i).onIdTokenChanged(e,t,s)}function ED(i,e,t){return En(i).beforeAuthStateChanged(e,t)}function TD(i,e,t,s){return En(i).onAuthStateChanged(e,t,s)}const bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=1e3,AD=10;class H0 extends z0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);z1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,AD):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},SD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}H0.type="LOCAL";const bD=H0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0 extends z0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}q0.type="SESSION";const F0=q0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Yh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await wD(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=jp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function CD(i){pi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function ID(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DD(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function ND(){return G0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="firebaseLocalStorageDb",OD=1,wh="firebaseLocalStorage",K0="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xh(i,e){return i.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function xD(){const i=indexedDB.deleteDatabase($0);return new Au(i).toPromise()}function tp(){const i=indexedDB.open($0,OD);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(wh,{keyPath:K0})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(wh)?e(s):(s.close(),await xD(),e(await tp()))})})}async function gE(i,e,t){const s=Xh(i,!0).put({[K0]:e,value:t});return new Au(s).toPromise()}async function MD(i,e){const t=Xh(i,!1).get(e),s=await new Au(t).toPromise();return s===void 0?null:s.value}function yE(i,e){const t=Xh(i,!0).delete(e);return new Au(t).toPromise()}const VD=800,kD=3;class Q0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>kD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(ND()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await ID(),!this.activeServiceWorker)return;this.sender=new RD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tp();return await gE(e,bh,"1"),await yE(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>gE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>MD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new Au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q0.type="LOCAL";const PD=Q0;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(i,e){return e?tr(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,t){return po(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function UD(i){return j0(i.auth,new Bp(i),i.bypassAuthState)}function jD(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),pD(t,new Bp(i),i.bypassAuthState)}async function BD(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),mD(t,new Bp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UD;case"linkViaPopup":case"linkViaRedirect":return BD;case"reauthViaPopup":case"reauthViaRedirect":return jD;default:Xn(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new Eu(2e3,1e4);class ho extends Y0{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zD.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="pendingRedirect",uh=new Map;class qD extends Y0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const s=await FD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FD(i,e){const t=KD(e),s=$D(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function GD(i,e){uh.set(i._key(),e)}function $D(i){return tr(i._redirectPersistence)}function KD(i){return lh(HD,i.config.apiKey,i.name)}async function QD(i,e,t=!1){if(jn(i.app))return Promise.reject(ir(i));const s=la(i),o=LD(s,e),h=await new qD(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=10*60*1e3;class XD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!X0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(mi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YD&&this.cachedEventUids.clear(),this.cachedEventUids.has(vE(e))}saveEventToCache(e){this.cachedEventUids.add(vE(e)),this.lastProcessedEventTime=Date.now()}}function vE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function X0({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(i,e={}){return ys(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eN=/^https?/;async function tN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await ZD(i);for(const t of e)try{if(nN(t))return}catch{}Xn(i,"unauthorized-domain")}function nN(i){const e=Zm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!eN.test(t))return!1;if(JD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new Eu(3e4,6e4);function _E(){const i=pi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function rN(i){return new Promise((e,t)=>{var s,o,u;function h(){_E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_E(),t(mi(i,"network-request-failed"))},timeout:iN.get()})}if(!((o=(s=pi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=pi().gapi)===null||u===void 0)&&u.load)h();else{const d=X1("iframefcb");return pi()[d]=()=>{gapi.load?h():t(mi(i,"network-request-failed"))},V0(`${Y1()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw ch=null,e})}let ch=null;function sN(i){return ch=ch||rN(i),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new Eu(5e3,15e3),oN="__/auth/iframe",lN="emulator/auth/iframe",uN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hN(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Vp(e,lN):`https://${i.config.authDomain}/${oN}`,s={apiKey:e.apiKey,appName:i.name,v:Io},o=cN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${_u(s).slice(1)}`}async function fN(i){const e=await sN(i),t=pi().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:hN(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=mi(i,"network-request-failed"),d=pi().setTimeout(()=>{u(h)},aN.get());function p(){pi().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mN=500,pN=600,gN="_blank",yN="http://localhost";class EE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vN(i,e,t,s=mN,o=pN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},dN),{width:s.toString(),height:o.toString(),top:u,left:h}),g=tn().toLowerCase();t&&(d=C0(g)?gN:t),w0(g)&&(e=e||yN,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[D,x])=>`${b}${D}=${x},`,"");if(B1(g)&&d!=="_self")return _N(e||"",d),new EE(null);const T=window.open(e||"",d,E);Te(T,i,"popup-blocked");try{T.focus()}catch{}return new EE(T)}function _N(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="__/auth/handler",TN="emulator/auth/handler",SN=encodeURIComponent("fac");async function TE(i,e,t,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Io,eventId:o};if(e instanceof L0){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",oI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Su){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const p=await i._getAppCheckToken(),g=p?`#${SN}=${encodeURIComponent(p)}`:"";return`${AN(i)}?${_u(d).slice(1)}${g}`}function AN({config:i}){return i.emulator?Vp(i,TN):`https://${i.authDomain}/${EN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class bN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F0,this._completeRedirectFn=QD,this._overrideRedirectResult=GD}async _openPopup(e,t,s,o){var u;ur((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await TE(e,t,s,Zm(),o);return vN(e,h,jp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await TE(e,t,s,Zm(),o);return CD(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(ur(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await fN(e),s=new XD(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Om,{type:Om},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Om];h!==void 0&&t(!!h),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return x0()||R0()||Pp()}}const wN=bN;var SE="@firebase/auth",AE="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IN(i){yo(new na("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M0(i)},g=new $1(s,o,u,p);return nD(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),yo(new na("auth-internal",e=>{const t=la(e.getProvider("auth").getImmediate());return(s=>new RN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(SE,AE,CN(i)),ss(SE,AE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=5*60,NN=u0("authIdTokenMaxAge")||DN;let bE=null;const ON=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>NN)return;const o=t==null?void 0:t.token;bE!==o&&(bE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xN(i=d0()){const e=Op(i,"auth");if(e.isInitialized())return e.getImmediate();const t=tD(i,{popupRedirectResolver:wN,persistence:[PD,bD,F0]}),s=u0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=ON(u.toString());ED(t,h,()=>h(t.currentUser)),_D(t,d=>h(d))}}const o=o0("auth");return o&&iD(t,`http://${o}`),t}function MN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}K1({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=mi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",MN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IN("Browser");var wE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var as,W0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function R(){}R.prototype=C.prototype,M.D=C.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(O,P,z){for(var N=Array(arguments.length-2),it=2;it<arguments.length;it++)N[it-2]=arguments[it];return C.prototype[P].apply(O,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,C,R){R||(R=0);var O=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)O[P]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(P=0;16>P;++P)O[P]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=M.g[0],R=M.g[1],P=M.g[2];var z=M.g[3],N=C+(z^R&(P^z))+O[0]+3614090360&4294967295;C=R+(N<<7&4294967295|N>>>25),N=z+(P^C&(R^P))+O[1]+3905402710&4294967295,z=C+(N<<12&4294967295|N>>>20),N=P+(R^z&(C^R))+O[2]+606105819&4294967295,P=z+(N<<17&4294967295|N>>>15),N=R+(C^P&(z^C))+O[3]+3250441966&4294967295,R=P+(N<<22&4294967295|N>>>10),N=C+(z^R&(P^z))+O[4]+4118548399&4294967295,C=R+(N<<7&4294967295|N>>>25),N=z+(P^C&(R^P))+O[5]+1200080426&4294967295,z=C+(N<<12&4294967295|N>>>20),N=P+(R^z&(C^R))+O[6]+2821735955&4294967295,P=z+(N<<17&4294967295|N>>>15),N=R+(C^P&(z^C))+O[7]+4249261313&4294967295,R=P+(N<<22&4294967295|N>>>10),N=C+(z^R&(P^z))+O[8]+1770035416&4294967295,C=R+(N<<7&4294967295|N>>>25),N=z+(P^C&(R^P))+O[9]+2336552879&4294967295,z=C+(N<<12&4294967295|N>>>20),N=P+(R^z&(C^R))+O[10]+4294925233&4294967295,P=z+(N<<17&4294967295|N>>>15),N=R+(C^P&(z^C))+O[11]+2304563134&4294967295,R=P+(N<<22&4294967295|N>>>10),N=C+(z^R&(P^z))+O[12]+1804603682&4294967295,C=R+(N<<7&4294967295|N>>>25),N=z+(P^C&(R^P))+O[13]+4254626195&4294967295,z=C+(N<<12&4294967295|N>>>20),N=P+(R^z&(C^R))+O[14]+2792965006&4294967295,P=z+(N<<17&4294967295|N>>>15),N=R+(C^P&(z^C))+O[15]+1236535329&4294967295,R=P+(N<<22&4294967295|N>>>10),N=C+(P^z&(R^P))+O[1]+4129170786&4294967295,C=R+(N<<5&4294967295|N>>>27),N=z+(R^P&(C^R))+O[6]+3225465664&4294967295,z=C+(N<<9&4294967295|N>>>23),N=P+(C^R&(z^C))+O[11]+643717713&4294967295,P=z+(N<<14&4294967295|N>>>18),N=R+(z^C&(P^z))+O[0]+3921069994&4294967295,R=P+(N<<20&4294967295|N>>>12),N=C+(P^z&(R^P))+O[5]+3593408605&4294967295,C=R+(N<<5&4294967295|N>>>27),N=z+(R^P&(C^R))+O[10]+38016083&4294967295,z=C+(N<<9&4294967295|N>>>23),N=P+(C^R&(z^C))+O[15]+3634488961&4294967295,P=z+(N<<14&4294967295|N>>>18),N=R+(z^C&(P^z))+O[4]+3889429448&4294967295,R=P+(N<<20&4294967295|N>>>12),N=C+(P^z&(R^P))+O[9]+568446438&4294967295,C=R+(N<<5&4294967295|N>>>27),N=z+(R^P&(C^R))+O[14]+3275163606&4294967295,z=C+(N<<9&4294967295|N>>>23),N=P+(C^R&(z^C))+O[3]+4107603335&4294967295,P=z+(N<<14&4294967295|N>>>18),N=R+(z^C&(P^z))+O[8]+1163531501&4294967295,R=P+(N<<20&4294967295|N>>>12),N=C+(P^z&(R^P))+O[13]+2850285829&4294967295,C=R+(N<<5&4294967295|N>>>27),N=z+(R^P&(C^R))+O[2]+4243563512&4294967295,z=C+(N<<9&4294967295|N>>>23),N=P+(C^R&(z^C))+O[7]+1735328473&4294967295,P=z+(N<<14&4294967295|N>>>18),N=R+(z^C&(P^z))+O[12]+2368359562&4294967295,R=P+(N<<20&4294967295|N>>>12),N=C+(R^P^z)+O[5]+4294588738&4294967295,C=R+(N<<4&4294967295|N>>>28),N=z+(C^R^P)+O[8]+2272392833&4294967295,z=C+(N<<11&4294967295|N>>>21),N=P+(z^C^R)+O[11]+1839030562&4294967295,P=z+(N<<16&4294967295|N>>>16),N=R+(P^z^C)+O[14]+4259657740&4294967295,R=P+(N<<23&4294967295|N>>>9),N=C+(R^P^z)+O[1]+2763975236&4294967295,C=R+(N<<4&4294967295|N>>>28),N=z+(C^R^P)+O[4]+1272893353&4294967295,z=C+(N<<11&4294967295|N>>>21),N=P+(z^C^R)+O[7]+4139469664&4294967295,P=z+(N<<16&4294967295|N>>>16),N=R+(P^z^C)+O[10]+3200236656&4294967295,R=P+(N<<23&4294967295|N>>>9),N=C+(R^P^z)+O[13]+681279174&4294967295,C=R+(N<<4&4294967295|N>>>28),N=z+(C^R^P)+O[0]+3936430074&4294967295,z=C+(N<<11&4294967295|N>>>21),N=P+(z^C^R)+O[3]+3572445317&4294967295,P=z+(N<<16&4294967295|N>>>16),N=R+(P^z^C)+O[6]+76029189&4294967295,R=P+(N<<23&4294967295|N>>>9),N=C+(R^P^z)+O[9]+3654602809&4294967295,C=R+(N<<4&4294967295|N>>>28),N=z+(C^R^P)+O[12]+3873151461&4294967295,z=C+(N<<11&4294967295|N>>>21),N=P+(z^C^R)+O[15]+530742520&4294967295,P=z+(N<<16&4294967295|N>>>16),N=R+(P^z^C)+O[2]+3299628645&4294967295,R=P+(N<<23&4294967295|N>>>9),N=C+(P^(R|~z))+O[0]+4096336452&4294967295,C=R+(N<<6&4294967295|N>>>26),N=z+(R^(C|~P))+O[7]+1126891415&4294967295,z=C+(N<<10&4294967295|N>>>22),N=P+(C^(z|~R))+O[14]+2878612391&4294967295,P=z+(N<<15&4294967295|N>>>17),N=R+(z^(P|~C))+O[5]+4237533241&4294967295,R=P+(N<<21&4294967295|N>>>11),N=C+(P^(R|~z))+O[12]+1700485571&4294967295,C=R+(N<<6&4294967295|N>>>26),N=z+(R^(C|~P))+O[3]+2399980690&4294967295,z=C+(N<<10&4294967295|N>>>22),N=P+(C^(z|~R))+O[10]+4293915773&4294967295,P=z+(N<<15&4294967295|N>>>17),N=R+(z^(P|~C))+O[1]+2240044497&4294967295,R=P+(N<<21&4294967295|N>>>11),N=C+(P^(R|~z))+O[8]+1873313359&4294967295,C=R+(N<<6&4294967295|N>>>26),N=z+(R^(C|~P))+O[15]+4264355552&4294967295,z=C+(N<<10&4294967295|N>>>22),N=P+(C^(z|~R))+O[6]+2734768916&4294967295,P=z+(N<<15&4294967295|N>>>17),N=R+(z^(P|~C))+O[13]+1309151649&4294967295,R=P+(N<<21&4294967295|N>>>11),N=C+(P^(R|~z))+O[4]+4149444226&4294967295,C=R+(N<<6&4294967295|N>>>26),N=z+(R^(C|~P))+O[11]+3174756917&4294967295,z=C+(N<<10&4294967295|N>>>22),N=P+(C^(z|~R))+O[2]+718787259&4294967295,P=z+(N<<15&4294967295|N>>>17),N=R+(z^(P|~C))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+z&4294967295}s.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var R=C-this.blockSize,O=this.B,P=this.h,z=0;z<C;){if(P==0)for(;z<=R;)o(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<C;)if(O[P++]=M.charCodeAt(z++),P==this.blockSize){o(this,O),P=0;break}}else for(;z<C;)if(O[P++]=M[z++],P==this.blockSize){o(this,O),P=0;break}}this.h=P,this.o+=C},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var R=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=R&255,R/=256;for(this.u(M),M=Array(16),C=R=0;4>C;++C)for(var O=0;32>O;O+=8)M[R++]=this.g[C]>>>O&255;return M};function u(M,C){var R=d;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=C(M)}function h(M,C){this.h=C;for(var R=[],O=!0,P=M.length-1;0<=P;P--){var z=M[P]|0;O&&z==C||(R[P]=z,O=!1)}this.g=R}var d={};function p(M){return-128<=M&&128>M?u(M,function(C){return new h([C|0],0>C?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return j(g(-M));for(var C=[],R=1,O=0;M>=R;O++)C[O]=M/R|0,R*=4294967296;return new h(C,0)}function E(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return j(E(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(C,8)),O=T,P=0;P<M.length;P+=8){var z=Math.min(8,M.length-P),N=parseInt(M.substring(P,P+z),C);8>z?(z=g(Math.pow(C,z)),O=O.j(z).add(g(N))):(O=O.j(R),O=O.add(g(N)))}return O}var T=p(0),b=p(1),D=p(16777216);i=h.prototype,i.m=function(){if(G(this))return-j(this).m();for(var M=0,C=1,R=0;R<this.g.length;R++){var O=this.i(R);M+=(0<=O?O:4294967296+O)*C,C*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(x(this))return"0";if(G(this))return"-"+j(this).toString(M);for(var C=g(Math.pow(M,6)),R=this,O="";;){var P=oe(R,C).g;R=K(R,P.j(C));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=P,x(R))return z+O;for(;6>z.length;)z="0"+z;O=z+O}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function x(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function G(M){return M.h==-1}i.l=function(M){return M=K(this,M),G(M)?-1:x(M)?0:1};function j(M){for(var C=M.g.length,R=[],O=0;O<C;O++)R[O]=~M.g[O];return new h(R,~M.h).add(b)}i.abs=function(){return G(this)?j(this):this},i.add=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],O=0,P=0;P<=C;P++){var z=O+(this.i(P)&65535)+(M.i(P)&65535),N=(z>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);O=N>>>16,z&=65535,N&=65535,R[P]=N<<16|z}return new h(R,R[R.length-1]&-2147483648?-1:0)};function K(M,C){return M.add(j(C))}i.j=function(M){if(x(this)||x(M))return T;if(G(this))return G(M)?j(this).j(j(M)):j(j(this).j(M));if(G(M))return j(this.j(j(M)));if(0>this.l(D)&&0>M.l(D))return g(this.m()*M.m());for(var C=this.g.length+M.g.length,R=[],O=0;O<2*C;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<M.g.length;P++){var z=this.i(O)>>>16,N=this.i(O)&65535,it=M.i(P)>>>16,rt=M.i(P)&65535;R[2*O+2*P]+=N*rt,J(R,2*O+2*P),R[2*O+2*P+1]+=z*rt,J(R,2*O+2*P+1),R[2*O+2*P+1]+=N*it,J(R,2*O+2*P+1),R[2*O+2*P+2]+=z*it,J(R,2*O+2*P+2)}for(O=0;O<C;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=C;O<2*C;O++)R[O]=0;return new h(R,0)};function J(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function Y(M,C){this.g=M,this.h=C}function oe(M,C){if(x(C))throw Error("division by zero");if(x(M))return new Y(T,T);if(G(M))return C=oe(j(M),C),new Y(j(C.g),j(C.h));if(G(C))return C=oe(M,j(C)),new Y(j(C.g),C.h);if(30<M.g.length){if(G(M)||G(C))throw Error("slowDivide_ only works with positive integers.");for(var R=b,O=C;0>=O.l(M);)R=ae(R),O=ae(O);var P=le(R,1),z=le(O,1);for(O=le(O,2),R=le(R,2);!x(O);){var N=z.add(O);0>=N.l(M)&&(P=P.add(R),z=N),O=le(O,1),R=le(R,1)}return C=K(M,P.j(C)),new Y(P,C)}for(P=T;0<=M.l(C);){for(R=Math.max(1,Math.floor(M.m()/C.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),z=g(R),N=z.j(C);G(N)||0<N.l(M);)R-=O,z=g(R),N=z.j(C);x(z)&&(z=b),P=P.add(z),M=K(M,N)}return new Y(P,M)}i.A=function(M){return oe(this,M).h},i.and=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],O=0;O<C;O++)R[O]=this.i(O)&M.i(O);return new h(R,this.h&M.h)},i.or=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],O=0;O<C;O++)R[O]=this.i(O)|M.i(O);return new h(R,this.h|M.h)},i.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],O=0;O<C;O++)R[O]=this.i(O)^M.i(O);return new h(R,this.h^M.h)};function ae(M){for(var C=M.g.length+1,R=[],O=0;O<C;O++)R[O]=M.i(O)<<1|M.i(O-1)>>>31;return new h(R,M.h)}function le(M,C){var R=C>>5;C%=32;for(var O=M.g.length-R,P=[],z=0;z<O;z++)P[z]=0<C?M.i(z+R)>>>C|M.i(z+R+1)<<32-C:M.i(z+R);return new h(P,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,W0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,as=h}).apply(typeof wE<"u"?wE:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z0,Ql,J0,hh,np,eS,tS,nS;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var H=c[A];if(!(H in v))break e;v=v[H]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,H={next:function(){if(!A&&v<c.length){var $=v++;return{value:y($,c[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function b(c,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,b.apply(null,arguments)}function D(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function x(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,H,$){for(var re=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)re[Be-2]=arguments[Be];return y.prototype[H].apply(A,re)}}function G(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function j(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const H=c.length||0,$=A.length||0;c.length=H+$;for(let re=0;re<$;re++)c[H+re]=A[re]}else c.push(A)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function J(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ae=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function le(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function C(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let v,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(v in A)c[v]=A[v];for(let $=0;$<R.length;$++)v=R[$],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function z(c){d.setTimeout(()=>{throw c},0)}function N(){var c=Ue;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class it{constructor(){this.h=this.g=null}add(y,v){const A=rt.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var rt=new K(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,ce=!1,Ue=new it,V=()=>{const c=d.Promise.resolve(void 0);pe=()=>{c.then(te)}};var te=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){z(v)}var y=rt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ce=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function Ee(c,y){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{oe(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ee.aa.h.call(this)}}x(Ee,ue);var Ce={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),je=0;function et(c,y,v,A,H){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=H,this.key=++je,this.da=this.fa=!1}function Fe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bt(c){this.src=c,this.g={},this.h=0}Bt.prototype.add=function(c,y,v,A,H){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var re=Qt(c,y,A,H);return-1<re?(y=c[re],v||(y.fa=!1)):(y=new et(y,this.src,$,!!A,H),y.fa=v,c.push(y)),y};function Tn(c,y){var v=y.type;if(v in c.g){var A=c.g[v],H=Array.prototype.indexOf.call(A,y,void 0),$;($=0<=H)&&Array.prototype.splice.call(A,H,1),$&&(Fe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Qt(c,y,v,A){for(var H=0;H<c.length;++H){var $=c[H];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==A)return H}return-1}var fn="closure_lm_"+(1e6*Math.random()|0),Qe={};function Sn(c,y,v,A,H){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Sn(c,y[$],v,A,H);return null}return v=Iu(v),c&&c[ht]?c.K(y,v,g(A)?!!A.capture:!1,H):Ai(c,y,v,!1,A,H)}function Ai(c,y,v,A,H,$){if(!y)throw Error("Invalid event type");var re=g(H)?!!H.capture:!!H,Be=Po(c);if(Be||(c[fn]=Be=new Bt(c)),v=Be.add(y,v,A,re,$),v.proxy)return v;if(A=da(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)se||(H=re),H===void 0&&(H=!1),c.addEventListener(y.toString(),A,H);else if(c.attachEvent)c.attachEvent(pa(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function da(){function c(v){return y.call(c.src,c.listener,v)}const y=vf;return c}function ma(c,y,v,A,H){if(Array.isArray(y))for(var $=0;$<y.length;$++)ma(c,y[$],v,A,H);else A=g(A)?!!A.capture:!!A,v=Iu(v),c&&c[ht]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],v=Qt($,v,A,H),-1<v&&(Fe($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Po(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Qt(y,v,A,H)),(v=-1<c?y[c]:null)&&_s(v))}function _s(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ht])Tn(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(pa(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Po(y))?(Tn(v,c),v.h==0&&(v.src=null,y[fn]=null)):Fe(c)}}}function pa(c){return c in Qe?Qe[c]:Qe[c]="on"+c}function vf(c,y){if(c.da)c=!0;else{y=new Ee(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&_s(c),c=v.call(A,y)}return c}function Po(c){return c=c[fn],c instanceof Bt?c:null}var ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iu(c){return typeof c=="function"?c:(c[ln]||(c[ln]=function(y){return c.handleEvent(y)}),c[ln])}function At(){de.call(this),this.i=new Bt(this),this.M=this,this.F=null}x(At,de),At.prototype[ht]=!0,At.prototype.removeEventListener=function(c,y,v,A){ma(this,c,y,v,A)};function xt(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ue(y,c);else if(y instanceof ue)y.target=y.target||c;else{var H=y;y=new ue(A,c),O(y,H)}if(H=!0,v)for(var $=v.length-1;0<=$;$--){var re=y.g=v[$];H=bi(re,A,!0,y)&&H}if(re=y.g=c,H=bi(re,A,!0,y)&&H,H=bi(re,A,!1,y)&&H,v)for($=0;$<v.length;$++)re=y.g=v[$],H=bi(re,A,!1,y)&&H}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)Fe(v[A]);delete c.g[y],c.h--}}this.F=null},At.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},At.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function bi(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,$=0;$<y.length;++$){var re=y[$];if(re&&!re.da&&re.capture==v){var Be=re.listener,wt=re.ha||re.src;re.fa&&Tn(c.i,re),H=Be.call(wt,A)!==!1&&H}}return H&&!A.defaultPrevented}function Du(c,y,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Lo(c){c.g=Du(()=>{c.g=null,c.i&&(c.i=!1,Lo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class _f extends de{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Lo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(c){de.call(this),this.h=c,this.g={}}x(Es,de);var pr=[];function Yt(c){le(c.g,function(y,v){this.g.hasOwnProperty(v)&&_s(y)},c),c.g={}}Es.prototype.N=function(){Es.aa.N.call(this),Yt(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Uo=d.JSON.stringify,Wn=d.JSON.parse,nn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function jo(){}jo.prototype.h=null;function Nu(c){return c.h||(c.h=c.i())}function Ou(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){ue.call(this,"d")}x(gr,ue);function Hn(){ue.call(this,"c")}x(Hn,ue);var An={},yr=null;function ga(){return yr=yr||new At}An.La="serverreachability";function Bo(c){ue.call(this,An.La,c)}x(Bo,ue);function vr(c){const y=ga();xt(y,new Bo(y))}An.STAT_EVENT="statevent";function ya(c,y){ue.call(this,An.STAT_EVENT,c),this.stat=y}x(ya,ue);function gt(c){const y=ga();xt(y,new ya(y,c))}An.Ma="timingevent";function xu(c,y){ue.call(this,An.Ma,c),this.size=y}x(xu,ue);function _r(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Er(){this.g=!0}Er.prototype.xa=function(){this.g=!1};function Mu(c,y,v,A,H,$){c.info(function(){if(c.g)if($)for(var re="",Be=$.split("&"),wt=0;wt<Be.length;wt++){var ze=Be[wt].split("=");if(1<ze.length){var kt=ze[0];ze=ze[1];var Rt=kt.split("_");re=2<=Rt.length&&Rt[1]=="type"?re+(kt+"="+ze+"&"):re+(kt+"=redacted&")}}else re=null;else re=$;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+y+`
`+v+`
`+re})}function Vu(c,y,v,A,H,$,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+y+`
`+v+`
`+$+" "+re})}function Tr(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Mt(c,v)+(A?" "+A:"")})}function Jn(c,y){c.info(function(){return"TIMEOUT: "+y})}Er.prototype.info=function(){};function Mt(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var $=H[0];if($!="noop"&&$!="stop"&&$!="close")for(var re=1;re<H.length;re++)H[re]=""}}}}return Uo(v)}catch{return y}}var bt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ts;function va(){}x(va,jo),va.prototype.g=function(){return new XMLHttpRequest},va.prototype.i=function(){return{}},Ts=new va;function ei(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new Es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zo}function zo(){this.i=null,this.g="",this.h=!1}var Sr={},Ss={};function qn(c,y,v){c.L=1,c.v=ws(ft(y)),c.m=v,c.P=!0,Ri(c,null)}function Ri(c,y){c.F=Date.now(),at(c),c.A=ft(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Di(v.i,"t",A),c.C=0,v=c.j.J,c.h=new zo,c.g=Qu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new _f(b(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(pr[0]=H.toString()),H=pr);for(var $=0;$<H.length;$++){var re=Sn(v,H[$],A||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),vr(),Mu(c.i,c.u,c.A,c.l,c.R,c.m)}ei.prototype.ca=function(c){c=c.target;const y=this.M;y&&In(c)==3?y.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=In(this.g);var y=this.g.Ba();const Mi=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Bu(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=Mi?vr(3):vr(2)),_a(this);var v=this.g.Z();this.X=v;t:if(Ar(this)){var A=Bu(this.g);c="";var H=A.length,$=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),dn(this);var re="";break t}this.h.i=new d.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!($&&y==H-1)});A.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=v==200,Vu(this.i,this.u,this.A,this.l,this.R,Rt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,wt=this.g;if((Be=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Be)){var ze=Be;break t}}ze=null}if(v=ze)Tr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mn(this,v);else{this.o=!1,this.s=3,gt(12),un(this),dn(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<re.length;)if(zt=br(this,re),zt==Ss){Rt==4&&(this.s=4,gt(14),v=!1),Tr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Sr){this.s=4,gt(15),Tr(this.i,this.l,re,"[Invalid Chunk]"),v=!1;break}else Tr(this.i,this.l,zt,null),mn(this,zt);if(Ar(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||re.length!=0||this.h.h||(this.s=1,gt(16),v=!1),this.o=this.o&&v,!v)Tr(this.i,this.l,re,"[Invalid Chunked Response]"),un(this),dn(this);else if(0<re.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),xs(kt),kt.M=!0,gt(11))}}else Tr(this.i,this.l,re,null),mn(this,re);Rt==4&&un(this),this.o&&!this.J&&(Rt==4?Gu(this.j,this):(this.o=!1,at(this)))}else wf(this.g),v==400&&0<re.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),un(this),dn(this)}}}catch{}finally{}};function Ar(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function br(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Ss:(v=Number(y.substring(v,A)),isNaN(v)?Sr:(A+=1,A+v>y.length?Ss:(y=y.slice(A,A+v),c.C=A+v,y)))}ei.prototype.cancel=function(){this.J=!0,un(this)};function at(c){c.S=Date.now()+c.I,Ho(c,c.I)}function Ho(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_r(b(c.ba,c),y)}function _a(c){c.B&&(d.clearTimeout(c.B),c.B=null)}ei.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Jn(this.i,this.A),this.L!=2&&(vr(),gt(17)),un(this),this.s=2,dn(this)):Ho(this,this.S-c)};function dn(c){c.j.G==0||c.J||Gu(c.j,c)}function un(c){_a(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Yt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function mn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||wr(v.h,c))){if(!c.K&&wr(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Da(v),Ca(v);else break e;Jo(v),gt(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=_r(b(v.Za,v),6e3));if(1>=ku(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else xi(v,11)}else if((c.K||v.g==c)&&Da(v),!J(y))for(H=v.Da.g.parse(y),y=0;y<H.length;y++){let ze=H[y];if(v.T=ze[0],ze=ze[1],v.G==2)if(ze[0]=="c"){v.K=ze[1],v.ia=ze[2];const kt=ze[3];kt!=null&&(v.la=kt,v.j.info("VER="+v.la));const Rt=ze[4];Rt!=null&&(v.Aa=Rt,v.j.info("SVER="+v.Aa));const Mi=ze[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(A=1.5*Mi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const zt=c.g;if(zt){const oi=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var $=A.h;$.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Rr($,$.h),$.h=null))}if(A.D){const tl=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(A.ya=tl,Ge(A.I,A.D,tl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var re=c;if(A.qa=Ku(A,A.J?A.ia:null,A.W),re.K){bn(A.h,re);var Be=re,wt=A.L;wt&&(Be.I=wt),Be.B&&(_a(Be),at(Be)),A.g=re}else qu(A);0<v.i.length&&Ia(v)}else ze[0]!="stop"&&ze[0]!="close"||xi(v,7);else v.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?xi(v,7):Wo(v):ze[0]!="noop"&&v.l&&v.l.ta(ze),v.v=0)}}vr(4)}catch{}}var Ef=class{constructor(c,y){this.g=c,this.map=y}};function qo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ku(c){return c.h?1:c.g?c.g.size:0}function wr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Rr(c,y){c.g?c.g.add(y):c.h=y}function bn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}qo.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function rn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return G(c.i)}function Pu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function Tf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function As(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Tf(c),A=Pu(c),H=A.length,$=0;$<H;$++)y.call(void 0,A[$],v&&v[$],c)}var Go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),H=null;if(0<=A){var $=c[v].substring(0,A);H=c[v].substring(A+1)}else $=c[v];y($,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ci(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ci){this.h=c.h,Cr(this,c.j),this.o=c.o,this.g=c.g,bs(this,c.s),this.l=c.l;var y=c.i,v=new ti;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ta(this,v),this.m=c.m}else c&&(y=String(c).match(Go))?(this.h=!1,Cr(this,y[1]||"",!0),this.o=Ir(y[2]||""),this.g=Ir(y[3]||"",!0),bs(this,y[4]),this.l=Ir(y[5]||"",!0),Ta(this,y[6]||"",!0),this.m=Ir(y[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}Ci.prototype.toString=function(){var c=[],y=this.j;y&&c.push(wn(y,$o,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(wn(y,$o,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(wn(v,v.charAt(0)=="/"?Ko:Lu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",wn(v,bf)),c.join("")};function ft(c){return new Ci(c)}function Cr(c,y,v){c.j=v?Ir(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function bs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ta(c,y,v){y instanceof ti?(c.i=y,Qo(c.i,c.h)):(v||(y=wn(y,Af)),c.i=new ti(y,c.h))}function Ge(c,y,v){c.i.set(y,v)}function ws(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ir(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Sf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Sf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $o=/[#\/\?@]/g,Lu=/[#\?:]/g,Ko=/[#\?]/g,Af=/[#\?@]/g,bf=/#/g;function ti(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ea(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=ti.prototype,i.add=function(c,y){Rn(this),this.i=null,c=Ni(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Sa(c,y){Rn(c),y=Ni(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ii(c,y){return Rn(c),y=Ni(c,y),c.g.has(y)}i.forEach=function(c,y){Rn(this),this.g.forEach(function(v,A){v.forEach(function(H){c.call(y,H,A,this)},this)},this)},i.na=function(){Rn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const H=c[A];for(let $=0;$<H.length;$++)v.push(y[A])}return v},i.V=function(c){Rn(this);let y=[];if(typeof c=="string")Ii(this,c)&&(y=y.concat(this.g.get(Ni(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Rn(this),this.i=null,c=Ni(this,c),Ii(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Di(c,y,v){Sa(c,y),0<v.length&&(c.i=null,c.g.set(Ni(c,y),G(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const $=encodeURIComponent(String(A)),re=this.V(A);for(A=0;A<re.length;A++){var H=$;re[A]!==""&&(H+="="+encodeURIComponent(String(re[A]))),c.push(H)}}return this.i=c.join("&")};function Ni(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Qo(c,y){y&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(v,A){var H=A.toLowerCase();A!=H&&(Sa(this,A),Di(this,H,v))},c)),c.j=y}function Uu(c,y){const v=new Er;if(d.Image){const A=new Image;A.onload=D(Cn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=D(Cn,v,"TestLoadImage: error",!1,y,A),A.onabort=D(Cn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=D(Cn,v,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Rs(c,y){const v=new Er,A=new AbortController,H=setTimeout(()=>{A.abort(),Cn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(H),$.ok?Cn(v,"TestPingServer: ok",!0,y):Cn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Cn(v,"TestPingServer: error",!1,y)})}function Cn(c,y,v,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(v)}catch{}}function Cs(){this.g=new nn}function ni(c,y,v){const A=v||"";try{As(c,function(H,$){let re=H;g(H)&&(re=Uo(H)),y.push(A+$+"="+encodeURIComponent(re))})}catch(H){throw y.push(A+"type="+encodeURIComponent("_badmap")),H}}function Dr(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Dr,jo),Dr.prototype.g=function(){return new Oi(this.l,this.j)},Dr.prototype.i=function(c){return function(){return c}}({});function Oi(c,y){At.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Oi,At),i=Oi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&Yo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},i.Qa=function(c){this.g&&(this.response=c,ii(this))},i.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xo(c){let y="";return le(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Vt(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Xo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ge(c,y,v))}function Ye(c){At.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ye,At);var Aa=/^https?$/i,Is=["POST","PUT"];i=Ye.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ts.g(),this.v=this.o?Nu(this.o):Nu(Ts),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){ju(this,$);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)v.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())v.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Is,y,void 0))||A||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of v)this.g.setRequestHeader($,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ds(this),this.u=!0,this.g.send(c),this.u=!1}catch($){ju(this,$)}};function ju(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ba(c),si(c)}function ba(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),si(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Ye.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},i.bb=function(){wa(this)};function wa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)Du(c.Ea,0,c);else if(xt(c,"readystatechange"),In(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=re===0){var H=String(c.D).match(Go)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),A=!Aa.test(H?H.toLowerCase():"")}v=A}if(v)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var $=2<In(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",ba(c)}}finally{si(c)}}}}function si(c,y){if(c.g){Ds(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||xt(c,"ready");try{v.onreadystatechange=A}catch{}}}function Ds(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Wn(y)}};function Bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wf(c){const y={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(J(c[A]))continue;var v=P(c[A]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[H]||[];y[H]=$,$.push(v)}M(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ns(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ra(c){this.Aa=0,this.i=[],this.j=new Er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ns("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ns("baseRetryDelayMs",5e3,c),this.cb=Ns("retryDelaySeedMs",1e4,c),this.Wa=Ns("forwardChannelMaxRetries",2,c),this.wa=Ns("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new qo(c&&c.concurrentRequestLimit),this.Da=new Cs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ra.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,A){gt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Ku(this,null,this.W),Ia(this)};function Wo(c){if(zu(c),c.G==3){var y=c.U++,v=ft(c.I);if(Ge(v,"SID",c.K),Ge(v,"RID",y),Ge(v,"TYPE","terminate"),Os(c,v),y=new ei(c,c.j,y),y.L=2,y.v=ws(ft(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=Qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),at(y)}$u(c)}function Ca(c){c.g&&(xs(c),c.g.cancel(),c.g=null)}function zu(c){Ca(c),c.u&&(d.clearTimeout(c.u),c.u=null),Da(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ia(c){if(!Fo(c.h)&&!c.s){c.s=!0;var y=c.Ga;pe||V(),ce||(pe(),ce=!0),Ue.add(y,c),c.B=0}}function Rf(c,y){return ku(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_r(b(c.Ga,c,y),el(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new ei(this,this.j,c);let $=this.o;if(this.S&&($?($=C($),O($,this.S)):$=this.S),this.m!==null||this.O||(H.H=$,$=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Hu(this,H,y),v=ft(this.I),Ge(v,"RID",c),Ge(v,"CVER",22),this.D&&Ge(v,"X-HTTP-Session-Id",this.D),Os(this,v),$&&(this.O?y="headers="+encodeURIComponent(String(Xo($)))+"&"+y:this.m&&Vt(v,this.m,$)),Rr(this.h,H),this.Ua&&Ge(v,"TYPE","init"),this.P?(Ge(v,"$req",y),Ge(v,"SID","null"),H.T=!0,qn(H,v,null)):qn(H,v,y),this.G=2}}else this.G==3&&(c?Zo(this,c):this.i.length==0||Fo(this.h)||Zo(this))};function Zo(c,y){var v;y?v=y.l:v=c.U++;const A=ft(c.I);Ge(A,"SID",c.K),Ge(A,"RID",v),Ge(A,"AID",c.T),Os(c,A),c.m&&c.o&&Vt(A,c.m,c.o),v=new ei(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Hu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Rr(c.h,v),qn(v,A,y)}function Os(c,y){c.H&&le(c.H,function(v,A){Ge(y,A,v)}),c.l&&As({},function(v,A){Ge(y,A,v)})}function Hu(c,y,v){v=Math.min(c.i.length,v);var A=c.l?b(c.l.Na,c.l,c):null;e:{var H=c.i;let $=-1;for(;;){const re=["count="+v];$==-1?0<v?($=H[0].g,re.push("ofs="+$)):$=0:re.push("ofs="+$);let Be=!0;for(let wt=0;wt<v;wt++){let ze=H[wt].g;const kt=H[wt].map;if(ze-=$,0>ze)$=Math.max(0,H[wt].g-100),Be=!1;else try{ni(kt,re,"req"+ze+"_")}catch{A&&A(kt)}}if(Be){A=re.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function qu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;pe||V(),ce||(pe(),ce=!0),Ue.add(y,c),c.v=0}}function Jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_r(b(c.Fa,c),el(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_r(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),Ca(this),Fu(this))};function xs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Fu(c){c.g=new ei(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=ft(c.qa);Ge(y,"RID","rpc"),Ge(y,"SID",c.K),Ge(y,"AID",c.T),Ge(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(y,"TO",c.ja),Ge(y,"TYPE","xmlhttp"),Os(c,y),c.m&&c.o&&Vt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ws(ft(y)),v.m=null,v.P=!0,Ri(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Ca(this),Jo(this),gt(19))};function Da(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Gu(c,y){var v=null;if(c.g==y){Da(c),xs(c),c.g=null;var A=2}else if(wr(c.h,y))v=y.D,bn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;A=ga(),xt(A,new xu(A,v)),Ia(c)}else qu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(A==1&&Rf(c,y)||A==2&&Jo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),H){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function el(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function xi(c,y){if(c.j.info("Error code "+y),y==2){var v=b(c.fb,c),A=c.Xa;const H=!A;A=new Ci(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Cr(A,"https"),ws(A),H?Uu(A.toString(),v):Rs(A.toString(),v)}else gt(2);c.G=0,c.l&&c.l.sa(y),$u(c),zu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function $u(c){if(c.G=0,c.ka=[],c.l){const y=rn(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Ku(c,y,v){var A=v instanceof Ci?ft(v):new Ci(v);if(A.g!="")y&&(A.g=y+"."+A.g),bs(A,A.s);else{var H=d.location;A=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var $=new Ci(null);A&&Cr($,A),y&&($.g=y),H&&bs($,H),v&&($.l=v),A=$}return v=c.D,y=c.ya,v&&y&&Ge(A,v,y),Ge(A,"VER",c.la),Os(c,A),A}function Qu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ye(new Dr({eb:v})):new Ye(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}i=Yu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Na(){}Na.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){At.call(this),this.g=new Ra(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!J(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!J(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ai(this)}x(sn,At),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Wo(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Uo(c),c=v);y.i.push(new Ef(y.Ya++,c)),y.G==3&&Ia(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,sn.aa.N.call(this)};function Xu(c){gr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(Xu,gr);function Wu(){Hn.call(this),this.status=1}x(Wu,Hn);function ai(c){this.g=c}x(ai,Yu),ai.prototype.ua=function(){xt(this.g,"a")},ai.prototype.ta=function(c){xt(this.g,new Xu(c))},ai.prototype.sa=function(c){xt(this.g,new Wu)},ai.prototype.ra=function(){xt(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,nS=function(){return new Na},tS=function(){return ga()},eS=An,np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bt.NO_ERROR=0,bt.TIMEOUT=8,bt.HTTP_ERROR=6,hh=bt,wi.COMPLETE="complete",J0=wi,Ou.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",At.prototype.listen=At.prototype.K,Ql=Ou,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,Z0=Ye}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const RE="@firebase/firestore",CE="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Dp("@firebase/firestore");function ao(){return sa.logLevel}function he(i,...e){if(sa.logLevel<=Me.DEBUG){const t=e.map(zp);sa.debug(`Firestore (${No}): ${i}`,...t)}}function cr(i,...e){if(sa.logLevel<=Me.ERROR){const t=e.map(zp);sa.error(`Firestore (${No}): ${i}`,...t)}}function vo(i,...e){if(sa.logLevel<=Me.WARN){const t=e.map(zp);sa.warn(`Firestore (${No}): ${i}`,...t)}}function zp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i="Unexpected state"){const e=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: `+i;throw cr(e),new Error(e)}function Xe(i,e){i||Se()}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class kN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class PN{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string"),new iS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new Jt(e)}}class LN{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class UN{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new LN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jN{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,jn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new IE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string"),this.R=t.token,new IE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=BN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function _o(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=-62135596800,NE=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*NE);return new Nt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<DE)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NE}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-DE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Nt(0,0))}static max(){return new Ae(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="__name__";class di{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(),s===void 0?s=e.length-t:s>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=di.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=di.isNumericId(e),o=di.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?di.extractNumericId(e).compare(di.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return as.fromString(e.substring(4,e.length-2))}}class st extends di{construct(e,t,s){return new st(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new st(t)}static emptyPath(){return new st([])}}const zN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends di{construct(e,t,s){return new $t(e,t,s)}static isValidIdentifier(e){return zN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OE}static keyField(){return new $t([OE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(st.fromString(e))}static fromName(e){return new ve(st.fromString(e).popFirst(5))}static empty(){return new ve(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function HN(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Nt(t+1,0):new Nt(t,s));return new us(o,ve.empty(),e)}function qN(i){return new us(i.readTime,i.key,lu)}class us{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new us(Ae.min(),ve.empty(),lu)}static max(){return new us(Ae.max(),ve.empty(),lu)}}function FN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(i.documentKey,e.documentKey),t!==0?t:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $N{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==GN)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,s)=>{t(e)})}static reject(e){return new Z((t,s)=>{s(e)})}static waitFor(e){return new Z((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=Z.resolve(!1);for(const s of e)t=t.next(o=>o?Z.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new Z((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++d,d===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new Z((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function KN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function xo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Wh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=-1;function Zh(i){return i==null}function Rh(i){return i===0&&1/i==-1/0}function QN(i){return typeof i=="number"&&Number.isInteger(i)&&!Rh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="";function YN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=xE(e)),e=XN(i.get(t),e);return xE(e)}function XN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case sS:t+="";break;default:t+=u}}return t}function xE(i){return i+sS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ua(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function aS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Gt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new VE(this.data.getIterator())}getIteratorFrom(e){return new VE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class VE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new Ot($t.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new oS("Invalid base64 string: "+u):u}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const WN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(i){if(Xe(!!i),typeof i=="string"){let e=0;const t=WN.exec(i);if(Xe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function hs(i){return typeof i=="string"?Kt.fromBase64String(i):Kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="server_timestamp",uS="__type__",cS="__previous_value__",hS="__local_write_time__";function qp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[uS])===null||t===void 0?void 0:t.stringValue)===lS}function Jh(i){const e=i.mapValue.fields[cS];return qp(e)?Jh(e):e}function uu(i){const e=cs(i.mapValue.fields[hS].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,t,s,o,u,h,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Ch="(default)";class cu{constructor(e,t){this.projectId=e,this.database=t||Ch}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="__type__",JN="__max__",Jc={mapValue:{}},dS="__vector__",Ih="value";function fs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?qp(i)?4:tO(i)?9007199254740991:eO(i)?10:11:Se()}function _i(i,e){if(i===e)return!0;const t=fs(i);if(t!==fs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return uu(i).isEqual(uu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=cs(o.timestampValue),d=cs(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return hs(o.bytesValue).isEqual(hs(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),d=vt(u.doubleValue);return h===d?Rh(h)===Rh(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return _o(i.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(ME(h)!==ME(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!_i(h[p],d[p])))return!1;return!0}(i,e);default:return Se()}}function hu(i,e){return(i.values||[]).find(t=>_i(t,e))!==void 0}function Eo(i,e){if(i===e)return 0;const t=fs(i),s=fs(e);if(t!==s)return Pe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=vt(u.integerValue||u.doubleValue),p=vt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return kE(i.timestampValue,e.timestampValue);case 4:return kE(uu(i),uu(e));case 5:return Pe(i.stringValue,e.stringValue);case 6:return function(u,h){const d=hs(u),p=hs(h);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const E=Pe(d[g],p[g]);if(E!==0)return E}return Pe(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Pe(vt(u.latitude),vt(h.latitude));return d!==0?d:Pe(vt(u.longitude),vt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return PE(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,p,g,E;const T=u.fields||{},b=h.fields||{},D=(d=T[Ih])===null||d===void 0?void 0:d.arrayValue,x=(p=b[Ih])===null||p===void 0?void 0:p.arrayValue,G=Pe(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((E=x==null?void 0:x.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:PE(D,x)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Jc.mapValue&&h===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(h===Jc.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const b=Pe(p[T],E[T]);if(b!==0)return b;const D=Eo(d[p[T]],g[E[T]]);if(D!==0)return D}return Pe(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Se()}}function kE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const t=cs(i),s=cs(e),o=Pe(t.seconds,s.seconds);return o!==0?o:Pe(t.nanos,s.nanos)}function PE(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Eo(t[o],s[o]);if(u)return u}return Pe(t.length,s.length)}function To(i){return ip(i)}function ip(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=cs(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return hs(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ve.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=ip(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${ip(t.fields[h])}`;return o+"}"}(i.mapValue):Se()}function fh(i){switch(fs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(i);return e?16+fh(e):16;case 5:return 2*i.stringValue.length;case 6:return hs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+fh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ua(s.fields,(u,h)=>{o+=u.length+fh(h)}),o}(i.mapValue);default:throw Se()}}function rp(i){return!!i&&"integerValue"in i}function Fp(i){return!!i&&"arrayValue"in i}function LE(i){return!!i&&"nullValue"in i}function UE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function dh(i){return!!i&&"mapValue"in i}function eO(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[fS])===null||t===void 0?void 0:t.stringValue)===dS}function eu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ua(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=eu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=eu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function tO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===JN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(t)}setAll(e){let t=$t.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=eu(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ua(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Bn(eu(this.value))}}function mS(i){const e=[];return ua(i.fields,(t,s)=>{const o=new $t([t]);if(dh(s)){const u=mS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new en(e,0,Ae.min(),Ae.min(),Ae.min(),Bn.empty(),0)}static newFoundDocument(e,t,s,o){return new en(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new en(e,2,t,Ae.min(),Ae.min(),Bn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Ae.min(),Ae.min(),Bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t){this.position=e,this.inclusive=t}}function jE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),t.key):s=Eo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function BE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!_i(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t="asc"){this.field=e,this.dir=t}}function nO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{}class Dt extends pS{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new rO(e,t,s):t==="array-contains"?new oO(e,s):t==="in"?new lO(e,s):t==="not-in"?new uO(e,s):t==="array-contains-any"?new cO(e,s):new Dt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new sO(e,s):new aO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Eo(t,this.value)):t!==null&&fs(this.value)===fs(t)&&this.matchesComparison(Eo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends pS{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ei(e,t)}matches(e){return gS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function gS(i){return i.op==="and"}function yS(i){return iO(i)&&gS(i)}function iO(i){for(const e of i.filters)if(e instanceof Ei)return!1;return!0}function sp(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+To(i.value);if(yS(i))return i.filters.map(e=>sp(e)).join(",");{const e=i.filters.map(t=>sp(t)).join(",");return`${i.op}(${e})`}}function vS(i,e){return i instanceof Dt?function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&_i(s.value,o.value)}(i,e):i instanceof Ei?function(s,o){return o instanceof Ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&vS(h,o.filters[d]),!0):!1}(i,e):void Se()}function _S(i){return i instanceof Dt?function(t){return`${t.field.canonicalString()} ${t.op} ${To(t.value)}`}(i):i instanceof Ei?function(t){return t.op.toString()+" {"+t.getFilters().map(_S).join(" ,")+"}"}(i):"Filter"}class rO extends Dt{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class sO extends Dt{constructor(e,t){super(e,"in",t),this.keys=ES("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class aO extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=ES("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ES(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ve.fromName(s.referenceValue))}class oO extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fp(t)&&hu(t.arrayValue,this.value)}}class lO extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hu(this.value.arrayValue,t)}}class uO extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!hu(this.value.arrayValue,t)}}class cO extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>hu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function zE(i,e=null,t=[],s=[],o=null,u=null,h=null){return new hO(i,e,t,s,o,u,h)}function Gp(i){const e=Re(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>sp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>To(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>To(s)).join(",")),e.le=t}return e.le}function $p(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!nO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!vS(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!BE(i.startAt,e.startAt)&&BE(i.endAt,e.endAt)}function ap(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function fO(i,e,t,s,o,u,h,d){return new ef(i,e,t,s,o,u,h,d)}function Kp(i){return new ef(i)}function HE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function dO(i){return i.collectionGroup!==null}function tu(i){const e=Re(i);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ot($t.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Nh(u,s))}),t.has($t.keyField().canonicalString())||e.he.push(new Nh($t.keyField(),s))}return e.he}function gi(i){const e=Re(i);return e.Pe||(e.Pe=mO(e,tu(i))),e.Pe}function mO(i,e){if(i.limitType==="F")return zE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Nh(o.field,u)});const t=i.endAt?new Dh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Dh(i.startAt.position,i.startAt.inclusive):null;return zE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function op(i,e,t){return new ef(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function tf(i,e){return $p(gi(i),gi(e))&&i.limitType===e.limitType}function TS(i){return`${Gp(gi(i))}|lt:${i.limitType}`}function oo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>_S(o)).join(", ")}]`),Zh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>To(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>To(o)).join(",")),`Target(${s})`}(gi(i))}; limitType=${i.limitType})`}function nf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of tu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=jE(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,tu(s),o)||s.endAt&&!function(h,d,p){const g=jE(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,tu(s),o))}(i,e)}function pO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function SS(i){return(e,t)=>{let s=!1;for(const o of tu(i)){const u=gO(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function gO(i,e,t){const s=i.field.isKeyField()?ve.comparator(e.key,t.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Eo(p,g):Se()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return aS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new ct(ve.comparator);function hr(){return yO}const AS=new ct(ve.comparator);function Yl(...i){let e=AS;for(const t of i)e=e.insert(t.key,t);return e}function bS(i){let e=AS;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ta(){return nu()}function wS(){return nu()}function nu(){return new ca(i=>i.toString(),(i,e)=>i.isEqual(e))}const vO=new ct(ve.comparator),_O=new Ot(ve.comparator);function Ve(...i){let e=_O;for(const t of i)e=e.add(t);return e}const EO=new Ot(Pe);function TO(){return EO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function RS(i){return{integerValue:""+i}}function SO(i,e){return QN(e)?RS(e):Qp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this._=void 0}}function AO(i,e,t){return i instanceof Oh?function(o,u){const h={fields:{[uS]:{stringValue:lS},[hS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&qp(u)&&(u=Jh(u)),u&&(h.fields[cS]=u),{mapValue:h}}(t,e):i instanceof fu?IS(i,e):i instanceof du?DS(i,e):function(o,u){const h=CS(o,u),d=qE(h)+qE(o.Ie);return rp(h)&&rp(o.Ie)?RS(d):Qp(o.serializer,d)}(i,e)}function bO(i,e,t){return i instanceof fu?IS(i,e):i instanceof du?DS(i,e):t}function CS(i,e){return i instanceof xh?function(s){return rp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Oh extends rf{}class fu extends rf{constructor(e){super(),this.elements=e}}function IS(i,e){const t=NS(e);for(const s of i.elements)t.some(o=>_i(o,s))||t.push(s);return{arrayValue:{values:t}}}class du extends rf{constructor(e){super(),this.elements=e}}function DS(i,e){let t=NS(e);for(const s of i.elements)t=t.filter(o=>!_i(o,s));return{arrayValue:{values:t}}}class xh extends rf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function qE(i){return vt(i.integerValue||i.doubleValue)}function NS(i){return Fp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function wO(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof fu&&o instanceof fu||s instanceof du&&o instanceof du?_o(s.elements,o.elements,_i):s instanceof xh&&o instanceof xh?_i(s.Ie,o.Ie):s instanceof Oh&&o instanceof Oh}(i.transform,e.transform)}class RO{constructor(e,t){this.version=e,this.transformResults=t}}class sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class sf{}function OS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new MS(i.key,sr.none()):new bu(i.key,i.data,sr.none());{const t=i.data,s=Bn.empty();let o=new Ot($t.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ha(i.key,s,new Yn(o.toArray()),sr.none())}}function CO(i,e,t){i instanceof bu?function(o,u,h){const d=o.value.clone(),p=GE(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof ha?function(o,u,h){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=GE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(xS(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function iu(i,e,t,s){return i instanceof bu?function(u,h,d,p){if(!mh(u.precondition,h))return d;const g=u.value.clone(),E=$E(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof ha?function(u,h,d,p){if(!mh(u.precondition,h))return d;const g=$E(u.fieldTransforms,p,h),E=h.data;return E.setAll(xS(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(i,e,t,s):function(u,h,d){return mh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function IO(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=CS(s.transform,o||null);u!=null&&(t===null&&(t=Bn.empty()),t.set(s.field,u))}return t||null}function FE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_o(s,o,(u,h)=>wO(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class bu extends sf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ha extends sf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function xS(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function GE(i,e,t){const s=new Map;Xe(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,bO(h,d,t[o]))}return s}function $E(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,AO(u,h,e))}return s}class MS extends sf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DO extends sf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&CO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=iu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=iu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=wS();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=OS(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(t,s)=>FE(t,s))&&_o(this.baseMutations,e.baseMutations,(t,s)=>FE(t,s))}}class Yp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Xe(e.mutations.length===s.length);let o=function(){return vO}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Yp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,qe;function MO(i){switch(i){case ne.OK:return Se();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Se()}}function VS(i){if(i===void 0)return cr("GRPC error has no .code"),ne.UNKNOWN;switch(i){case St.OK:return ne.OK;case St.CANCELLED:return ne.CANCELLED;case St.UNKNOWN:return ne.UNKNOWN;case St.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case St.INTERNAL:return ne.INTERNAL;case St.UNAVAILABLE:return ne.UNAVAILABLE;case St.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case St.NOT_FOUND:return ne.NOT_FOUND;case St.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case St.ABORTED:return ne.ABORTED;case St.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case St.DATA_LOSS:return ne.DATA_LOSS;default:return Se()}}(qe=St||(St={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new as([4294967295,4294967295],0);function KE(i){const e=VO().encode(i),t=new W0;return t.update(e),new Uint8Array(t.digest())}function QE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new as([t,s],0),new as([o,u],0)]}class Xp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Xl(`Invalid padding: ${t}`);if(s<0)throw new Xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=as.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(as.fromNumber(s)));return o.compare(kO)===1&&(o=new as([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=KE(e),[s,o]=QE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Xp(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=KE(e),[s,o]=QE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new af(Ae.min(),o,new ct(Pe),hr(),Ve())}}class wu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new wu(s,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class kS{constructor(e,t){this.targetId=e,this.ge=t}}class PS{constructor(e,t,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class YE{constructor(){this.pe=0,this.ye=XE(),this.we=Kt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),t=Ve(),s=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Se()}}),new wu(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=XE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class PO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=hr(),this.$e=eh(),this.Ke=eh(),this.Ue=new ct(Pe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(ap(u))if(s===0){const h=new ve(u.path);this.ze(t,h,en.newNoDocument(h,Ae.min()))}else Xe(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),p=d?this.nt(d,e,h):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=hs(s).toUint8Array()}catch(p){if(p instanceof oS)return vo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Xp(h,o,u)}catch(p){return vo(p instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&ap(d.target)){const p=new ve(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,en.newNoDocument(p,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=Ve();this.Ke.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new af(e,t,this.Ue,this.Qe,s);return this.Qe=hr(),this.$e=eh(),this.Ke=eh(),this.Ue=new ct(Pe),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new YE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Ot(Pe),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ot(Pe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new YE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function eh(){return new ct(ve.comparator)}function XE(){return new ct(ve.comparator)}const LO={asc:"ASCENDING",desc:"DESCENDING"},UO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jO={and:"AND",or:"OR"};class BO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function lp(i,e){return i.useProto3Json||Zh(e)?e:{value:e}}function Mh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function zO(i,e){return Mh(i,e.toTimestamp())}function yi(i){return Xe(!!i),Ae.fromTimestamp(function(t){const s=cs(t);return new Nt(s.seconds,s.nanos)}(i))}function Wp(i,e){return up(i,e).canonicalString()}function up(i,e){const t=function(o){return new st(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function US(i){const e=st.fromString(i);return Xe(qS(e)),e}function cp(i,e){return Wp(i.databaseId,e.path)}function xm(i,e){const t=US(e);if(t.get(1)!==i.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ve(BS(t))}function jS(i,e){return Wp(i.databaseId,e)}function HO(i){const e=US(i);return e.length===4?st.emptyPath():BS(e)}function hp(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function BS(i){return Xe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function WE(i,e,t){return{name:cp(i,e),fields:t.value.mapValue.fields}}function qO(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Xe(E===void 0||typeof E=="string"),Kt.fromBase64String(E||"")):(Xe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Kt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?ne.UNKNOWN:VS(g.code);return new ye(E,g.message||"")}(h);t=new PS(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=xm(i,s.document.name),u=yi(s.document.updateTime),h=s.document.createTime?yi(s.document.createTime):Ae.min(),d=new Bn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,h,d),g=s.targetIds||[],E=s.removedTargetIds||[];t=new ph(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=xm(i,s.document),u=s.readTime?yi(s.readTime):Ae.min(),h=en.newNoDocument(o,u),d=s.removedTargetIds||[];t=new ph([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=xm(i,s.document),u=s.removedTargetIds||[];t=new ph([],u,o,null)}else{if(!("filter"in e))return Se();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new xO(o,u),d=s.targetId;t=new kS(d,h)}}return t}function FO(i,e){let t;if(e instanceof bu)t={update:WE(i,e.key,e.value)};else if(e instanceof MS)t={delete:cp(i,e.key)};else if(e instanceof ha)t={update:WE(i,e.key,e.data),updateMask:JO(e.fieldMask)};else{if(!(e instanceof DO))return Se();t={verify:cp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof Oh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof fu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof du)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof xh)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw Se()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:zO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se()}(i,e.precondition)),t}function GO(i,e){return i&&i.length>0?(Xe(e!==void 0),i.map(t=>function(o,u){let h=o.updateTime?yi(o.updateTime):yi(u);return h.isEqual(Ae.min())&&(h=yi(u)),new RO(h,o.transformResults||[])}(t,e))):[]}function $O(i,e){return{documents:[jS(i,e.path)]}}function KO(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=jS(i,o);const u=function(g){if(g.length!==0)return HS(Ei.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(b){return{field:lo(b.field),direction:XO(b.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=lp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function QO(i){let e=HO(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Xe(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(T){const b=zS(T);return b instanceof Ei&&yS(b)?b.getFilters():[b]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(b=>function(x){return new Nh(uo(x.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(T){let b;return b=typeof T=="object"?T.value:T,Zh(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(T){const b=!!T.before,D=T.values||[];return new Dh(D,b)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const b=!T.before,D=T.values||[];return new Dh(D,b)}(t.endAt)),fO(e,o,h,u,d,"F",p,g)}function YO(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function zS(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=uo(t.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=uo(t.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=uo(t.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=uo(t.unaryFilter.field);return Dt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(i):i.fieldFilter!==void 0?function(t){return Dt.create(uo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Ei.create(t.compositeFilter.filters.map(s=>zS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(i):Se()}function XO(i){return LO[i]}function WO(i){return UO[i]}function ZO(i){return jO[i]}function lo(i){return{fieldPath:i.canonicalString()}}function uo(i){return $t.fromServerFormat(i.fieldPath)}function HS(i){return i instanceof Dt?function(t){if(t.op==="=="){if(UE(t.value))return{unaryFilter:{field:lo(t.field),op:"IS_NAN"}};if(LE(t.value))return{unaryFilter:{field:lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(UE(t.value))return{unaryFilter:{field:lo(t.field),op:"IS_NOT_NAN"}};if(LE(t.value))return{unaryFilter:{field:lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(t.field),op:WO(t.op),value:t.value}}}(i):i instanceof Ei?function(t){const s=t.getFilters().map(o=>HS(o));return s.length===1?s[0]:{compositeFilter:{op:ZO(t.op),filters:s}}}(i):Se()}function JO(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t,s,o,u=Ae.min(),h=Ae.min(),d=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.Tt=e}}function tx(i){const e=QO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.Tn=new ix}addToCollectionParentIndex(e,t){return this.Tn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(us.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(us.min())}updateCollectionGroup(e,t,s){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class ix{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ot(st.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FS=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(FS,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new So(0)}static Un(){return new So(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="LruGarbageCollector",rx=1048576;function eT([i,e],[t,s]){const o=Pe(i,t);return o===0?Pe(e,s):o}class sx{constructor(e){this.Hn=e,this.buffer=new Ot(eT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();eT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ax{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(JE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){xo(t)?he(JE,"Ignoring IndexedDB error during garbage collection: ",t):await Oo(t)}await this.er(3e5)})}}class ox{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Wh.ae);const s=new sx(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(ZE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,d,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),ao()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function lx(i,e){return new ox(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.changes=new ca(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Z.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&iu(s.mutation,o,Yn.empty(),Nt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ve()){const o=ta();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Yl();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ta();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ve()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=hr();const h=nu(),d=function(){return nu()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ha)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),iu(E.mutation,g,E.mutation.getFieldMask(),Nt.now())):h.set(g.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var T;return d.set(g,new cx(E,(T=h.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=nu();let o=new ct((h,d)=>h-d),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Yn.empty();E=d.applyToLocalView(g,E),s.set(p,E);const T=(o.get(d.batchId)||Ve()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,E=p.value,T=wS();E.forEach(b=>{if(!u.has(b)){const D=OS(t.get(b),s.get(b));D!==null&&T.set(b,D),u=u.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return Z.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):Z.resolve(ta());let d=lu,p=u;return h.next(g=>Z.forEach(g,(E,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{p=p.insert(E,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(E=>({batchId:d,changes:bS(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(s=>{let o=Yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Yl();return this.indexManager.getCollectionParents(e,u).next(d=>Z.forEach(d,p=>{const g=function(T,b){return new ef(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((T,b)=>{h=h.insert(T,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,en.newInvalidDocument(E)))});let d=Yl();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&iu(E.mutation,g,Yn.empty(),Nt.now()),nf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Z.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:tx(o.bundledQuery),readTime:yi(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.overlays=new ct(ve.comparator),this.Rr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ta();return Z.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),Z.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,t,s){const o=ta(),u=t.length+1,h=new ve(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ct((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ta(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=ta(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return Z.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new OO(t,s));let u=this.Rr.get(t);u===void 0&&(u=Ve(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.Vr=new Ot(jt.mr),this.gr=new Ot(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new jt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new jt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new ve(new st([])),s=new jt(t,e),o=new jt(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ve(new st([])),s=new jt(t,e),o=new jt(t,e+1);let u=Ve();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new jt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ve.comparator(e.key,t.key)||Pe(e.Cr,t.Cr)}static pr(e,t){return Pe(e.Cr,t.Cr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ot(jt.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new NO(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new jt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(e,t){return Z.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Hp:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new jt(t,0),o=new jt(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);u.push(d)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ot(Pe);return t.forEach(o=>{const u=new jt(o,0),h=new jt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{s=s.add(d.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const h=new jt(new ve(u),0);let d=new Ot(Pe);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),Z.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Xe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(t.mutations,o=>{const u=new jt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new jt(t,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.kr=e,this.docs=function(){return new ct(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Z.resolve(s?s.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let s=hr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=hr();const h=t.path,d=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||FN(qN(E),s)<=0||(o.has(E.key)||nf(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Se()}qr(e,t){return Z.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new yx(this)}getSize(e){return Z.resolve(this.size)}}class yx extends ux{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.persistence=e,this.Qr=new ca(t=>Gp(t),$p),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Zp,this.targetCount=0,this.Ur=So.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),Z.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new So(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.zn(t),Z.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return Z.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),Z.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return Z.resolve(s)}containsKey(e,t){return Z.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Wh(0),this.zr=!1,this.zr=!0,this.jr=new mx,this.referenceDelegate=e(this),this.Hr=new vx(this),this.indexManager=new nx,this.remoteDocumentCache=function(o){return new gx(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new ex(t),this.Yr=new fx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new px(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new _x(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class _x extends $N{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.ti=new Zp,this.ni=null}static ri(e){return new Jp(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Z.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=ve.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,Ae.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Z.or([()=>Z.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Vh{constructor(e,t){this.persistence=e,this.oi=new ca(s=>YN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=lx(this,t)}static ri(e,t){return new Vh(e,t)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?Z.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,u.removeEntry(h,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fh(e.data.value)),t}ar(e,t,s){return Z.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Ve(),o=Ve();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new eg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return tI()?8:KN(tn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new Ex;return this._s(e,t,h).next(d=>{if(u.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(ao()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",oo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(ao()<=Me.DEBUG&&he("QueryEngine","Query:",oo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(ao()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",oo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(t))):Z.resolve())}rs(e,t){if(HE(t))return Z.resolve(null);let s=gi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=op(t,null,"F"),s=gi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ve(...u);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,d);return this.ls(t,g,h,p.readTime)?this.rs(e,op(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return HE(t)||o.isEqual(Ae.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?Z.resolve(null):(ao()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oo(t)),this.hs(e,h,t,HN(o,lu)).next(d=>d))})}cs(e,t){let s=new Ot(SS(e));return t.forEach((o,u)=>{nf(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return ao()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",oo(t)),this.ns.getDocumentsMatchingQuery(e,t,us.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="LocalStore",Sx=3e8;class Ax{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ct(Pe),this.Is=new ca(u=>Gp(u),$p),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function bx(i,e,t,s){return new Ax(i,e,t,s)}async function $S(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let p=Ve();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function wx(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,E){const T=g.batch,b=T.keys();let D=Z.resolve();return b.forEach(x=>{D=D.next(()=>E.getEntry(p,x)).next(G=>{const j=g.docVersions.get(x);Xe(j!==null),G.version.compareTo(j)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Ve();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function KS(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Rx(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((E,T)=>{const b=o.get(T);if(!b)return;d.push(t.Hr.removeMatchingKeys(u,E.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(u,E.addedDocuments,T)));let D=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(Kt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(T,D),function(G,j,K){return G.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=Sx?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(b,D,E)&&d.push(t.Hr.updateTargetData(u,D))});let p=hr(),g=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(Cx(u,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Ae.min())){const E=t.Hr.getLastRemoteSnapshotVersion(u).next(T=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(E)}return Z.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ts=o,u))}function Cx(i,e,t){let s=Ve(),o=Ve();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=hr();return t.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):he(tg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function Ix(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Hp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Dx(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new ns(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function fp(i,e,t){const s=Re(i),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!xo(h))throw h;he(tg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function tT(i,e,t){const s=Re(i);let o=Ae.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const T=Re(p),b=T.Is.get(E);return b!==void 0?Z.resolve(T.Ts.get(b)):T.Hr.getTargetData(g,E)}(s,h,gi(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:Ae.min(),t?u:Ve())).next(d=>(Nx(s,pO(e),d),{documents:d,gs:u})))}function Nx(i,e,t){let s=i.Es.get(e)||Ae.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class nT{constructor(){this.activeTargetIds=TO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ox{constructor(){this.ho=new nT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new nT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="ConnectivityMonitor";class rT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(iT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(iT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function dp(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="RestConnection",Mx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vx{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Ch?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const h=dp(),d=this.bo(e,t.toUriEncodedString());he(Mm,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,d,p,s).then(g=>(he(Mm,`Received RPC '${e}' ${h}: `,g),g),g=>{throw vo(Mm,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,o,u,h){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+No}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=Mx[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class Px extends Vx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=dp();return new Promise((h,d)=>{const p=new Z0;p.setWithCredentials(!0),p.listenOnce(J0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case hh.NO_ERROR:const E=p.getResponseJson();he(Zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case hh.TIMEOUT:he(Zt,`RPC '${e}' ${u} timed out`),d(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const T=p.getStatus();if(he(Zt,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const D=b==null?void 0:b.error;if(D&&D.status&&D.message){const x=function(j){const K=j.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(K)>=0?K:ne.UNKNOWN}(D.status);d(new ye(x,D.message))}else d(new ye(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{he(Zt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);he(Zt,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=dp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=nS(),d=tS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");he(Zt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);let b=!1,D=!1;const x=new kx({Fo:j=>{D?he(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(b||(he(Zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),he(Zt,`RPC '${e}' stream ${o} sending:`,j),T.send(j))},Mo:()=>T.close()}),G=(j,K,J)=>{j.listen(K,Y=>{try{J(Y)}catch(oe){setTimeout(()=>{throw oe},0)}})};return G(T,Ql.EventType.OPEN,()=>{D||(he(Zt,`RPC '${e}' stream ${o} transport opened.`),x.Qo())}),G(T,Ql.EventType.CLOSE,()=>{D||(D=!0,he(Zt,`RPC '${e}' stream ${o} transport closed`),x.Ko())}),G(T,Ql.EventType.ERROR,j=>{D||(D=!0,vo(Zt,`RPC '${e}' stream ${o} transport errored:`,j),x.Ko(new ye(ne.UNAVAILABLE,"The operation could not be completed")))}),G(T,Ql.EventType.MESSAGE,j=>{var K;if(!D){const J=j.data[0];Xe(!!J);const Y=J,oe=(Y==null?void 0:Y.error)||((K=Y[0])===null||K===void 0?void 0:K.error);if(oe){he(Zt,`RPC '${e}' stream ${o} received error:`,oe);const ae=oe.status;let le=function(R){const O=St[R];if(O!==void 0)return VS(O)}(ae),M=oe.message;le===void 0&&(le=ne.INTERNAL,M="Unknown error status: "+ae+" with message "+oe.message),D=!0,x.Ko(new ye(le,M)),T.close()}else he(Zt,`RPC '${e}' stream ${o} received:`,J),x.Uo(J)}}),G(d,eS.STAT_EVENT,j=>{j.stat===np.PROXY?he(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===np.NOPROXY&&he(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(i){return new BO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="PersistentStream";class YS{constructor(e,t,s,o,u,h,d,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new QS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new ye(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(sT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(sT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lx extends YS{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=qO(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?yi(h.readTime):Ae.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=hp(this.serializer),t.addTarget=function(u,h){let d;const p=h.target;if(d=ap(p)?{documents:$O(u,p)}:{query:KO(u,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=LS(u,h.resumeToken);const g=lp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ae.min())>0){d.readTime=Mh(u,h.snapshotVersion.toTimestamp());const g=lp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=YO(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=hp(this.serializer),t.removeTarget=e,this.I_(t)}}class Ux extends YS{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=GO(e.writeResults,e.commitTime),s=yi(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=hp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>FO(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{}class Bx extends jx{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,up(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ne.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,up(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(ne.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class zx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(cr(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RemoteStore";class Hx{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{fa(this)&&(he(aa,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.W_.add(4),await Ru(g),g.j_.set("Unknown"),g.W_.delete(4),await lf(g)}(this))})}),this.j_=new zx(s,o)}}async function lf(i){if(fa(i))for(const e of i.G_)await e(!0)}async function Ru(i){for(const e of i.G_)await e(!1)}function XS(i,e){const t=Re(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),sg(t)?rg(t):Mo(t).c_()&&ig(t,e))}function ng(i,e){const t=Re(i),s=Mo(t);t.U_.delete(e),s.c_()&&WS(t,e),t.U_.size===0&&(s.c_()?s.P_():fa(t)&&t.j_.set("Unknown"))}function ig(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mo(i).y_(e)}function WS(i,e){i.H_.Ne(e),Mo(i).w_(e)}function rg(i){i.H_=new PO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Mo(i).start(),i.j_.B_()}function sg(i){return fa(i)&&!Mo(i).u_()&&i.U_.size>0}function fa(i){return Re(i).W_.size===0}function ZS(i){i.H_=void 0}async function qx(i){i.j_.set("Online")}async function Fx(i){i.U_.forEach((e,t)=>{ig(i,e)})}async function Gx(i,e){ZS(i),sg(i)?(i.j_.q_(e),rg(i)):i.j_.set("Unknown")}async function $x(i,e,t){if(i.j_.set("Online"),e instanceof PS&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.U_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(s){he(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kh(i,s)}else if(e instanceof ph?i.H_.We(e):e instanceof kS?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Ae.min()))try{const s=await KS(i.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),WS(u,p);const T=new ns(E.target,p,g,E.sequenceNumber);ig(u,T)}),u.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){he(aa,"Failed to raise snapshot:",s),await kh(i,s)}}async function kh(i,e,t){if(!xo(e))throw e;i.W_.add(1),await Ru(i),i.j_.set("Offline"),t||(t=()=>KS(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(aa,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await lf(i)})}function JS(i,e){return e().catch(t=>kh(i,t,e))}async function uf(i){const e=Re(i),t=ds(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Hp;for(;Kx(e);)try{const o=await Ix(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,Qx(e,o)}catch(o){await kh(e,o)}eA(e)&&tA(e)}function Kx(i){return fa(i)&&i.K_.length<10}function Qx(i,e){i.K_.push(e);const t=ds(i);t.c_()&&t.S_&&t.b_(e.mutations)}function eA(i){return fa(i)&&!ds(i).u_()&&i.K_.length>0}function tA(i){ds(i).start()}async function Yx(i){ds(i).C_()}async function Xx(i){const e=ds(i);for(const t of i.K_)e.b_(t.mutations)}async function Wx(i,e,t){const s=i.K_.shift(),o=Yp.from(s,e,t);await JS(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await uf(i)}async function Zx(i,e){e&&ds(i).S_&&await async function(s,o){if(function(h){return MO(h)&&h!==ne.ABORTED}(o.code)){const u=s.K_.shift();ds(s).h_(),await JS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await uf(s)}}(i,e),eA(i)&&tA(i)}async function aT(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),he(aa,"RemoteStore received new credentials");const s=fa(t);t.W_.add(3),await Ru(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await lf(t)}async function Jx(i,e){const t=Re(i);e?(t.W_.delete(2),await lf(t)):e||(t.W_.add(2),await Ru(t),t.j_.set("Unknown"))}function Mo(i){return i.J_||(i.J_=function(t,s,o){const u=Re(t);return u.M_(),new Lx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:qx.bind(null,i),No:Fx.bind(null,i),Lo:Gx.bind(null,i),p_:$x.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),sg(i)?rg(i):i.j_.set("Unknown")):(await i.J_.stop(),ZS(i))})),i.J_}function ds(i){return i.Y_||(i.Y_=function(t,s,o){const u=Re(t);return u.M_(),new Ux(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:Yx.bind(null,i),Lo:Zx.bind(null,i),D_:Xx.bind(null,i),v_:Wx.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await uf(i)):(await i.Y_.stop(),i.K_.length>0&&(he(aa,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new ag(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(i,e){if(cr("AsyncQueue",`${e}: ${i}`),xo(i))return new ye(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=Yl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.Z_=new ct(ve.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ao{constructor(e,t,s,o,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Ao(e,t,go.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class t2{constructor(){this.queries=lT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=lT(),u.forEach((h,d)=>{for(const p of d.ta)p.onError(s)})})(this,new ye(ne.ABORTED,"Firestore shutting down"))}}function lT(){return new ca(i=>TS(i),tf)}async function nA(i,e){const t=Re(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new e2,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=og(h,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&lg(t)}async function iA(i,e){const t=Re(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function n2(i,e){const t=Re(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&lg(t)}function i2(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function lg(i){i.ia.forEach(e=>{e.next()})}var mp,uT;(uT=mp||(mp={}))._a="default",uT.Cache="cache";class rA{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.key=e}}class aA{constructor(e){this.key=e}}class r2{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=SS(e),this.wa=new go(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new oT,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const b=o.get(E),D=nf(this.query,T)?T:null,x=!!b&&this.mutatedKeys.has(b.key),G=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let j=!1;b&&D?b.data.isEqual(D.data)?x!==G&&(s.track({type:3,doc:D}),j=!0):this.va(b,D)||(s.track({type:2,doc:D}),j=!0,(p&&this.ya(D,p)>0||g&&this.ya(D,g)<0)&&(d=!0)):!b&&D?(s.track({type:0,doc:D}),j=!0):b&&!D&&(s.track({type:1,doc:b}),j=!0,(p||g)&&(d=!0)),j&&(D?(h=h.add(D),u=G?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:d,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,T)=>function(D,x){const G=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return G(D)-G(x)}(E.type,T.type)||this.ya(E.doc,T.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new Ao(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new oT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new aA(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new sA(s))}),t}Oa(e){this.fa=e.gs,this.pa=Ve();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Ao.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ug="SyncEngine";class s2{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class a2{constructor(e){this.key=e,this.Ba=!1}}class o2{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ca(d=>TS(d),tf),this.qa=new Map,this.Qa=new Set,this.$a=new ct(ve.comparator),this.Ka=new Map,this.Ua=new Zp,this.Wa={},this.Ga=new Map,this.za=So.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function l2(i,e,t=!0){const s=fA(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await oA(s,e,t,!0),o}async function u2(i,e){const t=fA(i);await oA(t,e,!0,!1)}async function oA(i,e,t,s){const o=await Dx(i.localStore,gi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await c2(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&XS(i.remoteStore,o),d}async function c2(i,e,t,s,o){i.Ha=(T,b,D)=>async function(G,j,K,J){let Y=j.view.ba(K);Y.ls&&(Y=await tT(G.localStore,j.query,!1).then(({documents:M})=>j.view.ba(M,Y)));const oe=J&&J.targetChanges.get(j.targetId),ae=J&&J.targetMismatches.get(j.targetId)!=null,le=j.view.applyChanges(Y,G.isPrimaryClient,oe,ae);return hT(G,j.targetId,le.Ma),le.snapshot}(i,T,b,D);const u=await tT(i.localStore,e,!0),h=new r2(e,u.gs),d=h.ba(u.documents),p=wu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);hT(i,t,g.Ma);const E=new s2(e,t,h);return i.ka.set(e,E),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function h2(i,e,t){const s=Re(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!tf(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ng(s.remoteStore,o.targetId),pp(s,o.targetId)}).catch(Oo)):(pp(s,o.targetId),await fp(s.localStore,o.targetId,!0))}async function f2(i,e){const t=Re(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ng(t.remoteStore,s.targetId))}async function d2(i,e,t){const s=E2(i);try{const o=await function(h,d){const p=Re(h),g=Nt.now(),E=d.reduce((D,x)=>D.add(x.key),Ve());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let x=hr(),G=Ve();return p.ds.getEntries(D,E).next(j=>{x=j,x.forEach((K,J)=>{J.isValidDocument()||(G=G.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,x)).next(j=>{T=j;const K=[];for(const J of d){const Y=IO(J,T.get(J.key).overlayedDocument);Y!=null&&K.push(new ha(J.key,Y,mS(Y.value.mapValue),sr.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,K,d)}).next(j=>{b=j;const K=j.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(D,j.batchId,K)})}).then(()=>({batchId:b.batchId,changes:bS(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new ct(Pe)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await Cu(s,o.changes),await uf(s.remoteStore)}catch(o){const u=og(o,"Failed to persist write");t.reject(u)}}async function lA(i,e){const t=Re(i);try{const s=await Rx(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ka.get(u);h&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Xe(h.Ba):o.removedDocuments.size>0&&(Xe(h.Ba),h.Ba=!1))}),await Cu(t,s,e)}catch(s){await Oo(s)}}function cT(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Re(h);p.onlineState=d;let g=!1;p.queries.forEach((E,T)=>{for(const b of T.ta)b.sa(d)&&(g=!0)}),g&&lg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function m2(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new ct(ve.comparator);h=h.insert(u,en.newNoDocument(u,Ae.min()));const d=Ve().add(u),p=new af(Ae.min(),new Map,new ct(Pe),h,d);await lA(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),cg(s)}else await fp(s.localStore,e,!1).then(()=>pp(s,e,t)).catch(Oo)}async function p2(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await wx(t.localStore,e);cA(t,s,null),uA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Cu(t,o)}catch(o){await Oo(o)}}async function g2(i,e,t){const s=Re(i);try{const o=await function(h,d){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,d).next(T=>(Xe(T!==null),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);cA(s,e,t),uA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Cu(s,o)}catch(o){await Oo(o)}}function uA(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function cA(i,e,t){const s=Re(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function pp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.br(e).forEach(s=>{i.Ua.containsKey(s)||hA(i,s)})}function hA(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(ng(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),cg(i))}function hT(i,e,t){for(const s of t)s instanceof sA?(i.Ua.addReference(s.key,e),y2(i,s)):s instanceof aA?(he(ug,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||hA(i,s.key)):Se()}function y2(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(he(ug,"New document in limbo: "+t),i.Qa.add(s),cg(i))}function cg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new ve(st.fromString(e)),s=i.za.next();i.Ka.set(s,new a2(t)),i.$a=i.$a.insert(t,s),XS(i.remoteStore,new ns(gi(Kp(t.path)),s,"TargetPurposeLimboResolution",Wh.ae))}}async function Cu(i,e,t){const s=Re(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{h.push(s.Ha(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=eg.Yi(p.targetId,g);u.push(T)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Z.forEach(g,b=>Z.forEach(b.Hi,D=>E.persistence.referenceDelegate.addReference(T,b.targetId,D)).next(()=>Z.forEach(b.Ji,D=>E.persistence.referenceDelegate.removeReference(T,b.targetId,D)))))}catch(T){if(!xo(T))throw T;he(tg,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const D=E.Ts.get(b),x=D.snapshotVersion,G=D.withLastLimboFreeSnapshotVersion(x);E.Ts=E.Ts.insert(b,G)}}}(s.localStore,u))}async function v2(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){he(ug,"User change. New user:",e.toKey());const s=await $S(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(d=>{d.forEach(p=>{p.reject(new ye(ne.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Cu(t,s.Rs)}}function _2(i,e){const t=Re(i),s=t.Ka.get(e);if(s&&s.Ba)return Ve().add(s.key);{let o=Ve();const u=t.qa.get(e);if(!u)return o;for(const h of u){const d=t.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function fA(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=lA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m2.bind(null,e),e.La.p_=n2.bind(null,e.eventManager),e.La.Ja=i2.bind(null,e.eventManager),e}function E2(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g2.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return bx(this.persistence,new Tx,e.initialUser,this.serializer)}Xa(e){return new GS(Jp.ri,this.serializer)}Za(e){return new Ox}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class T2 extends Ph{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Xe(this.persistence.referenceDelegate instanceof Vh);const s=this.persistence.referenceDelegate.garbageCollector;return new ax(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new GS(s=>Vh.ri(s,t),this.serializer)}}class gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>cT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=v2.bind(null,this.syncEngine),await Jx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new t2}()}createDatastore(e){const t=of(e.databaseInfo.databaseId),s=function(u){return new Px(u)}(e.databaseInfo);return function(u,h,d,p){return new Bx(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new Hx(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>cT(this.syncEngine,t,0),function(){return rT.D()?new rT:new xx}())}createSyncEngine(e,t){return function(o,u,h,d,p,g,E){const T=new o2(o,u,h,d,p,g);return E&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Re(o);he(aa,"RemoteStore shutting down."),u.W_.add(5),await Ru(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}gp.provider={build:()=>new gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class S2{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=rS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{he(ms,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(he(ms,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=og(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function km(i,e){i.asyncQueue.verifyOperationInProgress(),he(ms,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await $S(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function fT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await A2(i);he(ms,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>aT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>aT(e.remoteStore,o)),i._onlineComponents=e}async function A2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(ms,"Using user provided OfflineComponentProvider");try{await km(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;vo("Error using user provided cache. Falling back to memory cache: "+t),await km(i,new Ph)}}else he(ms,"Using default OfflineComponentProvider"),await km(i,new T2(void 0));return i._offlineComponents}async function mA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(ms,"Using user provided OnlineComponentProvider"),await fT(i,i._uninitializedComponentsProvider._online)):(he(ms,"Using default OnlineComponentProvider"),await fT(i,new gp))),i._onlineComponents}function b2(i){return mA(i).then(e=>e.syncEngine)}async function pA(i){const e=await mA(i),t=e.eventManager;return t.onListen=l2.bind(null,e.syncEngine),t.onUnlisten=h2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=u2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=f2.bind(null,e.syncEngine),t}function w2(i,e,t={}){const s=new rr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const E=new dA({next:b=>{E.su(),h.enqueueAndForget(()=>iA(u,T));const D=b.docs.has(d);!D&&b.fromCache?g.reject(new ye(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&p&&p.source==="server"?g.reject(new ye(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new rA(Kp(d.path),E,{includeMetadataChanges:!0,Ta:!0});return nA(u,T)}(await pA(i),i.asyncQueue,e,t,s)),s.promise}function R2(i,e,t={}){const s=new rr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const E=new dA({next:b=>{E.su(),h.enqueueAndForget(()=>iA(u,T)),b.fromCache&&p.source==="server"?g.reject(new ye(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new rA(d,E,{includeMetadataChanges:!0,Ta:!0});return nA(u,T)}(await pA(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(i,e,t){if(!t)throw new ye(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function C2(i,e,t,s){if(e===!0&&s===!0)throw new ye(ne.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function mT(i){if(!ve.isDocumentKey(i))throw new ye(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function pT(i){if(ve.isDocumentKey(i))throw new ye(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function hg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se()}function bo(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ye(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hg(i);throw new ye(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="firestore.googleapis.com",gT=!0;class yT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vA,this.ssl=gT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:gT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rx)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yT(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new VN;switch(s.type){case"firstParty":return new UN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=dT.get(t);s&&(he("ComponentProvider","Removing Datastore"),dT.delete(t),s.terminate())}(this),Promise.resolve()}}function I2(i,e,t,s={}){var o;const u=(i=bo(i,cf))._getSettings(),h=`${e}:${t}`;if(u.host!==vA&&u.host!==h&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let d,p;if(typeof s.mockUserToken=="string")d=s.mockUserToken,p=Jt.MOCK_USER;else{d=QC(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new ye(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Jt(g)}i._authCredentials=new kN(new iS(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new hf(this.firestore,e,this._query)}}class zn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class os extends hf{constructor(e,t,s){super(e,t,Kp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new ve(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function nh(i,e,...t){if(i=En(i),yA("collection","path",e),i instanceof cf){const s=st.fromString(e,...t);return pT(s),new os(i,null,s)}{if(!(i instanceof zn||i instanceof os))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...t));return pT(s),new os(i.firestore,null,s)}}function _A(i,e,...t){if(i=En(i),arguments.length===1&&(e=rS.newId()),yA("doc","path",e),i instanceof cf){const s=st.fromString(e,...t);return mT(s),new zn(i,null,new ve(s))}{if(!(i instanceof zn||i instanceof os))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...t));return mT(s),new zn(i.firestore,i instanceof os?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="AsyncQueue";class _T{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new QS(this,"async_queue_retry"),this.Su=()=>{const s=Vm();s&&he(vT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=Vm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Vm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new rr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!xo(e))throw e;he(vT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw cr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=ag.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class ff extends cf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new _T,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _T(e),this._firestoreClient=void 0,await e}}}function D2(i,e){const t=typeof i=="object"?i:d0(),s=typeof i=="string"?i:Ch,o=Op(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=$C("firestore");u&&I2(o,...u)}return o}function fg(i){if(i._terminated)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||N2(i),i._firestoreClient}function N2(i){var e,t,s;const o=i._freezeSettings(),u=function(d,p,g,E){return new ZN(d,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,gA(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new S2(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wo(Kt.fromBase64String(e))}catch(t){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wo(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=/^__.*__$/;class x2{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,t,this.fieldTransforms):new bu(e,this.data,t,this.fieldTransforms)}}function TA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class gg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Lh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(TA(this.Lu)&&O2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class M2{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||of(e)}ju(e,t,s,o=!1){return new gg({Lu:e,methodName:t,zu:s,path:$t.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function V2(i){const e=i._freezeSettings(),t=of(i._databaseId);return new M2(i._databaseId,!!e.ignoreUndefinedProperties,t)}function k2(i,e,t,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,t,o);wA("Data must be an object, but it was:",h,s);const d=AA(s,h);let p,g;if(u.merge)p=new Yn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const b=P2(e,T,t);if(!h.contains(b))throw new ye(ne.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);U2(E,b)||E.push(b)}p=new Yn(E),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new x2(new Bn(d),p,g)}function SA(i,e){if(bA(i=En(i)))return wA("Unsupported field value:",e,i),AA(i,e);if(i instanceof EA)return function(s,o){if(!TA(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let p=SA(d,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=En(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return SO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Nt.fromDate(s);return{timestampValue:Mh(o.serializer,u)}}if(s instanceof Nt){const u=new Nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,u)}}if(s instanceof mg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof wo)return{bytesValue:LS(o.serializer,s._byteString)};if(s instanceof zn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Wp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof pg)return function(h,d){return{mapValue:{fields:{[fS]:{stringValue:dS},[Ih]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Qp(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${hg(s)}`)}(i,e)}function AA(i,e){const t={};return aS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(i,(s,o)=>{const u=SA(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function bA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Nt||i instanceof mg||i instanceof wo||i instanceof zn||i instanceof EA||i instanceof pg)}function wA(i,e,t){if(!bA(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=hg(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function P2(i,e,t){if((e=En(e))instanceof dg)return e._internalPath;if(typeof e=="string")return RA(i,e);throw Lh("Field path arguments must be of type string or ",i,!1,void 0,t)}const L2=new RegExp("[~\\*/\\[\\]]");function RA(i,e,t){if(e.search(L2)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new dg(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Lh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ye(ne.INVALID_ARGUMENT,d+i+p)}function U2(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(IA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class j2 extends CA{data(){return super.data()}}function IA(i,e){return typeof e=="string"?RA(i,e):e instanceof dg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ye(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class z2{convertValue(e,t="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ua(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ih].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>vt(h.doubleValue));return new pg(u)}convertGeoPoint(e){return new mg(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Jh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const t=cs(e);return new Nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=st.fromString(e);Xe(qS(s));const o=new cu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(t)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DA extends CA{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(IA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class gh extends DA{data(e={}){return super.data(e)}}class q2{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new gh(this._firestore,this._userDataWriter,s.key,s,new Wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new gh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Wl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new gh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Wl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:F2(d.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function F2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(i){i=bo(i,zn);const e=bo(i.firestore,ff);return w2(fg(e),i._key).then(t=>K2(e,i,t))}class NA extends z2{constructor(e){super(),this.firestore=e}convertBytes(e){return new wo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,t)}}function ET(i){i=bo(i,hf);const e=bo(i.firestore,ff),t=fg(e),s=new NA(e);return B2(i._query),R2(t,i._query).then(o=>new q2(e,s,i,o))}function TT(i,e){const t=bo(i.firestore,ff),s=_A(i),o=H2(i.converter,e);return $2(t,[k2(V2(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,sr.exists(!1))]).then(()=>s)}function $2(i,e){return function(s,o){const u=new rr;return s.asyncQueue.enqueueAndForget(async()=>d2(await b2(s),o,u)),u.promise}(fg(i),e)}function K2(i,e,t){const s=t.docs.get(e._key),o=new NA(i);return new DA(i,o,e._key,s,new Wl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){No=o})(Io),yo(new na("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new ff(new PN(s.getProvider("auth-internal")),new jN(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),ss(RE,CE,e),ss(RE,CE,"esm2017")})();const OA=w.createContext(null),xA={apiKey:"AIzaSyBB5YbvvoBIG3HtqgAx8iRBSqR-8EvhAYM",authDomain:"hotel-bites.firebaseapp.com",projectId:"hotel-bites",storageBucket:"hotel-bites.firebasestorage.app",messagingSenderId:"1088802123792",appId:"1:1088802123792:web:e6e2ba513ce6847c6a1a95"};console.log("BK firebaseConfig",xA);const vs=()=>w.useContext(OA),MA=f0(xA),Pm=xN(MA),Fl=D2(MA),Q2=i=>{const e=(T,b)=>yD(Pm,T,b),t=(T,b)=>vD(Pm,T,b),s=async(T,b)=>{const D=await TT(nh(Fl,b),{...T,userId:(p==null?void 0:p.uid)||""});return console.log("BK handleCreateNewDoc docRef.id, docRef:",D.id,D),D},o=async T=>{const{productId:b}=T,D=nh(Fl,"products",b,"variants"),x=await TT(D,{...T,userId:(p==null?void 0:p.uid)||""});return console.log("BK handleCreateNewDoc docRef.id, docRef:",x.id,x),x},u=async T=>await ET(nh(Fl,T)),h=async(T,b,D)=>{const x=nh(Fl,T,b,D),G=await ET(x);return console.log("BK getSubCollectionAllDocuments res",G),G},d=async(T,b)=>{const D=_A(Fl,b,T);return await G2(D)},[p,g]=w.useState(null);w.useEffect(()=>{TD(Pm,T=>{g(T||null)})},[]);const E=!!p;return k.jsx(OA.Provider,{value:{isLoggedIn:E,user:p,singinUserWithEmailAndPass:t,signupUserWithEmailAndPassword:e,getDocById:d,getDocuments:u,handleCreateNewDoc:s,handleCreateNewVariant:o,getSubCollectionAllDocuments:h},children:i.children})},Y2=["as","disabled"];function X2(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function W2(i){return!i||i.trim()==="#"}function yg({tagName:i,disabled:e,href:t,target:s,rel:o,role:u,onClick:h,tabIndex:d=0,type:p}){i||(t!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:e},g];const E=b=>{if((e||i==="a"&&W2(t))&&b.preventDefault(),e){b.stopPropagation();return}h==null||h(b)},T=b=>{b.key===" "&&(b.preventDefault(),E(b))};return i==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:u??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:i==="a"?s:void 0,"aria-disabled":e||void 0,rel:i==="a"?o:void 0,onClick:E,onKeyDown:T},g]}const VA=w.forwardRef((i,e)=>{let{as:t,disabled:s}=i,o=X2(i,Y2);const[u,{tagName:h}]=yg(Object.assign({tagName:t,disabled:s},o));return k.jsx(h,Object.assign({},o,u,{ref:e}))});VA.displayName="Button";const ps=w.forwardRef(({as:i,bsPrefix:e,variant:t="primary",size:s,active:o=!1,disabled:u=!1,className:h,...d},p)=>{const g=Oe(e,"btn"),[E,{tagName:T}]=yg({tagName:i,disabled:u,...d}),b=T;return k.jsx(b,{...E,...d,ref:p,disabled:u,className:we(h,g,o&&"active",t&&`${g}-${t}`,s&&`${g}-${s}`,d.href&&u&&"disabled")})});ps.displayName="Button";const vg=w.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Oe(e,"card-body"),k.jsx(t,{ref:o,className:we(i,e),...s})));vg.displayName="CardBody";const kA=w.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Oe(e,"card-footer"),k.jsx(t,{ref:o,className:we(i,e),...s})));kA.displayName="CardFooter";const _g=w.createContext(null);_g.displayName="CardHeaderContext";const PA=w.forwardRef(({bsPrefix:i,className:e,as:t="div",...s},o)=>{const u=Oe(i,"card-header"),h=w.useMemo(()=>({cardHeaderBsPrefix:u}),[u]);return k.jsx(_g.Provider,{value:h,children:k.jsx(t,{ref:o,...s,className:we(e,u)})})});PA.displayName="CardHeader";const LA=w.forwardRef(({bsPrefix:i,className:e,variant:t,as:s="img",...o},u)=>{const h=Oe(i,"card-img");return k.jsx(s,{ref:u,className:we(t?`${h}-${t}`:h,e),...o})});LA.displayName="CardImg";const UA=w.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Oe(e,"card-img-overlay"),k.jsx(t,{ref:o,className:we(i,e),...s})));UA.displayName="CardImgOverlay";const jA=w.forwardRef(({className:i,bsPrefix:e,as:t="a",...s},o)=>(e=Oe(e,"card-link"),k.jsx(t,{ref:o,className:we(i,e),...s})));jA.displayName="CardLink";const Eg=i=>w.forwardRef((e,t)=>k.jsx("div",{...e,ref:t,className:we(e.className,i)})),Z2=Eg("h6"),BA=w.forwardRef(({className:i,bsPrefix:e,as:t=Z2,...s},o)=>(e=Oe(e,"card-subtitle"),k.jsx(t,{ref:o,className:we(i,e),...s})));BA.displayName="CardSubtitle";const zA=w.forwardRef(({className:i,bsPrefix:e,as:t="p",...s},o)=>(e=Oe(e,"card-text"),k.jsx(t,{ref:o,className:we(i,e),...s})));zA.displayName="CardText";const J2=Eg("h5"),HA=w.forwardRef(({className:i,bsPrefix:e,as:t=J2,...s},o)=>(e=Oe(e,"card-title"),k.jsx(t,{ref:o,className:we(i,e),...s})));HA.displayName="CardTitle";const qA=w.forwardRef(({bsPrefix:i,className:e,bg:t,text:s,border:o,body:u=!1,children:h,as:d="div",...p},g)=>{const E=Oe(i,"card");return k.jsx(d,{ref:g,...p,className:we(e,E,t&&`bg-${t}`,s&&`text-${s}`,o&&`border-${o}`),children:u?k.jsx(vg,{children:h}):h})});qA.displayName="Card";const io=Object.assign(qA,{Img:LA,Title:HA,Subtitle:BA,Body:vg,Link:jA,Text:zA,Header:PA,Footer:kA,ImgOverlay:UA}),FA=i=>{const{id:e,name:t,description:s,status:o}=i;console.log("BK data",i),vs();const u=Fh(),[h,d]=w.useState(null),p=g=>{const E=e;let T="";g==="detail"?T=`/products/${E}`:T=`/products/${E}/variants/new`,u(T)};return k.jsxs(io,{style:{width:"18rem",margin:"25px"},children:[h&&k.jsx(io.Img,{variant:"top",src:h,alt:t}),k.jsxs(io.Body,{children:[k.jsx(io.Title,{children:t}),k.jsx(io.Text,{children:s}),k.jsxs(io.Text,{children:["Status: ",k.jsx("strong",{children:o})]}),k.jsx(ps,{onClick:()=>p("detail"),variant:"primary",children:"View Details"}),k.jsx(ps,{onClick:()=>p("variant"),variant:"primary",children:"Add New Variant"})]})]})},ST=()=>{const i=vs(),[e,t]=w.useState([]);return w.useEffect(()=>{i.getDocuments("products").then(s=>t(s.docs))},[]),k.jsx("div",{className:"container mt-5",children:k.jsx(Ip,{children:e==null?void 0:e.map(s=>k.jsx(FA,{id:s.id,...s.data()},s.id))})})};var Lm={exports:{}},Um,AT;function eM(){if(AT)return Um;AT=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Um=i,Um}var jm,bT;function tM(){if(bT)return jm;bT=1;var i=eM();function e(){}function t(){}return t.resetWarningCache=e,jm=function(){function s(h,d,p,g,E,T){if(T!==i){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return u.PropTypes=u,u},jm}var wT;function nM(){return wT||(wT=1,Lm.exports=tM()()),Lm.exports}var iM=nM();const ar=Hh(iM),rM={type:ar.string,tooltip:ar.bool,as:ar.elementType},df=w.forwardRef(({as:i="div",className:e,type:t="valid",tooltip:s=!1,...o},u)=>k.jsx(i,{...o,ref:u,className:we(e,`${t}-${s?"tooltip":"feedback"}`)}));df.displayName="Feedback";df.propTypes=rM;const fr=w.createContext({}),Tg=w.forwardRef(({id:i,bsPrefix:e,className:t,type:s="checkbox",isValid:o=!1,isInvalid:u=!1,as:h="input",...d},p)=>{const{controlId:g}=w.useContext(fr);return e=Oe(e,"form-check-input"),k.jsx(h,{...d,ref:p,type:s,id:i||g,className:we(t,e,o&&"is-valid",u&&"is-invalid")})});Tg.displayName="FormCheckInput";const Uh=w.forwardRef(({bsPrefix:i,className:e,htmlFor:t,...s},o)=>{const{controlId:u}=w.useContext(fr);return i=Oe(i,"form-check-label"),k.jsx("label",{...s,ref:o,htmlFor:t||u,className:we(e,i)})});Uh.displayName="FormCheckLabel";function sM(i,e){return w.Children.toArray(i).some(t=>w.isValidElement(t)&&t.type===e)}const GA=w.forwardRef(({id:i,bsPrefix:e,bsSwitchPrefix:t,inline:s=!1,reverse:o=!1,disabled:u=!1,isValid:h=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:E,className:T,style:b,title:D="",type:x="checkbox",label:G,children:j,as:K="input",...J},Y)=>{e=Oe(e,"form-check"),t=Oe(t,"form-switch");const{controlId:oe}=w.useContext(fr),ae=w.useMemo(()=>({controlId:i||oe}),[oe,i]),le=!j&&G!=null&&G!==!1||sM(j,Uh),M=k.jsx(Tg,{...J,type:x==="switch"?"checkbox":x,ref:Y,isValid:h,isInvalid:d,disabled:u,as:K});return k.jsx(fr.Provider,{value:ae,children:k.jsx("div",{style:b,className:we(T,le&&e,s&&`${e}-inline`,o&&`${e}-reverse`,x==="switch"&&t),children:j||k.jsxs(k.Fragment,{children:[M,le&&k.jsx(Uh,{title:D,children:G}),g&&k.jsx(df,{type:E,tooltip:p,children:g})]})})})});GA.displayName="FormCheck";const jh=Object.assign(GA,{Input:Tg,Label:Uh}),$A=w.forwardRef(({bsPrefix:i,type:e,size:t,htmlSize:s,id:o,className:u,isValid:h=!1,isInvalid:d=!1,plaintext:p,readOnly:g,as:E="input",...T},b)=>{const{controlId:D}=w.useContext(fr);return i=Oe(i,"form-control"),k.jsx(E,{...T,type:e,size:s,ref:b,readOnly:g,id:o||D,className:we(u,p?`${i}-plaintext`:i,t&&`${i}-${t}`,e==="color"&&`${i}-color`,h&&"is-valid",d&&"is-invalid")})});$A.displayName="FormControl";const aM=Object.assign($A,{Feedback:df}),KA=w.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Oe(e,"form-floating"),k.jsx(t,{ref:o,className:we(i,e),...s})));KA.displayName="FormFloating";const Sg=w.forwardRef(({controlId:i,as:e="div",...t},s)=>{const o=w.useMemo(()=>({controlId:i}),[i]);return k.jsx(fr.Provider,{value:o,children:k.jsx(e,{...t,ref:s})})});Sg.displayName="FormGroup";function oM({as:i,bsPrefix:e,className:t,...s}){e=Oe(e,"col");const o=LC(),u=UC(),h=[],d=[];return o.forEach(p=>{const g=s[p];delete s[p];let E,T,b;typeof g=="object"&&g!=null?{span:E,offset:T,order:b}=g:E=g;const D=p!==u?`-${p}`:"";E&&h.push(E===!0?`${e}${D}`:`${e}${D}-${E}`),b!=null&&d.push(`order${D}-${b}`),T!=null&&d.push(`offset${D}-${T}`)}),[{...s,className:we(t,...h,...d)},{as:i,bsPrefix:e,spans:h}]}const QA=w.forwardRef((i,e)=>{const[{className:t,...s},{as:o="div",bsPrefix:u,spans:h}]=oM(i);return k.jsx(o,{...s,ref:e,className:we(t,!h.length&&u)})});QA.displayName="Col";const YA=w.forwardRef(({as:i="label",bsPrefix:e,column:t=!1,visuallyHidden:s=!1,className:o,htmlFor:u,...h},d)=>{const{controlId:p}=w.useContext(fr);e=Oe(e,"form-label");let g="col-form-label";typeof t=="string"&&(g=`${g} ${g}-${t}`);const E=we(o,e,s&&"visually-hidden",t&&g);return u=u||p,t?k.jsx(QA,{ref:d,as:"label",className:E,htmlFor:u,...h}):k.jsx(i,{ref:d,className:E,htmlFor:u,...h})});YA.displayName="FormLabel";const XA=w.forwardRef(({bsPrefix:i,className:e,id:t,...s},o)=>{const{controlId:u}=w.useContext(fr);return i=Oe(i,"form-range"),k.jsx("input",{...s,type:"range",ref:o,className:we(e,i),id:t||u})});XA.displayName="FormRange";const WA=w.forwardRef(({bsPrefix:i,size:e,htmlSize:t,className:s,isValid:o=!1,isInvalid:u=!1,id:h,...d},p)=>{const{controlId:g}=w.useContext(fr);return i=Oe(i,"form-select"),k.jsx("select",{...d,size:t,ref:p,className:we(s,i,e&&`${i}-${e}`,o&&"is-valid",u&&"is-invalid"),id:h||g})});WA.displayName="FormSelect";const ZA=w.forwardRef(({bsPrefix:i,className:e,as:t="small",muted:s,...o},u)=>(i=Oe(i,"form-text"),k.jsx(t,{...o,ref:u,className:we(e,i,s&&"text-muted")})));ZA.displayName="FormText";const JA=w.forwardRef((i,e)=>k.jsx(jh,{...i,ref:e,type:"switch"}));JA.displayName="Switch";const lM=Object.assign(JA,{Input:jh.Input,Label:jh.Label}),eb=w.forwardRef(({bsPrefix:i,className:e,children:t,controlId:s,label:o,...u},h)=>(i=Oe(i,"form-floating"),k.jsxs(Sg,{ref:h,className:we(e,i),controlId:s,...u,children:[t,k.jsx("label",{htmlFor:s,children:o})]})));eb.displayName="FloatingLabel";const uM={_ref:ar.any,validated:ar.bool,as:ar.elementType},Ag=w.forwardRef(({className:i,validated:e,as:t="form",...s},o)=>k.jsx(t,{...s,ref:o,className:we(i,e&&"was-validated")}));Ag.displayName="Form";Ag.propTypes=uM;const Le=Object.assign(Ag,{Group:Sg,Control:aM,Floating:KA,Check:jh,Switch:lM,Label:YA,Text:ZA,Range:XA,Select:WA,FloatingLabel:eb}),cM=()=>{const i=vs(),e=Fh(),[t,s]=w.useState(""),[o,u]=w.useState("");w.useEffect(()=>{i.isLoggedIn&&e("/")},[i,e]);const h=async d=>{d.preventDefault(),console.log("login in a user...");const p=await i.singinUserWithEmailAndPass(t,o);console.log("Successfull",p)};return k.jsx("div",{className:"container mt-5",children:k.jsxs(Le,{onSubmit:h,children:[k.jsxs(Le.Group,{className:"mb-3",controlId:"formBasicEmail",children:[k.jsx(Le.Label,{children:"Email address"}),k.jsx(Le.Control,{onChange:d=>s(d.target.value),value:t,type:"email",placeholder:"Enter email"})]}),k.jsxs(Le.Group,{className:"mb-3",controlId:"formBasicPassword",children:[k.jsx(Le.Label,{children:"Password"}),k.jsx(Le.Control,{onChange:d=>u(d.target.value),value:o,type:"password",placeholder:"Password"})]}),k.jsx(ps,{variant:"primary",type:"submit",children:"Login"})]})})},hM=()=>{const i=vs(),e=Fh(),[t,s]=w.useState(""),[o,u]=w.useState("");w.useEffect(()=>{i.isLoggedIn&&e("/")},[i,e]);const h=async d=>{d.preventDefault(),console.log("Signin up a user...");const p=await i.signupUserWithEmailAndPassword(t,o);console.log("Successfull",p)};return k.jsx("div",{className:"container mt-5",children:k.jsxs(Le,{onSubmit:h,children:[k.jsxs(Le.Group,{className:"mb-3",controlId:"formBasicEmail",children:[k.jsx(Le.Label,{children:"Email address"}),k.jsx(Le.Control,{onChange:d=>s(d.target.value),value:t,type:"email",placeholder:"Enter email"}),k.jsx(Le.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),k.jsxs(Le.Group,{className:"mb-3",controlId:"formBasicPassword",children:[k.jsx(Le.Label,{children:"Password"}),k.jsx(Le.Control,{onChange:d=>u(d.target.value),value:o,type:"password",placeholder:"Password"})]}),k.jsx(ps,{variant:"primary",type:"submit",children:"Create Account"})]})})},tb=w.forwardRef(({bsPrefix:i,fluid:e=!1,as:t="div",className:s,...o},u)=>{const h=Oe(i,"container"),d=typeof e=="string"?`-${e}`:"-fluid";return k.jsx(t,{ref:u,...o,className:we(s,e?`${h}${d}`:h)})});tb.displayName="Container";function yp(){return yp=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},yp.apply(null,arguments)}function nb(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)!==-1)continue;t[s]=i[s]}return t}function RT(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function fM(i){var e=dM(i,"string");return typeof e=="symbol"?e:String(e)}function dM(i,e){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function mM(i,e,t){var s=w.useRef(i!==void 0),o=w.useState(e),u=o[0],h=o[1],d=i!==void 0,p=s.current;return s.current=d,!d&&p&&u!==e&&h(e),[d?i:u,w.useCallback(function(g){for(var E=arguments.length,T=new Array(E>1?E-1:0),b=1;b<E;b++)T[b-1]=arguments[b];t&&t.apply(void 0,[g].concat(T)),h(g)},[t])]}function ib(i,e){return Object.keys(e).reduce(function(t,s){var o,u=t,h=u[RT(s)],d=u[s],p=nb(u,[RT(s),s].map(fM)),g=e[s],E=mM(d,h,i[g]),T=E[0],b=E[1];return yp({},p,(o={},o[s]=T,o[g]=b,o))},i)}function vp(i,e){return vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},vp(i,e)}function pM(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,vp(i,e)}var gM=Function.prototype.bind.call(Function.prototype.call,[].slice);function ea(i,e){return gM(i.querySelectorAll(e))}function yM(){const[,i]=w.useReducer(e=>e+1,0);return i}const CT=i=>!i||typeof i=="function"?i:e=>{i.current=e};function vM(i,e){const t=CT(i),s=CT(e);return o=>{t&&t(o),s&&s(o)}}function mf(i,e){return w.useMemo(()=>vM(i,e),[i,e])}const bg=w.createContext(null);bg.displayName="NavContext";const Bh=w.createContext(null),wg=(i,e=null)=>i!=null?String(i):e||null,rb=w.createContext(null),_M="data-rr-ui-",EM="rrUi";function pf(i){return`${_M}${i}`}function TM(i){return`${EM}${i}`}function SM(i){const e=w.useRef(i);return w.useEffect(()=>{e.current=i},[i]),e}function Xi(i){const e=SM(i);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const AM=["as","active","eventKey"];function bM(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function sb({key:i,onClick:e,active:t,id:s,role:o,disabled:u}){const h=w.useContext(Bh),d=w.useContext(bg),p=w.useContext(rb);let g=t;const E={role:o};if(d){!o&&d.role==="tablist"&&(E.role="tab");const T=d.getControllerId(i??null),b=d.getControlledId(i??null);E[pf("event-key")]=i,E.id=T||s,g=t==null&&i!=null?d.activeKey===i:t,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(E["aria-controls"]=b)}return E.role==="tab"&&(E["aria-selected"]=g,g||(E.tabIndex=-1),u&&(E.tabIndex=-1,E["aria-disabled"]=!0)),E.onClick=Xi(T=>{u||(e==null||e(T),i!=null&&h&&!T.isPropagationStopped()&&h(i,T))}),[E,{isActive:g}]}const ab=w.forwardRef((i,e)=>{let{as:t=VA,active:s,eventKey:o}=i,u=bM(i,AM);const[h,d]=sb(Object.assign({key:wg(o,u.href),active:s},u));return h[pf("active")]=d.isActive,k.jsx(t,Object.assign({},u,h,{ref:e}))});ab.displayName="NavItem";const wM=["as","onSelect","activeKey","role","onKeyDown"];function RM(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}const IT=()=>{},DT=pf("event-key"),ob=w.forwardRef((i,e)=>{let{as:t="div",onSelect:s,activeKey:o,role:u,onKeyDown:h}=i,d=RM(i,wM);const p=yM(),g=w.useRef(!1),E=w.useContext(Bh),T=w.useContext(rb);let b,D;T&&(u=u||"tablist",o=T.activeKey,b=T.getControlledId,D=T.getControllerId);const x=w.useRef(null),G=Y=>{const oe=x.current;if(!oe)return null;const ae=ea(oe,`[${DT}]:not([aria-disabled=true])`),le=oe.querySelector("[aria-selected=true]");if(!le||le!==document.activeElement)return null;const M=ae.indexOf(le);if(M===-1)return null;let C=M+Y;return C>=ae.length&&(C=0),C<0&&(C=ae.length-1),ae[C]},j=(Y,oe)=>{Y!=null&&(s==null||s(Y,oe),E==null||E(Y,oe))},K=Y=>{if(h==null||h(Y),!T)return;let oe;switch(Y.key){case"ArrowLeft":case"ArrowUp":oe=G(-1);break;case"ArrowRight":case"ArrowDown":oe=G(1);break;default:return}oe&&(Y.preventDefault(),j(oe.dataset[TM("EventKey")]||null,Y),g.current=!0,p())};w.useEffect(()=>{if(x.current&&g.current){const Y=x.current.querySelector(`[${DT}][aria-selected=true]`);Y==null||Y.focus()}g.current=!1});const J=mf(e,x);return k.jsx(Bh.Provider,{value:j,children:k.jsx(bg.Provider,{value:{role:u,activeKey:wg(o),getControlledId:b||IT,getControllerId:D||IT},children:k.jsx(t,Object.assign({},d,{onKeyDown:K,ref:J,role:u}))})})});ob.displayName="Nav";const CM=Object.assign(ob,{Item:ab}),Vo=w.createContext(null);Vo.displayName="NavbarContext";const lb=w.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Oe(e,"nav-item"),k.jsx(t,{ref:o,className:we(i,e),...s})));lb.displayName="NavItem";function IM(){const i=w.useRef(!0),e=w.useRef(()=>i.current);return w.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),e.current}function DM(i){const e=w.useRef(null);return w.useEffect(()=>{e.current=i}),e.current}const NM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",OM=typeof document<"u",NT=OM||NM?w.useLayoutEffect:w.useEffect,xM=["onKeyDown"];function MM(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function VM(i){return!i||i.trim()==="#"}const ub=w.forwardRef((i,e)=>{let{onKeyDown:t}=i,s=MM(i,xM);const[o]=yg(Object.assign({tagName:"a"},s)),u=Xi(h=>{o.onKeyDown(h),t==null||t(h)});return VM(s.href)||s.role==="button"?k.jsx("a",Object.assign({ref:e},s,o,{onKeyDown:u})):k.jsx("a",Object.assign({ref:e},s,{onKeyDown:t}))});ub.displayName="Anchor";const cb=w.forwardRef(({bsPrefix:i,className:e,as:t=ub,active:s,eventKey:o,disabled:u=!1,...h},d)=>{i=Oe(i,"nav-link");const[p,g]=sb({key:wg(o,h.href),active:s,disabled:u,...h});return k.jsx(t,{...h,...p,ref:d,disabled:u,className:we(e,i,u&&"disabled",g.isActive&&"active")})});cb.displayName="NavLink";const hb=w.forwardRef((i,e)=>{const{as:t="div",bsPrefix:s,variant:o,fill:u=!1,justify:h=!1,navbar:d,navbarScroll:p,className:g,activeKey:E,...T}=ib(i,{activeKey:"onSelect"}),b=Oe(s,"nav");let D,x,G=!1;const j=w.useContext(Vo),K=w.useContext(_g);return j?(D=j.bsPrefix,G=d??!0):K&&({cardHeaderBsPrefix:x}=K),k.jsx(CM,{as:t,ref:e,activeKey:E,className:we(g,{[b]:!G,[`${D}-nav`]:G,[`${D}-nav-scroll`]:G&&p,[`${x}-${o}`]:!!x,[`${b}-${o}`]:!!o,[`${b}-fill`]:u,[`${b}-justified`]:h}),...T})});hb.displayName="Nav";const Ws=Object.assign(hb,{Item:lb,Link:cb}),fb=w.forwardRef(({bsPrefix:i,className:e,as:t,...s},o)=>{i=Oe(i,"navbar-brand");const u=t||(s.href?"a":"span");return k.jsx(u,{...s,ref:o,className:we(e,i)})});fb.displayName="NavbarBrand";function Rg(i){return i&&i.ownerDocument||document}function kM(i){var e=Rg(i);return e&&e.defaultView||window}function PM(i,e){return kM(i).getComputedStyle(i,e)}var LM=/([A-Z])/g;function UM(i){return i.replace(LM,"-$1").toLowerCase()}var jM=/^ms-/;function ih(i){return UM(i).replace(jM,"-ms-")}var BM=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function zM(i){return!!(i&&BM.test(i))}function or(i,e){var t="",s="";if(typeof e=="string")return i.style.getPropertyValue(ih(e))||PM(i).getPropertyValue(ih(e));Object.keys(e).forEach(function(o){var u=e[o];!u&&u!==0?i.style.removeProperty(ih(o)):zM(o)?s+=o+"("+u+") ":t+=ih(o)+": "+u+";"}),s&&(t+="transform: "+s+";"),i.style.cssText+=";"+t}const OT={disabled:!1},db=Zi.createContext(null);var HM=function(e){return e.scrollTop},Zl="unmounted",Wr="exited",Qn="entering",Wi="entered",mu="exiting",mr=function(i){pM(e,i);function e(s,o){var u;u=i.call(this,s,o)||this;var h=o,d=h&&!h.isMounting?s.enter:s.appear,p;return u.appearStatus=null,s.in?d?(p=Wr,u.appearStatus=Qn):p=Wi:s.unmountOnExit||s.mountOnEnter?p=Zl:p=Wr,u.state={status:p},u.nextCallback=null,u}e.getDerivedStateFromProps=function(o,u){var h=o.in;return h&&u.status===Zl?{status:Wr}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(o){var u=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==Qn&&h!==Wi&&(u=Qn):(h===Qn||h===Wi)&&(u=mu)}this.updateStatus(!1,u)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var o=this.props.timeout,u,h,d;return u=h=d=o,o!=null&&typeof o!="number"&&(u=o.exit,h=o.enter,d=o.appear!==void 0?o.appear:h),{exit:u,enter:h,appear:d}},t.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===Qn){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:co.findDOMNode(this);h&&HM(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Wr&&this.setState({status:Zl})},t.performEnter=function(o){var u=this,h=this.props.enter,d=this.context?this.context.isMounting:o,p=this.props.nodeRef?[d]:[co.findDOMNode(this),d],g=p[0],E=p[1],T=this.getTimeouts(),b=d?T.appear:T.enter;if(!o&&!h||OT.disabled){this.safeSetState({status:Wi},function(){u.props.onEntered(g)});return}this.props.onEnter(g,E),this.safeSetState({status:Qn},function(){u.props.onEntering(g,E),u.onTransitionEnd(b,function(){u.safeSetState({status:Wi},function(){u.props.onEntered(g,E)})})})},t.performExit=function(){var o=this,u=this.props.exit,h=this.getTimeouts(),d=this.props.nodeRef?void 0:co.findDOMNode(this);if(!u||OT.disabled){this.safeSetState({status:Wr},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:mu},function(){o.props.onExiting(d),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:Wr},function(){o.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},t.setNextCallback=function(o){var u=this,h=!0;return this.nextCallback=function(d){h&&(h=!1,u.nextCallback=null,o(d))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},t.onTransitionEnd=function(o,u){this.setNextCallback(u);var h=this.props.nodeRef?this.props.nodeRef.current:co.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!h||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],E=p[1];this.props.addEndListener(g,E)}o!=null&&setTimeout(this.nextCallback,o)},t.render=function(){var o=this.state.status;if(o===Zl)return null;var u=this.props,h=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var d=nb(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Zi.createElement(db.Provider,{value:null},typeof h=="function"?h(o,d):Zi.cloneElement(Zi.Children.only(h),d))},e}(Zi.Component);mr.contextType=db;mr.propTypes={};function ro(){}mr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ro,onEntering:ro,onEntered:ro,onExit:ro,onExiting:ro,onExited:ro};mr.UNMOUNTED=Zl;mr.EXITED=Wr;mr.ENTERING=Qn;mr.ENTERED=Wi;mr.EXITING=mu;function qM(i){return i.code==="Escape"||i.keyCode===27}function FM(){const i=w.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function ko(i){if(!i||typeof i=="function")return null;const{major:e}=FM();return e>=19?i.props.ref:i.ref}const gf=!!(typeof window<"u"&&window.document&&window.document.createElement);var _p=!1,Ep=!1;try{var Bm={get passive(){return _p=!0},get once(){return Ep=_p=!0}};gf&&(window.addEventListener("test",Bm,Bm),window.removeEventListener("test",Bm,!0))}catch{}function GM(i,e,t,s){if(s&&typeof s!="boolean"&&!Ep){var o=s.once,u=s.capture,h=t;!Ep&&o&&(h=t.__once||function d(p){this.removeEventListener(e,d,u),t.call(this,p)},t.__once=h),i.addEventListener(e,h,_p?s:u)}i.addEventListener(e,t,s)}function $M(i,e,t,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(e,t,o),t.__once&&i.removeEventListener(e,t.__once,o)}function zh(i,e,t,s){return GM(i,e,t,s),function(){$M(i,e,t,s)}}function KM(i,e,t,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(e,t,s),i.dispatchEvent(o)}}function QM(i){var e=or(i,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function YM(i,e,t){t===void 0&&(t=5);var s=!1,o=setTimeout(function(){s||KM(i,"transitionend",!0)},e+t),u=zh(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),u()}}function XM(i,e,t,s){t==null&&(t=QM(i)||0);var o=YM(i,t,s),u=zh(i,"transitionend",e);return function(){o(),u()}}function xT(i,e){const t=or(i,e)||"",s=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*s}function Cg(i,e){const t=xT(i,"transitionDuration"),s=xT(i,"transitionDelay"),o=XM(i,u=>{u.target===i&&(o(),e(u))},t+s)}function Gl(...i){return i.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...o){e.apply(this,o),t.apply(this,o)}},null)}function mb(i){i.offsetHeight}const MT=i=>!i||typeof i=="function"?i:e=>{i.current=e};function WM(i,e){const t=MT(i),s=MT(e);return o=>{t&&t(o),s&&s(o)}}function ZM(i,e){return w.useMemo(()=>WM(i,e),[i,e])}function JM(i){return i&&"setState"in i?co.findDOMNode(i):i??null}const Ig=Zi.forwardRef(({onEnter:i,onEntering:e,onEntered:t,onExit:s,onExiting:o,onExited:u,addEndListener:h,children:d,childRef:p,...g},E)=>{const T=w.useRef(null),b=ZM(T,p),D=le=>{b(JM(le))},x=le=>M=>{le&&T.current&&le(T.current,M)},G=w.useCallback(x(i),[i]),j=w.useCallback(x(e),[e]),K=w.useCallback(x(t),[t]),J=w.useCallback(x(s),[s]),Y=w.useCallback(x(o),[o]),oe=w.useCallback(x(u),[u]),ae=w.useCallback(x(h),[h]);return k.jsx(mr,{ref:E,...g,onEnter:G,onEntered:K,onEntering:j,onExit:J,onExited:oe,onExiting:Y,addEndListener:ae,nodeRef:T,children:typeof d=="function"?(le,M)=>d(le,{...M,ref:D}):Zi.cloneElement(d,{ref:D})})}),eV={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function tV(i,e){const t=`offset${i[0].toUpperCase()}${i.slice(1)}`,s=e[t],o=eV[i];return s+parseInt(or(e,o[0]),10)+parseInt(or(e,o[1]),10)}const nV={[Wr]:"collapse",[mu]:"collapsing",[Qn]:"collapsing",[Wi]:"collapse show"},iV=Zi.forwardRef(({onEnter:i,onEntering:e,onEntered:t,onExit:s,onExiting:o,className:u,children:h,dimension:d="height",in:p=!1,timeout:g=300,mountOnEnter:E=!1,unmountOnExit:T=!1,appear:b=!1,getDimensionValue:D=tV,...x},G)=>{const j=typeof d=="function"?d():d,K=w.useMemo(()=>Gl(le=>{le.style[j]="0"},i),[j,i]),J=w.useMemo(()=>Gl(le=>{const M=`scroll${j[0].toUpperCase()}${j.slice(1)}`;le.style[j]=`${le[M]}px`},e),[j,e]),Y=w.useMemo(()=>Gl(le=>{le.style[j]=null},t),[j,t]),oe=w.useMemo(()=>Gl(le=>{le.style[j]=`${D(j,le)}px`,mb(le)},s),[s,D,j]),ae=w.useMemo(()=>Gl(le=>{le.style[j]=null},o),[j,o]);return k.jsx(Ig,{ref:G,addEndListener:Cg,...x,"aria-expanded":x.role?p:null,onEnter:K,onEntering:J,onEntered:Y,onExit:oe,onExiting:ae,childRef:ko(h),in:p,timeout:g,mountOnEnter:E,unmountOnExit:T,appear:b,children:(le,M)=>Zi.cloneElement(h,{...M,className:we(u,h.props.className,nV[le],j==="width"&&"collapse-horizontal")})})}),pb=w.forwardRef(({children:i,bsPrefix:e,...t},s)=>{e=Oe(e,"navbar-collapse");const o=w.useContext(Vo);return k.jsx(iV,{in:!!(o&&o.expanded),...t,children:k.jsx("div",{ref:s,className:e,children:i})})});pb.displayName="NavbarCollapse";function rV(i){const e=w.useRef(i);return w.useEffect(()=>{e.current=i},[i]),e}function yf(i){const e=rV(i);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const gb=w.forwardRef(({bsPrefix:i,className:e,children:t,label:s="Toggle navigation",as:o="button",onClick:u,...h},d)=>{i=Oe(i,"navbar-toggler");const{onToggle:p,expanded:g}=w.useContext(Vo)||{},E=yf(T=>{u&&u(T),p&&p()});return o==="button"&&(h.type="button"),k.jsx(o,{...h,ref:d,onClick:E,"aria-label":s,className:we(e,i,!g&&"collapsed"),children:t||k.jsx("span",{className:`${i}-icon`})})});gb.displayName="NavbarToggle";const sV=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",aV=typeof document<"u",oV=aV||sV?w.useLayoutEffect:w.useEffect,Tp=new WeakMap,VT=(i,e)=>{if(!i||!e)return;const t=Tp.get(e)||new Map;Tp.set(e,t);let s=t.get(i);return s||(s=e.matchMedia(i),s.refCount=0,t.set(s.media,s)),s};function lV(i,e=typeof window>"u"?void 0:window){const t=VT(i,e),[s,o]=w.useState(()=>t?t.matches:!1);return oV(()=>{let u=VT(i,e);if(!u)return o(!1);let h=Tp.get(e);const d=()=>{o(u.matches)};return u.refCount++,u.addListener(d),d(),()=>{u.removeListener(d),u.refCount--,u.refCount<=0&&(h==null||h.delete(u.media)),u=void 0}},[i]),s}function uV(i){const e=Object.keys(i);function t(d,p){return d===p?p:d?`${d} and ${p}`:p}function s(d){return e[Math.min(e.indexOf(d)+1,e.length-1)]}function o(d){const p=s(d);let g=i[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function u(d){let p=i[d];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function h(d,p,g){let E;typeof d=="object"?(E=d,g=p,p=!0):(p=p||!0,E={[d]:p});let T=w.useMemo(()=>Object.entries(E).reduce((b,[D,x])=>((x==="up"||x===!0)&&(b=t(b,u(D))),(x==="down"||x===!0)&&(b=t(b,o(D))),b),""),[JSON.stringify(E)]);return lV(T,g)}return h}const cV=uV({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function zm(i){i===void 0&&(i=Rg());try{var e=i.activeElement;return!e||!e.nodeName?null:e}catch{return i.body}}function kT(i,e){if(i.contains)return i.contains(e);if(i.compareDocumentPosition)return i===e||!!(i.compareDocumentPosition(e)&16)}function hV(i){const e=w.useRef(i);return e.current=i,e}function fV(i){const e=hV(i);w.useEffect(()=>()=>e.current(),[])}function dV(i=document){const e=i.defaultView;return Math.abs(e.innerWidth-i.documentElement.clientWidth)}const PT=pf("modal-open");class Dg{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:s=!1}={}){this.handleContainerOverflow=t,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return dV(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[s]:o.style[s]},e.scrollBarWidth&&(t[s]=`${parseInt(or(o,s)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(PT,""),or(o,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(PT),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const yb=w.createContext(gf?window:void 0);yb.Provider;function Ng(){return w.useContext(yb)}const Hm=(i,e)=>gf?i==null?(e||Rg()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function mV(i,e){const t=Ng(),[s,o]=w.useState(()=>Hm(i,t==null?void 0:t.document));if(!s){const u=Hm(i);u&&o(u)}return w.useEffect(()=>{},[e,s]),w.useEffect(()=>{const u=Hm(i);u!==s&&o(u)},[i,s]),s}function pV({children:i,in:e,onExited:t,mountOnEnter:s,unmountOnExit:o}){const u=w.useRef(null),h=w.useRef(e),d=Xi(t);w.useEffect(()=>{e?h.current=!0:d(u.current)},[e,d]);const p=mf(u,ko(i)),g=w.cloneElement(i,{ref:p});return e?g:o||!h.current&&s?null:g}const gV=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function yV(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function vV(i){let{onEnter:e,onEntering:t,onEntered:s,onExit:o,onExiting:u,onExited:h,addEndListener:d,children:p}=i,g=yV(i,gV);const E=w.useRef(null),T=mf(E,ko(p)),b=oe=>ae=>{oe&&E.current&&oe(E.current,ae)},D=w.useCallback(b(e),[e]),x=w.useCallback(b(t),[t]),G=w.useCallback(b(s),[s]),j=w.useCallback(b(o),[o]),K=w.useCallback(b(u),[u]),J=w.useCallback(b(h),[h]),Y=w.useCallback(b(d),[d]);return Object.assign({},g,{nodeRef:E},e&&{onEnter:D},t&&{onEntering:x},s&&{onEntered:G},o&&{onExit:j},u&&{onExiting:K},h&&{onExited:J},d&&{addEndListener:Y},{children:typeof p=="function"?(oe,ae)=>p(oe,Object.assign({},ae,{ref:T})):w.cloneElement(p,{ref:T})})}const _V=["component"];function EV(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}const TV=w.forwardRef((i,e)=>{let{component:t}=i,s=EV(i,_V);const o=vV(s);return k.jsx(t,Object.assign({ref:e},o))});function SV({in:i,onTransition:e}){const t=w.useRef(null),s=w.useRef(!0),o=Xi(e);return NT(()=>{if(!t.current)return;let u=!1;return o({in:i,element:t.current,initial:s.current,isStale:()=>u}),()=>{u=!0}},[i,o]),NT(()=>(s.current=!1,()=>{s.current=!0}),[]),t}function AV({children:i,in:e,onExited:t,onEntered:s,transition:o}){const[u,h]=w.useState(!e);e&&u&&h(!1);const d=SV({in:!!e,onTransition:g=>{const E=()=>{g.isStale()||(g.in?s==null||s(g.element,g.initial):(h(!0),t==null||t(g.element)))};Promise.resolve(o(g)).then(E,T=>{throw g.in||h(!0),T})}}),p=mf(d,ko(i));return u&&!e?null:w.cloneElement(i,{ref:p})}function LT(i,e,t){return i?k.jsx(TV,Object.assign({},t,{component:i})):e?k.jsx(AV,Object.assign({},t,{transition:e})):k.jsx(pV,Object.assign({},t))}const bV=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function wV(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}let qm;function RV(i){return qm||(qm=new Dg({ownerDocument:i==null?void 0:i.document})),qm}function CV(i){const e=Ng(),t=i||RV(e),s=w.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>t.add(s.current),remove:()=>t.remove(s.current),isTopModal:()=>t.isTopModal(s.current),setDialogRef:w.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:w.useCallback(o=>{s.current.backdrop=o},[])})}const vb=w.forwardRef((i,e)=>{let{show:t=!1,role:s="dialog",className:o,style:u,children:h,backdrop:d=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:E,transition:T,runTransition:b,backdropTransition:D,runBackdropTransition:x,autoFocus:G=!0,enforceFocus:j=!0,restoreFocus:K=!0,restoreFocusOptions:J,renderDialog:Y,renderBackdrop:oe=Qe=>k.jsx("div",Object.assign({},Qe)),manager:ae,container:le,onShow:M,onHide:C=()=>{},onExit:R,onExited:O,onExiting:P,onEnter:z,onEntering:N,onEntered:it}=i,rt=wV(i,bV);const ie=Ng(),pe=mV(le),ce=CV(ae),Ue=IM(),V=DM(t),[te,de]=w.useState(!t),ue=w.useRef(null);w.useImperativeHandle(e,()=>ce,[ce]),gf&&!V&&t&&(ue.current=zm(ie==null?void 0:ie.document)),t&&te&&de(!1);const se=Xi(()=>{if(ce.add(),Fe.current=zh(document,"keydown",je),et.current=zh(document,"focus",()=>setTimeout(Ce),!0),M&&M(),G){var Qe,Sn;const Ai=zm((Qe=(Sn=ce.dialog)==null?void 0:Sn.ownerDocument)!=null?Qe:ie==null?void 0:ie.document);ce.dialog&&Ai&&!kT(ce.dialog,Ai)&&(ue.current=Ai,ce.dialog.focus())}}),Ee=Xi(()=>{if(ce.remove(),Fe.current==null||Fe.current(),et.current==null||et.current(),K){var Qe;(Qe=ue.current)==null||Qe.focus==null||Qe.focus(J),ue.current=null}});w.useEffect(()=>{!t||!pe||se()},[t,pe,se]),w.useEffect(()=>{te&&Ee()},[te,Ee]),fV(()=>{Ee()});const Ce=Xi(()=>{if(!j||!Ue()||!ce.isTopModal())return;const Qe=zm(ie==null?void 0:ie.document);ce.dialog&&Qe&&!kT(ce.dialog,Qe)&&ce.dialog.focus()}),ht=Xi(Qe=>{Qe.target===Qe.currentTarget&&(g==null||g(Qe),d===!0&&C())}),je=Xi(Qe=>{p&&qM(Qe)&&ce.isTopModal()&&(E==null||E(Qe),Qe.defaultPrevented||C())}),et=w.useRef(),Fe=w.useRef(),Bt=(...Qe)=>{de(!0),O==null||O(...Qe)};if(!pe)return null;const Tn=Object.assign({role:s,ref:ce.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},rt,{style:u,className:o,tabIndex:-1});let Qt=Y?Y(Tn):k.jsx("div",Object.assign({},Tn,{children:w.cloneElement(h,{role:"document"})}));Qt=LT(T,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:R,onExiting:P,onExited:Bt,onEnter:z,onEntering:N,onEntered:it,children:Qt});let fn=null;return d&&(fn=oe({ref:ce.setBackdropRef,onClick:ht}),fn=LT(D,x,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:fn})),k.jsx(k.Fragment,{children:co.createPortal(k.jsxs(k.Fragment,{children:[fn,Qt]}),pe)})});vb.displayName="Modal";const IV=Object.assign(vb,{Manager:Dg}),DV={[Qn]:"show",[Wi]:"show"},_b=w.forwardRef(({className:i,children:e,transitionClasses:t={},onEnter:s,...o},u)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},d=w.useCallback((p,g)=>{mb(p),s==null||s(p,g)},[s]);return k.jsx(Ig,{ref:u,addEndListener:Cg,...h,onEnter:d,childRef:ko(e),children:(p,g)=>w.cloneElement(e,{...g,className:we("fade",i,e.props.className,DV[p],t[p])})})});_b.displayName="Fade";const Eb=w.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Oe(e,"offcanvas-body"),k.jsx(t,{ref:o,className:we(i,e),...s})));Eb.displayName="OffcanvasBody";const NV={[Qn]:"show",[Wi]:"show"},Tb=w.forwardRef(({bsPrefix:i,className:e,children:t,in:s=!1,mountOnEnter:o=!1,unmountOnExit:u=!1,appear:h=!1,...d},p)=>(i=Oe(i,"offcanvas"),k.jsx(Ig,{ref:p,addEndListener:Cg,in:s,mountOnEnter:o,unmountOnExit:u,appear:h,...d,childRef:ko(t),children:(g,E)=>w.cloneElement(t,{...E,className:we(e,t.props.className,(g===Qn||g===mu)&&`${i}-toggling`,NV[g])})})));Tb.displayName="OffcanvasToggling";const Sb=w.createContext({onHide(){}}),OV={"aria-label":ar.string,onClick:ar.func,variant:ar.oneOf(["white"])},Og=w.forwardRef(({className:i,variant:e,"aria-label":t="Close",...s},o)=>k.jsx("button",{ref:o,type:"button",className:we("btn-close",e&&`btn-close-${e}`,i),"aria-label":t,...s}));Og.displayName="CloseButton";Og.propTypes=OV;const xV=w.forwardRef(({closeLabel:i="Close",closeVariant:e,closeButton:t=!1,onHide:s,children:o,...u},h)=>{const d=w.useContext(Sb),p=yf(()=>{d==null||d.onHide(),s==null||s()});return k.jsxs("div",{ref:h,...u,children:[o,t&&k.jsx(Og,{"aria-label":i,variant:e,onClick:p})]})}),Ab=w.forwardRef(({bsPrefix:i,className:e,closeLabel:t="Close",closeButton:s=!1,...o},u)=>(i=Oe(i,"offcanvas-header"),k.jsx(xV,{ref:u,...o,className:we(e,i),closeLabel:t,closeButton:s})));Ab.displayName="OffcanvasHeader";const MV=Eg("h5"),bb=w.forwardRef(({className:i,bsPrefix:e,as:t=MV,...s},o)=>(e=Oe(e,"offcanvas-title"),k.jsx(t,{ref:o,className:we(i,e),...s})));bb.displayName="OffcanvasTitle";function VV(i,e){return i.classList?i.classList.contains(e):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+e+" ")!==-1}function kV(i,e){i.classList?i.classList.add(e):VV(i,e)||(typeof i.className=="string"?i.className=i.className+" "+e:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+e))}function UT(i,e){return i.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function PV(i,e){i.classList?i.classList.remove(e):typeof i.className=="string"?i.className=UT(i.className,e):i.setAttribute("class",UT(i.className&&i.className.baseVal||"",e))}const so={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class wb extends Dg{adjustAndStore(e,t,s){const o=t.style[e];t.dataset[e]=o,or(t,{[e]:`${parseFloat(or(t,e))+s}px`})}restore(e,t){const s=t.dataset[e];s!==void 0&&(delete t.dataset[e],or(t,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(kV(t,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ea(t,so.FIXED_CONTENT).forEach(u=>this.adjustAndStore(s,u,e.scrollBarWidth)),ea(t,so.STICKY_CONTENT).forEach(u=>this.adjustAndStore(o,u,-e.scrollBarWidth)),ea(t,so.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(o,u,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();PV(t,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ea(t,so.FIXED_CONTENT).forEach(u=>this.restore(s,u)),ea(t,so.STICKY_CONTENT).forEach(u=>this.restore(o,u)),ea(t,so.NAVBAR_TOGGLER).forEach(u=>this.restore(o,u))}}let Fm;function LV(i){return Fm||(Fm=new wb(i)),Fm}function UV(i){return k.jsx(Tb,{...i})}function jV(i){return k.jsx(_b,{...i})}const Rb=w.forwardRef(({bsPrefix:i,className:e,children:t,"aria-labelledby":s,placement:o="start",responsive:u,show:h=!1,backdrop:d=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:E,onShow:T,onHide:b,container:D,autoFocus:x=!0,enforceFocus:G=!0,restoreFocus:j=!0,restoreFocusOptions:K,onEntered:J,onExit:Y,onExiting:oe,onEnter:ae,onEntering:le,onExited:M,backdropClassName:C,manager:R,renderStaticNode:O=!1,...P},z)=>{const N=w.useRef();i=Oe(i,"offcanvas");const[it,rt]=w.useState(!1),ie=yf(b),pe=cV(u||"xs","up");w.useEffect(()=>{rt(u?h&&!pe:h)},[h,u,pe]);const ce=w.useMemo(()=>({onHide:ie}),[ie]);function Ue(){return R||(g?(N.current||(N.current=new wb({handleContainerOverflow:!1})),N.current):LV())}const V=(se,...Ee)=>{se&&(se.style.visibility="visible"),ae==null||ae(se,...Ee)},te=(se,...Ee)=>{se&&(se.style.visibility=""),M==null||M(...Ee)},de=w.useCallback(se=>k.jsx("div",{...se,className:we(`${i}-backdrop`,C)}),[C,i]),ue=se=>k.jsx("div",{...se,...P,className:we(e,u?`${i}-${u}`:i,`${i}-${o}`),"aria-labelledby":s,children:t});return k.jsxs(k.Fragment,{children:[!it&&(u||O)&&ue({}),k.jsx(Sb.Provider,{value:ce,children:k.jsx(IV,{show:it,ref:z,backdrop:d,container:D,keyboard:p,autoFocus:x,enforceFocus:G&&!g,restoreFocus:j,restoreFocusOptions:K,onEscapeKeyDown:E,onShow:T,onHide:ie,onEnter:V,onEntering:le,onEntered:J,onExit:Y,onExiting:oe,onExited:te,manager:Ue(),transition:UV,backdropTransition:jV,renderBackdrop:de,renderDialog:ue})})]})});Rb.displayName="Offcanvas";const BV=Object.assign(Rb,{Body:Eb,Header:Ab,Title:bb}),Cb=w.forwardRef(({onHide:i,...e},t)=>{const s=w.useContext(Vo),o=yf(()=>{s==null||s.onToggle==null||s.onToggle(),i==null||i()});return k.jsx(BV,{ref:t,show:!!(s!=null&&s.expanded),...e,renderStaticNode:!0,onHide:o})});Cb.displayName="NavbarOffcanvas";const Ib=w.forwardRef(({className:i,bsPrefix:e,as:t="span",...s},o)=>(e=Oe(e,"navbar-text"),k.jsx(t,{ref:o,className:we(i,e),...s})));Ib.displayName="NavbarText";const Db=w.forwardRef((i,e)=>{const{bsPrefix:t,expand:s=!0,variant:o="light",bg:u,fixed:h,sticky:d,className:p,as:g="nav",expanded:E,onToggle:T,onSelect:b,collapseOnSelect:D=!1,...x}=ib(i,{expanded:"onToggle"}),G=Oe(t,"navbar"),j=w.useCallback((...Y)=>{b==null||b(...Y),D&&E&&(T==null||T(!1))},[b,D,E,T]);x.role===void 0&&g!=="nav"&&(x.role="navigation");let K=`${G}-expand`;typeof s=="string"&&(K=`${K}-${s}`);const J=w.useMemo(()=>({onToggle:()=>T==null?void 0:T(!E),bsPrefix:G,expanded:!!E,expand:s}),[G,E,s,T]);return k.jsx(Vo.Provider,{value:J,children:k.jsx(Bh.Provider,{value:j,children:k.jsx(g,{ref:e,...x,className:we(p,G,s&&K,o&&`${G}-${o}`,u&&`bg-${u}`,d&&`sticky-${d}`,h&&`fixed-${h}`)})})})});Db.displayName="Navbar";const jT=Object.assign(Db,{Brand:fb,Collapse:pb,Offcanvas:Cb,Text:Ib,Toggle:gb}),zV=()=>k.jsx(jT,{bg:"dark",variant:"dark",children:k.jsxs(tb,{children:[k.jsx(jT.Brand,{href:"#home",children:"Navbar"}),k.jsxs(Ws,{className:"me-auto",children:[k.jsx(Ws.Link,{href:"/",children:"Home"}),k.jsx(Ws.Link,{href:"/products",children:"Products"}),k.jsx(Ws.Link,{href:"/products/new",children:"Add New Product"}),k.jsx(Ws.Link,{href:"/cart",children:"Cart"}),k.jsx(Ws.Link,{href:"/login",children:"login"}),k.jsx(Ws.Link,{href:"/register",children:"Register"})]})]})}),HV=({label:i,options:e,selected:t,onChange:s})=>k.jsxs(Le.Group,{className:"mb-3",children:[k.jsx(Le.Label,{children:i}),k.jsx(Le.Select,{value:(t==null?void 0:t.id)||"",onChange:s,children:e.length===0?k.jsx("option",{disabled:!0,children:"No variants available"}):e.map(o=>k.jsxs("option",{value:o.id,children:[o.data().title," - ",o.data().name," (",o.data().priceOffer||o.data().priceOriginal,")"]},o.id))})]}),qV=()=>{const i=XT(),e=vs(),[t,s]=w.useState(1),[o,u]=w.useState(null),[h,d]=w.useState([]),[p,g]=w.useState(null),[E,T]=w.useState(null);w.useEffect(()=>{(async()=>{const G="products",j="variants",K=await e.getDocById(i.productId,G);u(K.data());const J=await e.getSubCollectionAllDocuments(G,i.productId,j);d(J.docs),J.docs.length>0&&g({id:J.docs[0].id,...J.docs[0].data()})})()},[i.productId,e]);const b=x=>{const G=x.target.value,j=h.find(K=>K.id===G);g({id:j.id,...j.data()})},D=async()=>{if(!p)return alert("Please select a variant");const x={quantity:t,productId:i.productId,variantId:p.id};await e.handleCreateNewDoc(x,"shoppingCartItems")};return!o||!h||!p?k.jsx("h1",{children:"Loading... / No data"}):k.jsxs("div",{className:"container mt-5",children:[k.jsx("h1",{children:o.name}),k.jsx("img",{src:E,width:"50%",style:{borderRadius:"10px"},alt:"Product"}),k.jsx("h1",{children:"Details"}),k.jsxs("p",{children:["Price: Rs. ",(p==null?void 0:p.priceOffer)||(p==null?void 0:p.priceOriginal)||"N/A"]}),k.jsx(HV,{label:"Select Variant",options:h,selected:p,onChange:b}),k.jsxs(Le.Group,{className:"mb-3",children:[k.jsx(Le.Label,{children:"Quantity"}),k.jsx(Le.Control,{type:"number",min:"1",value:t,onChange:x=>s(x.target.value)})]}),k.jsx(ps,{onClick:D,variant:"primary",children:"Add to Cart"})]})},Zs=({label:i,name:e,value:t,onChange:s,placeholder:o,type:u="text"})=>k.jsxs(Le.Group,{className:"mb-3",children:[k.jsx(Le.Label,{children:i}),k.jsx(Le.Control,{type:u,name:e,value:t,onChange:s,placeholder:o})]}),FV=({label:i,onChange:e})=>k.jsxs(Le.Group,{className:"mb-3",children:[k.jsx(Le.Label,{children:i}),k.jsx(Le.Control,{type:"file",multiple:!0,onChange:e})]}),GV=()=>{const i=vs(),e=XT(),[t,s]=w.useState({SKU:"",title:"",name:"",priceOffer:"",priceOriginal:"",inventoryQuantity:"",status:"",productImages:[]}),o=d=>{const{name:p,value:g,type:E}=d.target;s({...t,[p]:E==="number"?parseFloat(g)||"":g})},u=d=>{s({...t,productImages:Array.from(d.target.files)})},h=async d=>{d.preventDefault();const{productId:p}=e,g={...t,productId:p};console.log("BK AddNewVariant: payload : ",g),await i.handleCreateNewVariant(g)};return k.jsx("div",{className:"container mt-5",children:k.jsxs(Le,{onSubmit:h,children:[k.jsx(Zs,{label:"SKU",name:"SKU",value:t.SKU,onChange:o,placeholder:"Enter SKU"}),k.jsx(Zs,{label:"Title (Weight/Size)",name:"title",value:t.title,onChange:o,placeholder:"Enter Weight/Size"}),k.jsx(Zs,{label:"Variant Name (200gm/..)",name:"name",value:t.name,onChange:o,placeholder:"Enter Variant Name"}),k.jsx(Zs,{label:"Offer Price",name:"priceOffer",value:t.priceOffer,onChange:o,placeholder:"Enter Offer Price",type:"number"}),k.jsx(Zs,{label:"Original Price",name:"priceOriginal",value:t.priceOriginal,onChange:o,placeholder:"Enter Original Price",type:"number"}),k.jsx(Zs,{label:"Inventory Quantity",name:"inventoryQuantity",value:t.inventoryQuantity,onChange:o,placeholder:"Enter Inventory Quantity",type:"number"}),k.jsx(Zs,{label:"Status",name:"status",value:t.status,onChange:o,placeholder:"Enter Status (active/non-active)"}),k.jsx(FV,{label:"Product Images",onChange:u}),k.jsx(ps,{variant:"primary",type:"submit",children:"Create"})]})})},rh=({label:i,name:e,value:t,onChange:s,placeholder:o})=>k.jsxs(Le.Group,{className:"mb-3",children:[k.jsx(Le.Label,{children:i}),k.jsx(Le.Control,{type:"text",name:e,value:t,onChange:s,placeholder:o})]}),$V=({label:i,onChange:e})=>k.jsxs(Le.Group,{className:"mb-3",children:[k.jsx(Le.Label,{children:i}),k.jsx(Le.Control,{type:"file",multiple:!0,onChange:e})]}),KV=()=>{const i=vs(),[e,t]=w.useState({SKU:"",name:"",description:"",productImages:[],status:""}),s=h=>{t({...e,[h.target.name]:h.target.value})},o=h=>{t({...e,productImages:Array.from(h.target.files)})},u=async h=>{h.preventDefault(),await i.handleCreateNewDoc(e,"products")};return k.jsx("div",{className:"container mt-5",children:k.jsxs(Le,{onSubmit:u,children:[k.jsx(rh,{label:"SKU",name:"SKU",value:e.SKU,onChange:s,placeholder:"Enter SKU"}),k.jsx(rh,{label:"Product Name",name:"name",value:e.name,onChange:s,placeholder:"Enter Product Name"}),k.jsx(rh,{label:"Description",name:"description",value:e.description,onChange:s,placeholder:"Enter Description"}),k.jsx($V,{label:"Product Images",onChange:o}),k.jsx(rh,{label:"Status",name:"status",value:e.status,onChange:s,placeholder:"Enter Status (active/non-active)"}),k.jsx(ps,{variant:"primary",type:"submit",children:"Create"})]})})},QV=()=>{const i=vs(),[e,t]=w.useState([]);return w.useEffect(()=>{i.getDocuments("shoppingCartItems").then(s=>t(s.docs))},[]),k.jsx("div",{className:"container mt-5",children:k.jsx(Ip,{children:e==null?void 0:e.map(s=>k.jsx(FA,{id:s.id,...s.data()},s.id))})})};function YV(){return k.jsxs("div",{children:[k.jsx(zV,{}),k.jsxs(ZR,{children:[k.jsx(Yi,{path:"/",element:k.jsx(ST,{})}),k.jsx(Yi,{path:"/login",element:k.jsx(cM,{})}),k.jsx(Yi,{path:"/register",element:k.jsx(hM,{})}),k.jsx(Yi,{path:"/products",element:k.jsx(ST,{})}),k.jsx(Yi,{path:"/products/new",element:k.jsx(KV,{})}),k.jsx(Yi,{path:"/products/:productId",element:k.jsx(qV,{})}),k.jsx(Yi,{path:"/products/:productId/variants/new",element:k.jsx(GV,{})}),k.jsx(Yi,{path:"/cart",element:k.jsx(QV,{})})]})]})}lR.createRoot(document.getElementById("root")).render(k.jsx(w.StrictMode,{children:k.jsx(SC,{children:k.jsx(Q2,{children:k.jsx(YV,{})})})}));
